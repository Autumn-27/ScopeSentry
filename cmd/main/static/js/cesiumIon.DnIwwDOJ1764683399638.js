import{F as e,_ as s,K as r}from"./@tresjs.CJvYCGUA1764683399638.js";import{A as n,B as o,O as t}from"./3d-tiles-renderer.B7rFX2pg1764683399638.js";import{S as a,V as i,Q as u,dx as l}from"./three.BbguFgn81764683399638.js";import{d as c,a3 as p,G as m,o as d,I as w,u as g,b as I,h as x,f as v,F as f}from"./@vue.DjQnunkc1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";const h=["object"],j=c({__name:"cesiumIon3DTile",setup(r){const{camera:c,renderer:I,sizes:x}=e();const v=new n;v.registerPlugin(new o({apiToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJhM2RlZDE0YS03NWNlLTQ2ZmItODFmZi0zMDQyZGMxZjdjNzQiLCJpZCI6NDYzMzQsImlhdCI6MTYxNjA1MjY2Nn0.3BRsxy7UmJgW0LemXo6cMsD7xwe7YvUDITeQ3RLxOHI",assetId:"354759"})),v.addEventListener("load-tile-set",()=>{const e=new a;v.getBoundingSphere(e);const s=e.center.clone(),r=s.length(),n=function(e,s){const r=new u,n=(new i).crossVectors(e,s);return r.x=n.x,r.y=n.y,r.z=n.z,r.w=1+e.clone().dot(s),r.normalize(),r}(s.normalize(),new i(0,1,0));v.group.quaternion.x=n.x,v.group.quaternion.y=n.y,v.group.quaternion.z=n.z,v.group.quaternion.w=n.w,v.group.position.y=-r}),v.fetchOptions.mode="cors",v.registerPlugin(new t({dracoLoader:(new l).setDecoderPath("./draco/")})),p(()=>{x.width.value&&(v.setCamera(c.value),v.setResolutionFromRenderer(c.value,I))});const{onBeforeRender:f}=s();return f(()=>{c.value&&x.width.value&&v&&(c.value.updateMatrixWorld(),v.update())}),(e,s)=>(d(),m("TresGroup",null,[w("primitive",{object:g(v).group},null,8,h)]))}}),z=c({__name:"cesiumIon",setup:e=>(e,s)=>{const n=I("TresCanvas");return d(),m(f,null,[x(n,{clearColor:"#201919","window-size":"",antialias:""},{default:v(()=>[s[0]||(s[0]=w("TresPerspectiveCamera",{position:[1e3,1e3,-100],fov:60,near:1,far:1e4},null,-1)),x(g(r),{enableDamping:""}),x(j),s[1]||(s[1]=w("TresAxesHelper",{args:[100]},null,-1))]),_:1}),s[2]||(s[2]=w("h1",{class:"text-center text-white w-full absolute"},"若没加载成功，请更换自己的Cesium-Key",-1))],64)}});export{z as default};
