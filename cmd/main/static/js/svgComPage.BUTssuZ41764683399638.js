import"./@fesjs.CQdxRiFD1764683399638.js";import{A as s,K as e}from"./@tresjs.CJvYCGUA1764683399638.js";import"./index.DM693cYN1764683399638.js";import{d as a,a as i,c as r,w as t,V as o,G as l,o as p,H as n,F as m,W as u,I as d,m as c,r as j,q as g,b as v,e as f,f as k,h,u as y,a9 as b,aa as S}from"./@vue.DjQnunkc1764683399638.js";import{P as w}from"./tweakpane.CqZAnw7f1764683399638.js";import{$ as M,ad as T}from"./three.BbguFgn81764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";const x={key:0},B=["geometry","render-order"],C=a({__name:"svgCom",props:{src:{default:"./plugins/geokit/case-real-3/icons/satellite.svg"},skipStrokes:{default:!1},skipFills:{default:!1}},setup(e){const a=e,j=i([]),g=i(!0);let v=i(()=>{});const f=r(()=>j.value.filter(s=>!(!s.isStroke||a.skipStrokes)||!s.isStroke&&!a.skipFills));return t(()=>a.src,e=>{v.value();const a=s(e);g.value=!0,t(()=>a.isLoading.value,s=>{s||(j.value=a.layers.value,g.value=a.isLoading.value,v.value=a.dispose)})},{immediate:!0}),o(()=>{v.value()}),(s,e)=>(p(),l("TresGroup",null,[g.value?n("",!0):(p(),l("TresGroup",x,[(p(!0),l(m,null,u(f.value,(s,e)=>(p(),l("TresMesh",{key:`layer-${e}`,geometry:s.geometry,"render-order":e},[d("TresMeshBasicMaterial",c({ref_for:!0},s.material),null,16)],8,B))),128))]))]))}}),F=a({__name:"svgComPage",setup(s){const a={clearColor:"#201919",windowSize:!0,shadows:!0,toneMapping:T,toneMappingExposure:1,shadowMapType:M},i=j({src:"./plugins/geokit/case-real-3/icons/satellite.svg",skipFills:!1,skipStrokes:!1}),r=new w({title:"参数",expanded:!0}),t=document.createElement("input");t.type="file",t.accept=".svg",t.style.display="none",document.body.appendChild(t);return r.addButton({title:"替换SVG",label:"2MB以内"}).on("click",()=>{t&&(t.value="",t.click())}),r.addBinding(i,"skipStrokes",{label:"剔除线条"}),r.addBinding(i,"skipFills",{label:"剔除填空"}),g(()=>{t.onchange=s=>{const e=s.target.files[0];if(!e)return;if(e.size>2097152)return void alert("SVG大小不能超过2MB");const a=new FileReader;a.onload=s=>{i.src=s.target.result},a.readAsDataURL(e)}}),(s,r)=>{const t=v("TresCanvas");return p(),f(t,b(S(a)),{default:k(()=>[r[0]||(r[0]=d("TresPerspectiveCamera",{position:[-5,3,5],fov:50,near:.1,far:1e4},null,-1)),h(y(e)),r[1]||(r[1]=d("TresAmbientLight",null,null,-1)),h(y(C),b(S(i)),null,16)]),_:1},16)}}});export{F as default};
