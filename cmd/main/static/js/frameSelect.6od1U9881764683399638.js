import{N as e,F as t,K as s}from"./@tresjs.CJvYCGUA1764683399638.js";import{dJ as a,dK as n,o}from"./three.BbguFgn81764683399638.js";import{d as l,q as i,a3 as c,G as r,H as u,u as m,o as d,r as f,b as v,e as p,f as h,I as g,h as w,a9 as b,aa as j,ah as _,m as P}from"./@vue.DjQnunkc1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";const L=["object"],T=l({__name:"frameSelect",setup(s){const{state:l}=e("https://opensource.cdn.icegl.cn/model/operationTool/湖中小亭/湖中小亭.gltf"),{camera:f,renderer:v,scene:p,sizes:h,controls:g}=t(),w=new a(f.value,p.value),b=new n(v,"selectBox");let j=function(e){console.log(g.value);for(const t of w.collection)t instanceof o&&t.material.emissive.set(0);w.collection.length=0,w.startPoint.set(e.clientX/h.width.value*2-1,-e.clientY/h.height.value*2+1,.5)},_=function(e){if(b.isDown){w.endPoint.set(e.clientX/h.width.value*2-1,-e.clientY/h.height.value*2+1,.5);const t=w.select();console.log("allSelected",t);for(let e=0;e<t.length;e++){const s=t[e];s instanceof o&&s.material.emissive.set(16252928)}}},P=function(e){const t=w.select();w.endPoint.set(e.clientX/h.width.value*2-1,-e.clientY/h.height.value*2+1,.5);for(let s=0;s<t.length;s++){const e=t[s];e instanceof o&&e.material.emissive.set(0)}};return i(()=>{document.addEventListener("mousedown",j,!1),document.addEventListener("mousemove",_,!1),document.addEventListener("mouseup",P,!1)}),c(()=>{}),(e,t)=>m(l)?(d(),r("primitive",{key:0,object:m(l)?.scene},null,8,L)):u("",!0)}}),C=l({__name:"frameSelect",setup(e){const t=f({alpha:!0,antialias:!0}),a=f({enableDamping:!1,enableZoom:!1,autoRotate:!1,enablePan:!1,enableRotate:!1,makeDefault:!0});return(e,n)=>{const o=v("TresCanvas");return d(),p(o,P({clearColor:"#201919","window-size":""},t),{default:h(()=>[n[0]||(n[0]=g("TresPerspectiveCamera",{fov:60,near:.1,far:2e3,position:[0,10,-28]},null,-1)),n[1]||(n[1]=g("TresAmbientLight",{intensity:1},null,-1)),w(m(s),b(j(a)),null,16),(d(),p(_,null,{default:h(()=>[w(T)]),_:1}))]),_:1},16)}}});export{C as default};
