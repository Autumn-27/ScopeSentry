import{K as e}from"./@tresjs.CJvYCGUA1764683399638.js";import{l as s}from"./utils.e6kO7tRf1764683399638.js";import{m as o}from"./d3-geo.C51lZA-81764683399638.js";import{ad as t,a as r,a3 as i,G as a,o as p,F as n,W as l,I as m,d as c,b as d,e as j,f as u,h,u as f,a9 as y,aa as b,ah as v,m as g}from"./@vue.DjQnunkc1764683399638.js";import{ao as T,i as x,o as w,bY as E}from"./three.BbguFgn81764683399638.js";import{c as _,d as k,a as M}from"./three-mesh-bvh.DQHx4kOk1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./index.DM693cYN1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./useTexture.RJnyBWqC1764683399638.js";const C=["properties","renderOrder"],z=["args"],B={__name:"chinaMapMesh",async setup(e){let c,d;x.prototype.computeBoundsTree=_,x.prototype.disposeBoundsTree=k,w.prototype.raycast=M;const j=o().center([104,37.5]).translate([0,0]),u=([c,d]=t(()=>s("./plugins/simpleGIS/json/china.json","features")),c=await c,d(),c),h={depth:10,bevelEnabled:!1},f=[];u.forEach(e=>{e.geometry.coordinates.forEach(s=>{s.forEach(s=>{const o=new E;for(let e=0;e<s.length;e++){const[t,r]=j(s[e]);0===e&&o.moveTo(t,-r),o.lineTo(t,-r)}f.push({shape:o,properties:e.properties})})})});const y=new T({color:"#3480C4",linewidth:1,linecap:"round"}),b=r();i(()=>{b.value&&b.value.children.forEach(e=>{e.geometry.computeBoundsTree();const s=[e.material,y];e.material=s})});let v=null;(()=>{const e=document.createElement("div");e.className="tooltip",e.style.border="1px solid white",e.style.position="absolute",e.style.color="white",e.style.padding="0px 6px",e.style.whiteSpace="no-wrap",e.style.visibility="hidden",document.body.appendChild(e),v=e})();const g=e=>{e.object.material[0].color.set(16711680),v.innerText=e.object.properties.name,v.style.visibility="visible"},B=e=>{e.eventObject.material[0].color.set(3010559),v.style.visibility="hidden"},G=e=>{v.style.left=`${e.clientX+6}px`,v.style.top=`${e.clientY+6}px`};return(e,s)=>(p(),a("TresGroup",{ref_key:"tgRef",ref:b},[(p(),a(n,null,l(f,(e,o)=>m("TresMesh",{key:`${o}`,properties:e.properties,renderOrder:o,onPointerenter:g,onPointerleave:B,onPointermove:G},[m("TresExtrudeGeometry",{args:[e.shape,h]},null,8,z),s[0]||(s[0]=m("TresMeshBasicMaterial",{color:"#2defff",transparent:!0,opacity:.6},null,-1))],40,C)),64))],512))}},G=c({__name:"chinaMap",setup(s){const o={clearColor:"#201919"},t={enableDamping:!0,dampingFactor:.05};return(s,r)=>{const i=d("TresCanvas");return p(),j(i,g(o,{"window-size":""}),{default:u(()=>[r[0]||(r[0]=m("TresPerspectiveCamera",{position:[0,0,166],fov:75,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),h(f(e),y(b(t)),null,16),(p(),j(v,null,{default:u(()=>[h(B)]),_:1}))]),_:1},16)}}});export{G as default};
