import{_ as o,K as s}from"./@tresjs.CJvYCGUA1764683399638.js";import{P as t}from"./tweakpane.CqZAnw7f1764683399638.js";import{_ as e}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.u89pth7i1764683399638.js";import{B as r,Q as i}from"./three.quarks.BqXEA7uW1764683399638.js";import{d as a,w as n,G as l,o as p,I as m,u as c,r as j,b as f,e as u,f as d,h,a9 as g,aa as w,m as y}from"./@vue.DjQnunkc1764683399638.js";import{f as b,k as v,H as _}from"./three.BbguFgn81764683399638.js";import{C as T,a as C}from"./quarks.core.C3xH0YPO1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./dither.glsl.tNAdkJUa1764683399638.js";import"./Reflector.DiEbG3XV1764683399638.js";import"./index.DM693cYN1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";const M=["object"],B=["object","position","scale","rotation"],k=a({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(s){const t=s,e=o=>{const s=new v(t.color),e=new _(s.r,s.g,s.b,o);return new C(e)},a=new r,j=new i;j.setCrossOrigin("");const f=new b;j.load("./plugins/floor/json/CartoonMagicZone2.json",o=>{o.traverse(o=>{if("ParticleEmitter"===o.type){"BasicZoneRedEmitter"===o.name&&o.rotation.set(Math.PI/2,0,0);const s=o.system;-.25===s.startSpeed.value&&(s.startSpeed=new T(-.5)),s.startColor=e(s.startColor.color.w),a.addSystem(s)}}),"ParticleEmitter"===o.type&&a.addSystem(o.system),f.add(o)});const{onBeforeRender:u}=o();return u(({delta:o})=>{a.update(o)}),n(()=>[t.color],([o])=>{a.systemToBatchIndex.forEach((o,s)=>{s.startColor=e(s.startColor.color.w)})}),(o,s)=>(p(),l("TresGroup",null,[m("primitive",{object:c(f)},null,8,M),m("primitive",{object:c(a),position:o.position,scale:o.scale,rotation:o.rotation},null,8,B)]))}}),x=a({__name:"cartoonMagicZone",setup(o){const r=j({reflectivity:.1,showGridHelper:!0,scale:1}),i=j({color:"#ffffff",scale:1}),a=new t;return a.addBinding(i,"color",{label:"颜色"}),a.addBinding(i,"scale",{label:"大小",min:.1,max:3,step:.1}),(o,t)=>{const a=f("TresCanvas");return p(),u(a,{clearColor:"#201919","window-size":""},{default:d(()=>[t[0]||(t[0]=m("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),h(c(s),{enableDamping:""}),t[1]||(t[1]=m("TresAmbientLight",{intensity:2},null,-1)),h(k,g(w(i)),null,16),h(k,{color:"yellow",scale:1,position:[3,0,0]}),t[2]||(t[2]=m("TresMesh",{position:[3,0,0]},[m("TresSphereGeometry",{args:[1,32,32]}),m("TresMeshBasicMaterial",{color:"yellow"})],-1)),t[3]||(t[3]=m("TresMesh",{position:[0,0,0]},[m("TresSphereGeometry",{args:[1,32,32]}),m("TresMeshBasicMaterial",{color:"white"})],-1)),h(e,y({position:[0,-.5,0]},r),null,16)]),_:1})}}});export{x as default};
