import"./@fesjs.CQdxRiFD1764683399638.js";import{F as e,_ as a,s,K as t,t as r}from"./@tresjs.CJvYCGUA1764683399638.js";import"./index.DM693cYN1764683399638.js";import{_ as i}from"./randomLoading.vue_vue_type_script_setup_true_lang.CFA_zQWs1764683399638.js";import{u as o}from"./index.DgwPK7tT1764683399638.js";import{bj as n,a6 as l,a0 as u}from"./three.BbguFgn81764683399638.js";import{u as p}from"./index.zjpK5bpU1764683399638.js";import{M as m,a as d}from"./@pmndrs.CRF-_adI1764683399638.js";import{d as c,t as j,q as v,s as g,G as h,o as f,u as _,ad as b,h as M,e as y,f as k,I as x,b as T,ah as w,a9 as L,aa as I,F as z}from"./@vue.DjQnunkc1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./starLoading.H18GlufF1764683399638.js";import"./cssLoaders.DOXi4-R61764683399638.js";import"./bubbleLoading.BU0KzqvC1764683399638.js";import"./useLoader.VuwfYjb91764683399638.js";const C=["side"],P=1024,q=c({__name:"stickerTransmisionMaterial",setup(s,{expose:t}){const r=j(),{extend:i,scene:o,renderer:u,camera:c}=e(),b=j();i({MeshTransmissionMaterial:m});const M=new d,{onBeforeRender:y}=a(),k=p({width:P,height:P,isLoop:!1}),x=p({width:P,height:P,isLoop:!1});let T,w,L,I;return v(async()=>{await g(),r.value.buffer=x.value.texture,b.value=function(e,a){let s;return e.traverse(e=>{e.isMesh&&e.material&&e.material.uuid===a&&(s=e)}),s}(o.value,r.value.uuid)}),y(({elapsed:e})=>{r.value.time=e,r.value.buffer===x.value.texture&&b.value&&(L=u.toneMapping,T=o.value.background,w=r.value.envMapIntensity,I=b.value.material.side,b.value.material=M,u.setRenderTarget(k.value),u.render(o.value,c.value),b.value.material=r.value,b.value.material.thickness=0,b.value.material.buffer=k.value.texture,b.value.material.side=n,b.value.material.envMapIntensity=0,u.setRenderTarget(x.value),u.render(o.value,c.value),b.value.material.buffer=x.value.texture,b.value.material=r.value,b.value.material.thickness=0,b.value.material.side=I,b.value.material.envMapIntensity=w,o.value.background=T,u.setRenderTarget(null),u.toneMapping=L)}),t({root:r,constructor:m}),(e,a)=>(f(),h("TresMeshTransmissionMaterial",{ref_key:"MeshTransmissionMaterialClass",ref:r,transmission:0,_transmission:1,"anisotropic-blur":.1,thickness:0,side:_(l)},null,8,C))}}),R=["geometry","rotation"],A=c({__name:"stickerModel",async setup(e){let a,s;const{nodes:t}=([a,s]=b(()=>o("./plugins/eCommerce/model/pack.glb")),a=await a,s(),a);return(e,a)=>(f(),h("TresMesh",{geometry:_(t).Object_4.geometry,rotation:[Math.PI/2,0,0],"cast-shadow":!0,"receive-shadow":!0},[M(q)],8,R))}}),B=["map","side"],F=c({__name:"stickerLogo",setup:e=>(e,a)=>(f(),y(_(s),{path:"./logo.png"},{default:k(({state:e})=>[x("TresMesh",null,[a[0]||(a[0]=x("TresPlaneGeometry",null,null,-1)),x("TresMeshPhysicalMaterial",{map:e,transparent:!0,clearcoat:1,roughness:1,metalness:.8,side:_(l)},null,8,B)])]),_:1}))}),G=c({__name:"sticker",setup(e){const a={clearColor:"#333333",windowSize:!0,toneMapping:u,toneMappingExposure:.8,shadows:!0};return(e,s)=>{const o=T("TresCanvas");return f(),h(z,null,[M(_(i)),M(o,L(I(a)),{default:k(()=>[s[0]||(s[0]=x("TresPerspectiveCamera",{position:[0,0,6],fov:45,near:.1,far:1e3},null,-1)),M(_(t),{enableDamping:""}),s[1]||(s[1]=x("TresAmbientLight",{intensity:2},null,-1)),(f(),y(w,null,{default:k(()=>[M(A)]),_:1})),(f(),y(w,null,{default:k(()=>[M(F)]),_:1})),(f(),y(w,null,{default:k(()=>[M(_(r),{files:["pos-x.jpg","neg-x.jpg","pos-y.jpg","neg-y.jpg","pos-z.jpg","neg-z.jpg"],path:"https://opensource.cdn.icegl.cn/images/skyBox/6jpg/",background:!1},null,8,["path"])]),_:1}))]),_:1},16)],64)}}});export{G as default};
