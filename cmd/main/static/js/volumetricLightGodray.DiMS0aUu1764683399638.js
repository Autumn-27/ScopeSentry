import{$ as e,F as s,_ as a,K as r,d as o}from"./@tresjs.CJvYCGUA1764683399638.js";import{a as t}from"./index.DM693cYN1764683399638.js";import{_ as n}from"./index.vue_vue_type_script_setup_true_lang.Dx06NC-M1764683399638.js";import{d as l,a as i,ad as u,w as p,G as m,o as c,I as d,h as f,f as h,u as j,F as v,a3 as g,ae as y,r as _,s as T,e as w,H as M,a9 as b,aa as x,ah as S}from"./@vue.DjQnunkc1764683399638.js";import{A as k,b3 as P,y as A,a4 as G,o as C}from"./three.BbguFgn81764683399638.js";import{E as z,R as B,b as R,a as q}from"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";const D=["map"],I=["envMap"],$=l({__name:"screen",async setup(s){let a,r;const o=i();o.value=([a,r]=u(()=>e("./plugins/visualArts/video/vlg.mp4",{loop:!0})),a=await a,r(),a),o.value.colorSpace=k;const t=i(),l=i();p(t,e=>{l.value=e.texture});const g=i();return(e,s)=>(c(),m(v,null,[d("TresMesh",{ref_key:"tmSceen",ref:g,position:[0,0,-16]},[s[0]||(s[0]=d("TresPlaneGeometry",{args:[16,10]},null,-1)),d("TresMeshBasicMaterial",{map:o.value},null,8,D),s[1]||(s[1]=d("TresMesh",{scale:[16.05,10.05,1],position:[0,0,-.01]},[d("TresPlaneGeometry"),d("TresMeshBasicMaterial",{color:"black"})],-1))],512),f(j(n),{ref_key:"cubeCameraRef",ref:t,position:[-3,-1,-5],resolution:256},{default:h(()=>[d("TresMesh",null,[s[2]||(s[2]=d("TresSphereGeometry",{args:[2,32,32]},null,-1)),d("TresMeshStandardMaterial",{metalness:1,roughness:.1,envMap:l.value},null,8,I)])]),_:1},512)],64))}}),F=l({__name:"effectComposer",props:{screen:{}},setup(e){const r=e,{camera:o,renderer:t,scene:n,sizes:l}=s();let i=null,u=null;const p=[];g(()=>{if(l.width.value){const e=o.value;((e,s,a)=>{i=new z(a,{frameBufferType:P,multisampling:8});const r=new B(e,s);i.addPass(r)})(n.value,e,t,l.width.value,l.height.value),(e=>{const s=new A({color:16768426,transparent:!0,fog:!1}),a=new G(.75,32,32),o=new C(a,s);o.frustumCulled=!1,o.matrixAutoUpdate=!1;const t=new R(e,y(r.screen),{blur:!0,decay:.9,exposure:.34});p.push(t)})(e),u=new q(e,...p),i.addPass(u)}});const{onRender:m}=a();return m(()=>{i&&i.render()}),(e,s)=>null}}),L=["rotation"],U=l({__name:"volumetricLightGodray",setup(e){const s={clearColor:"#050505",antialias:!1,renderMode:"manual",windowSize:!0},a=_({enableDamping:!0}),n=i(null),l=i(null);return p(()=>n,e=>{T(()=>{e&&void 0!==e.value.$refs.tmSceen&&(l.value=e.value.$refs.tmSceen)})},{deep:!0}),(e,i)=>(c(),w(j(o),b(x(s)),{default:h(()=>[i[1]||(i[1]=d("TresPerspectiveCamera",{position:[0,0,30],fov:45,near:.1,far:1e3},null,-1)),f(j(r),b(x(a)),null,16),i[2]||(i[2]=d("TresAmbientLight",{intensity:.5},null,-1)),(c(),w(S,null,{default:h(()=>[f($,{ref_key:"screenRef",ref:n},null,512)]),_:1})),d("TresMesh",{position:[0,-5.02,0],receiveShadow:"",rotation:[-Math.PI/2,0,0]},[i[0]||(i[0]=d("TresPlaneGeometry",{args:[50,50]},null,-1)),f(j(t),{blur:[300,50],resolution:1024,mixBlur:1,mixStrength:100,roughness:1,depthScale:1.2,minDepthThreshold:.4,maxDepthThreshold:1.4,color:"#202020",metalness:.8})],8,L),l.value?(c(),w(F,{key:0,screen:l.value},null,8,["screen"])):M("",!0)]),_:1},16))}});export{U as default};
