import{_ as t,K as o,G as e}from"./@tresjs.CJvYCGUA1764683399638.js";import{$ as s,A as a}from"./three.BbguFgn81764683399638.js";import{_ as i}from"./default.vue_vue_type_script_setup_true_lang.SpQztfdb1764683399638.js";import"./index.DM693cYN1764683399638.js";import{u as n}from"./index.DgwPK7tT1764683399638.js";import{d as r,ad as p,w as l,G as u,o as m,ae as c,u as d,F as h,I as j,h as f,W as g,t as y,b as M,f as w,e as b,ah as _,m as v}from"./@vue.DjQnunkc1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./useLoader.VuwfYjb91764683399638.js";const x=["object"],S=r({__name:"airplane",props:{planet:{}},async setup(o){let e,s;const a=o,{scene:i}=([e,s]=p(()=>n("./plugins/earthSample/model/lowpolyPlanet/airplane.gltf")),e=await e,s(),e),r=i;r.rotation.set(0,Math.PI,0),i.traverse(t=>{t.isMesh&&(t.castShadow=!0)}),r.updateMatrixWorld();const{onBeforeRender:h}=t();l(()=>a.planet,t=>{if(!t)return;t.geometry.computeBoundingSphere();const o=Math.abs(1|t.geometry.boundingSphere?.radius);r.position.set(o,0,0),r.lookAt(t.position)});let j=0;return h(({delta:t})=>{if(!r||!a.planet)return;const o=Math.abs(a.planet.geometry.boundingSphere.radius)+.5;j+=.2*t;const e=o*Math.cos(j),s=o*Math.sin(j);r.position.x=e,r.position.z=s,r.rotation.z=-Math.PI/2,r.rotation.y=-j,r.updateMatrixWorld()}),(t,o)=>(m(),u("primitive",{object:c(d(r))},null,8,x))}}),z=["object"],P=r({__name:"cloud",props:{planet:{}},async setup(o){let e,s;const a=o,{scene:i}=([e,s]=p(()=>n("./plugins/earthSample/model/lowpolyPlanet/cloud.gltf")),e=await e,s(),e),r=i.children[0];function h(t,o){const e=Math.random()*(o-t)+t;return Math.random()<.5?-e:e}r.castShadow=!0,r.position.set(h(-8,8),h(.5,1),h(-8,8));const j=h(.5,1);r.scale.set(j,j,j),r.updateMatrixWorld(),l(()=>a.planet,t=>{t&&(r.lookAt(t.position),r.updateMatrixWorld())});const{onBeforeRender:f}=t();let g=h(-1,1)*Math.PI;const y=Math.random()/10;return f(({delta:t})=>{if(!r)return;const o=Math.abs(a.planet.geometry.boundingSphere.radius-.5);g+=t*y;const e=o*Math.cos(g),s=o*Math.sin(g);r.position.x=e,r.position.z=s,r.rotation.y=-g,r.lookAt(a.planet.position),r.updateMatrixWorld()}),(t,o)=>(m(),u("primitive",{object:c(d(i)),"cast-shadow":""},null,8,z))}}),k=["object"],A=r({__name:"planet",async setup(o){let e,s;const{nodes:a}=([e,s]=p(()=>n("./plugins/earthSample/model/lowpolyPlanet/planet.gltf")),e=await e,s(),e),i=a.Planet,r=a.Icosphere;i.traverse(t=>{t.isMesh&&(t.receiveShadow=!0)});const{onBeforeRender:l}=t();return l(({delta:t})=>{i&&(i.rotation.y+=.04*t,i.rotation.z+=.02*t,i.rotation.x+=.05*t,i.updateMatrixWorld())}),(t,o)=>(m(),u(h,null,[j("primitive",{object:c(d(i))},null,8,k),f(S,{planet:c(d(r))},null,8,["planet"]),(m(),u(h,null,g([1,2,3,4,5,6,7,8,9],t=>f(P,{key:t,planet:c(d(r))},null,8,["planet"])),64))],64))}}),L=r({__name:"lowpolyPlanet",setup(t){const n={clearColor:"#11101B",shadows:!0,alpha:!1,outputColorSpace:a,shadowMapType:s,useLegacyLights:!0},r=y(0),p=({delta:t})=>{r.value+=.02*t};return(t,s)=>{const a=M("TresCanvas");return m(),u(h,null,[f(i),f(a,v(n,{"window-size":"",onLoop:p}),{default:w(()=>[s[0]||(s[0]=j("TresPerspectiveCamera",{position:[0,1,5],fov:75,near:.1,far:1e3},null,-1)),f(d(o)),s[1]||(s[1]=j("TresAmbientLight",{color:"#484068",intensity:1},null,-1)),(m(),b(_,null,{default:w(()=>[f(A)]),_:1})),f(d(e),{rotation:[0,r.value,0],radius:50,depth:50,count:5e3,size:.3,"size-attenuation":!0},null,8,["rotation"]),s[2]||(s[2]=j("TresPointLight",{color:"#1BFFEF",position:[0,0,-8],intensity:80,"cast-shadow":""},null,-1)),s[3]||(s[3]=j("TresDirectionalLight",{position:[0,2,4],intensity:3,"cast-shadow":"","shadow-mapSize-width":2048,"shadow-mapSize-height":2048},null,-1))]),_:1},16)],64)}}});export{L as default};
