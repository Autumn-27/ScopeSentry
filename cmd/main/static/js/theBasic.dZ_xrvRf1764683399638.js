import{ad as e,A as a,d7 as s}from"./three.BbguFgn81764683399638.js";import{_ as t,K as o,d as n}from"./@tresjs.CJvYCGUA1764683399638.js";import{W as r,N as i,S as l,B as p,M as u,P as c,C as d}from"./cannon-es.D0mCsqyd1764683399638.js";import{d as h,r as m,a as f,t as w,a3 as y,G as v,o as T,h as M,I as g,f as _,e as S,H as C,u as b,a9 as j,aa as k,m as B,v as R,F as x}from"./@vue.DjQnunkc1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";const G=h({__name:"theBasicCannon",props:{sphere:{default:null},sphere2:{default:null},plane:{default:null}},setup(e){const a=e,s=new r;s.gravity.set(0,-9.82,0),s.broadphase=new i,s.defaultContactMaterial.contactEquationRelaxation=5,s.defaultContactMaterial.contactEquationStiffness=1e7;const o=a.sphere.geometry.parameters.radius,n=new l(o),h=new p({mass:10});h.addShape(n),h.position.copy(a.sphere.position),h.material=new u({restitution:10});const m=new p({mass:10});m.addShape(n),m.position.copy(a.sphere2.position),m.material=new u({restitution:1});const f=new c,w=new p({mass:0});w.addShape(f),w.position.copy(a.plane.position),w.quaternion.set(...a.plane.quaternion.toArray()),w.material=new u;const y=new d(w.material,h.material,{friction:0,restitution:.7}),v=new d(w.material,m.material,{friction:0,restitution:.9});s.addContactMaterial(y),s.addContactMaterial(v),s.addBody(h),s.addBody(m),s.addBody(w);const{onRender:T}=t();return T(({delta:e})=>{s.fixedStep(1/120,e),a.sphere.position.copy(h.position),a.sphere2.position.copy(m.position)}),(e,a)=>null}}),P=["rotation"],q=h({__name:"theBasic",setup(t){const r=m({clearColor:"#201919",shadows:!0,alpha:!1,shadowMapType:s,outputColorSpace:a,toneMapping:e}),i=m({enableDamping:!0,dampingFactor:.05,enableZoom:!0,autoRotate:!1}),l=f(),p=f(),u=f(),c=w();return y(()=>{c.value&&(c.value.shadow.mapSize.set(1e3,1e3),c.value.shadow.camera.near=.5,c.value.shadow.camera.far=5e4,c.value.shadow.camera.top=20,c.value.shadow.camera.right=20,c.value.shadow.camera.left=-20,c.value.shadow.camera.bottom=-20)}),(e,a)=>(T(),v(x,null,[M(b(n),B(r,{"window-size":""}),{default:_(()=>[a[3]||(a[3]=g("TresPerspectiveCamera",{position:[15,15,15],fov:45,near:.1,far:1e3,"look-at":[0,0,0]},null,-1)),M(b(o),j(k(i)),null,16),a[4]||(a[4]=g("TresAmbientLight",{intensity:.5},null,-1)),g("TresMesh",{ref_key:"sphereRef",ref:l,position:[0,6,0],"cast-shadow":""},[...a[0]||(a[0]=[g("TresSphereGeometry",{args:[1.5,32,32]},null,-1),g("TresMeshToonMaterial",{color:"#006060"},null,-1)])],512),g("TresMesh",{ref_key:"sphereRef2",ref:p,position:[4,6,0],"cast-shadow":""},[...a[1]||(a[1]=[g("TresSphereGeometry",{args:[1.5,32,32]},null,-1),g("TresMeshToonMaterial",{color:"#ff6060"},null,-1)])],512),g("TresMesh",{ref_key:"planeRef",ref:u,rotation:[-Math.PI/2,0,0],position:[0,-.01,0],"receive-shadow":""},[...a[2]||(a[2]=[g("TresPlaneGeometry",{args:[20,20,20,20]},null,-1),g("TresMeshToonMaterial",null,null,-1)])],8,P),u.value?(T(),S(G,{key:0,sphere:l.value,sphere2:p.value,plane:u.value},null,8,["sphere","sphere2","plane"])):C("",!0),g("TresDirectionalLight",{ref_key:"TDirectionalLight",ref:c,position:[10,8,4],intensity:1,"cast-shadow":""},null,512),a[5]||(a[5]=g("TresDirectionalLight",{position:[10,2,4],intensity:1,"cast-shadow":""},null,-1)),a[6]||(a[6]=g("TresGridHelper",null,null,-1))]),_:1},16),a[7]||(a[7]=g("h1",{class:"text-center text-white w-full absolute"},[R(" 使用cannon-es库 API详见:"),g("a",{target:"_black",href:"https://pmndrs.github.io/cannon-es/docs/"},"cannon-es/docs")],-1))],64))}});export{q as default};
