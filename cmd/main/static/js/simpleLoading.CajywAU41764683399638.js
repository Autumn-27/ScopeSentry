import{_ as t,K as o,G as e}from"./@tresjs.CJvYCGUA1764683399638.js";import{i as s,l as a}from"./index.DM693cYN1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import{d as i,w as n,G as r,o as l,u as p,F as m,I as u,h as c,W as d,b as h,f as j,e as g,H as f,m as M}from"./@vue.DjQnunkc1764683399638.js";import"./three.BbguFgn81764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";const y=["object"],b=i({__name:"airplane",props:{planet:{}},setup(o){const e=o,{scene:a}=s.getItem("airplane.gltf"),i=a;i.rotation.set(0,Math.PI,0),a.traverse(t=>{t.isMesh&&(t.castShadow=!0)}),i.updateMatrixWorld();const{onBeforeRender:m}=t();n(()=>e.planet,t=>{if(!t)return;t.geometry.computeBoundingSphere();const o=Math.abs(1|t.geometry.boundingSphere?.radius);i.position.set(o,0,0),i.lookAt(t.position)});let u=0;return m(({delta:t})=>{if(!i||!e.planet)return;const o=Math.abs(e.planet.geometry.boundingSphere.radius)+.5;u+=.2*t;const s=o*Math.cos(u),a=o*Math.sin(u);i.position.x=s,i.position.z=a,i.rotation.z=-Math.PI/2,i.rotation.y=-u,i.updateMatrixWorld()}),(t,o)=>(l(),r("primitive",{object:p(i)},null,8,y))}}),w=["object"],v=i({__name:"cloud",props:{planet:{}},setup(o){const e=o,{scene:a}=s.getItem("cloud.gltf"),i=a.children[0];function m(t,o){const e=Math.random()*(o-t)+t;return Math.random()<.5?-e:e}i.castShadow=!0,i.position.set(m(-8,8),m(.5,1),m(-8,8));const u=m(.5,1);i.scale.set(u,u,u),i.updateMatrixWorld(),n(()=>e.planet,t=>{t&&(i.lookAt(t.position),i.updateMatrixWorld())});const{onBeforeRender:c}=t();let d=m(-1,1)*Math.PI;const h=Math.random()/10;return c(({delta:t})=>{if(!i)return;const o=Math.abs(e.planet.geometry.boundingSphere.radius-.5);d+=t*h;const s=o*Math.cos(d),a=o*Math.sin(d);i.position.x=s,i.position.z=a,i.rotation.y=-d,i.lookAt(e.planet.position),i.updateMatrixWorld()}),(t,o)=>(l(),r("primitive",{object:p(a),"cast-shadow":""},null,8,w))}}),x=["object"],L=i({__name:"planet",setup(o){const{nodes:e}=s.getItem("planet.gltf"),a=e.Planet,i=e.Icosphere;a.traverse(t=>{t.isMesh&&(t.receiveShadow=!0)});const{onBeforeRender:n}=t();return n(({delta:t})=>{a&&(a.rotation.y+=.04*t,a.rotation.z+=.02*t,a.rotation.x+=.05*t,a.updateMatrixWorld())}),(t,o)=>(l(),r(m,null,[u("primitive",{object:p(a)},null,8,x),c(b,{planet:p(i)},null,8,["planet"]),(l(),r(m,null,d([1,2,3,4,5,6,7,8,9],t=>c(v,{key:t,planet:p(i)},null,8,["planet"])),64))],64))}}),S=i({__name:"simpleLoading",setup(t){const i={alpha:!1,clearColor:"#11101B",shadows:!0,useLegacyLights:!0};return s.loadResources([{functionName:"GLTFLoader",url:"./plugins/earthSample/model/lowpolyPlanet/planet.gltf"},{functionName:"GLTFLoader",url:"./plugins/earthSample/model/lowpolyPlanet/airplane.gltf"},{functionName:"GLTFLoader",url:"./plugins/earthSample/model/lowpolyPlanet/cloud.gltf"}]),(t,n)=>{const d=h("TresCanvas");return l(),r(m,null,[c(p(a),{useResourceManager:""}),c(d,M(i,{"window-size":""}),{default:j(()=>[n[0]||(n[0]=u("TresPerspectiveCamera",{position:[0,.5,3],fov:75,near:.1,far:1e3},null,-1)),c(p(o)),n[1]||(n[1]=u("TresAmbientLight",{color:"#484068",intensity:1},null,-1)),n[2]||(n[2]=u("TresPointLight",{color:"#1BFFEF",position:[0,0,-8],intensity:80,"cast-shadow":""},null,-1)),n[3]||(n[3]=u("TresDirectionalLight",{position:[0,2,4],intensity:3,"cast-shadow":"","shadow-mapSize-width":2048,"shadow-mapSize-height":2048},null,-1)),c(p(e),{radius:50,depth:50,count:5e3,size:.3,"size-attenuation":!0}),p(s).hasAllFinished.value?(l(),g(L,{key:0})):f("",!0)]),_:1},16)],64)}}});export{S as default};
