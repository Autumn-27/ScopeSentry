import{B as o,Q as s}from"./three.quarks.BqXEA7uW1764683399638.js";import{i as e,l as r}from"./index.DM693cYN1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import{_ as t,K as a}from"./@tresjs.CJvYCGUA1764683399638.js";import{P as i}from"./tweakpane.CqZAnw7f1764683399638.js";import{_ as n}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.u89pth7i1764683399638.js";import{d as l,w as p,G as m,o as c,F as u,I as j,u as d,r as f,b as h,h as g,f as y,e as v,H as M,m as w,ah as b}from"./@vue.DjQnunkc1764683399638.js";import{f as _,k,H as T}from"./three.BbguFgn81764683399638.js";import{a as B}from"./quarks.core.C3xH0YPO1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./dither.glsl.tNAdkJUa1764683399638.js";import"./Reflector.DiEbG3XV1764683399638.js";const C=["object"],x=["object","position","scale","rotation"],G=l({__name:"cartoonMagic",props:{color:{default:"#00ffff"},position:{default:[0,0,0]},scale:{default:1},rotation:{default:[0,0,0]}},setup(s){const r=s,a=o=>{const s=new k(r.color),e=new T(s.r,s.g,s.b,o);return new B(e)},i=new o,n=new _,l=e.getItem("CartoonMagicZone.json").clone(!0);l.traverse(o=>{if("ParticleEmitter"===o.type){"BasicZoneRedEmitter"===o.name&&o.rotation.set(Math.PI/2,0,0);const s=o.system;s.startColor=a(s.startColor.color.w),i.addSystem(s)}}),"ParticleEmitter"===l.type&&i.addSystem(l.system),n.add(l);const{onBeforeRender:f}=t();return f(({delta:o})=>{i.update(o)}),p(()=>[r.color],([o])=>{i.systemToBatchIndex.forEach((o,s)=>{s.startColor=a(s.startColor.color.w)})}),(o,s)=>(c(),m(u,null,[j("primitive",{object:d(n)},null,8,C),j("primitive",{object:d(i),position:o.position,scale:o.scale,rotation:o.rotation},null,8,x)],64))}}),I=l({__name:"customLoading",setup(o){const t=f({reflectivity:.1,showGridHelper:!0,scale:1}),l=f({color:"#ffffff",scale:1});e.loaderMapping.QuarksLoader=s,e.loadResources([{functionName:"QuarksLoader",url:"./plugins/floor/json/CartoonMagicZone.json"}]);const p=new i;return p.addBinding(l,"color",{label:"颜色"}),p.addBinding(l,"scale",{label:"大小",min:.1,max:3,step:.1}),(o,s)=>{const i=h("TresCanvas");return c(),m(u,null,[g(d(r),{useResourceManager:""}),g(i,{clearColor:"#201919","window-size":""},{default:y(()=>[s[0]||(s[0]=j("TresPerspectiveCamera",{position:[5,5,5],fov:45,near:.1,far:1e4},null,-1)),g(d(a),{enableDamping:""}),d(e).hasAllFinished.value?(c(),v(G,w({key:0},l,{position:[0,0,0]}),null,16)):M("",!0),d(e).hasAllFinished.value?(c(),v(G,{key:1,color:"red",position:[3,0,0],rotation:[-Math.PI,1,45]},null,8,["rotation"])):M("",!0),d(e).hasAllFinished.value?(c(),v(G,{key:2,color:"green",position:[-2,0,0]})):M("",!0),s[1]||(s[1]=j("TresMesh",{position:[3,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"red"})],-1)),s[2]||(s[2]=j("TresMesh",{position:[-2,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"green"})],-1)),s[3]||(s[3]=j("TresMesh",{position:[0,0,0]},[j("TresSphereGeometry",{args:[1,32,32]}),j("TresMeshBasicMaterial",{color:"white"})],-1)),(c(),v(b,null,{default:y(()=>[g(d(n),w({position:[0,-.5,0]},t),null,16)]),_:1}))]),_:1})],64)}}});export{I as default};
