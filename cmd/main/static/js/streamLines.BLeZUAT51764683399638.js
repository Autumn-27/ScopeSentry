import{_ as e,K as s}from"./@tresjs.CJvYCGUA1764683399638.js";import{P as a}from"./tweakpane.CqZAnw7f1764683399638.js";import"./index.DM693cYN1764683399638.js";import{_ as t}from"./reflectorDUDV.vue_vue_type_script_setup_true_lang.u89pth7i1764683399638.js";import{u as i}from"./utils.Dayf5snU1764683399638.js";import{d as o,ad as r,w as l,G as n,o as p,I as m,u as d,r as u,b as c,e as j,f,h as g,ah as b,a9 as h,aa as w,m as _}from"./@vue.DjQnunkc1764683399638.js";import{aE as y,aD as v,V as B,bz as x,a6 as S,bJ as k}from"./three.BbguFgn81764683399638.js";import{g as M}from"./utils.DJFfMxDw1764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./@fesjs.CQdxRiFD1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./dither.glsl.tNAdkJUa1764683399638.js";import"./Reflector.DiEbG3XV1764683399638.js";import"./@tweenjs.C9YEcV0Y1764683399638.js";import"./utils.e6kO7tRf1764683399638.js";import"./useTexture.RJnyBWqC1764683399638.js";import"./three-mesh-bvh.DQHx4kOk1764683399638.js";import"./d3-geo.C51lZA-81764683399638.js";const T=["args"],L=["blending","map","side","alphaMap","color"],D=o({__name:"streamLine",props:{color:{default:"#2bc4dc"},radius:{default:.2},speed:{default:1},radialSegments:{default:6},tubularSegments:{default:64},closed:{type:Boolean,default:!1},clockwise:{type:Boolean,default:!0},fewNum:{default:1},linesList:{default:()=>[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[15,0,15]]}},async setup(s){let a,t;const o=s,u=([a,t]=r(()=>i("./plugins/digitalCity/image/line2.png")),a=await a,t(),a);u.needsUpdate=!0,u.wrapS=u.wrapT=y,u.repeat.set(o.fewNum,1),u.rotation=o.clockwise?0:Math.PI,u.generateMipmaps=!1,u.magFilter=v;let c=[];o.linesList.forEach(e=>{c.push((new B).fromArray(e))});const j=new x(c),{onBeforeRender:f}=e();return f(()=>{u.offset.x+=.002*o.speed}),l(()=>[o.clockwise,o.fewNum],([e,s])=>{u.rotation=e?0:Math.PI,u.repeat.set(s,1)}),(e,s)=>(p(),n("TresMesh",null,[m("TresTubeGeometry",{args:[d(j),o.tubularSegments,o.radius,o.radialSegments,o.closed]},null,8,T),m("TresMeshBasicMaterial",{blending:k,map:d(u),side:S,alphaMap:d(u),transparent:!0,color:o.color},null,8,L)]))}}),G=o({__name:"streamLines",async setup(e){let i,o;const l=u({reflectivity:.1,showGridHelper:!1,scale:5}),n=u({color:"#bd01ff",radius:.2,speed:1,tubularSegments:64,radialSegments:6,closed:!1,clockwise:!1,fewNum:1,linesList:[[15,0,15],[15,0,-15],[-15,0,-15],[-15,0,10],[13,0,15]]}),y=new a;y.addBinding(n,"color",{label:"流光颜色"}),y.addBinding(n,"radius",{label:"管道半径",min:.01,max:1,step:.01}),y.addBinding(n,"speed",{label:"跑动速度",min:.1,max:10,step:.1}),y.addBinding(n,"tubularSegments",{label:"管道路径平滑",min:1,max:100,step:1}),y.addBinding(n,"radialSegments",{label:"管道壁圆润",min:1,max:20,step:1}),y.addBinding(n,"closed",{label:"闭合管道"}),y.addBinding(n,"clockwise",{label:"顺时针流动"}),y.addBinding(n,"fewNum",{label:"流线数量",min:1,max:10,step:1});const v=([i,o]=r(()=>M("./plugins/simpleGIS/json/320000_full.json")),i=await i,o(),i);return(e,a)=>{const i=c("TresCanvas");return p(),j(i,{clearColor:"#201919","window-size":""},{default:f(()=>[a[0]||(a[0]=m("TresPerspectiveCamera",{position:[25,25,25],fov:45,near:.1,far:1e4},null,-1)),g(d(s),{enableDamping:"",autoRotate:""}),(p(),j(b,null,{default:f(()=>[g(D,h(w(n)),null,16)]),_:1})),(p(),j(b,null,{default:f(()=>[g(D,{linesList:d(v),position:[0,0,-4]},null,8,["linesList"])]),_:1})),(p(),j(b,null,{default:f(()=>[g(d(t),_({position:[0,-.5,0]},l),null,16)]),_:1}))]),_:1})}}});export{G as default};
