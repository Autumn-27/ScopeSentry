import{E as e}from"./eventemitter3.5FBR1PdG1764683399638.js";import{t,c as i,d as o}from"./d3-dsv.zCmmY9rC1764683399638.js";const l=e=>e;var n,r;!function(e){e["desktop-browser"]="desktop-browser",e["mobile-browser"]="mobile-browser",e.node="node",e.worker="worker",e.miniApp="miniApp",e.wx="wx",e.tt="tt",e.harmony="harmony",e["desktop-miniApp"]="desktop-miniApp",e.lynx="lynx"}(n||(n={})),function(e){e.cartesianAxis="cartesianAxis",e.cartesianBandAxis="cartesianAxis-band",e.cartesianLinearAxis="cartesianAxis-linear",e.cartesianTimeAxis="cartesianAxis-time",e.cartesianLogAxis="cartesianAxis-log",e.cartesianSymlogAxis="cartesianAxis-symlog",e.polarAxis="polarAxis",e.polarBandAxis="polarAxis-band",e.polarLinearAxis="polarAxis-linear",e.crosshair="crosshair",e.cartesianCrosshair="cartesianCrosshair",e.polarCrosshair="polarCrosshair",e.dataZoom="dataZoom",e.geoCoordinate="geoCoordinate",e.indicator="indicator",e.discreteLegend="discreteLegend",e.continuousLegend="continuousLegend",e.colorLegend="colorLegend",e.sizeLegend="sizeLegend",e.markLine="markLine",e.markArea="markArea",e.markPoint="markPoint",e.polarMarkLine="polarMarkLine",e.polarMarkArea="polarMarkArea",e.polarMarkPoint="polarMarkPoint",e.geoMarkPoint="geoMarkPoint",e.tooltip="tooltip",e.title="title",e.player="player",e.scrollBar="scrollBar",e.label="label",e.totalLabel="totalLabel",e.brush="brush",e.poptip="poptip",e.customMark="customMark"}(r||(r={}));const a=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,s=(e,t=!1)=>t?"boolean"==typeof e:!0===e||!1===e||a(e,"Boolean"),h=e=>null==e,d=e=>null!=e,c=e=>{const t=typeof e;return null!==e&&"object"===t||"function"===t},p=function(e){if(!(e=>"object"==typeof e&&null!==e)(e)||!a(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},y=(e,t=!1)=>{const i=typeof e;return t?"string"===i:"string"===i||a(e,"String")},u=e=>Array.isArray?Array.isArray(e):a(e,"Array"),g=(e,t=!1)=>{const i=typeof e;return t?"number"===i:"number"===i||a(e,"Number")},f=e=>g(e)&&Number.isFinite(e);function k(e,t,i){let o;if(!d(e)||"object"!=typeof e||t)return e;const l=u(e),n=e.length;o=l?new Array(n):"object"==typeof e?{}:s(e)||g(e)||y(e)?e:(e=>a(e,"Date"))(e)?new Date(+e):void 0;const r=l?void 0:Object.keys(Object(e));let h=-1;if(o)for(;++h<(r||e).length;){const i=r?r[h]:h,l=e[i];o[i]=k(l,t)}return o}function m(e,t,i=!1,o=!1){if(t){if(e===t)return;if(d(t)&&"object"==typeof t){const l=Object(t),n=[];for(const e in l)n.push(e);let{length:r}=n,a=-1;for(;r--;){const r=n[++a];!d(l[r])||"object"!=typeof l[r]||o&&u(e[r])?v(e,r,l[r]):b(e,t,r,i,o)}}}}function b(e,t,i,o=!1,l=!1){const n=e[i],r=t[i];let a=t[i],s=!0;if(u(r)){if(o)a=[];else if(u(n))a=n;else if(null!==(h=n)&&"function"!=typeof h&&Number.isFinite(h.length)){a=new Array(n.length);let e=-1;const t=n.length;for(;++e<t;)a[e]=n[e]}}else p(r)?(a=null!=n?n:{},"function"!=typeof n&&"object"==typeof n||(a={})):s=!1;var h;s&&m(a,r,o,l),v(e,i,a)}function v(e,t,i){(void 0!==i&&!function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e[t],i)||void 0===i&&!(t in e))&&(e[t]=i)}function C(e){return Object.prototype.toString.call(e)}function S(e){return Object.keys(e)}function x(e,t,i){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(C(e)!==C(t))return!1;if("function"==typeof e)return!1;if("object"!=typeof e)return!1;if(u(e)){if(e.length!==t.length)return!1;for(let i=e.length-1;i>=0;i--)if(!x(e[i],t[i]))return!1;return!0}if(!p(e))return!1;const o=S(e),l=S(t);if(o.length!==l.length)return!1;o.sort(),l.sort();for(let n=o.length-1;n>=0;n--)if(o[n]!=l[n])return!1;for(let n=o.length-1;n>=0;n--){const i=o[n];if(!x(e[i],t[i]))return!1}return!0}const _="undefined"!=typeof console;function w(e,t,i){const o=[t].concat([].slice.call(i));_&&console[e].apply(console,o)}var L;!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"}(L||(L={}));let F=class e{static getInstance(t,i){return e._instance&&g(t)?e._instance.level(t):e._instance||(e._instance=new e(t,i)),e._instance}static setInstance(t){return e._instance=t}static setInstanceLevel(t){e._instance?e._instance.level(t):e._instance=new e(t)}static clearInstance(){e._instance=null}constructor(e=L.None,t){this._onErrorHandler=[],this._level=e,this._method=t}addErrorHandler(e){this._onErrorHandler.find(t=>t===e)||this._onErrorHandler.push(e)}removeErrorHandler(e){const t=this._onErrorHandler.findIndex(t=>t===e);t<0||this._onErrorHandler.splice(t,1)}callErrorHandler(...e){this._onErrorHandler.forEach(t=>t(...e))}canLogInfo(){return this._level>=L.Info}canLogDebug(){return this._level>=L.Debug}canLogError(){return this._level>=L.Error}canLogWarn(){return this._level>=L.Warn}level(e){return arguments.length?(this._level=+e,this):this._level}error(...e){var t;return this._level>=L.Error&&(this._onErrorHandler.length?this.callErrorHandler(...e):w(null!==(t=this._method)&&void 0!==t?t:"error","ERROR",e)),this}warn(...e){return this._level>=L.Warn&&w(this._method||"warn","WARN",e),this}info(...e){return this._level>=L.Info&&w(this._method||"log","INFO",e),this}debug(...e){return this._level>=L.Debug&&w(this._method||"log","DEBUG",e),this}};F._instance=null;const T=function(e,...t){return function(e,...t){e||(e={});let i=-1;const o=t.length;for(;++i<o;)z(e,t[i]);return e}(k(e),...t)};function A(e,t,i){const o=t[i];if(void 0===o)e[i]=null;else if(c(o)){c(e[i])||(e[i]={});for(const t in o)A(e[i],o,t)}else e[i]=o}function z(e,t){if(c(t)&&e!==t)for(const i in t)A(e,t,i)}var B;!function(e){e.DSV="dsv",e.TREE="tree",e.GEO="geo",e.BYTE="bytejson",e.HEX="hex",e.GRAPH="graph",e.TABLE="table",e.GEO_GRATICULE="geo-graticule"}(B||(B={}));const M=(e,t)=>{var i,o;if(!(null==t?void 0:t.fields))return e;if(0===e.length)return e;const l=t.fields,n=e[0],r={},a=[];for(const s in l)if(Object.prototype.hasOwnProperty.call(l,s)){const t=l[s];if(t.sort&&(f(t.sortIndex)||(t.sortIndex=0),d(t.sortReverse)||(t.sortReverse="desc"===t.sort)),!t.type){let o=n;s in n||(o=null!==(i=e.find(e=>s in e))&&void 0!==i?i:n),t.type="number"==typeof o[s]?"linear":"ordinal"}let h;if("number"==typeof t.sortIndex&&(h={key:s,type:t.type,index:t.sortIndex,sortIndex:{},sortIndexCount:0,sortReverse:!0===t.sortReverse},a.push(h)),(null===(o=t.domain)||void 0===o?void 0:o.length)>0)if("ordinal"===t.type){t._domainCache={},r[s]=t;const e={};t.domain.forEach((i,o)=>{e[i]=o,t._domainCache[i]=o}),h&&(h.sortIndex=e,h.sortIndexCount=t.domain.length)}else t.domain.length>=2&&(r[s]=t)}return Object.keys(r).length>0&&(e=e.filter(e=>{for(const t in r){const i=r[t];if("ordinal"===i.type){if(!(e[t]in i._domainCache))return!1}else if(i.domain[0]>e[t]||i.domain[1]<e[t])return!1}return!0})),a.sort((e,t)=>e.index-t.index),e.sort((e,t)=>function(e,t,i){for(let o=0;o<i.length;o++){const l=i[o];let n=0;if("ordinal"===l.type?(void 0===l.sortIndex[t[l.key]]&&(l.sortIndex[t[l.key]]=l.sortIndexCount++),void 0===l.sortIndex[e[l.key]]&&(l.sortIndex[e[l.key]]=l.sortIndexCount++),n=l.sortIndex[e[l.key]]-l.sortIndex[t[l.key]]):"linear"===l.type&&(n=e[l.key]-t[l.key]),l.sortReverse&&(n=-n),0!==n)return n}return 0}(e,t,a)),e};const O={delimiter:","},W=(e,t,i)=>{const o=!s(null==t?void 0:t.dependencyUpdate)||(null==t?void 0:t.dependencyUpdate);if(!e||!u(e))throw new TypeError("Invalid data: must be DataView array!");return u(i.rawData)&&i.rawData.forEach(e=>{e.target&&(e.target.removeListener("change",i.reRunAllTransform),e.target.removeListener("markRunning",i.markRunning))}),o&&e.forEach(e=>{e.target.addListener("change",i.reRunAllTransform),e.target.addListener("markRunning",i.markRunning)}),e};let R=0;function H(e="dataset"){return R>1e8&&(R=0),e+"_"+R++}class P{constructor(t){var i;let o;this.options=t,this.isDataSet=!0,this.transformMap={},this.parserMap={},this.dataViewMap={},this.target=new e,o=(null==t?void 0:t.name)?t.name:H("dataset"),this.name=o,this._logger=null!==(i=null==t?void 0:t.logger)&&void 0!==i?i:F.getInstance()}setLogger(e){this._logger=e}getDataView(e){return this.dataViewMap[e]}setDataView(e,t){var i;this.dataViewMap[e]&&(null===(i=this._logger)||void 0===i||i.error(`Error: dataView ${e} 之前已存在，请重新命名`)),this.dataViewMap[e]=t}removeDataView(e){this.dataViewMap[e]=null,delete this.dataViewMap[e]}registerParser(e,t){var i;this.parserMap[e]&&(null===(i=this._logger)||void 0===i||i.warn(`Warn: transform ${e} 之前已注册，执行覆盖逻辑`)),this.parserMap[e]=t}removeParser(e){this.parserMap[e]=null,delete this.parserMap[e]}getParser(e){return this.parserMap[e]||this.parserMap.default}registerTransform(e,t){var i;this.transformMap[e]&&(null===(i=this._logger)||void 0===i||i.warn(`Warn: transform ${e} 之前已注册，执行覆盖逻辑`)),this.transformMap[e]=t}removeTransform(e){this.transformMap[e]=null,delete this.transformMap[e]}getTransform(e){return this.transformMap[e]}multipleDataViewAddListener(e,t,i){this._callMap||(this._callMap=new Map);let o=this._callMap.get(i);o||(o=()=>{e.some(e=>e.isRunning)||i()}),e.forEach(e=>{e.target.addListener(t,o)}),this._callMap.set(i,o)}allDataViewAddListener(e,t){this.multipleDataViewAddListener(Object.values(this.dataViewMap),e,t)}multipleDataViewRemoveListener(e,t,i){if(this._callMap){const o=this._callMap.get(i);o&&e.forEach(e=>{e.target.removeListener(t,o)}),this._callMap.delete(i)}}multipleDataViewUpdateInParse(e){e.forEach(e=>{var t;return null===(t=this.getDataView(e.name))||void 0===t?void 0:t.markRunning()}),e.forEach(e=>{var t;return null===(t=this.getDataView(e.name))||void 0===t?void 0:t.parseNewData(e.data,e.options)})}multipleDataViewUpdateInRawData(e){e.forEach(e=>{var t;return null===(t=this.getDataView(e.name))||void 0===t?void 0:t.markRunning()}),e.forEach(e=>{var t;return null===(t=this.getDataView(e.name))||void 0===t?void 0:t.updateRawData(e.data,e.options)})}destroy(){this.transformMap=null,this.parserMap=null,this.dataViewMap=null,this._callMap=null,this.target.removeAllListeners()}}class E{constructor(t,i){let o;this.dataSet=t,this.options=i,this.isDataView=!0,this.target=new e,this.parseOption=null,this.transformsArr=[],this.isRunning=!1,this.rawData={},this.history=!1,this.parserData={},this.latestData={},this._fields=null,this.reRunAllTransform=(e={})=>{const t=this.latestData;return this.isRunning=!0,this.resetTransformData(),this.transformsArr.forEach(t=>{this.executeTransform(t,{pushHistory:e.pushHistory,emitMessage:!1})}),this.isRunning=!1,!1===e.emitMessage||e.skipEqual&&x(t,this.latestData)||this.target.emit("change",{latestData:this.latestData}),this},this.markRunning=()=>{this.isRunning=!0,this.target.emit("markRunning",[])},o=(null==i?void 0:i.name)?i.name:H("dataview"),this.name=o,(null==i?void 0:i.history)&&(this.history=i.history,this.historyData=[]),this.dataSet.setDataView(o,this),this.setFields(null==i?void 0:i.fields)}parse(e,t,i=!1){var o;this.isRunning=!0,i&&this.target.emit("beforeParse",[]),t&&(this.parseOption=t);const l=this.cloneParseData(e,t);if(null==t?void 0:t.type){const e=(null!==(o=this.dataSet.getParser(t.type))&&void 0!==o?o:this.dataSet.getParser("bytejson"))(l,t.options,this);this.rawData=l,this.parserData=e,this.history&&this.historyData.push(l,e),this.latestData=e}else this.parserData=l,this.rawData=l,this.history&&this.historyData.push(l),this.latestData=l;return this.isRunning=!1,i&&this.target.emit("afterParse",[]),this}transform(e,t=!0){if(this.isRunning=!0,e&&e.type){let i=!0;if("fields"===e.type){this._fields=e.options.fields;const t=this.transformsArr.findIndex(t=>t.type===e.type);t>=0&&(i=!1,this.transformsArr[t].options.fields=this._fields)}i&&this.transformsArr.push(e),t&&this.executeTransform(e)}return this.sortTransform(),this.isRunning=!1,this}sortTransform(){this.transformsArr.length>=2&&this.transformsArr.sort((e,t)=>{var i,o;return(null!==(i=e.level)&&void 0!==i?i:0)-(null!==(o=t.level)&&void 0!==o?o:0)})}executeTransform(e,t={}){const{pushHistory:i,emitMessage:o,skipEqual:l}=t,n=this.dataSet.getTransform(e.type),r=this.latestData,a=n(r,e.options);this.history&&!1!==i&&this.historyData.push(a),this.latestData=a,!1===o||l&&x(r,this.latestData)||this.target.emit("change",{latestData:this.latestData})}resetTransformData(){this.latestData=this.parserData,this.history&&(this.historyData.length=0,this.historyData.push(this.rawData,this.parserData))}cloneParseData(e,t){let i=!1;return e instanceof E||!0!==(null==t?void 0:t.clone)||(i=!0),i?k(e):e}parseNewData(e,t){this.parse(e,t||this.parseOption),this.reRunAllTransform()}updateRawData(e,t){const i=this.cloneParseData(e,t);this.rawData=i,this.parserData=i,this.latestData=i,this.reRunAllTransform()}getFields(){var e;return this._fields?this._fields:"dataview"===(null===(e=this.parseOption)||void 0===e?void 0:e.type)&&1===this.rawData.length&&this.rawData[0].getFields?this.rawData[0].getFields():null}setFields(e,t=!1){this._fields=e&&t?function(e,...t){let i=-1;const o=t.length;for(;++i<o;)m(e,t[i],!0);return e}({},this._fields,e):e;const i=this.transformsArr.find(e=>"fields"===e.type);!h(this._fields)&&h(i)?(this.dataSet.registerTransform("fields",M),this.transform({type:"fields",options:{fields:this._fields}},!1)):i&&(i.options.fields=this._fields)}destroy(){this.dataSet.removeDataView(this.name),this.latestData=null,this.rawData=null,this.parserData=null,this.transformsArr=null,this.target=null}}class D{static GenAutoIncrementId(){return D.auto_increment_id++}}D.auto_increment_id=0;class I{constructor(e){this.id=D.GenAutoIncrementId(),this.registry=e}}const j="named",N="inject",G="multi_inject",U="inversify:tagged",V="inversify:paramtypes";class Y{constructor(e,t){this.key=e,this.value=t}toString(){return this.key===j?`named: ${String(this.value).toString()} `:`tagged: { key:${this.key.toString()}, value: ${String(this.value)} }`}}const Z=function(e){var t;return function(e){const t="function"==typeof Symbol&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=Object.getPrototypeOf(Function),o=Map,l=new WeakMap;function n(e,t,i){let n=l.get(e);if(h(n)){if(!i)return;n=new o,l.set(e,n)}let r=n.get(t);if(h(r)){if(!i)return;r=new o,n.set(t,r)}return r}function r(e,t,i){if(a(e,t,i))return!0;const o=g(t);return!d(o)&&r(e,o,i)}function a(e,t,i){const o=n(t,i,!1);return!h(o)&&!!o.has(e)}function s(e,t,i){if(a(e,t,i))return function(e,t,i){const o=n(t,i,!1);if(!h(o))return o.get(e)}(e,t,i);const o=g(t);return d(o)?void 0:s(e,o,i)}function h(e){return void 0===e}function d(e){return null===e}function c(e){return"object"==typeof e?null!==e:"function"==typeof e}function p(e,i){switch(function(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}const o=function(e,t){const i=e[t];if(null!=i){if(!u(i))throw new TypeError;return i}}(e,t);if(void 0!==o){const t=o.call(e,"string");if(c(t))throw new TypeError;return t}return function(e){{const t=e.toString;if(u(t)){const i=t.call(e);if(!c(i))return i}const i=e.valueOf;if(u(i)){const t=i.call(e);if(!c(t))return t}}throw new TypeError}(e)}function y(e){const t=p(e);return"symbol"==typeof t?t:function(e){return""+e}(t)}function u(e){return"function"==typeof e}function g(e){const t=Object.getPrototypeOf(e);if("function"!=typeof e||e===i)return t;if(t!==i)return t;const o=e.prototype,l=o&&Object.getPrototypeOf(o);if(null==l||l===Object.prototype)return t;const n=l.constructor;return"function"!=typeof n||n===e?t:n}e("defineMetadata",function(e,t,i,o){if(!c(i))throw new TypeError;return l=e,r=t,void n(i,o,!0).set(l,r);var l,r}),e("hasMetadata",function(e,t,i){if(!c(t))throw new TypeError;return h(i)||(i=y(i)),r(e,t,i)}),e("hasOwnMetadata",function(e,t,i){if(!c(t))throw new TypeError;return h(i)||(i=y(i)),a(e,t,i)}),e("getMetadata",function(e,t,i){if(!c(t))throw new TypeError;return h(i)||(i=y(i)),s(e,t,i)})}((t=e,function(e,i){"function"!=typeof t[e]&&Object.defineProperty(t,e,{configurable:!0,writable:!0,value:i})})),e}({});function X(e,t,i,o){!function(e,t,i,o){const l=[o];let n={};Z.hasOwnMetadata(e,t)&&(n=Z.getMetadata(e,t));let r=n[i];void 0===r&&(r=[]),r.push(...l),n[i]=r,Z.defineMetadata(e,n,t)}(U,e,i.toString(),o)}function $(e){return(t,i,o)=>{X(t,0,o,e)}}function K(e){return t=>(i,o,l)=>$(new Y(e,t))(i,o,l)}const q=K(N),J=K(G);function Q(){return function(e){return Z.defineMetadata(V,null,e),e}}function ee(e){return $(new Y(j,e))}const te="Singleton",ie="Transient",oe="ConstantValue",le="DynamicValue",ne="Factory",re="Function",ae="Instance",se="Invalid";class he{constructor(e,t){this.id=D.GenAutoIncrementId(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=se,this.constraint=e=>!0,this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.dynamicValue=null}clone(){const e=new he(this.serviceIdentifier,this.scope);return e.activated=e.scope===te&&this.activated,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.provider=this.provider,e.constraint=this.constraint,e.cache=this.cache,e}}class de{getConstructorMetadata(e){return{compilerGeneratedMetadata:Z.getMetadata(V,e),userGeneratedMetadata:Z.getMetadata(U,e)||{}}}getPropertiesMetadata(e){throw new Error("暂未实现")}}const ce=(pe=j,e=>{const t=t=>{if(null==t)return!1;if(t.key===pe&&t.value===e)return!0;if(null==t.constructorArgsMetadata)return!1;const i=t.constructorArgsMetadata;for(let o=0;o<i.length;o++)if(i[o].key===pe&&i[o].value===e)return!0;return!1};return t.metaData=new Y(pe,e),t});var pe;class ye{constructor(e){this._binding=e}inRequestScope(){throw new Error("暂未实现")}inSingletonScope(){return this._binding.scope=te,this}inTransientScope(){return this._binding.scope=ie,this}whenTargetNamed(e){return this._binding.constraint=ce(e),this}}class ue{constructor(e){this._binding=e}to(e){return this._binding.type=ae,this._binding.implementationType=e,new ye(this._binding)}toSelf(){const e=this._binding.serviceIdentifier;return this.to(e)}toDynamicValue(e){return this._binding.type=le,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new ye(this._binding)}toConstantValue(e){return this._binding.type=oe,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=te,new ye(this._binding)}toFactory(e){return this._binding.type=ne,this._binding.factory=e,this._binding.scope=te,new ye(this._binding)}toService(e){this.toDynamicValue(t=>t.container.get(e))}}const ge=Symbol("ContributionProvider");class fe{constructor(e,t){this.serviceIdentifier=e,this.container=t,me.setStore(this.serviceIdentifier,this)}getContributions(){return this.caches||(this.caches=[],this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier))),this.caches}refresh(){this.caches&&(this.caches.length=0,this.container&&this.container.isBound(this.serviceIdentifier)&&this.caches.push(...this.container.getAll(this.serviceIdentifier)))}}function ke(e,t){e(ge).toDynamicValue(({container:e})=>new fe(t,e)).inSingletonScope().whenTargetNamed(t)}class me{static getStore(e){return this.store.get(e)}static setStore(e,t){this.store.set(e,t)}static refreshAllContributions(){this.store.forEach(e=>{e.refresh()})}}me.store=new Map;class be{constructor(e,t){this._args=e,this.name=t,this.taps=[]}tap(e,t){this._tap("sync",e,t)}unTap(e,t){const i="string"==typeof e?e.trim():e.name;i&&(this.taps=this.taps.filter(e=>!(e.name===i&&(!t||e.fn===t))))}_parseOptions(e,t,i){let o;if("string"==typeof t)o={name:t.trim()};else if("object"!=typeof t||null===t)throw new Error("Invalid tap options");if("string"!=typeof o.name||""===o.name)throw new Error("Missing name for tap");return o=Object.assign({type:e,fn:i},o),o}_tap(e,t,i){this._insert(this._parseOptions(e,t,i))}_insert(e){let t;"string"==typeof e.before?t=new Set([e.before]):Array.isArray(e.before)&&(t=new Set(e.before));let i=0;"number"==typeof e.stage&&(i=e.stage);let o=this.taps.length;for(;o>0;){o--;const e=this.taps[o];this.taps[o+1]=e;const l=e.stage||0;if(t){if(t.has(e.name)){t.delete(e.name);continue}if(t.size>0)continue}if(!(l>i)){o++;break}}this.taps[o]=e}}class ve extends be{call(...e){this.taps.map(e=>e.fn).forEach(t=>t(...e))}}const Ce=Symbol.for("EnvContribution"),Se=Symbol.for("VGlobal");const xe=new class{};let _e=0;class we{constructor(){this.nextAnimationFrameCbs=new Map,this._rafHandle=null,this.runAnimationFrame=e=>{this._rafHandle=null;const t=this.nextAnimationFrameCbs;this.nextAnimationFrameCbs=new Map,t.forEach(t=>t(e))},this.tryRunAnimationFrameNextFrame=()=>{null===this._rafHandle&&0!==this.nextAnimationFrameCbs.size&&(this._rafHandle=xe.global.getRequestAnimationFrame()(this.runAnimationFrame))}}addAnimationFrameCb(e){return this.nextAnimationFrameCbs.set(++_e,e),this.tryRunAnimationFrameNextFrame(),_e}removeAnimationFrameCb(e){return!!this.nextAnimationFrameCbs.has(e)&&(this.nextAnimationFrameCbs.delete(e),!0)}}class Le{constructor(){this._listenerMap=new Map,this._eventListenerTransformer=e=>e}setEventListenerTransformer(e){this._eventListenerTransformer=e||(e=>e)}addEventListener(e,t,i){if(!t)return;const o=e=>{const i=this._eventListenerTransformer(e);"function"==typeof t?t(i):t.handleEvent&&t.handleEvent(i)};this._listenerMap.has(e)||this._listenerMap.set(e,new Map),this._listenerMap.get(e).set(t,o),this._nativeAddEventListener(e,o,i)}removeEventListener(e,t,i){var o;if(!t)return;const l=null===(o=this._listenerMap.get(e))||void 0===o?void 0:o.get(t);l&&(this._nativeRemoveEventListener(e,l,i),this._listenerMap.get(e).delete(t),0===this._listenerMap.get(e).size&&this._listenerMap.delete(e))}dispatchEvent(e){return this._nativeDispatchEvent(e)}clearAllEventListeners(){this._listenerMap.forEach((e,t)=>{e.forEach((e,i)=>{this._nativeRemoveEventListener(t,e,void 0)})}),this._listenerMap.clear()}_nativeAddEventListener(e,t,i){throw new Error("_nativeAddEventListener must be implemented by derived classes")}_nativeRemoveEventListener(e,t,i){throw new Error("_nativeRemoveEventListener must be implemented by derived classes")}_nativeDispatchEvent(e){throw new Error("_nativeDispatchEvent must be implemented by derived classes")}}var Fe=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Te=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ae=function(e,t){return function(i,o){t(i,o,e)}},ze=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(t){n(t)}}function a(e){try{s(o.throw(e))}catch(t){n(t)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};let Be=class extends Le{get env(){return this._env}get isImageAnonymous(){return this._isImageAnonymous}set isImageAnonymous(e){this._isImageAnonymous=e}get devicePixelRatio(){return this._env||this.setEnv("browser"),this.envContribution.getDevicePixelRatio()}get supportEvent(){return this._env||this.setEnv("browser"),this.envContribution.supportEvent}set supportEvent(e){this._env||this.setEnv("browser"),this.envContribution.supportEvent=e}get supportsTouchEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents}set supportsTouchEvents(e){this._env||this.setEnv("browser"),this.envContribution.supportsTouchEvents=e}get supportsPointerEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents}set supportsPointerEvents(e){this._env||this.setEnv("browser"),this.envContribution.supportsPointerEvents=e}get supportsMouseEvents(){return this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents}set supportsMouseEvents(e){this._env||this.setEnv("browser"),this.envContribution.supportsMouseEvents=e}get applyStyles(){return this._env||this.setEnv("browser"),this.envContribution.applyStyles}set applyStyles(e){this._env||this.setEnv("browser"),this.envContribution.applyStyles=e}constructor(e){super(),this.contributions=e,this._isImageAnonymous=!0,this._performanceRAFList=[],this.eventListenerTransformer=e=>e,this.id=D.GenAutoIncrementId(),this.hooks={onSetEnv:new ve(["lastEnv","env","global"])},this.measureTextMethod="native",this.optimizeVisible=!1}_nativeAddEventListener(e,t,i){return this._env||this.setEnv("browser"),this.envContribution.addEventListener(e,t,i)}_nativeRemoveEventListener(e,t,i){return this._env||this.setEnv("browser"),this.envContribution.removeEventListener(e,t,i)}_nativeDispatchEvent(e){return this._env||this.setEnv("browser"),this.envContribution.dispatchEvent(e)}bindContribution(e){const t=[];if(this.contributions.getContributions().forEach(i=>{const o=i.configure(this,e);o&&o.then&&t.push(o)}),t.length)return Promise.all(t)}getDynamicCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getDynamicCanvasCount()}getStaticCanvasCount(){return this._env||this.setEnv("browser"),this.envContribution.getStaticCanvasCount()}setEnv(e,t){if(t&&!0===t.force||this._env!==e)return this.deactiveCurrentEnv(),this.activeEnv(e,t)}deactiveCurrentEnv(){this.envContribution&&this.envContribution.release()}activeEnv(e,t){const i=this._env;this._env=e;const o=this.bindContribution(t);if(o&&o.then)return o.then(()=>{this.envParams=t,this.hooks.onSetEnv.call(i,e,this)});this.envParams=t,this.hooks.onSetEnv.call(i,e,this)}setActiveEnvContribution(e){this.envContribution=e}createCanvas(e){return this._env||this.setEnv("browser"),this.envContribution.createCanvas(e)}createOffscreenCanvas(e){return this._env||this.setEnv("browser"),this.envContribution.createOffscreenCanvas(e)}releaseCanvas(e){return this._env||this.setEnv("browser"),this.envContribution.releaseCanvas(e)}getRequestAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getRequestAnimationFrame()}getSpecifiedRequestAnimationFrame(e){this._env||this.setEnv("browser"),this._performanceRAFList[e]||(this._performanceRAFList[e]=new we);const t=this._performanceRAFList[e];return e=>t.addAnimationFrameCb(e)}getSpecifiedCancelAnimationFrame(e){if(this._env||this.setEnv("browser"),!this._performanceRAFList[e])return()=>!1;const t=this._performanceRAFList[e];return e=>t.removeAnimationFrameCb(e)}getCancelAnimationFrame(){return this._env||this.setEnv("browser"),this.envContribution.getCancelAnimationFrame()}getElementById(e){return this._env||this.setEnv("browser"),this.envContribution.getElementById?this.envContribution.getElementById(e):null}getRootElement(){return this._env||this.setEnv("browser"),this.envContribution.getRootElement?this.envContribution.getRootElement():null}getDocument(){return this._env||this.setEnv("browser"),this.envContribution.getDocument?this.envContribution.getDocument():null}mapToCanvasPoint(e,t){return this._env||this.setEnv("browser"),this.envContribution.mapToCanvasPoint?this.envContribution.mapToCanvasPoint(e,t):null}loadImage(e){return this._env||this.setEnv("browser"),this.envContribution.loadImage(e)}loadSvg(e){return this._env||this.setEnv("browser"),this.envContribution.loadSvg(e)}loadJson(e){return this._env||this.setEnv("browser"),this.envContribution.loadJson(e)}loadArrayBuffer(e){return this._env||this.setEnv("browser"),this.envContribution.loadArrayBuffer(e)}loadBlob(e){return this._env||this.setEnv("browser"),this.envContribution.loadBlob(e)}loadFont(e,t,i){return ze(this,void 0,void 0,function*(){return this._env||this.setEnv("browser"),this.envContribution.loadFont(e,t,i)})}isChrome(){return null!=this._isChrome||(this._env||this.setEnv("browser"),this._isChrome="browser"===this._env&&navigator.userAgent.indexOf("Chrome")>-1),this._isChrome}isSafari(){return null!=this._isSafari||(this._env||this.setEnv("browser"),this._isSafari="browser"===this._env&&/Safari/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)),this._isSafari}getNativeAABBBounds(e){return this._env||this.setEnv("browser"),this.envContribution.getNativeAABBBounds(e)}removeDom(e){return this._env||this.setEnv("browser"),this.envContribution.removeDom(e)}createDom(e){return this._env||this.setEnv("browser"),this.envContribution.createDom(e)}updateDom(e,t){return this._env||this.setEnv("browser"),this.envContribution.updateDom(e,t)}getElementTop(e,t=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTop(e,t)}getElementLeft(e,t=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementLeft(e,t)}getElementTopLeft(e,t=!1){return this._env||this.setEnv("browser"),this.envContribution.getElementTopLeft(e,t)}isMacOS(){return this._env||this.setEnv("browser"),this.envContribution.isMacOS()}copyToClipBoard(e){return this._env||this.setEnv("browser"),this.envContribution.copyToClipBoard(e)}};var Me,Oe,We,Re;Be=Fe([Q(),Ae(0,q(ge)),Ae(0,ee(Ce)),Te("design:paramtypes",[Object])],Be),function(e){e[e.estimate=0]="estimate",e[e.actualBounding=1]="actualBounding",e[e.fontBounding=2]="fontBounding"}(Me||(Me={})),function(e){e[e.INITIAL=0]="INITIAL",e[e.RUNNING=1]="RUNNING",e[e.PAUSE=2]="PAUSE"}(Oe||(Oe={})),function(e){e.wait="wait",e.from="from",e.to="to",e.customAnimate="customAnimate"}(We||(We={})),function(e){e[e.INITIAL=0]="INITIAL",e[e.RUNNING=1]="RUNNING",e[e.PAUSED=2]="PAUSED",e[e.END=3]="END"}(Re||(Re={}));const He=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,Pe=(e,t=!1)=>t?"boolean"==typeof e:!0===e||!1===e||He(e,"Boolean"),Ee=e=>"function"==typeof e,De=e=>null==e,Ie=e=>null!=e,je=e=>{const t=typeof e;return null!==e&&"object"===t||"function"===t},Ne=function(e){if(!(e=>"object"==typeof e&&null!==e)(e)||!He(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},Ge=e=>void 0===e,Ue=(e,t=!1)=>{const i=typeof e;return t?"string"===i:"string"===i||He(e,"String")},Ve=e=>Array.isArray?Array.isArray(e):He(e,"Array"),Ye=function(e){return null!==e&&"function"!=typeof e&&Number.isFinite(e.length)},Ze=(e,t=!1)=>{const i=typeof e;return t?"number"===i:"number"===i||He(e,"Number")},Xe=e=>Ze(e)&&Number.isFinite(e),$e=Object.prototype,Ke=Object.prototype.hasOwnProperty;function qe(e){if(De(e))return!0;if(Ye(e))return!e.length;const t=(e=>({}.toString.call(e).replace(/^\[object /,"").replace(/]$/,"")))(e);if("Map"===t||"Set"===t)return!e.size;if(function(e){const t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||$e)}(e))return!Object.keys(e).length;for(const i in e)if(Ke.call(e,i))return!1;return!0}const Je=(e,t,i)=>{const o=Ue(t)?t.split("."):t;for(let l=0;l<o.length;l++)e=e?e[o[l]]:void 0;return void 0===e?i:e},Qe=Object.prototype.hasOwnProperty;function et(e,t,i){let o;if(!Ie(e)||"object"!=typeof e||t)return e;const l=Ve(e),n=e.length;o=l?new Array(n):"object"==typeof e?{}:Pe(e)||Ze(e)||Ue(e)?e:(e=>He(e,"Date"))(e)?new Date(+e):void 0;const r=l?void 0:Object.keys(Object(e));let a=-1;if(o)for(;++a<(r||e).length;){const i=r?r[a]:a,l=e[i];o[i]=et(l,t)}return o}function tt(e,t,i=!1,o=!1){if(t){if(e===t)return;if(Ie(t)&&"object"==typeof t){const l=Object(t),n=[];for(const e in l)n.push(e);let{length:r}=n,a=-1;for(;r--;){const r=n[++a];!Ie(l[r])||"object"!=typeof l[r]||o&&Ve(e[r])?ot(e,r,l[r]):it(e,t,r,i,o)}}}}function it(e,t,i,o=!1,l=!1){const n=e[i],r=t[i];let a=t[i],s=!0;if(Ve(r)){if(o)a=[];else if(Ve(n))a=n;else if(Ye(n)){a=new Array(n.length);let e=-1;const t=n.length;for(;++e<t;)a[e]=n[e]}}else Ne(r)?(a=null!=n?n:{},"function"!=typeof n&&"object"==typeof n||(a={})):s=!1;s&&tt(a,r,o,l),ot(e,i,a)}function ot(e,t,i){(void 0!==i&&!function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e[t],i)||void 0===i&&!(t in e))&&(e[t]=i)}function lt(e,...t){let i=-1;const o=t.length;for(;++i<o;)tt(e,t[i],!0);return e}function nt(e){return Object.prototype.toString.call(e)}function rt(e){return Object.keys(e)}function at(e,t,i){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(nt(e)!==nt(t))return!1;if(Ee(e))return!1;if("object"!=typeof e)return!1;if(Ve(e)){if(e.length!==t.length)return!1;for(let i=e.length-1;i>=0;i--)if(!at(e[i],t[i]))return!1;return!0}if(!Ne(e))return!1;const o=rt(e),l=rt(t);if(o.length!==l.length)return!1;o.sort(),l.sort();for(let n=o.length-1;n>=0;n--)if(o[n]!=l[n])return!1;for(let n=o.length-1;n>=0;n--){const i=o[n];if(!at(e[i],t[i]))return!1}return!0}function st(e,t,i){const o=function(e){if(!e)return[];if(Object.keys)return Object.keys(e);const t=[];for(const i in e)e.hasOwnProperty(i)&&t.push(i);return t}(t);for(let l=0;l<o.length;l++){const n=o[l];(i?null!=t[n]:null==e[n])&&(e[n]=t[n])}return e}function ht(e,t,i=!0){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames){const o=Object.getOwnPropertyNames(t);for(let l=0;l<o.length;l++){const n=o[l];"constructor"!==n&&(i?null!=t[n]:null==e[n])&&(e[n]=t[n])}}else st(e,t,i)}function dt(e){return Ie(e)?Ve(e)?e:[e]:[]}function ct(e){if(Ye(e))return e[e.length-1]}const pt=(e,t)=>{if(0===e.length)return;let i=e[0];for(let o=1;o<e.length;o++){const t=e[o];t-i<0&&(i=t)}return i};function yt(e,t){if(!Ve(e)||!Ve(t))return!1;if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0}function ut(e){if(!Ve(e))return[e];const t=[];for(const i of e)t.push(...ut(i));return t}const gt="undefined"!=typeof console;function ft(e,t,i){const o=[t].concat([].slice.call(i));gt&&console[e].apply(console,o)}var kt;!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"}(kt||(kt={}));let mt=class e{static getInstance(t,i){return e._instance&&Ze(t)?e._instance.level(t):e._instance||(e._instance=new e(t,i)),e._instance}static setInstance(t){return e._instance=t}static setInstanceLevel(t){e._instance?e._instance.level(t):e._instance=new e(t)}static clearInstance(){e._instance=null}constructor(e=kt.None,t){this._onErrorHandler=[],this._level=e,this._method=t}addErrorHandler(e){this._onErrorHandler.find(t=>t===e)||this._onErrorHandler.push(e)}removeErrorHandler(e){const t=this._onErrorHandler.findIndex(t=>t===e);t<0||this._onErrorHandler.splice(t,1)}callErrorHandler(...e){this._onErrorHandler.forEach(t=>t(...e))}canLogInfo(){return this._level>=kt.Info}canLogDebug(){return this._level>=kt.Debug}canLogError(){return this._level>=kt.Error}canLogWarn(){return this._level>=kt.Warn}level(e){return arguments.length?(this._level=+e,this):this._level}error(...e){var t;return this._level>=kt.Error&&(this._onErrorHandler.length?this.callErrorHandler(...e):ft(null!==(t=this._method)&&void 0!==t?t:"error","ERROR",e)),this}warn(...e){return this._level>=kt.Warn&&ft(this._method||"warn","WARN",e),this}info(...e){return this._level>=kt.Info&&ft(this._method||"log","INFO",e),this}debug(...e){return this._level>=kt.Debug&&ft(this._method||"log","DEBUG",e),this}};mt._instance=null;function bt(e,t,i=1e-10,o=1e-10){const l=o,n=i*Math.max(e,t);return Math.abs(e-t)<=Math.max(l,n)}function vt(e,t,i,o){return e>t&&!bt(e,t,i,o)}function Ct(e,t,i,o){return e<t&&!bt(e,t,i,o)}const St=function(e,t,i){return e<t?t:e>i?i:e},xt=(e,t,i)=>{let[o,l]=e;l<o&&(o=e[1],l=e[0]);const n=l-o;return n>=i-t?[t,i]:(o=Math.min(Math.max(o,t),i-n),[o,o+n])};let _t=!1;try{_t="function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame}catch(nH){_t=!1}function wt(e,t,i){let o,l,n,r,a,s,h=0,d=!1,c=!1,p=!0;const y=!t&&0!==t&&_t;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){const i=o,n=l;return o=l=void 0,h=t,r=e.apply(n,i),r}function g(e,t){return y?(cancelAnimationFrame(a),requestAnimationFrame(e)):setTimeout(e,t)}function f(e){const i=e-s;return void 0===s||i>=t||i<0||c&&e-h>=n}function k(){const e=Date.now();if(f(e))return m(e);a=g(k,function(e){const i=e-h,o=t-(e-s);return c?Math.min(o,n-i):o}(e))}function m(e){return a=void 0,p&&o?u(e):(o=l=void 0,r)}function b(...e){const i=Date.now(),n=f(i);if(o=e,l=this,s=i,n){if(void 0===a)return function(e){return h=e,a=g(k,t),d?u(e):r}(s);if(c)return a=g(k,t),u(s)}return void 0===a&&(a=g(k,t)),r}return t=+t||0,je(i)&&(d=!!i.leading,c="maxWait"in i,c&&(n=Math.max(Xe(i.maxWait)?i.maxWait:0,t)),p="trailing"in i?!!i.trailing:p),b.cancel=function(){void 0!==a&&function(e){if(y)return cancelAnimationFrame(e);clearTimeout(e)}(a),h=0,o=s=l=a=void 0},b.flush=function(){return void 0===a?r:m(Date.now())},b.pending=function(){return void 0!==a},b}function Lt(e,t,i){let o=!0,l=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return je(i)&&(o="leading"in i?!!i.leading:o,l="trailing"in i?!!i.trailing:l),wt(e,t,{leading:o,trailing:l,maxWait:t})}_t=!1;const Ft=1e-12,Tt=Math.PI,At=Tt/2,zt=2*Tt,Bt=2*Math.PI,Mt=Math.abs,Ot=Math.atan2,Wt=Math.cos,Rt=Math.max,Ht=Math.min,Pt=Math.sin,Et=Math.sqrt,Dt=Math.pow;function It(e){return e>=1?At:e<=-1?-At:Math.asin(e)}function jt(e,t,i,o,l){let n=i,r=o;return"number"==typeof e&&"number"==typeof i&&(n=(1-l)*e+l*i),"number"==typeof t&&"number"==typeof o&&(r=(1-l)*t+l*o),{x:n,y:r}}function Nt(e,t){return e[0]*t[1]-e[1]*t[0]}let Gt=class e{constructor(e=0,t=0,i,o){this.x=0,this.y=0,this.x=e,this.y=t,this.x1=i,this.y1=o}clone(){return new e(this.x,this.y)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x1=e.x1,this.y1=e.y1,this.defined=e.defined,this.context=e.context,this}set(e,t){return this.x=e,this.y=t,this}add(e){return Ze(e)?(this.x+=e,void(this.y+=e)):(this.x+=e.x,this.y+=e.y,this)}sub(e){return Ze(e)?(this.x-=e,void(this.y-=e)):(this.x-=e.x,this.y-=e.y,this)}multi(e){throw new Error("暂不支持")}div(e){throw new Error("暂不支持")}},Ut=class{static distancePP(e,t){return Et(Dt(e.x-t.x,2)+Dt(e.y-t.y,2))}static distanceNN(e,t,i,o){return Et(Dt(e-i,2)+Dt(t-o,2))}static distancePN(e,t,i){return Et(Dt(t-e.x,2)+Dt(i-e.y,2))}static pointAtPP(e,t,i){return new Gt((t.x-e.x)*i+e.x,(t.y-e.y)*i+e.y)}};function Vt(e){return e*(Math.PI/180)}const Yt=(e=0)=>{if(e<0)for(;e<-zt;)e+=zt;else if(e>0)for(;e>zt;)e-=zt;return e};function Zt(e,t,i){return t?{x:e.x+t*Math.cos(i),y:e.y+t*Math.sin(i)}:{x:e.x,y:e.y}}function Xt(e){for(;e<0;)e+=2*Math.PI;for(;e>=2*Math.PI;)e-=2*Math.PI;return e}function $t(e,t,i){e[0]=t[0]-i[0],e[1]=t[1]-i[1]}function Kt(e,t,i,o){if(!function(e,t,i,o){let l=e[0],n=t[0],r=i[0],a=o[0];return n<l&&([l,n]=[n,l]),a<r&&([a,r]=[r,a]),!(n<r||a<l||(l=e[1],n=t[1],r=i[1],a=o[1],n<l&&([l,n]=[n,l]),a<r&&([a,r]=[r,a]),n<r||a<l))}(e,t,i,o))return!1;const l=[0,0],n=[0,0],r=[0,0];if($t(l,t,e),$t(n,o,i),Mt((a=l)[0]-(s=n)[0])+Mt(a[1]-s[1])<1e-12)return!0;var a,s;$t(r,i,e);const h=Nt(r,n)/Nt(l,n);return h>=0&&h<=1&&[e[0]+l[0]*h,e[1]+l[1]*h]}var qt;!function(e){e[e.NONE=0]="NONE",e[e.BBOX1=1]="BBOX1",e[e.BBOX2=2]="BBOX2"}(qt||(qt={}));const Jt=(e,t,i)=>{let o=e.x1,l=e.x2,n=e.y1,r=e.y2,a=t.x1,s=t.x2,h=t.y1,d=t.y2;return i&&(o>l&&([o,l]=[l,o]),n>r&&([n,r]=[r,n]),a>s&&([a,s]=[s,a]),h>d&&([h,d]=[d,h])),{x11:o,x12:l,y11:n,y12:r,x21:a,x22:s,y21:h,y22:d}};function Qt(e,t,i){if(e&&t){if(!i)return!(e.x1>t.x2||e.x2<t.x1||e.y1>t.y2||e.y2<t.y1);const{x11:o,x12:l,y11:n,y12:r,x21:a,x22:s,y21:h,y22:d}=Jt(e,t,!0);return!(o>s||l<a||n>d||r<h)}return!0}function ei(e,t,i){if(!t)return!0;let o=t.x1,l=t.x2,n=t.y1,r=t.y2;return o>l&&([o,l]=[l,o]),n>r&&([n,r]=[r,n]),e.x>=o&&e.x<=l&&e.y>=n&&e.y<=r}function ti(e,t){return Math.abs(t[0]*e[0]+t[1]*e[1])}function ii({x:e,y:t},i,o={x:0,y:0}){return{x:(e-o.x)*Math.cos(i)-(t-o.y)*Math.sin(i)+o.x,y:(e-o.x)*Math.sin(i)+(t-o.y)*Math.cos(i)+o.y}}function oi(e){return{x:(e.x1+e.x2)/2,y:(e.y1+e.y2)/2}}function li(e,t){const i=t?Vt(e.angle):e.angle,o=oi(e);return[ii({x:e.x1,y:e.y1},i,o),ii({x:e.x2,y:e.y1},i,o),ii({x:e.x2,y:e.y2},i,o),ii({x:e.x1,y:e.y2},i,o)]}function ni(e,t,i=!1){const o=li(e,i),l=li(t,i),n=(e,t)=>[t.x-e.x,t.y-e.y],r=n(oi(e),oi(t)),a=n(o[0],o[1]),s=n(o[1],o[2]),h=n(l[0],l[1]),d=n(l[1],l[2]),c=i?Vt(e.angle):e.angle;let p=i?Vt(90-e.angle):e.angle+At;const y=i?Vt(t.angle):t.angle;let u=i?Vt(90-t.angle):t.angle+At;p>Bt&&(p-=Bt),u>Bt&&(u-=Bt);const g=(e,t,i,o)=>{const l=[Math.cos(t),Math.sin(t)];return e+(ti(l,i)+ti(l,o))/2>ti(l,r)};return g((e.x2-e.x1)/2,c,h,d)&&g((e.y2-e.y1)/2,p,h,d)&&g((t.x2-t.x1)/2,y,a,s)&&g((t.y2-t.y1)/2,u,a,s)}function ri(e,t,i,o,l,n){if(n>t&&n>o||n<t&&n<o)return 0;if(o===t)return 0;const r=(n-t)/(o-t);let a=o<t?1:-1;1!==r&&0!==r||(a=o<t?.5:-.5);const s=r*(i-e)+e;return s===l?1/0:s>l?a:0}const ai=e=>{let t=e.charCodeAt(0),i=2===e.length?e.charCodeAt(1):0,o=t;return 55296<=t&&t<=56319&&56320<=i&&i<=57343&&(t&=1023,i&=1023,o=t<<10|i,o+=65536),12288===o||65281<=o&&o<=65376||65504<=o&&o<=65510?"F":8361===o||65377<=o&&o<=65470||65474<=o&&o<=65479||65482<=o&&o<=65487||65490<=o&&o<=65495||65498<=o&&o<=65500||65512<=o&&o<=65518?"H":4352<=o&&o<=4447||4515<=o&&o<=4519||4602<=o&&o<=4607||9001<=o&&o<=9002||11904<=o&&o<=11929||11931<=o&&o<=12019||12032<=o&&o<=12245||12272<=o&&o<=12283||12289<=o&&o<=12350||12353<=o&&o<=12438||12441<=o&&o<=12543||12549<=o&&o<=12589||12593<=o&&o<=12686||12688<=o&&o<=12730||12736<=o&&o<=12771||12784<=o&&o<=12830||12832<=o&&o<=12871||12880<=o&&o<=13054||13056<=o&&o<=19903||19968<=o&&o<=42124||42128<=o&&o<=42182||43360<=o&&o<=43388||44032<=o&&o<=55203||55216<=o&&o<=55238||55243<=o&&o<=55291||63744<=o&&o<=64255||65040<=o&&o<=65049||65072<=o&&o<=65106||65108<=o&&o<=65126||65128<=o&&o<=65131||110592<=o&&o<=110593||127488<=o&&o<=127490||127504<=o&&o<=127546||127552<=o&&o<=127560||127568<=o&&o<=127569||131072<=o&&o<=194367||177984<=o&&o<=196605||196608<=o&&o<=262141?"W":32<=o&&o<=126||162<=o&&o<=163||165<=o&&o<=166||172===o||175===o||10214<=o&&o<=10221||10629<=o&&o<=10630?"Na":161===o||164===o||167<=o&&o<=168||170===o||173<=o&&o<=174||176<=o&&o<=180||182<=o&&o<=186||188<=o&&o<=191||198===o||208===o||215<=o&&o<=216||222<=o&&o<=225||230===o||232<=o&&o<=234||236<=o&&o<=237||240===o||242<=o&&o<=243||247<=o&&o<=250||252===o||254===o||257===o||273===o||275===o||283===o||294<=o&&o<=295||299===o||305<=o&&o<=307||312===o||319<=o&&o<=322||324===o||328<=o&&o<=331||333===o||338<=o&&o<=339||358<=o&&o<=359||363===o||462===o||464===o||466===o||468===o||470===o||472===o||474===o||476===o||593===o||609===o||708===o||711===o||713<=o&&o<=715||717===o||720===o||728<=o&&o<=731||733===o||735===o||768<=o&&o<=879||913<=o&&o<=929||931<=o&&o<=937||945<=o&&o<=961||963<=o&&o<=969||1025===o||1040<=o&&o<=1103||1105===o||8208===o||8211<=o&&o<=8214||8216<=o&&o<=8217||8220<=o&&o<=8221||8224<=o&&o<=8226||8228<=o&&o<=8231||8240===o||8242<=o&&o<=8243||8245===o||8251===o||8254===o||8308===o||8319===o||8321<=o&&o<=8324||8364===o||8451===o||8453===o||8457===o||8467===o||8470===o||8481<=o&&o<=8482||8486===o||8491===o||8531<=o&&o<=8532||8539<=o&&o<=8542||8544<=o&&o<=8555||8560<=o&&o<=8569||8585===o||8592<=o&&o<=8601||8632<=o&&o<=8633||8658===o||8660===o||8679===o||8704===o||8706<=o&&o<=8707||8711<=o&&o<=8712||8715===o||8719===o||8721===o||8725===o||8730===o||8733<=o&&o<=8736||8739===o||8741===o||8743<=o&&o<=8748||8750===o||8756<=o&&o<=8759||8764<=o&&o<=8765||8776===o||8780===o||8786===o||8800<=o&&o<=8801||8804<=o&&o<=8807||8810<=o&&o<=8811||8814<=o&&o<=8815||8834<=o&&o<=8835||8838<=o&&o<=8839||8853===o||8857===o||8869===o||8895===o||8978===o||9312<=o&&o<=9449||9451<=o&&o<=9547||9552<=o&&o<=9587||9600<=o&&o<=9615||9618<=o&&o<=9621||9632<=o&&o<=9633||9635<=o&&o<=9641||9650<=o&&o<=9651||9654<=o&&o<=9655||9660<=o&&o<=9661||9664<=o&&o<=9665||9670<=o&&o<=9672||9675===o||9678<=o&&o<=9681||9698<=o&&o<=9701||9711===o||9733<=o&&o<=9734||9737===o||9742<=o&&o<=9743||9748<=o&&o<=9749||9756===o||9758===o||9792===o||9794===o||9824<=o&&o<=9825||9827<=o&&o<=9829||9831<=o&&o<=9834||9836<=o&&o<=9837||9839===o||9886<=o&&o<=9887||9918<=o&&o<=9919||9924<=o&&o<=9933||9935<=o&&o<=9953||9955===o||9960<=o&&o<=9983||10045===o||10071===o||10102<=o&&o<=10111||11093<=o&&o<=11097||12872<=o&&o<=12879||57344<=o&&o<=63743||65024<=o&&o<=65039||65533===o||127232<=o&&o<=127242||127248<=o&&o<=127277||127280<=o&&o<=127337||127344<=o&&o<=127386||917760<=o&&o<=917999||983040<=o&&o<=1048573||1048576<=o&&o<=1114109?"A":"N"};function si(e,t={},i){i||(i=1);const{fontStyle:o=t.fontStyle,fontVariant:l=t.fontVariant,fontWeight:n=t.fontWeight,fontSize:r=t.fontSize,fontFamily:a=t.fontFamily}=e;return(o?o+" ":"")+(l?l+" ":"")+(n?n+" ":"")+r*i+"px "+(a||"sans-serif")}class hi{constructor(e,t){this._numberCharSize=null,this._fullCharSize=null,this._letterCharSize=null,this._specialCharSizeMap={},this._canvas=null,this._context=null,this._contextSaved=!1,this._notSupportCanvas=!1,this._notSupportVRender=!1,this._userSpec={},this.specialCharSet="-/: .,@%'\"~",this._option=e,this._userSpec=null!=t?t:{},this.textSpec=this._initSpec(),Ie(e.specialCharSet)&&(this.specialCharSet=e.specialCharSet),this._standardMethod=Ie(e.getTextBounds)?this.fullMeasure.bind(this):this.measureWithNaiveCanvas.bind(this)}initContext(){if(this._notSupportCanvas)return!1;if(De(this._canvas)&&(Ie(this._option.getCanvasForMeasure)&&(this._canvas=this._option.getCanvasForMeasure()),De(this._canvas)&&"undefined"!=typeof window&&void 0!==window.document&&globalThis&&Ie(globalThis.document)&&(this._canvas=globalThis.document.createElement("canvas"))),De(this._context)&&Ie(this._canvas)){const e=this._canvas.getContext("2d");Ie(e)&&(e.save(),e.font=si(this.textSpec),this._contextSaved=!0,this._context=e)}return!De(this._context)||(this._notSupportCanvas=!0,!1)}_initSpec(){var e,t,i;const{defaultFontParams:o={}}=this._option,{fontStyle:l=o.fontStyle,fontVariant:n=o.fontVariant,fontWeight:r=(null!==(e=o.fontWeight)&&void 0!==e?e:"normal"),fontSize:a=(null!==(t=o.fontSize)&&void 0!==t?t:12),fontFamily:s=(null!==(i=o.fontFamily)&&void 0!==i?i:"sans-serif"),align:h,textAlign:d=(null!=h?h:"center"),baseline:c,textBaseline:p=(null!=c?c:"middle"),ellipsis:y,limit:u}=this._userSpec;let{lineHeight:g=a}=this._userSpec;if(Ue(g)&&"%"===g[g.length-1]){const e=Number.parseFloat(g.substring(0,g.length-1))/100;g=a*e}return{fontStyle:l,fontVariant:n,fontFamily:s,fontSize:a,fontWeight:r,textAlign:d,textBaseline:p,ellipsis:y,limit:u,lineHeight:g}}measure(e,t){switch(t){case"vrender":case"canopus":return this.fullMeasure(e);case"canvas":return this.measureWithNaiveCanvas(e);case"simple":return this.quickMeasureWithoutCanvas(e);default:return this.quickMeasure(e)}}fullMeasure(e){if(De(e))return{width:0,height:0};if(De(this._option.getTextBounds)||!this._notSupportVRender)return this.measureWithNaiveCanvas(e);const{fontFamily:t,fontSize:i,fontWeight:o,textAlign:l,textBaseline:n,ellipsis:r,limit:a,lineHeight:s}=this.textSpec;let h;try{const d=this._option.getTextBounds({text:e,fontFamily:t,fontSize:i,fontWeight:o,textAlign:l,textBaseline:n,ellipsis:!!r,maxLineWidth:a||1/0,lineHeight:s});h={width:d.width(),height:d.height()}}catch(d){this._notSupportVRender=!0,h=this.measureWithNaiveCanvas(e)}return h}measureWithNaiveCanvas(e){return this._measureReduce(e,this._measureWithNaiveCanvas.bind(this))}_measureWithNaiveCanvas(e){var t;if(!this.initContext())return this._quickMeasureWithoutCanvas(e);const i=this._context.measureText(e),{fontSize:o,lineHeight:l}=this.textSpec;return{width:i.width,height:null!==(t=l)&&void 0!==t?t:o,fontBoundingBoxAscent:i.fontBoundingBoxAscent,fontBoundingBoxDescent:i.fontBoundingBoxDescent}}quickMeasure(e){return this._measureReduce(e,this._quickMeasure.bind(this))}_quickMeasure(e){const t={width:0,height:0};for(let i=0;i<e.length;i++){const o=e[i];let l=this._measureSpecialChar(o);De(l)&&hi.NUMBERS_CHAR_SET.includes(o)&&(l=this._measureNumberChar()),De(l)&&["F","W"].includes(ai(o))&&(l=this._measureFullSizeChar()),De(l)&&(l=this._measureLetterChar()),t.width+=l.width,t.height=Math.max(t.height,l.height),!De(l.fontBoundingBoxAscent)&&(t.fontBoundingBoxAscent=l.fontBoundingBoxAscent),!De(l.fontBoundingBoxDescent)&&(t.fontBoundingBoxDescent=l.fontBoundingBoxDescent)}return t}quickMeasureWithoutCanvas(e){return this._measureReduce(e,this._quickMeasureWithoutCanvas.bind(this))}_quickMeasureWithoutCanvas(e){var t;const i={width:0,height:0},{fontSize:o,lineHeight:l}=this.textSpec;for(let n=0;n<e.length;n++){const t=e[n],l=["F","W"].includes(ai(t))?1:.53;i.width+=l*o}return i.height=null!==(t=l)&&void 0!==t?t:o,i}_measureReduce(e,t){var i;const{fontSize:o,lineHeight:l}=this.textSpec,n={width:0,height:0};if(De(e))return n;if(Ve(e)){const r=e.filter(Ie).map(e=>e.toString());return 0===r.length?n:1===r.length?t(r[0]):{width:r.reduce((e,i)=>Math.max(e,t(i).width),0),height:r.length*((null!==(i=l)&&void 0!==i?i:o)+1)+1}}return t(e.toString())}_measureNumberChar(){if(De(this._numberCharSize)){const e=this._standardMethod(hi.NUMBERS_CHAR_SET);this._numberCharSize={width:e.width/hi.NUMBERS_CHAR_SET.length,height:e.height,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}return this._numberCharSize}_measureFullSizeChar(){return De(this._fullCharSize)&&(this._fullCharSize=this._standardMethod(hi.FULL_SIZE_CHAR)),this._fullCharSize}_measureLetterChar(){if(De(this._letterCharSize)){const e=this._standardMethod(hi.ALPHABET_CHAR_SET);this._letterCharSize={width:e.width/hi.ALPHABET_CHAR_SET.length,height:e.height,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent}}return this._letterCharSize}_measureSpecialChar(e){return Ie(this._specialCharSizeMap[e])?this._specialCharSizeMap[e]:this.specialCharSet.includes(e)?(this._specialCharSizeMap[e]=this._standardMethod(e),this._specialCharSizeMap[e]):null}release(){Ie(this._canvas)&&(this._canvas=null),Ie(this._context)&&(this._contextSaved&&(this._context.restore(),this._contextSaved=!1),this._context=null)}}hi.ALPHABET_CHAR_SET="abcdefghijklmnopqrstuvwxyz",hi.NUMBERS_CHAR_SET="0123456789",hi.FULL_SIZE_CHAR="字";const di=(e,t)=>Math.max(t.x1-e.x2,e.x1-t.x2,t.y1-e.y2,e.y1-t.y2);function ci(e,t,i){const{x1:o,y1:l,x2:n,y2:r}=t;return i.onlyTranslate()?(e!==t&&e.setValue(t.x1,t.y1,t.x2,t.y2),e.translate(i.e,i.f),t):(e.clear(),e.add(i.a*o+i.c*l+i.e,i.b*o+i.d*l+i.f),e.add(i.a*n+i.c*l+i.e,i.b*n+i.d*l+i.f),e.add(i.a*n+i.c*r+i.e,i.b*n+i.d*r+i.f),e.add(i.a*o+i.c*r+i.e,i.b*o+i.d*r+i.f),t)}let pi=class e{constructor(e){e?this.setValue(e.x1,e.y1,e.x2,e.y2):this.clear()}clone(){return new e(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}setValue(e=0,t=0,i=0,o=0){return this.x1=e,this.y1=t,this.x2=i,this.y2=o,this}set(e=0,t=0,i=0,o=0){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),o<t?(this.y2=t,this.y1=o):(this.y1=t,this.y2=o),this}add(e=0,t=0){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this}expand(e=0){return Ve(e)?(this.y1-=e[0],this.x2+=e[1],this.y2+=e[2],this.x1-=e[3]):(this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(e=0,t=0){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}rotate(e=0,t=0,i=0){const o=this.rotatedPoints(e,t,i);return this.clear().add(o[0],o[1]).add(o[2],o[3]).add(o[4],o[5]).add(o[6],o[7])}scale(e=0,t=0,i=0,o=0){const l=this.scalePoints(e,t,i,o);return this.clear().add(l[0],l[1]).add(l[2],l[3])}union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this}intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this}encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2}alignsWith(e){return e&&(this.x1===e.x1||this.x2===e.x2||this.y1===e.y1||this.y2===e.y2)}intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)}contains(e=0,t=0){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)}containsPoint(e){return!(e.x<this.x1||e.x>this.x2||e.y<this.y1||e.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(e=0){return this.x1*=e,this.x2*=e,this}scaleY(e=0){return this.y1*=e,this.y2*=e,this}transformWithMatrix(e){return ci(this,this,e),this}copy(e){return this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2,this}rotatedPoints(e,t,i){const{x1:o,y1:l,x2:n,y2:r}=this,a=Math.cos(e),s=Math.sin(e),h=t-t*a+i*s,d=i-t*s-i*a;return[a*o-s*l+h,s*o+a*l+d,a*o-s*r+h,s*o+a*r+d,a*n-s*l+h,s*n+a*l+d,a*n-s*r+h,s*n+a*r+d]}scalePoints(e,t,i,o){const{x1:l,y1:n,x2:r,y2:a}=this;return[e*l+(1-e)*i,t*n+(1-t)*o,e*r+(1-e)*i,t*a+(1-t)*o]}};class yi extends pi{}class ui extends pi{constructor(e,t=0){var i;super(e),e&&(this.angle=null!==(i=e.angle)&&void 0!==i?i:t)}intersects(e){return ni(this,e)}setValue(e=0,t=0,i=0,o=0,l=0){return super.setValue(e,t,i,o),this.angle=l,this}clone(){return new ui(this)}getRotatedCorners(){const e={x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2};return[ii({x:this.x1,y:this.y1},this.angle,e),ii({x:this.x2,y:this.y1},this.angle,e),ii({x:this.x1,y:this.y2},this.angle,e),ii({x:this.x2,y:this.y2},this.angle,e)]}}class gi{constructor(e=1,t=0,i=0,o=1,l=0,n=0){this.a=e,this.b=t,this.c=i,this.d=o,this.e=l,this.f=n}equalToMatrix(e){return!(this.e!==e.e||this.f!==e.f||this.a!==e.a||this.d!==e.d||this.b!==e.b||this.c!==e.c)}equalTo(e,t,i,o,l,n){return!(this.e!==l||this.f!==n||this.a!==e||this.d!==o||this.b!==t||this.c!==i)}setValue(e,t,i,o,l,n){return this.a=e,this.b=t,this.c=i,this.d=o,this.e=l,this.f=n,this}reset(){return this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0,this}getInverse(){const e=this.a,t=this.b,i=this.c,o=this.d,l=this.e,n=this.f,r=new gi,a=e*o-t*i;return r.a=o/a,r.b=-t/a,r.c=-i/a,r.d=e/a,r.e=(i*n-o*l)/a,r.f=-(e*n-t*l)/a,r}rotate(e){const t=Math.cos(e),i=Math.sin(e),o=this.a*t+this.c*i,l=this.b*t+this.d*i,n=this.a*-i+this.c*t,r=this.b*-i+this.d*t;return this.a=o,this.b=l,this.c=n,this.d=r,this}rotateByCenter(e,t,i){const o=Math.cos(e),l=Math.sin(e),n=(1-o)*t+l*i,r=(1-o)*i-l*t,a=o*this.a-l*this.b,s=l*this.a+o*this.b,h=o*this.c-l*this.d,d=l*this.c+o*this.d,c=o*this.e-l*this.f+n,p=l*this.e+o*this.f+r;return this.a=a,this.b=s,this.c=h,this.d=d,this.e=c,this.f=p,this}scale(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this}setScale(e,t){return this.b=this.b/this.a*e,this.c=this.c/this.d*t,this.a=e,this.d=t,this}transform(e,t,i,o,l,n){return this.multiply(e,t,i,o,l,n),this}translate(e,t){return this.e+=this.a*e+this.c*t,this.f+=this.b*e+this.d*t,this}transpose(){const{a:e,b:t,c:i,d:o,e:l,f:n}=this;return this.a=t,this.b=e,this.c=o,this.d=i,this.e=n,this.f=l,this}multiply(e,t,i,o,l,n){const r=this.a,a=this.b,s=this.c,h=this.d,d=r*e+s*t,c=a*e+h*t,p=r*i+s*o,y=a*i+h*o,u=r*l+s*n+this.e,g=a*l+h*n+this.f;return this.a=d,this.b=c,this.c=p,this.d=y,this.e=u,this.f=g,this}interpolate(e,t){const i=new gi;return i.a=this.a+(e.a-this.a)*t,i.b=this.b+(e.b-this.b)*t,i.c=this.c+(e.c-this.c)*t,i.d=this.d+(e.d-this.d)*t,i.e=this.e+(e.e-this.e)*t,i.f=this.f+(e.f-this.f)*t,i}transformPoint(e,t){const{a:i,b:o,c:l,d:n,e:r,f:a}=this,s=i*n-o*l,h=n/s,d=-o/s,c=-l/s,p=i/s,y=(l*a-n*r)/s,u=-(i*a-o*r)/s,{x:g,y:f}=e;t.x=g*h+f*c+y,t.y=g*d+f*p+u}onlyTranslate(e=1){return this.a===e&&0===this.b&&0===this.c&&this.d===e}clone(){return new gi(this.a,this.b,this.c,this.d,this.e,this.f)}toTransformAttrs(){const e=this.a,t=this.b,i=this.c,o=this.d,l=e*o-t*i,n={x:this.e,y:this.f,rotateDeg:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!==e||0!==t){const r=Math.sqrt(e*e+t*t);n.rotateDeg=t>0?Math.acos(e/r):-Math.acos(e/r),n.scaleX=r,n.scaleY=l/r,n.skewX=(e*i+t*o)/l,n.skewY=0}else if(0!==i||0!==o){const r=Math.sqrt(i*i+o*o);n.rotateDeg=Math.PI/2-(o>0?Math.acos(-i/r):-Math.acos(i/r)),n.scaleX=l/r,n.scaleY=r,n.skewX=0,n.skewY=(e*i+t*o)/l}return n.rotateDeg=180*n.rotateDeg/Math.PI,n}}class fi{constructor(){this.CLEAN_THRESHOLD=1e3,this.L_TIME=1e3,this.R_COUNT=1,this.R_TIMESTAMP_MAX_SIZE=20}clearCache(e,t){const{CLEAN_THRESHOLD:i=this.CLEAN_THRESHOLD,L_TIME:o=this.L_TIME,R_COUNT:l=this.R_COUNT}=t;if(e.size<i)return 0;let n=0;const r=t=>{n++,e.delete(t)},a=Date.now();return e.forEach((e,t)=>{if(e.timestamp.length<l)return r(t);let i=0;for(;a-e.timestamp[e.timestamp.length-1-i]<o&&(i++,!(i>=l)););if(i<l)return r(t);for(;a-e.timestamp[0]>o;)e.timestamp.shift()}),n}addLimitedTimestamp(e,t,i){const{R_TIMESTAMP_MAX_SIZE:o=this.R_TIMESTAMP_MAX_SIZE}=i;e.timestamp.length>o&&e.timestamp.shift(),e.timestamp.push(t)}clearTimeStamp(e,t){const{L_TIME:i=this.L_TIME}=t,o=Date.now();e.forEach(e=>{for(;o-e.timestamp[0]>i;)e.timestamp.shift()})}clearItemTimestamp(e,t){const{L_TIME:i=this.L_TIME}=t,o=Date.now();for(;o-e.timestamp[0]>i;)e.timestamp.shift()}}function ki(e,t,i){t/=100,i/=100;const o=(1-Math.abs(2*i-1))*t,l=o*(1-Math.abs(e/60%2-1)),n=i-o/2;let r=0,a=0,s=0;return 0<=e&&e<60?(r=o,a=l,s=0):60<=e&&e<120?(r=l,a=o,s=0):120<=e&&e<180?(r=0,a=o,s=l):180<=e&&e<240?(r=0,a=l,s=o):240<=e&&e<300?(r=l,a=0,s=o):300<=e&&e<360&&(r=o,a=0,s=l),r=Math.round(255*(r+n)),a=Math.round(255*(a+n)),s=Math.round(255*(s+n)),{r:r,g:a,b:s}}function mi(e,t,i){e/=255,t/=255,i/=255;const o=Math.min(e,t,i),l=Math.max(e,t,i),n=l-o;let r=0,a=0,s=0;return r=0===n?0:l===e?(t-i)/n%6:l===t?(i-e)/n+2:(e-t)/n+4,r=Math.round(60*r),r<0&&(r+=360),s=(l+o)/2,a=0===n?0:n/(1-Math.abs(2*s-1)),a=+(100*a).toFixed(1),s=+(100*s).toFixed(1),{h:r,s:a,l:s}}const bi=/^#([0-9a-f]{3,8})$/,vi={transparent:4294967040},Ci={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Si(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function xi(e){return Ze(e)?new Ti(e>>16,e>>8&255,255&e,1):Ve(e)?new Ti(e[0],e[1],e[2]):new Ti(255,255,255)}function _i(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function wi(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const Li=(e,t)=>{const i=bi.exec(e);if(t||i){const e=parseInt(i[1],16),t=i[1].length;return 3===t?new Ti((e>>8&15)+((e>>8&15)<<4),(e>>4&15)+((e>>4&15)<<4),(15&e)+((15&e)<<4),1):6===t?xi(e):8===t?new Ti(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):null}};let Fi=class e{static Brighter(t,i=1){return 1===i?t:new e(t).brighter(i).toRGBA()}static SetOpacity(t,i=1){return 1===i?t:new e(t).setOpacity(i).toRGBA()}static getColorBrightness(t,i="hsl"){const o=t instanceof e?t:new e(t);switch(i){case"hsv":default:return o.getHSVBrightness();case"hsl":return o.getHSLBrightness();case"lum":return o.getLuminance();case"lum2":return o.getLuminance2();case"lum3":return o.getLuminance3();case"wcag":return o.getLuminanceWCAG()}}static parseColorString(e){if(Ie(vi[e]))return function(e){return Ze(e)?new Ti(e>>>24,e>>>16&255,e>>>8&255,255&e):Ve(e)?new Ti(e[0],e[1],e[2],e[3]):new Ti(255,255,255,1)}(vi[e]);if(Ie(Ci[e]))return xi(Ci[e]);const t=`${e}`.trim().toLowerCase(),i=Li(t);if(void 0!==i)return i;if(/^(rgb|RGB|rgba|RGBA)/.test(t)){const e=t.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new Ti(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseFloat(e[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(t)){const e=t.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),i=ki(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10));return new Ti(i.r,i.g,i.b,parseFloat(e[3]))}}constructor(t){const i=e.parseColorString(t);i?this.color=i:(console.warn(`Warn: 传入${t}无法解析为Color`),this.color=new Ti(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(e){const{r:t,g:i,b:o}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e))),this.color.b=Math.max(0,Math.min(255,Math.floor(o*e))),this}add(e){const{r:t,g:i,b:o}=this.color;return this.color.r+=Math.min(255,t+e.color.r),this.color.g+=Math.min(255,i+e.color.g),this.color.b+=Math.min(255,o+e.color.b),this}sub(e){return this.color.r=Math.max(0,this.color.r-e.color.r),this.color.g=Math.max(0,this.color.g-e.color.g),this.color.b=Math.max(0,this.color.b-e.color.b),this}multiply(e){const{r:t,g:i,b:o}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(o*e.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return.5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(e,t,i){const o=this.color.opacity,l=mi(this.color.r,this.color.g,this.color.b),n=ki(De(e)?l.h:St(e,0,360),De(t)?l.s:t>=0&&t<=1?100*t:t,De(i)?l.l:i<=1&&i>=0?100*i:i);return this.color=new Ti(n.r,n.g,n.b,o),this}setRGB(e,t,i){return!De(e)&&(this.color.r=e),!De(t)&&(this.color.g=t),!De(i)&&(this.color.b=i),this}setHex(e){const t=`${e}`.trim().toLowerCase(),i=Li(t,!0);return null!=i?i:this}setColorName(e){const t=Ci[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}setScalar(e){return this.color.r=e,this.color.g=e,this.color.b=e,this}setOpacity(e=1){return this.color.opacity=e,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}getLuminanceWCAG(){const e=this.color.r/255,t=this.color.g/255,i=this.color.b/255;let o,l,n;return o=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),l=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),n=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*n}clone(){return new e(this.color.toString())}copyGammaToLinear(e,t=2){return this.color.r=Math.pow(e.color.r,t),this.color.g=Math.pow(e.color.g,t),this.color.b=Math.pow(e.color.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.color.r=Math.pow(e.color.r,i),this.color.g=Math.pow(e.color.g,i),this.color.b=Math.pow(e.color.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.color.r=_i(e.color.r),this.color.g=_i(e.color.g),this.color.b=_i(e.color.b),this}copyLinearToSRGB(e){return this.color.r=wi(e.color.r),this.color.g=wi(e.color.g),this.color.b=wi(e.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}},Ti=class{constructor(e,t,i,o){this.r=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.g=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.b=isNaN(+i)?255:Math.max(0,Math.min(255,+i)),Ie(o)?this.opacity=isNaN(+o)?1:Math.max(0,Math.min(1,+o)):this.opacity=1}formatHex(){return`#${Si(this.r)+Si(this.g)+Si(this.b)+(1===this.opacity?"":Si(255*this.opacity))}`}formatRgb(){const e=this.opacity;return`${1===e?"rgb(":"rgba("}${this.r},${this.g},${this.b}${1===e?")":`,${e})`}`}formatHsl(){const e=this.opacity,{h:t,s:i,l:o}=mi(this.r,this.g,this.b);return`${1===e?"hsl(":"hsla("}${t},${i}%,${o}%${1===e?")":`,${e})`}`}toString(){return this.formatHex()}};function Ai(e){if(Xe(e))return[e,e,e,e];if(Ve(e)){const t=e.length;if(1===t){const t=e[0];return[t,t,t,t]}if(2===t){const[t,i]=e;return[t,i,t,i]}if(3===t){const[t,i,o]=e;return[t,i,o,i]}if(4===t)return e}if(je(e)){const{top:t=0,right:i=0,bottom:o=0,left:l=0}=e;return[t,i,o,l]}return[0,0,0,0]}const zi=zt-1e-8;class Bi{constructor(e){this.init(e)}init(e){this.bounds=e}arc(e,t,i,o,l,n){if(Math.abs(l-o)>zi)return this.bounds.add(e-i,t-i),void this.bounds.add(e+i,t+i);let r,a,s,h,d=1/0,c=-1/0,p=1/0,y=-1/0;function u(e){s=i*Math.cos(e),h=i*Math.sin(e),s<d&&(d=s),s>c&&(c=s),h<p&&(p=h),h>y&&(y=h)}if(u(o),u(l),l!==o)if((o%=zt)<0&&(o+=zt),(l%=zt)<0&&(l+=zt),l<o&&(n=!n,r=o,o=l,l=r),n)for(l-=zt,r=o-o%At,a=0;a<4&&r>l;++a,r-=At)u(r);else for(r=o-o%At+At,a=0;a<4&&r<l;++a,r+=At)u(r);this.bounds.add(e+d,t+p),this.bounds.add(e+c,t+y)}arcTo(e,t,i,o,l){this.bounds.add(e,t)}bezierCurveTo(e,t,i,o,l,n){this.bounds.add(e,t),this.bounds.add(i,o),this.bounds.add(l,n)}closePath(){}ellipse(){throw new Error("不支持ellipse")}lineTo(e,t){this.bounds.add(e,t)}moveTo(e,t){this.bounds.add(e,t)}quadraticCurveTo(e,t,i,o){this.bounds.add(e,t),this.bounds.add(i,o)}rect(e,t,i,o){this.bounds.add(e,t),this.bounds.add(e+i,t+o)}clear(){this.bounds.clear()}release(...e){}}class Mi{constructor(){this._curves=[],this.bounds=new yi}get curves(){return this._curves}getCurveLengths(){return this._curves.map(e=>e.getLength())}getPointAt(e){return{x:0,y:0}}getLength(){return 0}getBounds(){return this.bounds}}const Oi=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,Wi={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7,M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7},Ri=0,Hi=1,Pi=2,Ei=3,Di=4,Ii=5,ji=6,Ni=7,Gi=8;let Ui,Vi,Yi,Zi,Xi,$i;var Ki,qi,Ji,Qi,eo,to;function io(e){const t=e[0],i=e[1],o=e[2],l=e[3],n=e[4],r=e[5],a=e[6],s=e[7],h=s*n,d=-a*r,c=a*n,p=s*r,y=Math.cos(o),u=Math.sin(o),g=Math.cos(l),f=Math.sin(l),k=.5*(l-o),m=Math.sin(.5*k),b=8/3*m*m/Math.sin(k),v=t+y-b*u,C=i+u+b*y,S=t+g,x=i+f,_=S+b*f,w=x-b*g;return[h*v+d*C,c*v+p*C,h*_+d*w,c*_+p*w,h*S+d*x,c*S+p*x]}function oo(e,t,i,o){const l=function(e,t,i,o,l,n,r,a,s){const h=Vt(r),d=Math.sin(h),c=Math.cos(h),p=c*(a-e)*.5+d*(s-t)*.5,y=c*(s-t)*.5-d*(a-e)*.5;let u=p*p/((i=Math.abs(i))*i)+y*y/((o=Math.abs(o))*o);u>1&&(u=Math.sqrt(u),i*=u,o*=u);const g=c/i,f=d/i,k=-d/o,m=c/o,b=g*a+f*s,v=k*a+m*s,C=g*e+f*t,S=k*e+m*t;let x=1/((C-b)*(C-b)+(S-v)*(S-v))-.25;x<0&&(x=0);let _=Math.sqrt(x);n===l&&(_=-_);const w=.5*(b+C)-_*(S-v),L=.5*(v+S)+_*(C-b),F=Math.atan2(v-L,b-w);let T=Math.atan2(S-L,C-w)-F;T<0&&1===n?T+=zt:T>0&&0===n&&(T-=zt);const A=Math.ceil(Math.abs(T/(At+.001))),z=[];for(let B=0;B<A;++B){const e=F+B*T/A,t=F+(B+1)*T/A;z[B]=[w,L,e,t,i,o,d,c]}return z}(o[5],o[6],o[0],o[1],o[3],o[4],o[2],t,i);for(let n=0;n<l.length;++n){const t=io(l[n]);e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5])}}!function(e){e[e.NONE=0]="NONE",e[e.UPDATE_BOUNDS=1]="UPDATE_BOUNDS",e[e.UPDATE_SHAPE=2]="UPDATE_SHAPE",e[e.CLEAR_SHAPE=253]="CLEAR_SHAPE",e[e.UPDATE_SHAPE_AND_BOUNDS=3]="UPDATE_SHAPE_AND_BOUNDS",e[e.INIT=179]="INIT",e[e.CLEAR_BOUNDS=254]="CLEAR_BOUNDS",e[e.UPDATE_GLOBAL_MATRIX=32]="UPDATE_GLOBAL_MATRIX",e[e.CLEAR_GLOBAL_MATRIX=223]="CLEAR_GLOBAL_MATRIX",e[e.UPDATE_LOCAL_MATRIX=16]="UPDATE_LOCAL_MATRIX",e[e.CLEAR_LOCAL_MATRIX=239]="CLEAR_LOCAL_MATRIX",e[e.UPDATE_GLOBAL_LOCAL_MATRIX=48]="UPDATE_GLOBAL_LOCAL_MATRIX",e[e.UPDATE_LAYOUT=128]="UPDATE_LAYOUT",e[e.CLEAR_LAYOUT=127]="CLEAR_LAYOUT"}(Ki||(Ki={})),function(e){e[e.GLOBAL=1]="GLOBAL",e[e.LOCAL=16]="LOCAL",e[e.GLOBAL_ACCURATE=3]="GLOBAL_ACCURATE",e[e.LOCAL_ACCURATE=48]="LOCAL_ACCURATE"}(qi||(qi={})),function(e){e[e.INIT=0]="INIT",e[e.DEFAULT=1]="DEFAULT",e[e.STATE=2]="STATE",e[e.ANIMATE_BIND=10]="ANIMATE_BIND",e[e.ANIMATE_PLAY=11]="ANIMATE_PLAY",e[e.ANIMATE_START=12]="ANIMATE_START",e[e.ANIMATE_UPDATE=13]="ANIMATE_UPDATE",e[e.ANIMATE_END=14]="ANIMATE_END",e[e.TRANSLATE=20]="TRANSLATE",e[e.TRANSLATE_TO=21]="TRANSLATE_TO",e[e.SCALE=22]="SCALE",e[e.SCALE_TO=23]="SCALE_TO",e[e.ROTATE=24]="ROTATE",e[e.ROTATE_TO=25]="ROTATE_TO"}(Ji||(Ji={})),function(e){e[e.ROW=1]="ROW",e[e.COLUMN=2]="COLUMN"}(Qi||(Qi={})),function(e){e[e.CubicBezierCurve=0]="CubicBezierCurve",e[e.QuadraticBezierCurve=1]="QuadraticBezierCurve",e[e.ArcCurve=2]="ArcCurve",e[e.LineCurve=3]="LineCurve",e[e.EllipseCurve=4]="EllipseCurve",e[e.MoveCurve=5]="MoveCurve"}(eo||(eo={})),function(e){e[e.beforeFillStroke=0]="beforeFillStroke",e[e.afterFillStroke=1]="afterFillStroke"}(to||(to={}));const lo=[(e,t,i,o,l,n,r)=>t.arc(e[1]*l+i,e[2]*n+o,e[3]*(l+n)/2,e[4],e[5],e[6],r),(e,t,i,o,l,n,r)=>t.arcTo(e[1]*l+i,e[2]*n+o,e[3]*l+i,e[4]*n+o,e[5]*(l+n)/2,r),(e,t,i,o,l,n,r)=>t.bezierCurveTo(e[1]*l+i,e[2]*n+o,e[3]*l+i,e[4]*n+o,e[5]*l+i,e[6]*n+o,r),(e,t,i,o)=>t.closePath(),(e,t,i,o,l,n)=>t.ellipse(e[1]*l+i,e[2]*n+o,e[3]*l,e[4]*n,e[5],e[6],e[7],e[8]),(e,t,i,o,l,n,r)=>t.lineTo(e[1]*l+i,e[2]*n+o,r),(e,t,i,o,l,n,r)=>t.moveTo(e[1]*l+i,e[2]*n+o,r),(e,t,i,o,l,n,r)=>t.quadraticCurveTo(e[1]*l+i,e[2]*n+o,e[3]*l+i,e[4]*n+o,r),(e,t,i,o,l,n,r)=>t.rect(e[1]*l+i,e[2]*n+o,e[3]*l,e[4]*n,r)];function no(e,t,i=0,o=0,l=1,n=1,r){for(let a=0;a<e.length;a++){const s=e[a];lo[s[0]](s,t,i,o,l,n,r)}}class ro{getLength(e){return null!=e?this.calcProjLength(e):(Number.isFinite(this.length)||(this.length=this.calcLength()),this.length)}}function ao(e,t){let i=0;const o=e.length;for(let l=0;l<o;l++){const n=e[l],r=t[l],a=e[(l+1)%o],s=t[(l+1)%o];i+=Ut.distanceNN(n,r,a,s)}return i/2}function so(e,t,i,o,l){const n=1-l;return n*n*n*e+3*t*l*n*n+3*i*l*l*n+o*l*l*l}function ho(e,t,i,o,l){const n=so(e.x,t.x,i.x,o.x,l),r=so(e.y,t.y,i.y,o.y,l);return new Gt(n,r)}function co(e,t,i,o){const l=1-o;return l*l*e+2*l*o*t+o*o*i}function po(e,t,i,o){const l=co(e.x,t.x,i.x,o),n=co(e.y,t.y,i.y,o);return new Gt(l,n)}function yo(e,t){const{p0:i,p1:o,p2:l,p3:n}=e,r=ho(i,o,l,n,t),a=Ut.pointAtPP(i,o,t),s=Ut.pointAtPP(o,l,t),h=Ut.pointAtPP(l,n,t),d=Ut.pointAtPP(a,s,t),c=Ut.pointAtPP(s,h,t);return[new uo(i,a,d,r),new uo(r,c,h,n)]}class uo extends ro{constructor(e,t,i,o){super(),this.type=eo.CubicBezierCurve,this.p0=e,this.p1=t,this.p2=i,this.p3=o}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y+this.p3.x+this.p3.y)}getPointAt(e){if(!1!==this.defined)return ho(this.p0,this.p1,this.p2,this.p3,e);throw new Error("defined为false的点不能getPointAt")}calcLength(){return this._validPoint()?(e=this.p0,t=this.p1,i=this.p2,o=this.p3,ao([e.x,t.x,i.x,o.x],[e.y,t.y,i.y,o.y])):60;var e,t,i,o}calcProjLength(e){return e===Qi.ROW?Mt(this.p0.x-this.p3.x):e===Qi.COLUMN?Mt(this.p0.y-this.p3.y):0}getAngleAt(e){const t=Rt(e-.01,0),i=Ht(e+.01,1),o=this.getPointAt(t),l=this.getPointAt(i);return Ot(l.y-o.y,l.x-o.x)}draw(e,t,i,o,l,n){if(e.moveTo(this.p0.x*o+t,this.p0.y*l+i),n>=1)e.bezierCurveTo(this.p1.x*o+t,this.p1.y*l+i,this.p2.x*o+t,this.p2.y*l+i,this.p3.x*o+t,this.p3.y*l+i);else if(n>0){const[r]=yo(this,n);e.bezierCurveTo(r.p1.x*o+t,r.p1.y*l+i,r.p2.x*o+t,r.p2.y*l+i,r.p3.x*o+t,r.p3.y*l+i)}}includeX(e){const t=Ht(this.p0.x,this.p1.x,this.p2.x,this.p3.x),i=Rt(this.p0.x,this.p1.x,this.p2.x,this.p3.x);return e>=t&&e<=i}getYAt(e){const t=Ht(this.p0.x,this.p1.x,this.p2.x,this.p3.x),i=(e-t)/(Rt(this.p0.x,this.p1.x,this.p2.x,this.p3.x)-t);return this.getPointAt(i).y}}function go(e,t){const{p0:i,p1:o}=e,l=Ut.pointAtPP(i,o,t);return[new fo(i,l),new fo(l,o)]}class fo extends ro{constructor(e,t){super(),this.type=eo.LineCurve,this.p0=e,this.p1=t}getPointAt(e){if(!1!==this.defined)return Ut.pointAtPP(this.p0,this.p1,e);throw new Error("defined为false的点不能getPointAt")}getAngleAt(e){return null==this.angle&&(this.angle=Ot(this.p1.y-this.p0.y,this.p1.x-this.p0.x)),this.angle}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y)}calcLength(){return this._validPoint()?Ut.distancePP(this.p0,this.p1):60}calcProjLength(e){return e===Qi.ROW?Mt(this.p0.x-this.p1.x):e===Qi.COLUMN?Mt(this.p0.y-this.p1.y):0}draw(e,t,i,o,l,n){if(e.moveTo(this.p0.x*o+t,this.p0.y*l+i),n>=1)e.lineTo(this.p1.x*o+t,this.p1.y*l+i);else if(n>0){const r=this.getPointAt(n);e.lineTo(r.x*o+t,r.y*l+i)}}includeX(e){return e>=this.p0.x&&e<=this.p1.x||e>=this.p1.x&&e<=this.p0.x}getYAt(e){if(this.includeX(e)){let t=this.p0,i=this.p1;this.p0.x>this.p1.x&&(t=this.p1,i=this.p0);const o=(e-t.x)/(i.x-t.x);return t.y+o*(i.y-t.y)}return 1/0}}class ko{get endX(){return this._lastX}get endY(){return this._lastY}constructor(e,t){this.init(e,t)}init(e,t){this._lastX=this._lastY=this._startX=this._startY=0,this.curveType=e,this.direction=t,this.curves=[]}bezierCurveTo(e,t,i,o,l,n,r,a){const s=new uo(new Gt(this._lastX,this._lastY),new Gt(e,t),new Gt(i,o),new Gt(l,n));s.originP1=this._lastOriginP,s.originP2=a,s.defined=r,this.curves.push(s),this._lastX=l,this._lastY=n,this._lastOriginP=a}closePath(){if(this.curves.length<2)return;const e=this.curves[this.curves.length-1];this.lineTo(this._startX,this._startY,e.defined,this._startOriginP)}ellipse(){throw new Error("SegContext不支持调用ellipse")}lineTo(e,t,i,o){const l=this.addLinearCurve(e,t,i,this._lastOriginP,o);this.curves.push(l),this._lastX=e,this._lastY=t,this._lastOriginP=o}moveTo(e,t,i){return this._lastX=this._startX=e,this._lastY=this._startY=t,this._lastOriginP=i,this._startOriginP=i,this}quadraticCurveTo(e,t,i,o){throw new Error("SegContext不支持调用quadraticCurveTo")}clear(){this.curves=[],this.length=NaN}tryUpdateLength(e){return this.getLength(e)}addLinearCurve(e,t,i,o,l){const n=new fo(new Gt(this._lastX,this._lastY),new Gt(e,t));return n.originP1=o,n.originP2=l,n.defined=i,n}getPointAt(e){throw new Error("暂未实现")}getCurveLengths(){return[]}getLength(e){var t,i;if(e===Qi.COLUMN){if(!this.curves.length)return 0;const e=this.curves[0],i=this.curves[this.curves.length-1],o=null!==(t=i.p3)&&void 0!==t?t:i.p1;return Mt(e.p0.y-o.y)}if(e===Qi.ROW){if(!this.curves.length)return 0;const e=this.curves[0],t=this.curves[this.curves.length-1],o=null!==(i=t.p3)&&void 0!==i?i:t.p1;return Mt(e.p0.x-o.x)}return Number.isFinite(this.length)||(this.length=this.curves.reduce((e,t)=>e+t.getLength(),0)),this.length}}class mo extends ko{bezierCurveTo(e,t,i,o,l,n,r,a){return super.bezierCurveTo(t,e,o,i,n,l,r,a)}lineTo(e,t,i,o){return super.lineTo(t,e,i,o)}moveTo(e,t,i){return super.moveTo(t,e,i)}clear(){return super.clear()}}function bo(e,t,i=1){let o=!1;for(let l=0,n=t.length;l<=n;l++)l>=n===o&&((o=!o)?e.lineStart():e.lineEnd()),o&&e.point(t[l])}function vo(e,t,i){const o=null!=t?t:Mt(i[i.length-1].x-i[0].x)>Mt(i[i.length-1].y-i[0].y)?Qi.ROW:Qi.COLUMN;return"monotoneY"===e?new mo(e,o):new ko(e,o)}class Co{constructor(e,t){this.context=e,t&&(this.startPoint=t)}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(e){const t=e.x,i=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,!1!==this._lastDefined&&!1!==e.defined,e):this.context.moveTo(t,i,e);break;case 1:this._point=2;default:this.context.lineTo(t,i,!1!==this._lastDefined&&!1!==e.defined,e)}this._lastDefined=e.defined}tryUpdateLength(){return this.context.tryUpdateLength()}}function So(e,t={}){const{direction:i,startPoint:o}=t;if(e.length<2-Number(!!o))return null;const l=vo("linear",i,e);return function(e,t){bo(e,t,1)}(new Co(l,o),e),l}function xo(e,t,i,o,l){e.context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+i)/6,o,e.lastPoint1)}class _o{constructor(e,t){this.context=e,this.startPoint=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){2===this._point&&xo(this,6*this._x1-(this._x0+4*this._x1),6*this._y1-(this._y0+4*this._y1),!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1),(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(e){const t=e.x,i=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,!1!==this._lastDefined1&&!1!==this._lastDefined2,e):this.context.moveTo(t,i,e);break;case 1:this._point=2;break;default:xo(this,t,i,!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}function wo(e,t={}){const{direction:i,startPoint:o}=t;if(e.length<2-Number(!!o))return null;if(e.length<3-Number(!!o))return So(e,t);const l=vo("basis",i,e);return function(e,t){bo(e,t,2)}(new _o(l,o),e),l}function Lo(e){return e<0?-1:1}function Fo(e,t,i){const o=e._x1-e._x0,l=t-e._x1,n=(e._y1-e._y0)/(o||Number(l<0&&-0)),r=(i-e._y1)/(l||Number(o<0&&-0)),a=(n*l+r*o)/(o+l);return(Lo(n)+Lo(r))*Math.min(Math.abs(n),Math.abs(r),.5*Math.abs(a))||0}function To(e,t){const i=e._x1-e._x0;return i?(3*(e._y1-e._y0)/i-t)/2:t}function Ao(e,t,i,o,l){const n=e._x0,r=e._y0,a=e._x1,s=e._y1,h=(a-n)/3;e.context.bezierCurveTo(n+h,r+h*t,a-h,s-h*i,a,s,o,e.lastPoint1)}class zo{constructor(e,t){this.context=e,this.startPoint=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x1,this._y1,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1);break;case 3:Ao(this,this._t0,To(this,this._t0),!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1)}(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(e){let t=NaN;const i=e.x,o=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(i,o,!1!==this._lastDefined1&&!1!==this._lastDefined2,e):this.context.moveTo(i,o,e);break;case 1:this._point=2;break;case 2:this._point=3,Ao(this,To(this,t=Fo(this,i,o)),t,!1!==this._lastDefined1&&!1!==this._lastDefined2);break;default:Ao(this,this._t0,t=Fo(this,i,o),!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._x0=this._x1,this._x1=i,this._y0=this._y1,this._y1=o,this._t0=t,this._lastDefined1=this._lastDefined2,this._lastDefined2=!1!==e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}}class Bo extends zo{constructor(e,t){super(e,t)}point(e){return super.point({y:e.x,x:e.y,defined:e.defined})}}function Mo(e,t={}){const{direction:i,startPoint:o}=t;if(e.length<2-Number(!!o))return null;if(e.length<3-Number(!!o))return So(e,t);const l=vo("monotoneX",i,e);return function(e,t){bo(e,t,2)}(new zo(l,o),e),l}function Oo(e,t={}){const{direction:i,startPoint:o}=t;if(e.length<2-Number(!!o))return null;if(e.length<3-Number(!!o))return So(e,t);const l=vo("monotoneY",i,e);return function(e,t){bo(e,t,2)}(new Bo(l,o),e),l}let Wo=class{constructor(e,t=.5,i){this.context=e,this._t=t,this.startPoint=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x=this._y=NaN,this._point=0,this.startPoint&&this.point(this.startPoint)}lineEnd(){0<this._t&&this._t<1&&2===this._point&&this.context.lineTo(this._x,this._y,!1!==this._lastDefined,this.lastPoint),(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}point(e){const t=e.x,i=e.y;switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,!1!==this._lastDefined&&!1!==e.defined,e):this.context.moveTo(t,i,e);break;case 1:this._point=2;default:if(this._t<=0)this.context.lineTo(this._x,i,!1!==this._lastDefined&&!1!==e.defined,this.lastPoint),this.context.lineTo(t,i,!1!==this._lastDefined&&!1!==e.defined,e);else{const o=this._x*(1-this._t)+t*this._t;.5===this._t?this.context.lineTo(o,this._y,!1!==this._lastDefined,this.lastPoint):this.context.lineTo(o,this._y,!1!==this._lastDefined&&!1!==e.defined,this.lastPoint),this.context.lineTo(o,i,!1!==this._lastDefined&&!1!==e.defined,e)}}this._lastDefined=e.defined,this._x=t,this._y=i,this.lastPoint=e}tryUpdateLength(){return this.context.tryUpdateLength()}};class Ro extends Wo{lineEnd(){this.context.closePath()}}function Ho(e,t,i={}){const{direction:o,startPoint:l}=i;if(e.length<2-Number(!!l))return null;const n=new ko("step",null!=o?o:Mt(e[e.length-1].x-e[0].x)>Mt(e[e.length-1].y-e[0].y)?Qi.ROW:Qi.COLUMN);return Po(new Wo(n,t,l),e),n}function Po(e,t){return bo(e,t,1)}class Eo extends Co{lineEnd(){this.context.closePath()}}function Do(e,t={}){const{direction:i,startPoint:o}=t;if(e.length<2-Number(!!o))return null;const l=vo("linear",i,e);return function(e,t){bo(e,t,1)}(new Eo(l,o),e),l}function Io(e,t,i,o,l){let n=e._x1,r=e._y1,a=e._x2,s=e._y2;if(e._l01_a>Ft){const t=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,i=3*e._l01_a*(e._l01_a+e._l12_a);n=(n*t-e._x0*e._l12_2a+e._x2*e._l01_2a)/i,r=(r*t-e._y0*e._l12_2a+e._y2*e._l01_2a)/i}if(e._l23_a>Ft){const o=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,l=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*o+e._x1*e._l23_2a-t*e._l12_2a)/l,s=(s*o+e._y1*e._l23_2a-i*e._l12_2a)/l}e.context.bezierCurveTo(n,r,a,s,e._x2,e._y2,o,e.lastPoint1)}function jo(e,t){return function(i,o,l={}){const{direction:n,startPoint:r}=l;if(i.length<2-Number(!!r))return null;if(i.length<3-Number(!!r))return So(i,l);const a=vo(e,n,i);return bo(new t(a,o,r),i,2),a}}const No=jo("catmullRom",class{constructor(e,t=.5,i){this.context=e,this.startPoint=i,this._alpha=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 2:this.context.lineTo(this._x2,this._y2,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1);break;case 3:this.point({x:this._x2,y:this._y2})}(this._line||0!==this._line&&1===this._point)&&this.context.closePath(),this._line=1-this._line}point(e){const{x:t,y:i}=e;if(this._point){const e=this._x2-t,o=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this.context.lineTo(t,i,!1!==this._lastDefined1&&!1!==this._lastDefined2):this.context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:Io(this,t,i,!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}});const Go=jo("catmullRomClosed",class{constructor(e,t=.5,i){this.context=e,this.startPoint=i,this._alpha=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}lineEnd(){switch(this._point){case 1:this.context.moveTo(this._x3,this._y3,this.lastPoint1),this.context.closePath();break;case 2:this.context.lineTo(this._x3,this._y3,!1!==this._lastDefined1&&!1!==this._lastDefined2,this.lastPoint1),this.context.closePath();break;case 3:this.point({x:this._x3,y:this._y3}),this.point({x:this._x4,y:this._y4}),this.point({x:this._x5,y:this._y5})}}point(e){const{x:t,y:i}=e;if(this._point){const e=this._x2-t,o=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+o*o,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this.context.moveTo(this._x4=t,this._y4=i,e);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:Io(this,t,i,!1!==this._lastDefined1&&!1!==this._lastDefined2)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i,this._lastDefined1=this._lastDefined2,this._lastDefined2=e.defined,this.lastPoint0=this.lastPoint1,this.lastPoint1=e}tryUpdateLength(){return this.context.tryUpdateLength()}});class Uo extends ro{constructor(e,t,i){super(),this.type=eo.QuadraticBezierCurve,this.p0=e,this.p1=t,this.p2=i}_validPoint(){return Number.isFinite(this.p0.x+this.p0.y+this.p1.x+this.p1.y+this.p2.x+this.p2.y)}getPointAt(e){if(!1!==this.defined)return po(this.p0,this.p1,this.p2,e);throw new Error("defined为false的点不能getPointAt")}calcLength(){return this._validPoint()?(e=this.p0,t=this.p1,i=this.p2,ao([e.x,t.x,i.x],[e.y,t.y,i.y])):60;var e,t,i}calcProjLength(e){return e===Qi.ROW?Mt(this.p0.x-this.p2.x):e===Qi.COLUMN?Mt(this.p0.y-this.p2.y):0}getAngleAt(e){const t=Rt(e-.01,0),i=Ht(e+.01,1),o=this.getPointAt(t),l=this.getPointAt(i);return Ot(l.y-o.y,l.x-o.x)}draw(e,t,i,o,l,n){if(e.moveTo(this.p0.x*o+t,this.p0.y*l+i),n>=1)e.quadraticCurveTo(this.p1.x*o+t,this.p1.y*l+i,this.p2.x*o+t,this.p2.y*l+i);else if(n>0){const[r]=function(e,t){const{p0:i,p1:o,p2:l}=e,n=po(i,o,l,t),r=Ut.pointAtPP(i,o,t),a=Ut.pointAtPP(o,l,t);return[new Uo(i,r,n),new Uo(n,a,l)]}(this,n);e.quadraticCurveTo(r.p1.x*o+t,r.p1.y*l+i,r.p2.x*o+t,r.p2.y*l+i)}}getYAt(e){throw new Error("QuadraticBezierCurve暂不支持getYAt")}includeX(e){throw new Error("QuadraticBezierCurve暂不支持includeX")}}class Vo{constructor(e){this.path=e,this._lastX=this._lastY=this._startX=this._startY=0}moveTo(e,t){return this._lastX=this._startX=e,this._lastY=this._startY=t,this}lineTo(e,t){const i=this.addLinearCurve(e,t);this.path.addCurve(i),this._lastX=e,this._lastY=t}addLinearCurve(e,t){return new fo(new Gt(this._lastX,this._lastY),new Gt(e,t))}quadraticCurveTo(e,t,i,o){const l=new Uo(new Gt(this._lastX,this._lastY),new Gt(e,t),new Gt(i,o));this.path.addCurve(l),this._lastX=i,this._lastY=o}bezierCurveTo(e,t,i,o,l,n){const r=new uo(new Gt(this._lastX,this._lastY),new Gt(e,t),new Gt(i,o),new Gt(l,n));this.path.addCurve(r),this._lastX=l,this._lastY=n}arcTo(e,t,i,o,l){throw new Error("CurveContext不支持调用arcTo")}ellipse(e,t,i,o,l,n,r,a){throw new Error("CurveContext不支持调用ellipse")}rect(e,t,i,o){throw new Error("CurveContext不支持调用rect")}arc(e,t,i,o,l,n){throw new Error("CurveContext不支持调用arc")}closePath(){this.path.curves.length<2||this.lineTo(this._startX,this._startY)}}function Yo(e,t,i){var o,l;switch(t){case"linear":default:return So(e,i);case"basis":return wo(e,i);case"monotoneX":return Mo(e,i);case"monotoneY":return Oo(e,i);case"step":return Ho(e,.5,i);case"stepClosed":return function(e,t,i={}){const{direction:o,startPoint:l}=i;if(e.length<2-Number(!!l))return null;const n=new ko("step",null!=o?o:Mt(e[e.length-1].x-e[0].x)>Mt(e[e.length-1].y-e[0].y)?Qi.ROW:Qi.COLUMN);return Po(new Ro(n,t,l),e),n}(e,.5,i);case"stepBefore":return Ho(e,0,i);case"stepAfter":return Ho(e,1,i);case"catmullRom":return No(e,null!==(o=null==i?void 0:i.curveTension)&&void 0!==o?o:.5,i);case"catmullRomClosed":return Go(e,null!==(l=null==i?void 0:i.curveTension)&&void 0!==l?l:.5,i);case"linearClosed":return Do(e,i)}}class Zo extends Mi{constructor(e){super(),this.commandList=[],e&&(this._ctx=e),this._boundsContext=new Bi(this.bounds)}get curves(){return this.tryBuildCurves()}setCtx(e){this._ctx=e}moveTo(e,t){return this.commandList.push([ji,e,t]),this._ctx&&this._ctx.moveTo(e,t),this}lineTo(e,t){return this.commandList.push([Ii,e,t]),this._ctx&&this._ctx.lineTo(e,t),this}quadraticCurveTo(e,t,i,o){return this.commandList.push([Ni,e,t,i,o]),this._ctx&&this._ctx.quadraticCurveTo(e,t,i,o),this}bezierCurveTo(e,t,i,o,l,n){return this.commandList.push([Pi,e,t,i,o,l,n]),this._ctx&&this._ctx.bezierCurveTo(e,t,i,o,l,n),this}arcTo(e,t,i,o,l){return this.commandList.push([Hi,e,t,i,o,l]),this._ctx&&this._ctx.arcTo(e,t,i,o,l),this}ellipse(e,t,i,o,l,n,r,a){return this.commandList.push([Di,e,t,i,o,l,n,r,a]),this._ctx&&this._ctx.ellipse(e,t,i,o,l,n,r,a),this}rect(e,t,i,o){return this.commandList.push([Gi,e,t,i,o]),this._ctx&&this._ctx.rect(e,t,i,o),this}arc(e,t,i,o,l,n){return this.commandList.push([Ri,e,t,i,o,l,n]),this._ctx&&this._ctx.arc(e,t,i,o,l,n),this}closePath(){return this.commandList.push([Ei]),this._ctx&&this._ctx.closePath(),this}addCurve(e){this._curves.push(e)}clear(){this.transformCbList=null,this.commandList.length=0,this._curves.length=0}beginPath(){this.clear()}tryBuildCurves(){if(!this._curves||!this._curves.length){const e=new Vo(this);no(this.commandList,e,0,0,1,1)}return this._curves}toString(){if(!this.toStringCbList){const e=[];e[ji]=e=>`M${e[1]} ${e[2]}`,e[Ii]=e=>`L${e[1]} ${e[2]}`,e[Ni]=e=>`Q${e[1]} ${e[2]} ${e[3]} ${e[4]}`,e[Pi]=e=>`C${e[1]} ${e[2]} ${e[3]} ${e[4]} ${e[5]} ${e[6]}`,e[Ri]=e=>{const t=[],i=e[1],o=e[2],l=e[3];((e,t,i,o,l,n,r,a=!1)=>{const s=2*Math.PI,h=(t%s+s)%s;let d,c=(i%s+s)%s;a?(c>=h&&(c-=s),d=c-h):(c<=h&&(c+=s),d=c-h);const p=Math.ceil(Math.abs(d)/(.5*Math.PI)),y=d/p;for(let u=0;u<p;u++){const t=h+y*u,i=h+y*(u+1),s=4/3*Math.tan(Math.abs(y)/4),d=Math.cos(t),c=Math.sin(t),p=Math.cos(i),g=Math.sin(i),f=d*n+o,k=c*r+l,m=p*n+o,b=g*r+l,v=a?-1:1,C=n*s*v,S=r*s*v;e.push(f-C*c,k+S*d,m+C*g,b-S*p,m,b)}})(t,e[4],e[5],i,o,l,l,e[6]);let n="";for(let r=0;r<t.length;r+=6)n+=`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`;return n},e[Gi]=e=>`M${e[1]} ${e[2]} h${e[3]} v${e[4]} H${e[1]}Z`,e[Ei]=e=>"Z",this.toStringCbList=e}const e=this.toStringCbList;let t="";return this.commandList.forEach(i=>{t+=e[i[0]](i)}),t}fromString(e,t,i,o,l){this.clear();const n=function(e){if(!e)return[];const t=e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);if(null===t)return[];let i,o;const l=[];for(let n=0,r=t.length;n<r;n++)if(Ui=t[n],Vi=Ui.slice(1),Yi=Ui[0],i=[Yi],o=Vi.match(Oi),null!==o){for(let e=0,t=o.length;e<t;e++)Zi=o[e],Xi=parseFloat(Zi),Number.isNaN(Xi)||i.push(Xi);if($i=Wi[Yi],i.length-1>$i){let e,t=Yi;for(let o=1,n=i.length;o<n;o+=$i){e=[t];for(let t=o,l=o+$i;t<l;t++)e.push(i[t]);l.push(e),"m"===t?t="l":"M"===t&&(t="L")}}else l.push(i)}else l.push(i);return l}(e);return this._runCommandStrList(n,t,i,o,l),this._updateBounds(),this}fromLine(e){const{points:t,curveType:i,clipRangeByDimension:o}=e.attribute;if(!t)return;const l=Yo(t,i);"x"===o?this.direction=Qi.ROW:"y"===o?this.direction=Qi.COLUMN:"auto"===o&&(this.direction=l.direction),this._curves=l.curves}fromCustomPath2D(e,t,i,o,l){return this.clear(),this._runCommandList(e.commandList,t,i,o,l),this._updateBounds(),this}transform(e,t,i,o){const l=this.commandList;if(!this.transformCbList){const e=[];e[ji]=this.moveToTransform,e[Ii]=this.lineToTransform,e[Ni]=this.quadraticCurveToTransform,e[Pi]=this.bezierCurveToTransform,e[Hi]=this.arcToTransform,e[Di]=this.ellipseTransform,e[Gi]=this.rectTransform,e[Ri]=this.arcTransform,e[Ei]=this.closePathTransform,this.transformCbList=e}l.forEach(l=>{this.transformCbList[l[0]](l,e,t,i,o)}),this._updateBounds()}moveToTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i}lineToTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i}quadraticCurveToTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i,e[3]=e[3]*o+t,e[4]=e[4]*l+i}bezierCurveToTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i,e[3]=e[3]*o+t,e[4]=e[4]*l+i,e[5]=e[5]*o+t,e[6]=e[6]*l+i}arcToTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i,e[3]=e[3]*o+t,e[4]=e[4]*l+i,e[5]=e[5]*(o+l)/2}ellipseTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i,e[3]=e[3]*o,e[4]=e[4]*l}rectTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i,e[3]=e[3]*o,e[4]=e[4]*l}arcTransform(e,t,i,o,l){e[1]=e[1]*o+t,e[2]=e[2]*l+i,e[3]=e[3]*(o+l)/2}closePathTransform(){}_runCommandStrList(e,t=0,i=0,o=1,l=1){let n,r,a,s,h,d=null,c=0,p=0,y=0,u=0;for(let g=0,f=e.length;g<f;++g){switch(n=e[g],1===o&&1===l||(n=$o(n,o,l)),n[0]){case"l":c+=n[1],p+=n[2],this.lineTo(c+t,p+i);break;case"L":c=n[1],p=n[2],this.lineTo(c+t,p+i);break;case"h":c+=n[1],this.lineTo(c+t,p+i);break;case"H":c=n[1],this.lineTo(c+t,p+i);break;case"v":p+=n[1],this.lineTo(c+t,p+i);break;case"V":p=n[1],this.lineTo(c+t,p+i);break;case"m":c+=n[1],p+=n[2],this.moveTo(c+t,p+i);break;case"M":c=n[1],p=n[2],this.moveTo(c+t,p+i);break;case"c":r=c+n[5],a=p+n[6],y=c+n[3],u=p+n[4],this.bezierCurveTo(c+n[1]+t,p+n[2]+i,y+t,u+i,r+t,a+i),c=r,p=a;break;case"C":c=n[5],p=n[6],y=n[3],u=n[4],this.bezierCurveTo(n[1]+t,n[2]+i,y+t,u+i,c+t,p+i);break;case"s":r=c+n[3],a=p+n[4],null===d[0].match(/[CcSs]/)?(y=c,u=p):(y=2*c-y,u=2*p-u),s=c+n[1],h=p+n[2],this.bezierCurveTo(y+t,u+i,s+t,h+i,r+t,a+i),y=s,u=h,c=r,p=a;break;case"S":r=n[3],a=n[4],null===d[0].match(/[CcSs]/)?(y=c,u=p):(y=2*c-y,u=2*p-u),s=n[1],h=n[2],this.bezierCurveTo(y+t,u+i,s+t,h+i,r+t,a+i),y=s,u=h,c=r,p=a;break;case"q":r=c+n[3],a=p+n[4],y=c+n[1],u=p+n[2],this.quadraticCurveTo(y+t,u+i,r+t,a+i),c=r,p=a;break;case"Q":r=n[3],a=n[4],this.quadraticCurveTo(n[1]+t,n[2]+i,r+t,a+i),c=r,p=a,y=n[1],u=n[2];break;case"t":r=c+n[1],a=p+n[2],null===d[0].match(/[QqTt]/)?(y=c,u=p):"t"===d[0]?(y=2*c-s,u=2*p-h):"q"===d[0]&&(y=2*c-y,u=2*p-u),s=y,h=u,this.quadraticCurveTo(y+t,u+i,r+t,a+i),c=r,p=a,y=c+n[1],u=p+n[2];break;case"T":r=n[1],a=n[2],y=2*c-y,u=2*p-u,this.quadraticCurveTo(y+t,u+i,r+t,a+i),c=r,p=a;break;case"a":oo(this,c+t,p+i,[n[1],n[2],n[3],n[4],n[5],n[6]+c+t,n[7]+p+i]),c+=n[6],p+=n[7];break;case"A":oo(this,c+t,p+i,[n[1],n[2],n[3],n[4],n[5],n[6]+t,n[7]+i]),c=n[6],p=n[7];break;case"z":case"Z":this.closePath()}d=n}}_runCommandList(e,t=0,i=0,o=1,l=1){if(0!==t||0!==i||1!==o||1!==l)for(let n=0,r=e.length;n<r;++n){const r=e[n].slice();switch(r[0]){case Ii:this.lineToTransform(r,t,i,o,l);break;case ji:this.moveToTransform(r,t,i,o,l);break;case Pi:this.bezierCurveToTransform(r,t,i,o,l);break;case Ni:this.quadraticCurveToTransform(r,t,i,o,l);break;case Ri:this.arcToTransform(r,t,i,o,l);break;case Di:this.ellipseTransform(r,t,i,o,l);break;case Gi:this.rectTransform(r,t,i,o,l);break;case Hi:this.arcToTransform(r,t,i,o,l);break;case Ei:this.closePath()}}else this.commandList=e.map(e=>e.slice())}_updateBounds(){this.bounds.clear(),no(this.commandList,this._boundsContext)}release(){this.commandList=[],this._boundsContext=null,this._ctx=null}getLength(){if(this.direction===Qi.COLUMN){if(!this._curves.length)return 0;const e=this._curves[0],t=this._curves[this._curves.length-1];return Mt(e.p0.y-t.p1.y)}if(this.direction===Qi.ROW){if(!this._curves.length)return 0;const e=this._curves[0],t=this._curves[this._curves.length-1];return Mt(e.p0.x-t.p1.x)}return this._curves.reduce((e,t)=>e+t.getLength(),0)}getYAt(e){if(!this.curves)return 1/0;for(let t=0;t<this.curves.length;t++){const i=this.curves[t];if(i.includeX(e))return i.getYAt(e)}return 1/0}getAttrAt(e){if(!this._curves)return{pos:{x:0,y:0},angle:0};let t,i=0;for(let l=0;l<this._curves.length;l++){t=this._curves[l];const o=t.getLength(this.direction);if(i+o>=e)break;i+=o}const o=(e-i)/t.getLength(this.direction);return{pos:t.getPointAt(o),angle:t.getAngleAt(o)}}drawWithClipRange(e,t,i,o,l){this.tryBuildCurves();const n=this.getLength()*l;let r=0;for(let a=0;a<this._curves.length;a++){const l=this._curves[a],s=l.getLength(this.direction);if(!(r+s<=n)){const a=1-(r+s-n)/s;l.draw(e,i,o,t,t,a);break}l.draw(e,i,o,t,t,1),r+=s}}}const Xo=["l",0,0,0,0,0,0,0];function $o(e,t,i){const o=Xo[0]=e[0];if("a"===o||"A"===o)Xo[1]=t*e[1],Xo[2]=i*e[2],Xo[3]=e[3],Xo[4]=e[4],Xo[5]=e[5],Xo[6]=t*e[6],Xo[7]=i*e[7];else if("h"===o||"H"===o)Xo[1]=t*e[1];else if("v"===o||"V"===o)Xo[1]=i*e[1];else for(let l=1,n=e.length;l<n;++l)Xo[l]=(l%2==1?t:i)*e[l];return Xo}const Ko={x:0,y:0,z:0,dx:0,dy:0,dz:0,scrollX:0,scrollY:0,scaleX:1,scaleY:1,scaleZ:1,angle:0,alpha:0,beta:0,scaleCenter:[0,0],anchor:[0,0],anchor3d:[0,0],postMatrix:new gi},qo={fillOpacity:1,fill:!1,shadowBlur:0,shadowColor:"black",shadowOffsetX:0,shadowOffsetY:0},Jo={strokeOpacity:1,lineDash:[],lineDashOffset:0,lineWidth:1,lineCap:"butt",lineJoin:"miter",miterLimit:10,strokeBoundsBuffer:2,stroke:!1},Qo=Object.assign({outerBorder:Object.assign(Object.assign({},Jo),{distance:0}),innerBorder:Object.assign(Object.assign({},Jo),{distance:0})},Jo),el={text:"",maxLineWidth:1/0,maxWidth:1/0,textAlign:"left",textBaseline:"alphabetic",fontSize:16,fontFamily:"PingFang SC,Microsoft Yahei,system-ui,-apple-system,segoe ui,\n    Roboto,Helvetica,Arial,sans-serif, apple color emoji,segoe ui emoji,segoe ui symbol",fontWeight:"",ellipsis:"…",fontVariant:"",fontStyle:"",lineHeight:void 0,underline:0,lineThrough:0,scaleIn3d:!1,direction:"horizontal",wordBreak:"break-all",ignoreBuf:!1,verticalMode:0,wrap:!1,whiteSpace:"no-wrap",heightLimit:1/0,lineClamp:1/0,suffixPosition:"end",underlineDash:[],underlineOffset:0,disableAutoClipedPoptip:void 0,measureMode:Me.fontBounding,keepCenterInLine:!1},tl=Object.assign(Object.assign(Object.assign(Object.assign({forceBoundsWidth:void 0,forceBoundsHeight:void 0,opacity:1,background:null,autoAnimateTexture:!1,textureRatio:1,textureOptions:null,backgroundOpacity:1,backgroundCornerRadius:0,texture:null,textureColor:"black",textureSize:10,texturePadding:2,backgroundMode:"no-repeat",backgroundFit:!0,backgroundKeepAspectRatio:!1,backgroundClip:!0,backgroundScale:1,backgroundOffsetX:0,backgroundOffsetY:0,blur:0,filter:"",cursor:null,html:null,react:null,vue:null},qo),Qo),{alignSelf:"auto"}),{pickStrokeBuffer:0}),il={connectedType:"none",connectedStyle:{},connectedX:NaN,connectedY:NaN},ol=Object.assign(Object.assign(Object.assign({strokeSeg:null,renderable:!0,pickable:!0,shadowGraphic:void 0,childrenPickable:!0,fillPickable:!0,strokePickable:!0,visible:!0,zIndex:0,layout:null,boundsPadding:0,fillStrokeOrder:0,renderStyle:"default",pickMode:"accurate",customPickShape:null,boundsMode:"accurate",keepDirIn3d:!0,shadowRootIdx:1,globalZIndex:1,globalCompositeOperation:"",overflow:"hidden",shadowPickMode:"graphic",keepStrokeScale:!1,clipConfig:null,roughStyle:null},{_debug_bounds:!1}),tl),Ko),ll=Object.assign(Object.assign({},ol),{startAngle:0,endAngle:Bt,innerRadius:0,outerRadius:1,innerPadding:0,outerPadding:0,cornerRadius:0,padRadius:0,padAngle:0,cap:!1,forceShowCap:!1}),nl=Object.assign(Object.assign(Object.assign({},ol),il),{points:[],segments:[],curveType:"linear",clipRange:1,closePath:!1,curveTension:1}),rl=Object.assign(Object.assign({},ol),{radius:1,startAngle:0,endAngle:Bt}),al=Object.assign(Object.assign({},ol),{width:0,height:0,cornerRadius:0,path:[],clip:!1,visibleAll:!0,display:"relative",flexDirection:"row",flexWrap:"wrap",justifyContent:"flex-start",alignItems:"flex-start",alignContent:"flex-start",baseOpacity:1,cornerType:"round"}),sl=Object.assign(Object.assign({},ol),{path:"",width:0,height:0,cornerRadius:0,clip:!1}),hl=Object.assign(Object.assign(Object.assign({},ol),il),{points:[],segments:[],curveType:"linear",clipRange:1,clipRangeByDimension:"default",closePath:!1,curveTension:1}),dl=Object.assign(Object.assign({},ol),{path:new Zo,fillStrokeOrder:1,clipRange:1,customPath:()=>{mt.getInstance().warn("空函数")}}),cl=Object.assign(Object.assign({},ol),{points:[],cornerRadius:0,closePath:!0}),pl=Object.assign(Object.assign({},ol),{width:100,height:100,spikes:5,thickness:.5}),yl=Object.assign(Object.assign({},ol),{width:0,height:0,x1:0,y1:0,strokeBoundsBuffer:0,cornerRadius:0,cornerType:"round",drawStrokeWhenZeroWH:!1});Object.assign(Object.assign({},ol),{width:0,height:0,x1:0,y1:0,cornerRadius:0,length:0,cornerType:"round",drawStrokeWhenZeroWH:!1});const ul=Object.assign(Object.assign({},ol),{symbolType:"circle",size:10,keepDirIn3d:!0,clipRange:1}),gl=Object.assign(Object.assign(Object.assign({},ol),el),{strokeBoundsBuffer:0,keepDirIn3d:!0}),fl=Object.assign(Object.assign(Object.assign({},ol),el),{upgradeAttrs:null,editable:!1,editOptions:null,ascentDescentMode:"actual",width:300,height:300,ellipsis:!0,wordBreak:"break-word",verticalDirection:"top",textAlign:"left",textBaseline:"top",layoutDirection:"horizontal",textConfig:[],disableAutoWrapLine:!1,maxHeight:void 0,maxWidth:void 0,singleLine:!1}),kl=Object.assign(Object.assign({repeatX:"no-repeat",repeatY:"no-repeat",image:"",width:0,height:0,maxWidth:500,maxHeight:500},ol),{fill:!0,cornerRadius:0,cornerType:"round"}),ml=Object.assign(Object.assign({},kl),{backgroundShowMode:"never",backgroundWidth:0,backgroundHeight:0,textAlign:"left",textBaseline:"middle",direction:"horizontal",margin:0,id:"",width:20,height:20,backgroundFill:"rgba(101, 117, 168, 0.1)",backgroundFillOpacity:1,backgroundStroke:!1,backgroundStrokeOpacity:1,backgroundRadius:4,opacity:1}),bl=function(){const e=/^(linear\-gradient)/i,t=/^(radial\-gradient)/i,i=/^(conic\-gradient)/i,o=/^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,l=/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,n=/^(left|center|right|top|bottom)/i,r=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,a=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,s=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,h=/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,d=/^from\s*(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,c=/^\(/,p=/^\)/,y=/^,/,u=/(^\#[0-9a-fA-F]+)/,g=/^([a-zA-Z]+)/,f=/^(rgb\(\d{1,3},\s*\d{1,3},\s*\d{1,3}\))/i,k=/^(rgba\(\d{1,3},\s*\d{1,3},\s*\d{1,3},\s*((\d\.\d+)|\d{1,3})\))/i;let m="";function b(e){const t=new Error(m+": "+e);throw t.source=m,t}function v(){return C("linear",e,S)||C("radial",t,_)||C("conic",i,x)}function C(e,t,i){return function(t){const o=W(t);if(o){W(c)||b("Missing (");const t=function(){const t=i();return t&&(W(y)||b("Missing comma before color stops")),{type:e,orientation:t,colorStops:A(z)}}();return W(p)||b("Missing )"),t}}(t)}function S(){return O("directional",o,1)||O("angular",h,1)}function x(){return O("angular",d,1)}function _(){let e,t,i=w();return i&&(e=[],e.push(i),t=m,W(y)&&(i=w(),i?e.push(i):m=t)),e}function w(){let e=function(){const e=O("shape",/^(circle)/i,0);return e&&(e.style=M()||L()),e}()||function(){const e=O("shape",/^(ellipse)/i,0);return e&&(e.style=B()||L()),e}();if(e)e.at=F();else{const t=L();if(t){e=t;const i=F();i&&(e.at=i)}else{const t=T();t&&(e={type:"default-radial",at:t})}}return e}function L(){return O("extent-keyword",l,1)}function F(){if(O("position",/^at/,0)){const e=T();return e||b("Missing positioning value"),e}}function T(){const e={x:B(),y:B()};if(e.x||e.y)return{type:"position",value:e}}function A(e){let t=e();const i=[];if(t)for(i.push(t);W(y);)t=e(),t?i.push(t):b("One extra comma");return i}function z(){const e=O("hex",u,1)||O("rgba",k,1)||O("rgb",f,1)||O("literal",g,0);return e||b("Expected color definition"),e.length=B(),e}function B(){return O("%",a,1)||O("position-keyword",n,1)||M()}function M(){return O("px",r,1)||O("em",s,1)}function O(e,t,i){const o=W(t);if(o)return{type:e,value:o[i]}}function W(e){const t=/^[\n\r\t\s]+/.exec(m);t&&R(t[0].length);const i=e.exec(m);return i&&R(i[0].length),i}function R(e){m=m.substr(e)}return function(e){return m=e.toString(),function(){const e=A(v);return m.length>0&&b("Invalid input not EOF"),e}()}}();class vl{static IsGradient(e){return!("string"==typeof e&&!e.includes("gradient"))}static IsGradientStr(e){return"string"==typeof e&&e.includes("gradient")}static Parse(e){if(vl.IsGradientStr(e))try{const t=bl(e)[0];if(t){if("linear"===t.type)return vl.ParseLinear(t);if("radial"===t.type)return vl.ParseRadial(t);if("conic"===t.type)return vl.ParseConic(t)}}catch(nH){return e}return e}static processColorStops(e){if(!e||0===e.length)return[];if(e.some(e=>e.length)){const t=e.map(e=>({color:e.value,offset:e.length?parseFloat(e.length.value)/100:-1}));t[0].offset<0&&(t[0].offset=0),t[t.length-1].offset<0&&(t[t.length-1].offset=1);for(let e=1;e<t.length-1;e++)if(t[e].offset<0){const i=e-1;let o=e+1;for(;o<t.length&&t[o].offset<0;)o++;const l=t[i].offset,n=t[o].offset,r=o-i;for(let e=1;e<r;e++)t[i+e].offset=l+(n-l)*e/r;e=o-1}return t}return e.map((t,i)=>{const o=e.length>1?i/(e.length-1):0;return{color:t.value,offset:o}})}static ParseConic(e){const{orientation:t,colorStops:i=[]}=e,o=Tt/2,l=parseFloat(t.value)/180*Tt-o;return{gradient:"conical",x:.5,y:.5,startAngle:l,endAngle:l+Bt,stops:vl.processColorStops(i)}}static ParseRadial(e){const{colorStops:t=[]}=e;return{gradient:"radial",x0:.5,y0:.5,x1:.5,y1:.5,r0:0,r1:1,stops:vl.processColorStops(t)}}static ParseLinear(e){const{orientation:t,colorStops:i=[]}=e,o=Tt/2;let l="angular"===t.type?parseFloat(t.value)/180*Tt:0;for(;l<0;)l+=Bt;for(;l>=Bt;)l-=Bt;let n=0,r=0,a=0,s=0;return l<o?(n=0,r=1,a=Math.sin(l),s=r-Math.cos(l)):l<Tt?(n=0,r=0,a=Math.cos(l-o),s=Math.sin(l-o)):l<Tt+o?(n=1,r=0,a=n-Math.sin(l-Tt),s=Math.cos(l-Tt)):(n=1,a=n-Math.cos(l-o-Tt),s-=Math.sin(l-o-Tt)),{gradient:"linear",x0:n,y0:r,x1:a,y1:s,stops:vl.processColorStops(i)}}}function Cl(e,t,i){let o=t;const{a:l,b:n,c:r,d:a}=e.currentMatrix,s=Math.sign(l)*Math.sqrt(l*l+n*n),h=Math.sign(a)*Math.sqrt(r*r+a*a);return s+h===0?0:(o=o/Math.abs(s+h)*2*i,o)}function Sl(e,t,i,o=0,l=0){var n,r,a,s;if(!t||!0===t)return"black";let h,d;if(Ve(t))for(let c=0;c<t.length&&(d=t[c],!d);c++);else d=t;if(d=vl.Parse(d),"string"==typeof d)return d;if(i.AABBBounds&&(!i.attribute||0!==i.attribute.scaleX||0!==i.attribute.scaleY)){const t=i.AABBBounds;let c=t.x2-t.x1,p=t.y2-t.y1,y=t.x1-o,u=t.y1-l;if(i.attribute){const{scaleX:e=1,scaleY:t=1,angle:o=0}=i.attribute;c/=e,p/=t,y/=e,u/=t,(o||1!==e||1!==t)&&(y=null!==(n=i.x1WithoutTransform)&&void 0!==n?n:0,u=null!==(r=i.y1WithoutTransform)&&void 0!==r?r:0,c=null!==(a=i.widthWithoutTransform)&&void 0!==a?a:c,p=null!==(s=i.heightWithoutTransform)&&void 0!==s?s:p)}"linear"===d.gradient?h=function(e,t,i,o,l,n){var r,a,s,h;const d=e.createLinearGradient(i+(null!==(r=t.x0)&&void 0!==r?r:0)*l,o+(null!==(a=t.y0)&&void 0!==a?a:0)*n,i+(null!==(s=t.x1)&&void 0!==s?s:1)*l,o+(null!==(h=t.y1)&&void 0!==h?h:0)*n);return t.stops.forEach(e=>{d.addColorStop(e.offset,e.color)}),d}(e,d,y,u,c,p):"conical"===d.gradient?h=function(e,t,i,o,l,n){var r,a;const s=e.createConicGradient(i+(null!==(r=t.x)&&void 0!==r?r:0)*l,o+(null!==(a=t.y)&&void 0!==a?a:0)*n,t.startAngle,t.endAngle);return t.stops.forEach(e=>{s.addColorStop(e.offset,e.color)}),s.GetPattern?s.GetPattern(l+i,n+o,void 0):s}(e,d,y,u,c,p):"radial"===d.gradient&&(h=function(e,t,i,o,l,n){var r,a,s,h,d,c;const p=e.createRadialGradient(i+(null!==(r=t.x0)&&void 0!==r?r:.5)*l,o+(null!==(a=t.y0)&&void 0!==a?a:.5)*n,Math.max(l,n)*(null!==(s=t.r0)&&void 0!==s?s:0),i+(null!==(h=t.x1)&&void 0!==h?h:.5)*l,o+(null!==(d=t.y1)&&void 0!==d?d:.5)*n,Math.max(l,n)*(null!==(c=t.r1)&&void 0!==c?c:.5));return t.stops.forEach(e=>{p.addColorStop(e.offset,e.color)}),p}(e,d,y,u,c,p))}return h||"orange"}const xl={horizontal:{width:"width",height:"height",left:"left",top:"top",x:"x",y:"y",bottom:"bottom"},vertical:{width:"height",height:"width",left:"top",top:"left",x:"y",y:"x",bottom:"right"}},_l=!0,wl=!1,Ll=/\w|\(|\)|-/,Fl=/[.?!,;:/，。？！、；：]/,Tl=/\S/,Al=(e,t)=>{let i=t.fontSize||16;switch(t.script){case"super":case"sub":i*=.8}e.setTextStyle({textAlign:"left",textBaseline:t.textBaseline||"alphabetic",fontStyle:t.fontStyle||"",fontWeight:t.fontWeight||"",fontSize:i,fontFamily:t.fontFamily})};function zl(e,t,i,o,l){if(e.length<=1)return 0;if(!t||t<=0)return 0;const n=xe.graphicUtil.textMeasure;let r=o,a=e.slice(0,r),s=Math.floor(n.measureText(a,i).width),h=e.slice(0,r+1),d=Math.floor(n.measureText(h,i).width);for(;s>t||d<=t;){if(s>t?r--:r++,r>e.length){r=e.length;break}if(r<0){r=0;break}a=e.slice(0,r),s=Math.floor(n.measureText(a,i).width),h=e.slice(0,r+1),d=Math.floor(n.measureText(h,i).width)}return l&&(r=Bl(e,r)),r}function Bl(e,t,i=!1){let o=t;for(;Ll.test(e[o-1])&&Ll.test(e[o])||Fl.test(e[o]);)if(o--,o<=0)return i?Ml(e,t):t;return o}function Ml(e,t){let i=t;for(;Ll.test(e[i+1])&&Ll.test(e[i])||Fl.test(e[i]);)if(i++,i>=e.length)return i;return i+1}function Ol(e,t,i="actual"){var o;if(""===e)return{ascent:0,height:0,descent:0,width:0};const l=xe.graphicUtil.textMeasure.measureText(e,t),n={ascent:0,height:0,descent:0,width:0},r="actual"===i?l.actualBoundingBoxAscent:l.fontBoundingBoxAscent,a="actual"===i?l.actualBoundingBoxDescent:l.fontBoundingBoxDescent;"number"!=typeof r||"number"!=typeof a?(n.width=Math.floor(l.width),n.height=t.fontSize||0,n.ascent=n.height,n.descent=0):(n.width=Math.floor(l.width),n.height=Math.floor(r+a),n.ascent=Math.floor(r),n.descent=n.height-n.ascent);const s=null!==(o=t.space)&&void 0!==o?o:0;return n.width+=s,n}var Wl=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Rl=class{configure(e,t){this.canvas=e.canvas,this.context=e.context,e.bindTextMeasure(this)}_measureTextWithoutAlignBaseline(e,t,i){this.context.setTextStyleWithoutAlignBaseline(t);const o=this.context.measureText(e);return i?this.compatibleMetrics(o,t):o}_measureTextWithAlignBaseline(e,t,i){this.context.setTextStyle(t);const o=this.context.measureText(e);return i?this.compatibleMetrics(o,t):o}compatibleMetrics(e,t){if(null==e.actualBoundingBoxAscent||null==e.actualBoundingBoxDescent||null==e.fontBoundingBoxAscent||null==e.fontBoundingBoxDescent){e={width:e.width};const{ascent:i,descent:o}=this.measureTextBoundADscentEstimate(t);e.actualBoundingBoxAscent=i,e.actualBoundingBoxDescent=o,e.fontBoundingBoxAscent=i,e.fontBoundingBoxDescent=o}if(null==e.actualBoundingBoxLeft||null==e.actualBoundingBoxRight){e={width:e.width,actualBoundingBoxAscent:e.actualBoundingBoxAscent,actualBoundingBoxDescent:e.actualBoundingBoxDescent,fontBoundingBoxAscent:e.fontBoundingBoxAscent,fontBoundingBoxDescent:e.fontBoundingBoxDescent};const{left:i,right:o}=this.measureTextBoundLeftRightEstimate(t);e.actualBoundingBoxLeft=i,e.actualBoundingBoxRight=o}return e}estimate(e,{fontSize:t=gl.fontSize}){let i=0,o=0;for(let l=0;l<e.length;l++)e.charCodeAt(l)<128?i++:o++;return{width:~~(.8*i*t+o*t),height:t}}measureTextWidth(e,t,i){return this.context?(i=null!=i?i:this._measureTextWithoutAlignBaseline(e,t)).width:this.estimate(e,t).width}measureTextBoundsWidth(e,t,i){return this.context?(i=null!=i?i:this._measureTextWithoutAlignBaseline(e,t)).width:this.estimate(e,t).width}measureTextBoundsLeftRight(e,t,i){return this.context?{left:(i=null!=i?i:this._measureTextWithAlignBaseline(e,t,!0)).actualBoundingBoxLeft,right:i.actualBoundingBoxRight}:this.measureTextBoundLeftRightEstimate(t)}measureTextPixelHeight(e,t,i){var o;return this.context?(i=null!=i?i:this._measureTextWithoutAlignBaseline(e,t,!0),Math.abs(i.actualBoundingBoxAscent-i.actualBoundingBoxDescent)):null!==(o=t.fontSize)&&void 0!==o?o:el.fontSize}measureTextPixelADscent(e,t,i){return this.context?{ascent:(i=null!=i?i:this._measureTextWithAlignBaseline(e,t,!0)).actualBoundingBoxAscent,descent:i.actualBoundingBoxDescent}:this.measureTextBoundADscentEstimate(t)}measureTextBoundHieght(e,t,i){var o;return this.context?(i=null!=i?i:this._measureTextWithoutAlignBaseline(e,t,!0),Math.abs(i.fontBoundingBoxAscent-i.fontBoundingBoxDescent)):null!==(o=t.fontSize)&&void 0!==o?o:el.fontSize}measureTextBoundADscent(e,t,i){return this.context?{ascent:(i=null!=i?i:this._measureTextWithAlignBaseline(e,t,!0)).fontBoundingBoxAscent,descent:i.fontBoundingBoxDescent}:this.measureTextBoundADscentEstimate(t)}measureTextBoundADscentEstimate(e){var t;const i=null!==(t=e.fontSize)&&void 0!==t?t:el.fontSize;return{ascent:.79*i,descent:.21*i}}measureTextBoundLeftRightEstimate(e){var t;const i=null!==(t=e.fontSize)&&void 0!==t?t:el.fontSize,{textAlign:o}=e;return"center"===o?{left:i/2,right:i/2}:"right"===o||"end"===o?{left:i,right:0}:{left:0,right:i}}measureTextPixelADscentAndWidth(e,t,i){if(!this.context)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(t)),{width:this.estimate(e,t).width});const o=this._measureTextWithoutAlignBaseline(e,t,!0);if(i===Me.actualBounding)return{ascent:o.actualBoundingBoxAscent,descent:o.actualBoundingBoxDescent,width:o.width};if(i===Me.estimate)return Object.assign(Object.assign({},this.measureTextBoundADscentEstimate(t)),{width:o.width});if(i===Me.fontBounding){let e=o.fontBoundingBoxAscent,t=o.fontBoundingBoxDescent;if(o.actualBoundingBoxDescent&&t<o.actualBoundingBoxDescent){const i=o.actualBoundingBoxDescent-t;t+=i,e-=i}else if(o.actualBoundingBoxAscent&&e<o.actualBoundingBoxAscent){const i=o.actualBoundingBoxAscent-e;e+=i,t-=i}return{ascent:e,descent:t,width:o.width}}return{ascent:o.actualBoundingBoxAscent,descent:o.actualBoundingBoxDescent,width:o.width}}measureText(e,t){return this.context?(this.context.setTextStyleWithoutAlignBaseline(t),this.context.measureText(e)):this.estimate(e,t)}clipTextVertical(e,t,i,o){if(0===e.length)return{verticalList:e,width:0};const{fontSize:l=12}=t;e.forEach(e=>{e.width=0===e.direction?l:this.measureTextWidth(e.text,t)});const n=[];let r=0,a=0;for(;a<e.length&&r+e[a].width<i;a++)r+=e[a].width,n.push(e[a]);if(e[a]&&e[a].text.length>1){const l=this._clipText(e[a].text,t,i-r,0,e[a].text.length-1,"end",!1);if(o&&l.str!==e[a].text){let i="",o=0;for(let t=0;t<a;t++){const l=e[t];i+=l.text,o+=l.text.length}i+=e[a].text;let n=Bl(i,o+l.str.length);n-=o,n!==l.str.length-1&&(l.str=l.str.substring(0,n),l.width=this.measureTextWidth(l.str,t))}n.push(Object.assign(Object.assign({},e[a]),{text:l.str,width:l.width})),r+=l.width}return{verticalList:n,width:r}}clipText(e,t,i,o,l){if(0===e.length)return{str:"",width:0};let n=this.measureTextWidth(e,t);if(n<=i)return{str:e,width:n};if(n=this.measureTextWidth(e[0],t),n>i)return{str:"",width:0};const r=this._clipText(e,t,i,0,e.length-1,"end",!1);if(o&&r.str!==e){let i=Bl(e,r.str.length,l);i!==r.str.length&&(i>r.str.length&&(r.wordBreaked=i,i=r.str.length),r.str=e.substring(0,i),r.width=this.measureTextWidth(r.str,t))}return r}_clipText(e,t,i,o,l,n,r){let a;if("start"===n)a=this._clipTextStart(e,t,i,o,l),r&&(a.result=r+a.str);else if("middle"===n){const o=this._clipTextMiddle(e,t,i,"","",0,0,1);a={str:"none",width:o.width,result:o.left+r+o.right}}else a=this._clipTextEnd(e,t,i,o,l),r&&(a.result=a.str+r);return a}_clipTextEnd(e,t,i,o,l){if(o===l){mt.getInstance().warn(`【_clipTextEnd】不应该走到这里${e}, ${o}, ${l}`);const i=e.substring(0,l+1);return{str:i,width:this.measureTextWidth(i,t)}}const n=Math.floor((o+l)/2),r=e.substring(0,n+1),a=this.measureTextWidth(r,t);let s;if(a>i){if(r.length<=1)return{str:"",width:0};const l=e.substring(0,n);return s=this.measureTextWidth(l,t),s<=i?{str:l,width:s}:this._clipTextEnd(e,t,i,o,n)}if(a<i){if(n>=e.length-1)return{str:e,width:this.measureTextWidth(e,t)};const o=e.substring(0,n+2);return s=this.measureTextWidth(o,t),s>=i?{str:r,width:a}:this._clipTextEnd(e,t,i,n,l)}return{str:r,width:a}}_clipTextStart(e,t,i,o,l){const n=Math.ceil((o+l)/2),r=e.substring(n-1,e.length),a=this.measureTextWidth(r,t);let s;if(a>i){if(r.length<=1)return{str:"",width:0};const o=e.substring(n,e.length);return s=this.measureTextWidth(o,t),s<=i?{str:o,width:s}:this._clipTextStart(e,t,i,n,e.length)}if(a<i){if(n<=0)return{str:e,width:this.measureTextWidth(e,t)};const l=e.substring(n-2,e.length);return s=this.measureTextWidth(l,t),s>=i?{str:r,width:a}:this._clipTextStart(e,t,i,o,n)}return{str:r,width:a}}_clipTextMiddle(e,t,i,o,l,n,r,a){const s=e.substring(0,a),h=this.measureTextWidth(s,t);if(h+r>i)return{left:o,right:l,width:n+r};const d=e.substring(e.length-a,e.length),c=this.measureTextWidth(d,t);return h+c>i?{left:s,right:l,width:h+r}:this._clipTextMiddle(e,t,i,s,d,h,c,a+1)}clipTextWithSuffixVertical(e,t,i,o,l,n){if(""===o)return this.clipTextVertical(e,t,i,l);if(0===e.length)return{verticalList:e,width:0};const r=this.clipTextVertical(e,t,i,l);if(r.verticalList.length===e.length&&r.verticalList[r.verticalList.length-1].width===e[e.length-1].width)return r;const a=this.measureTextWidth(o,t);if(a>i)return r;let s;if(i-=a,"start"===n){const n=this.revertVerticalList(e);s=this.clipTextVertical(n,t,i,l);const r=this.revertVerticalList(s.verticalList);r.unshift({text:o,direction:1,width:a}),s.verticalList=r}else if("middle"===n){const n=this.clipTextVertical(e,t,i/2,l),r=this.revertVerticalList(e),h=this.clipTextVertical(r,t,i/2,l);n.verticalList.push({text:o,direction:1,width:a}),this.revertVerticalList(h.verticalList).forEach(e=>n.verticalList.push(e)),s={verticalList:n.verticalList,width:n.width+h.width}}else s=this.clipTextVertical(e,t,i,l),s.verticalList.push({text:o,direction:1,width:a});return s.width+=a,s}revertVerticalList(e){return e.reverse().map(e=>{const t=e.text.split("").reverse().join("");return Object.assign(Object.assign({},e),{text:t})})}clipTextWithSuffix(e,t,i,o,l,n,r=!1){if(""===o)return this.clipText(e,t,i,l);if(0===e.length)return{str:"",width:0};const a=this.measureTextWidth(e,t);if(!r&&a<=i)return{str:e,width:a};const s=this.measureTextWidth(o,t);if(s>i)return{str:"",width:0};if(r&&a+s<=i)return{str:e+o,width:a+s};i-=s;const h=this._clipText(e,t,i,0,e.length-1,n,o);if(l&&h.str!==e){const i=Bl(e,h.str.length);i!==h.str.length&&(h.result=e.substring(0,i),h.width=this.measureTextWidth(h.str,t))}else r&&h.str===e&&(h.result=e+o);return h.str=h.result,h.width+=s,h}};Rl=Wl([Q()],Rl);var Hl=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};const Pl=Symbol.for("TextMeasureContribution");let El=class extends Rl{};El=Hl([Q()],El);const Dl=new class{constructor(e){const t=e||{};t.defaultScope=t.defaultScope||ie,this.options=t,this.id=D.GenAutoIncrementId(),this._bindingDictionary=new Map,this._metadataReader=new de}load(e){const t=this._getContainerModuleHelpersFactory()(e.id);e.registry(t.bindFunction,t.unbindFunction,t.isboundFunction,t.rebindFunction)}get(e){const t=this._getNotAllArgs(e,!1);return this._get(t)}getAll(e){const t=this._getAllArgs(e);return this._get(t)}getTagged(e,t,i){const o=this._getNotAllArgs(e,!1,t,i);return this._get(o)}getNamed(e,t){return this.getTagged(e,j,t)}isBound(e){return this._bindingDictionary.has(e)}bind(e){const t=this.options.defaultScope,i=new he(e,t),o=this._bindingDictionary.get(e)||[];return o.push(i),this._bindingDictionary.set(e,o),new ue(i)}unbind(e){this._bindingDictionary.delete(e)}rebind(e){return this.unbind(e),this.bind(e)}_getContainerModuleHelpersFactory(){const e=(e,t)=>{e._binding.moduleId=t},t=t=>i=>{const o=this.bind(i);return e(o,t),o},i=()=>e=>this.unbind(e),o=()=>e=>this.isBound(e),l=t=>i=>{const o=this.rebind(i);return e(o,t),o};return e=>({bindFunction:t(e),isboundFunction:o(),rebindFunction:l(e),unbindFunction:i(),unbindAsyncFunction:e=>null})}_getNotAllArgs(e,t,i,o){return{avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:i,value:o}}_getAllArgs(e){return{avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e}}_get(e){const t=[];return this._bindingDictionary.get(e.serviceIdentifier).filter(t=>t.constraint(e)).forEach(e=>{t.push(this._resolveFromBinding(e))}),e.isMultiInject||1!==t.length?t:t[0]}_getChildRequest(e){const t=e.implementationType,{userGeneratedMetadata:i}=this._metadataReader.getConstructorMetadata(t),o=Object.keys(i),l=[];for(let n=0;n<o.length;n++){const e=i[n],t={};e.forEach(e=>{t[e.key]=e.value});const o={inject:t[N],multiInject:t[G]},r=o.inject||o.multiInject,a={serviceIdentifier:r,constructorArgsMetadata:e},s=(this._bindingDictionary.get(r)||[]).filter(e=>e.constraint(a));if(s.length){const t={injectIdentifier:r,metadata:e,bindings:s};l.push(t)}}return l}_resolveFromBinding(e){const t=this._getResolvedFromBinding(e);return this._saveToScope(e,t),t}_getResolvedFromBinding(e){let t;switch(e.type){case oe:case re:t=e.cache;break;case ae:t=this._resolveInstance(e,e.implementationType);break;default:t=e.dynamicValue({container:this})}return t}_resolveInstance(e,t){if(e.activated)return e.cache;const i=this._getChildRequest(e);return this._createInstance(t,i)}_createInstance(e,t){return t.length?new e(...this._resolveRequests(t)):new e}_resolveRequests(e){return e.map(e=>e.bindings.length>1?e.bindings.map(e=>this._resolveFromBinding(e)):this._resolveFromBinding(e.bindings[0]))}_saveToScope(e,t){e.scope===te&&(e.cache=t,e.activated=!0)}},Il=Symbol.for("CanvasFactory"),jl=Symbol.for("Context2dFactory");function Nl(e){return Dl.getNamed(Il,xe.global.env)(e)}const Gl=1e-4,Ul=Math.sqrt(3),Vl=1/3;function Yl(e){return e>-rn&&e<rn}function Zl(e){return e>rn||e<-rn}const Xl=[0,0],$l=[0,0],Kl=[0,0];function ql(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function Jl(e,t,i,o){const l=1-o;return l*(l*e+2*o*t)+o*o*i}function Ql(e,t,i,o,l){const n=1-l;return n*n*(n*e+3*l*t)+l*l*(l*o+3*n*i)}function en(e){return(e%=Bt)<0&&(e+=Bt),e}function tn(e,t,i,o,l,n,r,a,s){if(0===r)return!1;const h=r;return!(s>t+h&&s>o+h&&s>n+h||s<t-h&&s<o-h&&s<n-h||a>e+h&&a>i+h&&a>l+h||a<e-h&&a<i-h&&a<l-h)&&function(e,t,i,o,l,n,r,a){let s=0,h=.005,d=1/0;Xl[0]=r,Xl[1]=a;for(let c=0;c<1;c+=.05){$l[0]=Jl(e,i,l,c),$l[1]=Jl(t,o,n,c);const r=ql(Xl,$l);r<d&&(s=c,d=r)}d=1/0;for(let c=0;c<32&&!(h<Gl);c++){const r=s-h,a=s+h;$l[0]=Jl(e,i,l,r),$l[1]=Jl(t,o,n,r);const c=ql($l,Xl);if(r>=0&&c<d)s=r,d=c;else{Kl[0]=Jl(e,i,l,a),Kl[1]=Jl(t,o,n,a);const r=ql(Kl,Xl);a<=1&&r<d?(s=a,d=r):h*=.5}}return Math.sqrt(d)}(e,t,i,o,l,n,a,s)<=h/2}function on(e,t,i,o,l,n,r,a,s,h,d){if(0===s)return!1;const c=s;return!(d>t+c&&d>o+c&&d>n+c&&d>a+c||d<t-c&&d<o-c&&d<n-c&&d<a-c||h>e+c&&h>i+c&&h>l+c&&h>r+c||h<e-c&&h<i-c&&h<l-c&&h<r-c)&&function(e,t,i,o,l,n,r,a,s,h){let d,c,p,y,u=0,g=.005,f=1/0;Xl[0]=s,Xl[1]=h;for(let k=0;k<1;k+=.05)$l[0]=Ql(e,i,l,r,k),$l[1]=Ql(t,o,n,a,k),p=ql(Xl,$l),p<f&&(u=k,f=p);f=1/0;for(let k=0;k<32&&!(g<Gl);k++)d=u-g,c=u+g,$l[0]=Ql(e,i,l,r,d),$l[1]=Ql(t,o,n,a,d),p=ql($l,Xl),d>=0&&p<f?(u=d,f=p):(Kl[0]=Ql(e,i,l,r,c),Kl[1]=Ql(t,o,n,a,c),y=ql(Kl,Xl),c<=1&&y<f?(u=c,f=y):g*=.5);return Math.sqrt(f)}(e,t,i,o,l,n,r,a,h,d)<=c/2}function ln(e,t,i,o,l,n,r,a,s){if(0===r)return!1;const h=r;a-=e,s-=t;const d=Math.sqrt(a*a+s*s);if(d-h>i||d+h<i)return!1;if(Math.abs(o-l)%Bt<1e-4)return!0;if(n){const e=o;o=en(l),l=en(e)}else o=en(o),l=en(l);o>l&&(l+=Bt);let c=Math.atan2(s,a);return c<0&&(c+=Bt),c>=o&&c<=l||c+Bt>=o&&c+Bt<=l}function nn(e,t,i,o,l,n,r){if(0===l)return!1;const a=l,s=l/2;let h=0,d=e;if(r>t+s&&r>o+s||r<t-s&&r<o-s||n>e+s&&n>i+s||n<e-s&&n<i-s)return!1;if(e===i)return Math.abs(n-e)<=a/2;h=(t-o)/(e-i),d=(e*o-i*t)/(e-i);const c=h*n-r+d;return c*c/(h*h+1)<=a/2*a/2}const rn=1e-4;function an(e,t,i,o,l){const n=6*i-12*t+6*e,r=9*t+3*o-3*e-9*i,a=3*t-3*e;let s=0;if(Yl(r)){if(Zl(n)){const e=-a/n;e>=0&&e<=1&&(l[s++]=e)}}else{const e=n*n-4*r*a;if(Yl(e))l[0]=-n/(2*r);else if(e>0){const t=Math.sqrt(e),i=(-n+t)/(2*r),o=(-n-t)/(2*r);i>=0&&i<=1&&(l[s++]=i),o>=0&&o<=1&&(l[s++]=o)}}return s}const sn=[-1,-1,-1],hn=[-1,-1];function dn(){const e=hn[0];hn[0]=hn[1],hn[1]=e}function cn(e,t,i,o,l,n,r,a,s,h){if(h>t&&h>o&&h>n&&h>a||h<t&&h<o&&h<n&&h<a)return 0;const d=function(e,t,i,o,l,n){const r=o+3*(t-i)-e,a=3*(i-2*t+e),s=3*(t-e),h=e-l,d=a*a-3*r*s,c=a*s-9*r*h,p=s*s-3*a*h;let y=0;if(Yl(d)&&Yl(c))if(Yl(a))n[0]=0;else{const e=-s/a;e>=0&&e<=1&&(n[y++]=e)}else{const e=c*c-4*d*p;if(Yl(e)){const e=c/d,t=-a/r+e,i=-e/2;t>=0&&t<=1&&(n[y++]=t),i>=0&&i<=1&&(n[y++]=i)}else if(e>0){const t=Math.sqrt(e);let i=d*a+1.5*r*(-c+t),o=d*a+1.5*r*(-c-t);i=i<0?-Math.pow(-i,Vl):Math.pow(i,Vl),o=o<0?-Math.pow(-o,Vl):Math.pow(o,Vl);const l=(-a-(i+o))/(3*r);l>=0&&l<=1&&(n[y++]=l)}else{const e=(2*d*a-3*r*c)/(2*Math.sqrt(d*d*d)),t=Math.acos(e)/3,i=Math.sqrt(d),o=Math.cos(t),l=(-a-2*i*o)/(3*r),s=(-a+i*(o+Ul*Math.sin(t)))/(3*r),h=(-a+i*(o-Ul*Math.sin(t)))/(3*r);l>=0&&l<=1&&(n[y++]=l),s>=0&&s<=1&&(n[y++]=s),h>=0&&h<=1&&(n[y++]=h)}}return y}(t,o,n,a,h,sn);if(0===d)return 0;let c=0,p=-1,y=0,u=0;for(let g=0;g<d;g++){const h=sn[g],d=0===h||1===h?.5:1;Ql(e,i,l,r,h)<s||(p<0&&(p=an(t,o,n,a,hn),hn[1]<hn[0]&&p>1&&dn(),y=Ql(t,o,n,a,hn[0]),p>1&&(u=Ql(t,o,n,a,hn[1]))),2===p?h<hn[0]?c+=y<t?d:-d:h<hn[1]?c+=u<y?d:-d:c+=a<u?d:-d:h<hn[0]?c+=y<t?d:-d:c+=a<y?d:-d)}return c}function pn(e,t,i,o,l,n,r,a){if(a>t&&a>o&&a>n||a<t&&a<o&&a<n)return 0;const s=function(e,t,i,o,l){const n=e-2*t+i,r=2*(t-e),a=e-o;let s=0;if(Yl(n)){if(Zl(r)){const e=-a/r;e>=0&&e<=1&&(l[s++]=e)}}else{const e=r*r-4*n*a;if(Yl(e)){const e=-r/(2*n);e>=0&&e<=1&&(l[s++]=e)}else if(e>0){const t=Math.sqrt(e),i=(-r+t)/(2*n),o=(-r-t)/(2*n);i>=0&&i<=1&&(l[s++]=i),o>=0&&o<=1&&(l[s++]=o)}}return s}(t,o,n,a,sn);if(0===s)return 0;const h=function(e,t,i){const o=e+i-2*t;return 0===o?.5:(e-t)/o}(t,o,n);if(h>=0&&h<=1){let a=0;const d=Jl(t,o,n,h);for(let o=0;o<s;o++){const s=0===sn[o]||1===sn[o]?.5:1;Jl(e,i,l,sn[o])<r||(sn[o]<h?a+=d<t?s:-s:a+=n<d?s:-s)}return a}const d=0===sn[0]||1===sn[0]?.5:1;return Jl(e,i,l,sn[0])<r?0:n<t?d:-d}function yn(e,t,i,o,l,n,r,a){if((a-=t)>i||a<-i)return 0;const s=Math.sqrt(i*i-a*a);sn[0]=-s,sn[1]=s;const h=Math.abs(o-l);if(h<1e-4)return 0;if(h>=Bt-1e-4){o=0,l=Bt;const t=n?1:-1;return r>=sn[0]+e&&r<=sn[1]+e?t:0}if(o>l){const e=o;o=l,l=e}o<0&&(o+=Bt,l+=Bt);let d=0;for(let c=0;c<2;c++){const t=sn[c];if(t+e>r){let e=Math.atan2(a,t),i=n?1:-1;e<0&&(e=Bt+e),(e>=o&&e<=l||e+Bt>=o&&e+Bt<=l)&&(e>Tt/2&&e<1.5*Tt&&(i=-i),d+=i)}}return d}function un(e){return Math.round(e/Tt*1e8)/1e8%2*Tt}function gn(e,t){let i=un(e[0]);i<0&&(i+=Bt);const o=i-e[0];let l=e[1];l+=o,!t&&l-i>=Bt?l=i+Bt:t&&i-l>=Bt?l=i-Bt:!t&&i>l?l=i+(Bt-un(i-l)):t&&i<l&&(l=i-(Bt-un(l-i))),e[0]=i,e[1]=l}const fn=[0,0];function kn(e,t,i,o,l){const n=e,r=e.length;let a,s,h=0,d=0,c=0,p=0,y=0;for(let f=0;f<r;f++){const e=n[f],r=0===f;e[0]===ji&&f>1&&(i||(h+=ri(d,c,p,y,o,l))),r&&(d=e[1],c=e[2],p=d,y=c);const u=e[0],g=e[1],k=e[2],m=e[3],b=e[4],v=e[5],C=e[6];let S=b,x=v;fn[0]=S,fn[1]=x,gn(fn,Boolean(e[6])),S=fn[0],x=fn[1];const _=S,w=x-S,L=!!(1-(e[6]?0:1)),F=(o-g)*m/m+g;switch(u){case ji:p=g,y=k,d=p,c=y;break;case Ii:if(i){if(nn(d,c,g,k,t,o,l))return!0}else h+=ri(d,c,g,k,o,l)||0;d=g,c=k;break;case Pi:if(i){if(on(d,c,g,k,m,b,v,C,t,o,l))return!0}else h+=cn(d,c,g,k,m,b,v,C,o,l)||0;d=v,c=C;break;case Ni:if(i){if(tn(d,c,g,k,m,b,t,o,l))return!0}else h+=pn(d,c,g,k,m,b,o,l)||0;d=m,c=b;break;case Ri:if(a=Math.cos(_)*m+g,s=Math.sin(_)*m+k,r?(p=a,y=s):h+=ri(d,c,a,s,o,l),i){if(ln(g,k,m,_,_+w,L,t,F,l))return!0}else h+=yn(g,k,m,_,_+w,L,F,l);d=Math.cos(_+w)*m+g,c=Math.sin(_+w)*m+k;break;case Gi:if(p=d=g,y=c=k,a=p+m,s=y+b,i){if(nn(p,y,a,y,t,o,l)||nn(a,y,a,s,t,o,l)||nn(a,s,p,s,t,o,l)||nn(p,s,p,y,t,o,l))return!0}else h+=ri(a,y,a,s,o,l),h+=ri(p,s,p,y,o,l);break;case Ei:if(i){if(nn(d,c,p,y,t,o,l))return!0}else h+=ri(d,c,p,y,o,l);d=p,c=y}}return i||(u=c,g=y,Math.abs(u-g)<rn)||(h+=ri(d,c,p,y,o,l)||0),0!==h;var u,g}const mn=new class{constructor(){this.pools=[],this.allocatedCanvas=[]}shareCanvas(){return this.allocatedCanvas.length?this.allocatedCanvas[0]:this.getCommonCanvas()}getCommonCanvas(){return this._commonCanvas||(this._commonCanvas=this.allocate({width:100,height:100,dpr:2})),this._commonCanvas}allocate(e){if(!this.pools.length){const t=Nl(Object.assign({nativeCanvas:xe.global.createCanvas(e)},e));return this.allocatedCanvas.push(t),t}const t=this.pools.pop();return t.resize(e.width,e.height),t.dpr=e.dpr,t}allocateByObj(e){if(!this.pools.length){const t={width:e.width/e.dpr,height:e.height/e.dpr,dpr:e.dpr},i=Nl(Object.assign({nativeCanvas:xe.global.createCanvas(t)},t));return this.allocatedCanvas.push(i),i}const t=this.pools.pop();return t.width=e.width,t.height=e.height,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}};var bn=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},vn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const Cn=Symbol.for("VWindow"),Sn=Symbol.for("WindowHandlerContribution");let xn=class extends Le{get width(){if(this._handler){const e=this._handler.getWH();return this._width=e.width}return this._width}get height(){if(this._handler){const e=this._handler.getWH();return this._height=e.height}return this._height}get dpr(){return this._handler.getDpr()}constructor(){super(),this.hooks={onChange:new ve(["x","y","width","height"])},this.active=()=>{const e=this.global;e.env&&!this.actived&&(Dl.getNamed(Sn,e.env).configure(this,e),this.actived=!0)},this._uid=D.GenAutoIncrementId(),this.global=xe.global,this.postInit()}_nativeAddEventListener(e,t,i){return this._handler.addEventListener(e,t,i)}_nativeRemoveEventListener(e,t,i){return this._handler.removeEventListener(e,t,i)}_nativeDispatchEvent(e){return this._handler.dispatchEvent(e)}postInit(){this.global.hooks.onSetEnv.tap("window",this.active),this.active()}get style(){var e;return null!==(e=this._handler.getStyle())&&void 0!==e?e:{}}set style(e){this._handler.setStyle(e)}create(e){var t,i;this._handler.createWindow(e);const o=this._handler.getWH();this._width=o.width,this._height=o.height,e.viewBox?this.setViewBox(e.viewBox):!1!==e.canvasControled?this.setViewBox({x1:0,y1:0,x2:this._width,y2:this._height}):this.setViewBox({x1:0,y1:0,x2:null!==(t=e.width)&&void 0!==t?t:this._width,y2:null!==(i=e.height)&&void 0!==i?i:this._height}),this.title=this._handler.getTitle(),this.resizable=!0}setWindowHandler(e){this._handler=e}setDpr(e){return this._handler.setDpr(e)}resize(e,t){return this._handler.resizeWindow(e,t)}configure(){throw new Error("暂不支持")}release(){return this.global.hooks.onSetEnv.unTap("window",this.active),this.clearAllEventListeners(),this._handler.releaseWindow()}getContext(){return this._handler.getContext()}getNativeHandler(){return this._handler.getNativeHandler()}getImageBuffer(e){return this._handler.getImageBuffer?this._handler.getImageBuffer(e):null}getBoundingClientRect(){return this._handler.getBoundingClientRect()}getContainer(){return this._handler.container}clearViewBox(e){this._handler.clearViewBox(e)}setViewBox(e){this._handler.setViewBox(e)}setViewBoxTransform(e,t,i,o,l,n){this._handler.setViewBoxTransform(e,t,i,o,l,n)}getViewBox(){return this._handler.getViewBox()}getViewBoxTransform(){return this._handler.getViewBoxTransform()}pointTransform(e,t){const i=this._handler.getViewBox(),o={x:e,y:t};return this._handler.getViewBoxTransform().transformPoint({x:e,y:t},o),o.x-=i.x1,o.y-=i.y1,o}hasSubView(){const e=this._handler.getViewBox();return!(0===e.x1&&0===e.y1&&bt(this.width,e.width())&&bt(this.height,e.height()))}isVisible(e){return this._handler.isVisible(e)}onVisibleChange(e){return this._handler.onVisibleChange(e)}getTopLeft(e){return this._handler.getTopLeft(e)}};xn=bn([Q(),vn("design:paramtypes",[])],xn);var _n=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},wn=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ln=function(e,t){return function(i,o){t(i,o,e)}};let Fn=class{get canvas(){return this.tryInitCanvas(),this._canvas}get context(){return this.tryInitCanvas(),this._context}constructor(e){this.contributions=e,this.configured=!1,this.global=xe.global,this.global.hooks.onSetEnv.tap("graphic-util",(e,t,i)=>{this.configured=!1,this.configure(i,t)})}get textMeasure(){return this._textMeasure||this.configure(this.global,this.global.env),this._textMeasure}configure(e,t){this.configured||(this.contributions.getContributions().forEach(e=>{e.configure(this,t)}),this.configured=!0)}tryInitCanvas(){if(!this._canvas){const e=mn.shareCanvas();this._canvas=e,this._context=e.getContext("2d")}}bindTextMeasure(e){this._textMeasure=e}measureText(e,t,i="native"){var o;this.configure(this.global,this.global.env);const l=this.global.measureTextMethod;this.global.measureTextMethod=i;const n={width:this._textMeasure.measureTextWidth(e,t),height:null!==(o=t.fontSize)&&void 0!==o?o:el.fontSize};return this.global.measureTextMethod=l,n}createTextMeasureInstance(e,t,i){return this.configure(this.global,this.global.env),new hi(Object.assign({defaultFontParams:{fontFamily:el.fontFamily,fontSize:el.fontSize},getCanvasForMeasure:i||(()=>this.canvas),getTextBounds:void 0,specialCharSet:"-/: .,@%'\"~"+hi.ALPHABET_CHAR_SET+hi.ALPHABET_CHAR_SET.toUpperCase()},null!=t?t:{}),e)}drawGraphicToCanvas(e,t,i){if(!t.defaultLayer)return null;const o=Dl.get(Cn),l=e.AABBBounds,n=l.width(),r=l.height(),a=-l.x1,s=-l.y1;o.create({viewBox:{x1:a,y1:s,x2:l.x2,y2:l.y2},width:n,height:r,canvas:i,dpr:t.window.dpr,canvasControled:!0,offscreen:!0,title:""});const h=t.params.optimize.disableCheckGraphicWidthOutRange;t.params.optimize.disableCheckGraphicWidthOutRange=!0,t.defaultLayer.getNativeHandler().drawTo(o,[e],{transMatrix:o.getViewBoxTransform(),viewBox:o.getViewBox(),stage:t,layer:t.defaultLayer,renderService:t.renderService,background:"transparent",clear:!0,updateBounds:!1}),t.params.optimize.disableCheckGraphicWidthOutRange=h;const d=o.getNativeHandler();return d.nativeCanvas?d.nativeCanvas:null}};var Tn;Fn=_n([Q(),Ln(0,q(ge)),Ln(0,ee(Pl)),wn("design:paramtypes",[Object])],Fn),function(e){e[e.transform=0]="transform",e[e.matrix=1]="matrix"}(Tn||(Tn={}));const An=new gi;let zn=class{constructor(){this.matrix=new gi}init(e){return this.mode=Tn.transform,this.originTransform=e,this.matrix.reset(),this}fromMatrix(e,t){return this.mode=Tn.matrix,this.outSourceMatrix=e,this.outTargetMatrix=t,this}scaleMatrix(e,t,i){const o=this.outSourceMatrix;if(An.setValue(o.a,o.b,o.c,o.d,o.e,o.f),this.outTargetMatrix.reset(),i){const{x:o,y:l}=i;this.outTargetMatrix.translate(o,l),this.outTargetMatrix.scale(e,t),this.outTargetMatrix.translate(-o,-l)}else this.outTargetMatrix.scale(e,t);return this.outTargetMatrix.multiply(An.a,An.b,An.c,An.d,An.e,An.f),this}rotateMatrix(e,t){const i=this.outSourceMatrix;if(An.setValue(i.a,i.b,i.c,i.d,i.e,i.f),this.outTargetMatrix.reset(),t){const{x:i,y:o}=t;this.outTargetMatrix.translate(i,o),this.outTargetMatrix.rotate(e),this.outTargetMatrix.translate(-i,-o)}else this.outTargetMatrix.rotate(e);return this.outTargetMatrix.multiply(An.a,An.b,An.c,An.d,An.e,An.f),this}scale(e,t,i){return this.mode===Tn.matrix?this.scaleMatrix(e,t,i):this}rotate(e,t){return this.mode===Tn.matrix?this.rotateMatrix(e,t):this}translateMatrix(e,t){const i=this.outSourceMatrix;return An.setValue(i.a,i.b,i.c,i.d,i.e,i.f),this.outTargetMatrix.reset(),this.outTargetMatrix.translate(e,t),this.outTargetMatrix.multiply(An.a,An.b,An.c,An.d,An.e,An.f),this}translate(e,t){return this.mode===Tn.matrix?this.translateMatrix(e,t):this}simplify(e){return this.mode===Tn.matrix?this.simplifyMatrix(e):this}simplifyMatrix(e){return this}};zn=_n([Q(),wn("design:paramtypes",[])],zn);const Bn={arc:ll,area:nl,circle:rl,line:hl,path:dl,symbol:ul,text:gl,rect:yl,polygon:cl,star:pl,richtext:fl,richtextIcon:ml,image:kl,group:al,glyph:sl},Mn=Object.keys(Bn);function On(e,t){Object.keys(t).forEach(i=>{e[i]=t[i]})}const Wn={arc:Object.assign({},Bn.arc),area:Object.assign({},Bn.area),circle:Object.assign({},Bn.circle),line:Object.assign({},Bn.line),path:Object.assign({},Bn.path),symbol:Object.assign({},Bn.symbol),text:Object.assign({},Bn.text),rect:Object.assign({},Bn.rect),polygon:Object.assign({},Bn.polygon),star:Object.assign({},Bn.star),richtext:Object.assign({},Bn.richtext),richtextIcon:Object.assign({},Bn.richtextIcon),image:Object.assign({},Bn.image),group:Object.assign({},Bn.group),glyph:Object.assign({},Bn.glyph)};class Rn{constructor(){this.initTheme(),this.dirty=!1}initTheme(){this._defaultTheme={},Mn.forEach(e=>{this._defaultTheme[e]=Object.create(Wn[e])}),this.combinedTheme=this._defaultTheme}getTheme(e){if(!e)return this.combinedTheme;if(!this.dirty)return this.combinedTheme;let t={};const i=this.getParentWithTheme(e);return i&&(t=i.theme),this.applyTheme(e,t),this.combinedTheme}getParentWithTheme(e){for(;e.parent;)if((e=e.parent).theme)return e;return null}applyTheme(e,t,i=!1){if(this.dirty){const o=this.getParentWithTheme(e);if(o){const e=o.theme;(e.dirty||i)&&e.applyTheme(o,t,!0)}this.userTheme?this.doCombine(o&&o.theme.combinedTheme):(o?this.combinedTheme=o.theme.combinedTheme:(this.combinedTheme=this._defaultTheme,mt.getInstance().warn("未知错误，走到不应该走的区域里")),this.dirty=!1)}return this.combinedTheme}doCombine(e){const t=this.userTheme,i=this.combinedTheme;Mn.forEach(o=>{const l=Object.create(Wn[o]);e&&e[o]&&On(l,e[o]),i[o]&&On(l,i[o]),t[o]&&On(l,t[o]),this.combinedTheme[o]=l}),t.common&&Mn.forEach(e=>{On(this.combinedTheme[e],t.common)}),this.dirty=!1}setTheme(e,t){let i=this.userTheme;i?Object.keys(e).forEach(t=>{i[t]?Object.assign(i[t],e[t]):i[t]=Object.assign({},e[t])}):i=e,this.userTheme=i,this.dirty=!0,this.dirtyChildren(t)}resetTheme(e,t){this.userTheme=e,this.dirty=!0,this.dirtyChildren(t)}dirtyChildren(e){e.forEachChildren(e=>{e.isContainer&&(e.theme&&(e.theme.dirty=!0),this.dirtyChildren(e))})}}const Hn=new Rn;function Pn(e,t){return e.glyphHost?Pn(e.glyphHost):t?(e.isContainer,t):function(e){let t;if(t=e.isContainer?e:e.parent,t){for(;t&&!t.theme;)t=t.parent;return t?(t.theme||t.createTheme(),t.theme.getTheme(t)):Hn.getTheme()}return null}(e)||e.attachedThemeGraphic&&Pn(e.attachedThemeGraphic)||Hn.getTheme()}var En=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(t){n(t)}}function a(e){try{s(o.throw(e))}catch(t){n(t)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};class Dn extends e{get previousSibling(){return this._prev}get nextSibling(){return this._next}get children(){return this.getChildren()}get firstChild(){return this._firstChild}get lastChild(){return this._lastChild}get count(){return this._count}get childrenCount(){return this._idMap?this._idMap.size:0}constructor(){super(),this._uid=D.GenAutoIncrementId(),this._firstChild=null,this._lastChild=null,this.parent=null,this._count=1}forEachChildren(e,t=!1){if(t){let t=this._lastChild,i=0;for(;t;){if(e(t,i++))return;t=t._prev}}else{let t=this._firstChild,i=0;for(;t;){if(e(t,i++))return;t=t._next}}}forEachChildrenAsync(e,t=!1){return En(this,void 0,void 0,function*(){if(t){let t=this._lastChild,i=0;for(;t;){let o=e(t,i++);if(o.then&&(o=yield o),o)return;t=t._prev}}else{let t=this._firstChild,i=0;for(;t;){let o=e(t,i++);if(o.then&&(o=yield o),o)return;t=t._next}}})}forEach(e){return this.forEachChildren(e)}appendChild(e,t=!0){if(this._uid===e._uid)return null;if(!t&&e.isAncestorsOf(this))throw new Error("【Node::appendChild】不能将父辈元素append为子元素");return e.parent&&e.parent.removeChild(e),e.parent=this,this._lastChild?(this._lastChild._next=e,e._prev=this._lastChild,this._lastChild=e):(this._firstChild=this._lastChild=e,e._prev=e._next=null),this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this.setCount(e.count),this._structEdit=!0,e}appendChildArrHighPerformance(e,t=!1){return console.error("暂不支持该函数"),e}insertBefore(e,t){if(!t)return this.appendChild(e);if(this===e||e===t)return null;if(e.isAncestorsOf(this))throw new Error("【Node::insertBefore】不能将父辈元素insert为子元素");return t.parent!==this?null:(e.parent&&e.parent.removeChild(e),e.parent=this,e._prev=t._prev,t._prev?t._prev._next=e:this._firstChild=e,t._prev=e,e._next=t,this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e)}insertAfter(e,t){if(!t)return this.appendChild(e);if(this===e||e===t)return null;if(e.isAncestorsOf(this))throw new Error("【Node::insertAfter】不能将父辈元素insert为子元素");return t.parent!==this?null:(e.parent&&e.parent.removeChild(e),e.parent=this,t._next?(t._next._prev=e,e._next=t._next):this._lastChild=e,t._next=e,e._prev=t,this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e)}insertInto(e,t){if(!this._ignoreWarn&&this._nodeList&&mt.getInstance().warn("insertIntoKeepIdx和insertInto混用可能会存在错误"),t>=this.childrenCount)return this.appendChild(e);if(this===e)return null;if(e.isAncestorsOf(this))throw new Error("【Node::insertBefore】不能将父辈元素insert为子元素");if(e.parent&&e.parent.removeChild(e),e.parent=this,0===t)e._next=this._firstChild,this._firstChild&&(this._firstChild._prev=e),e._prev=null,this._firstChild=e;else{let i=this._firstChild;for(let e=0;e<t;e++){if(!i)return null;e>0&&(i=i._next)}if(!i)return null;e._next=i._next,e._prev=i,i._next=e,e._next&&(e._next._prev=e)}return this._idMap||(this._idMap=new Map),this._idMap.set(e._uid,e),this._structEdit=!0,this.setCount(e.count),e}insertIntoKeepIdx(e,t){if(this._nodeList||(this._nodeList=this.children),this._nodeList[t]){const i=this._nodeList[t];return this._nodeList.splice(t,0,e),this.insertBefore(e,i)}let i;this._nodeList[t]=e;for(let l=t-1;l>=0&&(i=this._nodeList[l],!i);l--);if(i)return i._next?this.insertBefore(e,i._next):this.appendChild(e);this._ignoreWarn=!0;const o=this.insertInto(e,0);return this._ignoreWarn=!1,o}removeChild(e){if(!this._idMap)return null;if(!this._idMap.has(e._uid))return null;if(this._idMap.delete(e._uid),this._nodeList){const t=this._nodeList.findIndex(t=>t===e);t>=0&&this._nodeList.splice(t,1)}return e._prev?e._prev._next=e._next:this._firstChild=e._next,e._next?e._next._prev=e._prev:this._lastChild=e._prev,e.parent=null,e._prev=null,e._next=null,this._structEdit=!0,this.setCount(-e.count),e}delete(){this.parent&&this.parent.removeChild(this)}removeAllChild(e){if(!this._idMap)return;this._nodeList&&(this._nodeList.length=0);let t=this._firstChild;for(;t;){const e=t._next;t.parent=null,t._prev=null,t._next=null,t=t._next,t=e}this._firstChild=null,this._lastChild=null,this._idMap.clear(),this._structEdit=!0,this.setCount(1-this._count)}replaceChild(e,t){throw new Error("暂不支持")}find(e,t=!1){let i=null;return this.forEachChildren((t,o)=>!(t===this||!e(t,o)||(i=t,0))),t&&this.forEachChildren(t=>{if(t.isContainer){const o=t.find(e,!0);if(o)return i=o,!0}return!1}),i}findAll(e,t=!1){let i=[];return this.forEachChildren((t,o)=>{t!==this&&e(t,o)&&i.push(t)}),t&&this.forEachChildren(t=>{if(t.isContainer){const o=t.findAll(e,!0);o.length&&(i=i.concat(o))}}),i}getElementById(e){return this.find(t=>t.id===e,!0)}findChildById(e){return this.getElementById(e)}findChildByUid(e){return this._idMap&&this._idMap.get(e)||null}getElementsByName(e){return this.findAll(t=>t.name===e,!0)}findChildrenByName(e){return this.getElementsByName(e)}getElementsByType(e){return this.findAll(t=>t.type===e,!0)}getChildByName(e,t=!1){return this.find(t=>t.name===e,t)}getChildAt(e){let t=this._firstChild;if(!t)return null;for(let i=0;i<e;i++){if(!t._next)return null;t=t._next}return t}at(e){return this.getChildAt(e)}containNode(e){if(!this._idMap)return!1;if(this._idMap.has(e._uid))return!0;let t=this._firstChild;for(;t;){if(t.containNode(e))return!0;t=t._next}return!1}getRootNode(){let e=this.parent;for(;null==e?void 0:e.parent;)e=e.parent;return e||this}hasChildNodes(){return null!==this._firstChild}addChild(e){return this.appendChild(e)}add(e){return this.appendChild(e)}getChildren(){const e=[];let t=this._firstChild;for(;t;)e.push(t),t=t._next;return e}isChildOf(e){return!!this.parent&&this.parent._uid===e._uid}isParentOf(e){return e.isChildOf(this)}isDescendantsOf(e){let t=this.parent;if(!t)return!1;do{if(t._uid===e._uid)return!0;t=t.parent}while(null!==t);return!1}isAncestorsOf(e){return e.isDescendantsOf(this)}getAncestor(e){throw new Error("暂不支持")}setAllDescendantsProps(e,t){let i=this._firstChild;for(;i;)i[e]=t,i.setAllDescendantsProps(e,t),i=i._next}setCount(e){this._count+=e;let t=this.parent;if(t)do{t._count+=e,t=t.parent}while(null!==t)}clone(){throw new Error("暂不支持")}cloneTo(e){throw new Error("暂不支持")}getParent(){return this.parent}del(e){return this.removeChild(e)}addEventListener(e,t,i){const o=Pe(i,!0)&&i||je(i)&&i.capture,l=je(i)&&i.once,n=Ee(t)?void 0:t;return e=o?`${e}capture`:e,t=Ee(t)?t:t.handleEvent,l?super.once(e,t,n):super.on(e,t,n),this}on(e,t,i){return this.addEventListener(e,t,i)}removeEventListener(e,t,i){const o=Pe(i,!0)&&i||je(i)&&i.capture,l=Ee(t)?void 0:t;e=o?`${e}capture`:e,t=Ee(t)?t:t.handleEvent;const n=je(i)&&i.once;return super.off(e,t,l,n),this}off(e,t,i){return this.removeEventListener(e,t,i)}once(e,t,i){return je(i)?(i.once=!0,this.addEventListener(e,t,i)):this.addEventListener(e,t,{once:!0})}removeAllEventListeners(){return super.removeAllListeners(),this}removeAllListeners(){return this.removeAllEventListeners()}dispatchEvent(e,...t){return super.emit(e.type,e,...t),!e.defaultPrevented}emit(e,t){return this.dispatchEvent(e,t)}release(){this.removeAllListeners()}}class In{get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get x(){return this.canvas.x}get y(){return this.canvas.y}get canvasX(){return this.canvas.x}get canvasY(){return this.canvas.y}get viewX(){return this.viewport.x}get viewY(){return this.viewport.y}constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=In.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer={x:0,y:0},this.page={x:0,y:0},this.canvas={x:0,y:0},this.viewport={x:0,y:0},this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}composedPath(){return!this.manager||this.path&&this.path[this.path.length-1]===this.target||(this.path=this.target?this.manager.propagationPath(this.target):[]),this.composedDetailPath(),this.path}composedDetailPath(){return this.pickParams&&this.pickParams.graphic?(this.detailPath=this.path.slice(),this._composedDetailPath(this.pickParams)):this.detailPath=this.path.slice(),this.detailPath}_composedDetailPath(e){if(e&&e.graphic){const t=e.graphic;if(t.stage){const i=t.stage.eventSystem.manager.propagationPath(t);this.detailPath.push(i),this._composedDetailPath(e.params)}}}preventDefault(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault()}catch(nH){this.nativeEvent.preventDefault&&Ee(this.nativeEvent.preventDefault)&&this.nativeEvent.preventDefault()}this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){try{this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.stopPropagation()}catch(nH){this.nativeEvent.stopPropagation&&Ee(this.nativeEvent.stopPropagation)&&this.nativeEvent.stopPropagation()}this.propagationStopped=!0}initEvent(){}initUIEvent(){}clone(){throw new Error("Method not implemented.")}}class jn extends In{constructor(){super(...arguments),this.client={x:0,y:0},this.movement={x:0,y:0},this.offset={x:0,y:0},this.global={x:0,y:0},this.screen={x:0,y:0}}get clientX(){return this.client.x}get clientY(){return this.client.y}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,i,o,l,n,r,a,s,h,d,c,p,y,u){throw new Error("Method not implemented.")}}class Nn extends jn{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}clone(){var e,t,i;const o=new Nn(this.manager);o.eventPhase=o.NONE,o.currentTarget=null,o.path=[],o.detailPath=[],o.target=null,o.nativeEvent=this.nativeEvent,o.originalEvent=this.originalEvent,null===(e=this.manager)||void 0===e||e.copyPointerData(this,o),null===(t=this.manager)||void 0===t||t.copyMouseData(this,o),null===(i=this.manager)||void 0===i||i.copyData(this,o),o.target=this.target,o.path=this.composedPath().slice();const l=this.composedDetailPath();return o.detailPath=l&&l.slice(),o.type=this.type,o}}class Gn extends jn{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}clone(){var e,t,i;const o=new Gn(this.manager);o.eventPhase=o.NONE,o.currentTarget=null,o.path=[],o.detailPath=[],o.target=null,o.nativeEvent=this.nativeEvent,o.originalEvent=this.originalEvent,null===(e=this.manager)||void 0===e||e.copyWheelData(this,o),null===(t=this.manager)||void 0===t||t.copyMouseData(this,o),null===(i=this.manager)||void 0===i||i.copyData(this,o),o.target=this.target,o.path=this.composedPath().slice();const l=this.composedDetailPath();return o.detailPath=l&&l.slice(),o.type=this.type,o}}Gn.DOM_DELTA_PIXEL=0,Gn.DOM_DELTA_LINE=1,Gn.DOM_DELTA_PAGE=2;class Un extends In{constructor(e,t){super(),this.type=e,this.detail=t}}const Vn="object"==typeof performance&&performance.now?performance:Date;function Yn(e){return"mouse"===e||"pen"===e}class Zn{constructor(t,i){this.dispatch=new e,this.cursorTarget=null,this.pauseNotify=!1,this.mappingState={trackingData:{}},this.eventPool=new Map,this.onPointerDown=(e,t)=>{if(!(e instanceof Nn))return void mt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const i=this.createPointerEvent(e,e.type,t);if(this.dispatchEvent(i,"pointerdown"),"touch"===i.pointerType)this.dispatchEvent(i,"touchstart");else if(Yn(i.pointerType)){const e=2===i.button;this.dispatchEvent(i,e?"rightdown":"mousedown")}this.trackingData(e.pointerId).pressTargetsByButton[e.button]=i.composedPath(),this.freeEvent(i)},this.onPointerMove=(e,t)=>{var i,o;if(!(e instanceof Nn))return void mt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const l=this.createPointerEvent(e,e.type,t),n=Yn(l.pointerType),r=this.trackingData(e.pointerId),a=this.findMountedTarget(r.overTargets);if(r.overTargets&&a&&a!==this.rootTarget&&a!==l.target){const t="mousemove"===e.type?"mouseout":"pointerout",i=this.createPointerEvent(e,t,a||void 0);if(this.dispatchEvent(i,"pointerout"),n&&this.dispatchEvent(i,"mouseout"),!l.composedPath().includes(a)){const t=this.createPointerEvent(e,"pointerleave",a||void 0);for(t.eventPhase=t.AT_TARGET;t.target&&!l.composedPath().includes(t.target);)t.currentTarget=t.target,this.notifyTarget(t),n&&this.notifyTarget(t,"mouseleave"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(i)}if(a!==l.target){const t="mousemove"===e.type?"mouseover":"pointerover",i=this.clonePointerEvent(l,t);this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover");let o=null==a?void 0:a.parent;for(;o&&o!==this.rootTarget.parent&&o!==l.target;)o=o.parent;if(!o||o===this.rootTarget.parent){const e=this.clonePointerEvent(l,"pointerenter");e.eventPhase=e.AT_TARGET;let t=e.target;const i=new Set;let o=a;for(;o&&o!==this.rootTarget;)i.add(o),o=o.parent;for(;t&&t!==a&&t!==this.rootTarget.parent;)i.has(t)||(e.currentTarget=t,this.notifyTarget(e),n&&this.notifyTarget(e,"mouseenter")),t=t.parent;this.freeEvent(e)}this.freeEvent(i)}this.dispatchEvent(l,"pointermove"),"touch"===l.pointerType&&this.dispatchEvent(l,"touchmove"),n&&(this.dispatchEvent(l,"mousemove"),this.cursorTarget=l.target,this.cursor=(null===(o=null===(i=l.target)||void 0===i?void 0:i.attribute)||void 0===o?void 0:o.cursor)||this.rootTarget.getCursor()),r.overTargets=l.composedPath(),this.freeEvent(l)},this.onPointerOver=(e,t)=>{var i,o;if(!(e instanceof Nn))return void mt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const l=this.trackingData(e.pointerId),n=this.createPointerEvent(e,e.type,t),r=Yn(n.pointerType);this.dispatchEvent(n,"pointerover"),r&&this.dispatchEvent(n,"mouseover"),"mouse"===n.pointerType&&(this.cursorTarget=n.target,this.cursor=(null===(o=null===(i=n.target)||void 0===i?void 0:i.attribute)||void 0===o?void 0:o.cursor)||this.rootTarget.getCursor());const a=this.clonePointerEvent(n,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),r&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;l.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(a)},this.onPointerOut=(e,t)=>{if(!(e instanceof Nn))return void mt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const i=this.trackingData(e.pointerId);if(i.overTargets){const t=Yn(e.pointerType),o=this.findMountedTarget(i.overTargets),l=this.createPointerEvent(e,"pointerout",o||void 0);this.dispatchEvent(l),t&&this.dispatchEvent(l,"mouseout");const n=this.createPointerEvent(e,"pointerleave",o||void 0);for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),t&&this.notifyTarget(n,"mouseleave"),n.target=n.target.parent;i.overTargets=[],this.freeEvent(l),this.freeEvent(n)}this.cursorTarget=null,this.cursor=""},this.onPointerUp=(e,t)=>{var i;if(!(e instanceof Nn))return void mt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const o=Vn.now(),l=this.createPointerEvent(e,e.type,t);if(this.dispatchEvent(l,"pointerup"),"touch"===l.pointerType)this.dispatchEvent(l,"touchend");else if(Yn(l.pointerType)){const e=2===l.button;this.dispatchEvent(l,e?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),r=this.findMountedTarget(n.pressTargetsByButton[e.button]);let a=r;if(r&&!l.composedPath().includes(r)){let t=r;for(;t&&!l.composedPath().includes(t);){if(l.currentTarget=t,this.notifyTarget(l,"pointerupoutside"),"touch"===l.pointerType)this.notifyTarget(l,"touchendoutside");else if(Yn(l.pointerType)){const e=2===l.button;this.notifyTarget(l,e?"rightupoutside":"mouseupoutside")}t=t.parent}delete n.pressTargetsByButton[e.button],a=t}if(a){const t=this.clonePointerEvent(l,"click");t.target=a,t.path=[],t.detailPath=[],n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:t.target,timeStamp:o});const r=n.clicksByButton[e.button];r.target===t.target&&o-r.timeStamp<(null!==(i=this._config.clickInterval)&&void 0!==i?i:200)?++r.clickCount:r.clickCount=1,r.target=t.target,r.timeStamp=o,t.detail=r.clickCount,Yn(t.pointerType)?(this.dispatchEvent(t,"click"),2===r.clickCount&&this.dispatchEvent(t,"dblclick")):"touch"===t.pointerType&&this._config.supportsTouchEvents&&(this.dispatchEvent(t,"tap"),2===r.clickCount&&this.dispatchEvent(t,"dbltap")),this.dispatchEvent(t,"pointertap"),this.freeEvent(t)}this.freeEvent(l)},this.onPointerUpOutside=(e,t)=>{if(!(e instanceof Nn))return void mt.getInstance().warn("EventManager cannot map a non-pointer event as a pointer event");const i=this.trackingData(e.pointerId),o=this.findMountedTarget(i.pressTargetsByButton[e.button]),l=this.createPointerEvent(e,e.type,t);if(o){let t=o;for(;t;)l.currentTarget=t,this.notifyTarget(l,"pointerupoutside"),"touch"===l.pointerType?this.notifyTarget(l,"touchendoutside"):Yn(l.pointerType)&&this.notifyTarget(l,2===l.button?"rightupoutside":"mouseupoutside"),t=t.parent;delete i.pressTargetsByButton[e.button]}this.freeEvent(l)},this.onWheel=(e,t)=>{if(!(e instanceof Gn))return void mt.getInstance().warn("EventManager cannot map a non-wheel event as a wheel event");const i=this.createWheelEvent(e,t);this.dispatchEvent(i),this.freeEvent(i)},this.rootTarget=t,this.mappingTable={},this._config=Object.assign({clickInterval:200},i),this.addEventMapping("pointerdown",this.onPointerDown),this.addEventMapping("pointermove",this.onPointerMove),this.addEventMapping("pointerout",this.onPointerOut),this.addEventMapping("pointerleave",this.onPointerOut),this.addEventMapping("pointerover",this.onPointerOver),this.addEventMapping("pointerup",this.onPointerUp),this.addEventMapping("pointerupoutside",this.onPointerUpOutside),this.addEventMapping("wheel",this.onWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((e,t)=>e.priority-t.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){var t,i,o,l,n,r,a;if(!this.rootTarget)return;const s=this.mappingTable[e.type];let h;const d=`${e.canvasX}-${e.canvasY}`;if((null===(t=this._prePointTargetCache)||void 0===t?void 0:t[d])&&(null===(o=null===(i=this._prePointTargetCache)||void 0===i?void 0:i[d])||void 0===o?void 0:o.stage)&&(null===(n=null===(l=this._prePointTargetCache)||void 0===l?void 0:l[d])||void 0===n?void 0:n.stage.renderCount)===(null===(r=this._prePointTargetCache)||void 0===r?void 0:r.stageRenderCount)?h=this._prePointTargetCache[d]:(h=this.pickTarget(e.viewX,e.viewY,e),e.pickParams||(this._prePointTargetCache={[d]:h,stageRenderCount:null!==(a=null==h?void 0:h.stage.renderCount)&&void 0!==a?a:-1})),s)for(let c=0,p=s.length;c<p;c++)s[c].fn(e,h);else mt.getInstance().warn(`[EventManager]: Event mapping not defined for ${e.type}`)}propagate(e,t){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let o=0,l=i.length-1;o<l;o++)if(e.currentTarget=i[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!e.propagationStopped&&!e.propagationImmediatelyStopped){e.eventPhase=e.BUBBLING_PHASE;for(let o=i.length-2;o>=0;o--)if(e.currentTarget=i[o],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}propagationPath(e){const t=[e];for(let i=0;i<2048&&e!==this.rootTarget&&e.parent;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}notifyTarget(e,t){if(this.pauseNotify)return;t=null!=t?t:e.type;const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let i=1;i<e.length&&e[i].parent===t;i++)t=e[i];return t}createPointerEvent(e,t,i){var o,l;const n=this.allocateEvent(Nn);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i||this.pickTarget(null!==(o=n.viewX)&&void 0!==o?o:n.global.x,null!==(l=n.viewY)&&void 0!==l?l:n.global.y,n),"string"==typeof t&&(n.type=t),n}createWheelEvent(e,t){var i,o;const l=this.allocateEvent(Gn);return this.copyWheelData(e,l),this.copyMouseData(e,l),this.copyData(e,l),l.nativeEvent=e.nativeEvent,l.originalEvent=e,l.target=t||this.pickTarget(null!==(i=l.viewX)&&void 0!==i?i:l.global.x,null!==(o=l.viewY)&&void 0!==o?o:l.global.y,l),l}clonePointerEvent(e,t){const i=this.allocateEvent(Nn);i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice();const o=e.composedDetailPath();return i.detailPath=o&&o.slice(),i.type=null!=t?t:i.type,i}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Nn&&t instanceof Nn&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof jn&&t instanceof jn&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.ctrlKey=e.ctrlKey,t.shiftKey=e.shiftKey,t.metaKey=e.metaKey,["client","movement","canvas","screen","global","offset","viewport"].forEach(i=>{t[i].x=e[i].x,t[i].y=e[i].y}))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=Vn.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.x=e.layer.x,t.layer.y=e.layer.y,t.page.x=e.page.x,t.page.y=e.page.y,t.pickParams=e.pickParams}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){var t;this.eventPool.has(e)||this.eventPool.set(e,[]);const i=(null===(t=this.eventPool.get(e))||void 0===t?void 0:t.pop())||new e(this);return i.eventPhase=i.NONE,i.currentTarget=null,i.path=[],i.detailPath=[],i.target=null,i}freeEvent(e){var t;if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventManager!");const i=e.constructor;this.eventPool.has(i)||this.eventPool.set(i,[]),null===(t=this.eventPool.get(i))||void 0===t||t.push(e)}notifyListeners(e,t){const i=e.currentTarget._events[t];if(i)if("fn"in i)i.once&&e.currentTarget.removeEventListener(t,i.fn,{once:!0}),i.fn.call(i.context,e);else for(let o=0,l=i.length;o<l&&!e.propagationImmediatelyStopped;o++)i[o].once&&e.currentTarget.removeEventListener(t,i[o].fn,{once:!0}),i[o].fn.call(i[o].context,e);this.emitDelegation(e,t)}emitDelegation(e,t){const i=e.currentTarget._events["*"];if(i)if("fn"in i)i.fn.call(i.context,e,t);else for(let o=0,l=i.length;o<l&&!e.propagationImmediatelyStopped;o++)i[o].fn.call(i[o].context,e,t)}pickTarget(e,t,i){let o;const l=this.rootTarget.pick(e,t);return o=l&&l.graphic?l.graphic:l&&l.group?l.group:this.rootTarget.AABBBounds.contains(e,t)?this.rootTarget:null,i&&(i.pickParams=l.params),o}release(){this.dispatch.removeAllListeners(),this.eventPool.clear(),this.rootTarget=null,this.mappingTable=null,this.mappingState=null,this.cursorTarget=null}}const Xn={dispatchEvent(e){var t;if(!(e instanceof In))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=[],e.detailPath&&(e.detailPath=[]),e.target=this,null===(t=null==e?void 0:e.manager)||void 0===t||t.dispatchEvent(e),!e.defaultPrevented},emit(e,t){return this.dispatchEvent(new Un(e,t))}},$n={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"};class Kn{constructor(e){this.resolution=1,this.onPointerDown=e=>{if(this.supportsTouchEvents&&"touch"===e.pointerType)return;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,o=t.length;i<o;i++){const e=t[i],o=this.bootstrapEvent(this.rootPointerEvent,e);this.manager.mapEvent(o)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerMove=e=>{if(this.supportsTouchEvents&&"touch"===e.pointerType)return;if(this.isEventOutsideOfTargetElement(e))return;const t=this.normalizeToPointerData(e);for(let i=0,o=t.length;i<o;i++){const e=this.bootstrapEvent(this.rootPointerEvent,t[i]);this.manager.mapEvent(e)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerUp=e=>{if(this.supportsTouchEvents&&"touch"===e.pointerType)return;const t=this.isEventOutsideOfTargetViewPort(e)?"outside":"",i=this.normalizeToPointerData(e);for(let o=0,l=i.length;o<l;o++){const e=this.bootstrapEvent(this.rootPointerEvent,i[o]);e.type+=t,this.manager.mapEvent(e)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onPointerOverOut=e=>{if(this.supportsTouchEvents&&"touch"===e.pointerType)return;const t=this.normalizeToPointerData(e);for(let i=0,o=t.length;i<o;i++){const e=this.bootstrapEvent(this.rootPointerEvent,t[i]);this.manager.mapEvent(e)}this.setCursor(this.manager.cursor,this.manager.cursorTarget),this.rootPointerEvent.nativeEvent=null},this.onWheel=e=>{const t=this.normalizeWheelEvent(e);this.manager.mapEvent(t)};const{targetElement:t,resolution:i,rootNode:o,global:l,autoPreventDefault:n=!1,clickInterval:r,supportsTouchEvents:a=l.supportsTouchEvents,supportsPointerEvents:s=l.supportsPointerEvents}=e;this.manager=new Zn(o,{clickInterval:r,supportsTouchEvents:a}),this.globalObj=l,this.supportsPointerEvents=s,this.supportsTouchEvents=a,this.supportsMouseEvents=l.supportsMouseEvents,this.applyStyles=l.applyStyles,this.autoPreventDefault=n,this.eventsAdded=!1,this.rootPointerEvent=new Nn,this.rootWheelEvent=new Gn,this.cursorStyles={default:"inherit",pointer:"pointer"},this.resolution=i,this.setTargetElement(t)}release(){this.removeEvents(),this.manager&&this.manager.release(),this.domElement=null,this.manager=null,this.globalObj=null}setCursor(e,t){if(!t&&!this.manager.rootTarget.window._handler.canvas.controled)return;e||(e="default");const{applyStyles:i,domElement:o}=this;if(this.currentCursor===e)return;this.currentCursor=e;const l=this.cursorStyles[e];l?"string"==typeof l&&i?o.style.cursor=l:"function"==typeof l?l(e):"object"==typeof l&&i&&Object.assign(o.style,l):i&&Ue(e)&&!((e,t)=>null!=e&&Qe.call(e,t))(this.cursorStyles,e)&&(o.style.cursor=e)}setTargetElement(e){this.removeEvents(),this.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;const{globalObj:e,domElement:t}=this;this.supportsPointerEvents?(e.getDocument()?(e.addEventListener("pointermove",this.onPointerMove,!0),e.addEventListener("pointerup",this.onPointerUp,!0)):(t.addEventListener("pointermove",this.onPointerMove,!0),t.addEventListener("pointerup",this.onPointerUp,!0)),t.addEventListener("pointerdown",this.onPointerDown,!0),t.addEventListener("pointerleave",this.onPointerOverOut,!0),t.addEventListener("pointerover",this.onPointerOverOut,!0)):(e.getDocument()?(e.addEventListener("mousemove",this.onPointerMove,!0),e.addEventListener("mouseup",this.onPointerUp,!0)):(t.addEventListener("mousemove",this.onPointerMove,!0),t.addEventListener("mouseup",this.onPointerUp,!0)),t.addEventListener("mousedown",this.onPointerDown,!0),t.addEventListener("mouseout",this.onPointerOverOut,!0),t.addEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(t.addEventListener("touchstart",this.onPointerDown,!0),t.addEventListener("touchend",this.onPointerUp,!0),t.addEventListener("touchmove",this.onPointerMove,!0)),t.addEventListener("wheel",this.onWheel,{capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;const{globalObj:e,domElement:t}=this;this.supportsPointerEvents?(e.getDocument()?(e.removeEventListener("pointermove",this.onPointerMove,!0),e.removeEventListener("pointerup",this.onPointerUp,!0)):(t.removeEventListener("pointermove",this.onPointerMove,!0),t.removeEventListener("pointerup",this.onPointerUp,!0)),t.removeEventListener("pointerdown",this.onPointerDown,!0),t.removeEventListener("pointerleave",this.onPointerOverOut,!0),t.removeEventListener("pointerover",this.onPointerOverOut,!0)):(e.getDocument()?(e.removeEventListener("mousemove",this.onPointerMove,!0),e.removeEventListener("mouseup",this.onPointerUp,!0)):(t.removeEventListener("mousemove",this.onPointerMove,!0),t.removeEventListener("mouseup",this.onPointerUp,!0)),t.removeEventListener("mousedown",this.onPointerDown,!0),t.removeEventListener("mouseout",this.onPointerOverOut,!0),t.removeEventListener("mouseover",this.onPointerOverOut,!0)),this.supportsTouchEvents&&(t.removeEventListener("touchstart",this.onPointerDown,!0),t.removeEventListener("touchend",this.onPointerUp,!0),t.removeEventListener("touchmove",this.onPointerMove,!0)),t.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapToViewportPoint(e){return this.domElement.pointTransform?this.domElement.pointTransform(e.x,e.y):e}mapToCanvasPoint(e){var t,i;const o=null===(t=this.globalObj)||void 0===t?void 0:t.mapToCanvasPoint(e,this.domElement);if(o)return o;let l=0,n=0;if(e.changedTouches){const t=null!==(i=e.changedTouches[0])&&void 0!==i?i:{};l=t.clientX||0,n=t.clientY||0}else l=e.clientX||0,n=e.clientY||0;const r=this.domElement.getBoundingClientRect();return{x:l-r.left,y:n-r.top}}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e.changedTouches&&e.changedTouches.length)for(let i=0,o=e.changedTouches.length;i<o;i++){const o=e.changedTouches[i];Ge(o.button)&&(o.button=0),Ge(o.buttons)&&(o.buttons=1),Ge(o.isPrimary)&&(o.isPrimary=1===e.touches.length&&"touchstart"===e.type),Ge(o.width)&&(o.width=o.radiusX||1),Ge(o.height)&&(o.height=o.radiusY||1),Ge(o.tiltX)&&(o.tiltX=0),Ge(o.tiltY)&&(o.tiltY=0),Ge(o.pointerType)&&(o.pointerType="touch"),Ge(o.pointerId)&&(o.pointerId=o.identifier||0),Ge(o.pressure)&&(o.pressure=o.force||.5),Ge(o.twist)&&(o.twist=0),Ge(o.tangentialPressure)&&(o.tangentialPressure=0),Ge(o.layerX)&&(o.layerX=o.offsetX=o.clientX),Ge(o.layerY)&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,o.type=e.type,t.push(o)}else if(!this.globalObj.supportsMouseEvents||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof PointerEvent)){const i=e;Ge(i.isPrimary)&&(i.isPrimary=!0),Ge(i.width)&&(i.width=1),Ge(i.height)&&(i.height=1),Ge(i.tiltX)&&(i.tiltX=0),Ge(i.tiltY)&&(i.tiltY=0),Ge(i.pointerType)&&(i.pointerType="mouse"),Ge(i.pointerId)&&(i.pointerId=1),Ge(i.pressure)&&(i.pressure=.5),Ge(i.twist)&&(i.twist=0),Ge(i.tangentialPressure)&&(i.tangentialPressure=0),i.isNormalized=!0,t.push(i)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;this.transferMouseData(t,e),t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ;const{x:i,y:o}=this.mapToCanvasPoint(e);t.canvas.x=i,t.canvas.y=o,t.global.x=i,t.global.y=o,t.offset.x=i,t.offset.y=o;const{x:l,y:n}=this.mapToViewportPoint(t);return t.viewport.x=l,t.viewport.y=n,t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t);const{x:i,y:o}=this.mapToCanvasPoint(t);e.canvas.x=i,e.canvas.y=o,e.global.x=i,e.global.y=o,e.offset.x=i,e.offset.y=o;const{x:l,y:n}=this.mapToViewportPoint(e);return e.viewport.x=l,e.viewport.y=n,e.isTrusted=t.isTrusted,"pointerleave"===e.type&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=$n[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=Vn.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.shiftKey=t.shiftKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null}isEventOutsideOfTargetViewPort(e){if(this.isEventOutsideOfTargetElement(e))return!0;if(this.domElement.getViewBox){const t=this.mapToViewportPoint(this.mapToCanvasPoint(e)),i=this.domElement.getViewBox(),o=i.width(),l=i.height();return!(t.x<o&&t.y<l&&t.x>0&&t.y>0)}return!1}isEventOutsideOfTargetElement(e){let t=e.target;return e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]),t!==(this.domElement.getNativeHandler?this.domElement.getNativeHandler().nativeCanvas:this.domElement)}pauseTriggerEvent(){this.manager.pauseNotify=!0}resumeTriggerEvent(){this.manager.pauseNotify=!1}}class qn{static GetImage(e,t){var i;const o=qn.cache.get(e);o?"fail"===o.loadState?xe.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):"init"===o.loadState||"loading"===o.loadState?null===(i=o.waitingMark)||void 0===i||i.push(t):t&&t.imageLoadSuccess(e,o.data):qn.loadImage(e,t)}static GetSvg(e,t){var i;let o=qn.cache.get(e);o?"fail"===o.loadState?xe.global.getRequestAnimationFrame()(()=>{t.imageLoadFail(e)}):"init"===o.loadState||"loading"===o.loadState?null===(i=o.waitingMark)||void 0===i||i.push(t):t&&t.imageLoadSuccess(e,o.data):(o={type:"image",loadState:"init"},qn.cache.set(e,o),o.dataPromise=xe.global.loadSvg(e),o.dataPromise?(o.waitingMark=[t],o.dataPromise.then(t=>{var i;o.loadState=(null==t?void 0:t.data)?"success":"fail",o.data=null==t?void 0:t.data,null===(i=o.waitingMark)||void 0===i||i.map((i,l)=>{(null==t?void 0:t.data)?(o.loadState="success",o.data=t.data,i.imageLoadSuccess(e,t.data)):(o.loadState="fail",i.imageLoadFail(e))}),o.waitingMark&&(o.waitingMark=[])})):(o.loadState="fail",t.imageLoadFail(e)))}static GetFile(e,t){let i=qn.cache.get(e);return i?"fail"===i.loadState?Promise.reject():"init"===i.loadState||"loading"===i.loadState?i.dataPromise.then(e=>e.data):Promise.resolve(i.data):(i={type:t,loadState:"init"},qn.cache.set(e,i),"arrayBuffer"===t?i.dataPromise=xe.global.loadArrayBuffer(e):"blob"===t?i.dataPromise=xe.global.loadBlob(e):"json"===t&&(i.dataPromise=xe.global.loadJson(e)),i.dataPromise.then(e=>e.data))}static loading(){setTimeout(()=>{if(!qn.isLoading&&qn.toLoadAueue.length){qn.isLoading=!0;const e=qn.toLoadAueue.splice(0,10),t=[];e.forEach(e=>{const{url:i,marks:o}=e,l={type:"image",loadState:"init"};if(qn.cache.set(i,l),l.dataPromise=xe.global.loadImage(i),l.dataPromise){l.waitingMark=o;const e=l.dataPromise.then(e=>{var t;l.loadState=(null==e?void 0:e.data)?"success":"fail",l.data=null==e?void 0:e.data,null===(t=l.waitingMark)||void 0===t||t.map((t,o)=>{(null==e?void 0:e.data)?(l.loadState="success",l.data=e.data,t.imageLoadSuccess(i,e.data)):(l.loadState="fail",t.imageLoadFail(i))}),l.waitingMark&&(l.waitingMark=[])});t.push(e)}else l.loadState="fail",o.forEach(e=>e.imageLoadFail(i))}),Promise.all(t).then(()=>{qn.isLoading=!1,this.onLoadSuccessCb.forEach(e=>e()),qn.loading()}).catch(e=>{console.error(e),qn.isLoading=!1,this.onLoadSuccessCb.forEach(e=>e()),qn.loading()})}},0)}static loadImage(e,t){const i=Jn(e,qn.toLoadAueue);if(-1!==i)return qn.toLoadAueue[i].marks.push(t),void qn.loading();qn.toLoadAueue.push({url:e,marks:[t]}),qn.loading()}static improveImageLoading(e){const t=Jn(e,qn.toLoadAueue);if(-1!==t){const e=qn.toLoadAueue.splice(t,1);qn.toLoadAueue.unshift(e[0])}}static onLoadSuccess(e){this.onLoadSuccessCb.push(e)}}function Jn(e,t){for(let i=0;i<t.length;i++)if(t[i].url===e)return i;return-1}var Qn;qn.cache=new Map,qn.isLoading=!1,qn.toLoadAueue=[],qn.onLoadSuccessCb=[],function(e){e[e.Top=1]="Top",e[e.Right=2]="Right",e[e.Bottom=4]="Bottom",e[e.Left=8]="Left",e[e.ALL=15]="ALL"}(Qn||(Qn={}));const er=[!1,!1,!1,!1],tr=[0,0,0,0],ir=e=>e?Ve(e)?0===e.length?0:1===e.length?e[0]:2===e.length?(tr[0]=e[0],tr[2]=e[0],tr[1]=e[1],tr[3]=e[1],tr):e:e:0,or=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],lr=[1,2,3,0,1,2,3,0];function nr(e,t,i,o){for(;e>=Bt;)e-=Bt;for(;e<0;)e+=Bt;for(;e>t;)t+=Bt;or[0].x=i,or[1].y=i,or[2].x=-i,or[3].y=-i;const l=Math.ceil(e/At)%4,n=Math.ceil(t/At)%4;if(o.add(Wt(e)*i,Pt(e)*i),o.add(Wt(t)*i,Pt(t)*i),l!==n||t-e>Tt){let e=!1;for(let t=0;t<lr.length;t++)if(e||l!==lr[t]){if(e&&n===lr[t])break;if(e){const e=or[lr[t]];o.add(e.x,e.y)}}else{e=!0;const t=or[l];o.add(t.x,t.y)}}}function rr(e,t,i){const{x:o,y:l}=jt(e.x,e.y,t.x,t.y,i),{x:n,y:r}=jt(e.x1,e.y1,t.x1,t.y1,i),a=new Gt(o,l,n,r);return a.defined=t.defined,a}function ar(e,t,i){if(!e||!t)return[];Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]);let o=[];if(e.length>t.length){o=t.map(e=>{const t=new Gt(e.x,e.y,e.x1,e.y1);return t.defined=e.defined,t});for(let l=0;l<t.length;l++)o[l]=rr(e[l],t[l],i)}else{o=t.map(e=>{const t=new Gt(e.x,e.y,e.x1,e.y1);return t.defined=e.defined,t});for(let l=0;l<e.length;l++)o[l]=rr(e[l],t[l],i)}return o}function sr(e,t){if(Ve(e)){let i;for(let o=0;o<e.length&&void 0===i;o++)i=e[o][t];return i}return e[t]}class hr{constructor(e=hr.TimeOut){this.durations=[],this.timeout=e,this.lastDate=0,this.durationsListThreshold=30}call(e){return this.lastDate=Date.now(),setTimeout(()=>{this.appendDuration(Date.now()-this.lastDate),e(0)},this.timeout,!0)}clear(e){clearTimeout(e)}appendDuration(e){this.durations.push(e),this.durations.length>this.durationsListThreshold&&this.durations.shift(),this.timeout=Math.min(Math.max(this.durations.reduce((e,t)=>e+t,0)/this.durations.length,1e3/60),1e3/30)}}hr.TimeOut=1e3/60;const dr=new hr,cr=(e,t)=>{const i=((e,t)=>Ue(e)&&"%"===e[e.length-1]?t*(Number.parseFloat(e.substring(0,e.length-1))/100):e)(e,t);return isNaN(i)?i:Math.max(t,i)};class pr{bounds(e,t){if(Ze(e)){const i=e/2;t.x1=-i,t.x2=i,t.y1=-i,t.y2=i}else t.x1=-e[0]/2,t.x2=e[0]/2,t.y1=-e[1]/2,t.y2=e[1]/2}parseSize(e){return Ze(e)?e:Math.min(e[0],e[1])}}function yr(e,t,i,o,l){return l?e.arc(i,o,t,0,zt,!1,l):e.arc(i,o,t,0,zt),!1}const ur=new class extends pr{constructor(){super(...arguments),this.type="circle",this.pathStr="M0.5,0A0.5,0.5,0,1,1,-0.5,0A0.5,0.5,0,1,1,0.5,0"}draw(e,t,i,o,l){return yr(e,this.parseSize(t)/2,i,o,l)}drawOffset(e,t,i,o,l,n){return yr(e,this.parseSize(t)/2+l,i,o,n)}drawToSvgPath(e,t,i,o){const l=this.parseSize(e)/2;return`M ${t-l}, ${i} a ${l},${l} 0 1,0 ${2*l},0 a ${l},${l} 0 1,0 -${2*l},0`}};const gr=new class extends pr{constructor(){super(...arguments),this.type="cross",this.pathStr="M-0.5,-0.2L-0.5,0.2L-0.2,0.2L-0.2,0.5L0.2,0.5L0.2,0.2L0.5,0.2L0.5,-0.2L0.2,-0.2L0.2,-0.5L-0.2,-0.5L-0.2,-0.2Z"}draw(e,t,i,o,l){return function(e,t,i,o,l){return e.moveTo(-3*t+i,-t+o,l),e.lineTo(-t+i,-t+o,l),e.lineTo(-t+i,-3*t+o,l),e.lineTo(t+i,-3*t+o,l),e.lineTo(t+i,-t+o,l),e.lineTo(3*t+i,-t+o,l),e.lineTo(3*t+i,t+o,l),e.lineTo(t+i,t+o,l),e.lineTo(t+i,3*t+o,l),e.lineTo(-t+i,3*t+o,l),e.lineTo(-t+i,t+o,l),e.lineTo(-3*t+i,t+o,l),e.closePath(),!0}(e,this.parseSize(t)/6,i,o,l)}drawOffset(e,t,i,o,l,n){return function(e,t,i,o,l,n){return e.moveTo(-3*t+i-l,-t+o-l,n),e.lineTo(-t+i-l,-t+o-l,n),e.lineTo(-t+i-l,-3*t+o-l,n),e.lineTo(t+i+l,-3*t+o-l,n),e.lineTo(t+i+l,-t+o-l,n),e.lineTo(3*t+i+l,-t+o-l,n),e.lineTo(3*t+i+l,t+o+l,n),e.lineTo(t+i+l,t+o+l,n),e.lineTo(t+i+l,3*t+o+l,n),e.lineTo(-t+i-l,3*t+o+l,n),e.lineTo(-t+i-l,t+o+l,n),e.lineTo(-3*t+i-l,t+o+l,n),e.closePath(),!0}(e,this.parseSize(t)/6,i,o,l,n)}};function fr(e,t,i,o,l){return e.moveTo(i,o-t,l),e.lineTo(t+i,o,l),e.lineTo(i,o+t,l),e.lineTo(i-t,o,l),e.closePath(),!0}const kr=new class extends pr{constructor(){super(...arguments),this.type="diamond",this.pathStr="M-0.5,0L0,-0.5L0.5,0L0,0.5Z"}draw(e,t,i,o,l){return fr(e,this.parseSize(t)/2,i,o,l)}drawFitDir(e,t,i,o,l){return fr(e,this.parseSize(t)/2,i,o,l)}drawOffset(e,t,i,o,l,n){return fr(e,this.parseSize(t)/2+l,i,o,n)}};function mr(e,t,i,o){const l=2*t;return e.rect(i-t,o-t,l,l),!1}const br=new class extends pr{constructor(){super(...arguments),this.type="square",this.pathStr="M-0.5,-0.5h1v1h-1Z"}draw(e,t,i,o){return mr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return mr(e,this.parseSize(t)/2+l,i,o)}};function vr(e,t,i,o,l=0){return e.moveTo(i+t+2*l,t+o+l),e.lineTo(i-t-2*l,t+o+l),e.lineTo(i,o-t-2*l),e.closePath(),!0}class Cr extends pr{constructor(){super(...arguments),this.type="triangleUp",this.pathStr="M0.5,0.5 L-0.5,0.5 L0,-0.5 Z"}draw(e,t,i,o){return vr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return vr(e,this.parseSize(t)/2,i,o,l)}}const Sr=new Cr;const xr=new class extends Cr{constructor(){super(...arguments),this.type="triangle"}},_r=Math.sin(Math.PI/10)/Math.sin(7*Math.PI/10),wr=Math.sin(zt/10)*_r,Lr=-Math.cos(zt/10)*_r;function Fr(e,t,i,o){const l=wr*t,n=Lr*t;e.moveTo(i,-t+o),e.lineTo(l+i,n+o);for(let r=1;r<5;++r){const a=zt*r/5,s=Math.cos(a),h=Math.sin(a);e.lineTo(h*t+i,-s*t+o),e.lineTo(s*l-h*n+i,h*l+s*n+o)}return e.closePath(),!0}const Tr=new class extends pr{constructor(){super(...arguments),this.type="star",this.pathStr="M0 -1L0.22451398828979266 -0.3090169943749474L0.9510565162951535 -0.30901699437494745L0.3632712640026804 0.1180339887498948L0.5877852522924732 0.8090169943749473L8.326672684688674e-17 0.3819660112501051L-0.587785252292473 0.8090169943749476L-0.3632712640026804 0.11803398874989487L-0.9510565162951536 -0.30901699437494723L-0.22451398828979274 -0.30901699437494734Z"}draw(e,t,i,o){return Fr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return Fr(e,this.parseSize(t)/2+l,i,o)}},Ar=Et(3);function zr(e,t,i,o){const l=t,n=l/Ar,r=n/5,a=t;return e.moveTo(0+i,-l+o),e.lineTo(n/2+i,o),e.lineTo(r/2+i,o),e.lineTo(r/2+i,a+o),e.lineTo(-r/2+i,a+o),e.lineTo(-r/2+i,o),e.lineTo(-n/2+i,o),e.closePath(),!0}const Br=new class extends pr{constructor(){super(...arguments),this.type="arrow",this.pathStr="M-0.07142857142857142,0.5L0.07142857142857142,0.5L0.07142857142857142,-0.0625L0.2,-0.0625L0,-0.5L-0.2,-0.0625L-0.07142857142857142,-0.0625Z"}draw(e,t,i,o){return zr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return zr(e,this.parseSize(t)/2+l,i,o)}};function Mr(e,t,i,o){const l=2*t;return e.moveTo(i,-t+o),e.lineTo(l/3/2+i,t+o),e.lineTo(-l/3/2+i,t+o),e.closePath(),!0}const Or=new class extends pr{constructor(){super(...arguments),this.type="wedge",this.pathStr="M0,-0.5773502691896257L-0.125,0.28867513459481287L0.125,0.28867513459481287Z"}draw(e,t,i,o){return Mr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return Mr(e,this.parseSize(t)/2+l,i,o)}};function Wr(e,t,i,o){return e.moveTo(-t+i,o),e.lineTo(i,t+o),!1}const Rr=new class extends pr{constructor(){super(...arguments),this.type="stroke",this.pathStr=""}draw(e,t,i,o){return Wr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return Wr(e,this.parseSize(t)/2+l,i,o)}},Hr=-.5,Pr=Et(3)/2,Er=1/Et(12);function Dr(e,t,i,o){const l=t/2,n=t*Er,r=l,a=t*Er+t,s=-r,h=a;return e.moveTo(l+i,n+o),e.lineTo(r+i,a+o),e.lineTo(s+i,h+o),e.lineTo(Hr*l-Pr*n+i,Pr*l+Hr*n+o),e.lineTo(Hr*r-Pr*a+i,Pr*r+Hr*a+o),e.lineTo(Hr*s-Pr*h+i,Pr*s+Hr*h+o),e.lineTo(Hr*l+Pr*n+i,Hr*n-Pr*l+o),e.lineTo(Hr*r+Pr*a+i,Hr*a-Pr*r+o),e.lineTo(Hr*s+Pr*h+i,Hr*h-Pr*s+o),e.closePath(),!1}const Ir=new class extends pr{constructor(){super(...arguments),this.type="wye",this.pathStr="M0.25 0.14433756729740646L0.25 0.6443375672974064L-0.25 0.6443375672974064L-0.25 0.14433756729740643L-0.6830127018922193 -0.10566243270259357L-0.4330127018922193 -0.5386751345948129L0 -0.28867513459481287L0.4330127018922193 -0.5386751345948129L0.6830127018922193 -0.10566243270259357Z"}draw(e,t,i,o){return Dr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return Dr(e,this.parseSize(t)/2+l,i,o)}};function jr(e,t,i,o,l){return e.moveTo(-t+i-2*l,o),e.lineTo(t+i+l,t+o+2*l),e.lineTo(t+i+l,o-t-2*l),e.closePath(),!0}const Nr=new class extends pr{constructor(){super(...arguments),this.type="triangleLeft",this.pathStr="M-0.5,0 L0.5,0.5 L0.5,-0.5 Z"}draw(e,t,i,o){return jr(e,this.parseSize(t)/2,i,o,0)}drawOffset(e,t,i,o,l){return jr(e,this.parseSize(t)/2,i,o,l)}};function Gr(e,t,i,o,l=0){return e.moveTo(i-t-l,t+o+2*l),e.lineTo(t+i+2*l,o),e.lineTo(i-t-l,o-t-2*l),e.closePath(),!0}const Ur=new class extends pr{constructor(){super(...arguments),this.type="triangleRight",this.pathStr="M-0.5,0.5 L0.5,0 L-0.5,-0.5 Z"}draw(e,t,i,o){return Gr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return Gr(e,this.parseSize(t)/2,i,o,l)}};function Vr(e,t,i,o,l=0){return e.moveTo(i-t-2*l,o-t-l),e.lineTo(i+t+2*l,o-t-l),e.lineTo(i,o+t+2*l),e.closePath(),!0}const Yr=new class extends pr{constructor(){super(...arguments),this.type="triangleDown",this.pathStr="M-0.5,-0.5 L0.5,-0.5 L0,0.5 Z"}draw(e,t,i,o){return Vr(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l){return Vr(e,this.parseSize(t)/2,i,o,l)}},Zr=Et(3);function Xr(e,t,i,o){const l=t*Zr;return e.moveTo(i,o+-l/3*2),e.lineTo(t+i,o+l),e.lineTo(i-t,o+l),e.closePath(),!0}const $r=new class extends pr{constructor(){super(...arguments),this.type="thinTriangle",this.pathStr="M0,-0.5773502691896257L-0.5,0.28867513459481287L0.5,0.28867513459481287Z"}draw(e,t,i,o){return Xr(e,this.parseSize(t)/2/Zr,i,o)}drawOffset(e,t,i,o,l){return Xr(e,this.parseSize(t)/2/Zr+l,i,o)}};function Kr(e,t,i,o){const l=2*t;return e.moveTo(t+i,o-l),e.lineTo(i-t,o),e.lineTo(t+i,l+o),!0}const qr=new class extends pr{constructor(){super(...arguments),this.type="arrow2Left",this.pathStr="M 0.25 -0.5 L -0.25 0 l 0.25 0.5"}draw(e,t,i,o){return Kr(e,this.parseSize(t)/4,i,o)}drawOffset(e,t,i,o,l){return Kr(e,this.parseSize(t)/4+l,i,o)}};function Jr(e,t,i,o){const l=2*t;return e.moveTo(i-t,o-l),e.lineTo(i+t,o),e.lineTo(i-t,l+o),!0}const Qr=new class extends pr{constructor(){super(...arguments),this.type="arrow2Right",this.pathStr="M -0.25 -0.5 l 0.25 0 l -0.25 0.5"}draw(e,t,i,o){return Jr(e,this.parseSize(t)/4,i,o)}drawOffset(e,t,i,o,l){return Jr(e,this.parseSize(t)/4+l,i,o)}};function ea(e,t,i,o){const l=2*t;return e.moveTo(i-l,o+t),e.lineTo(i,o-t),e.lineTo(i+l,o+t),!0}const ta=new class extends pr{constructor(){super(...arguments),this.type="arrow2Up",this.pathStr="M -0.5 0.25 L 0 -0.25 l 0.5 0.25"}draw(e,t,i,o){return ea(e,this.parseSize(t)/4,i,o)}drawOffset(e,t,i,o,l){return ea(e,this.parseSize(t)/4+l,i,o)}};function ia(e,t,i,o){const l=2*t;return e.moveTo(i-l,o-t),e.lineTo(i,o+t),e.lineTo(i+l,o-t),!0}const oa=new class extends pr{constructor(){super(...arguments),this.type="arrow2Down",this.pathStr="M -0.5 -0.25 L 0 0.25 l 0.5 -0.25"}draw(e,t,i,o){return ia(e,this.parseSize(t)/4,i,o)}drawOffset(e,t,i,o,l){return ia(e,this.parseSize(t)/4+l,i,o)}};function la(e,t,i,o,l){return e.moveTo(i,o-t),e.lineTo(i,o+t),!0}const na=new class extends pr{constructor(){super(...arguments),this.type="lineV",this.pathStr="M0,-0.5L0,0.5"}draw(e,t,i,o,l){return la(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l,n){return la(e,this.parseSize(t)/2+l,i,o)}drawToSvgPath(e,t,i,o){const l=this.parseSize(e)/2;return`M ${t}, ${i-l} L ${t},${i+l}`}};function ra(e,t,i,o,l){return e.moveTo(i-t,o),e.lineTo(i+t,o),!0}const aa=new class extends pr{constructor(){super(...arguments),this.type="lineH",this.pathStr="M-0.5,0L0.5,0"}draw(e,t,i,o,l){return ra(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l,n){return ra(e,this.parseSize(t)/2+l,i,o)}drawToSvgPath(e,t,i,o){const l=this.parseSize(e)/2;return`M ${t-l}, ${i} L ${t+l},${i}`}};function sa(e,t,i,o,l){return e.moveTo(i-t,o-t),e.lineTo(i+t,o+t),e.moveTo(i+t,o-t),e.lineTo(i-t,o+t),!0}const ha=new class extends pr{constructor(){super(...arguments),this.type="close",this.pathStr="M-0.5,-0.5L0.5,0.5,M0.5,-0.5L-0.5,0.5"}draw(e,t,i,o,l){return sa(e,this.parseSize(t)/2,i,o)}drawOffset(e,t,i,o,l,n){return sa(e,this.parseSize(t)/2+l,i,o)}drawToSvgPath(e,t,i,o){const l=this.parseSize(e)/2;return`M ${t-l}, ${i-l} L ${t+l},${i+l} M ${t+l}, ${i-l} L ${t-l},${i+l}`}};function da(e,t,i,o){return e.rect(i-t[0]/2,o-t[1]/2,t[0],t[1]),!1}function ca(e,t,i,o){const l=t,n=t/2;return e.rect(i-l/2,o-n/2,l,n),!1}const pa=new class extends pr{constructor(){super(...arguments),this.type="rect",this.pathStr="M -0.5,0.25 L 0.5,0.25 L 0.5,-0.25,L -0.5,-0.25 Z"}draw(e,t,i,o){return Ze(t)?ca(e,t,i,o):da(e,t,i,o)}drawWithClipRange(e,t,i,o,l,n,r){Ze(t)&&(t=[t,t/2]);const a=2*(t[0]+t[1])*l,s=[{x:i+t[0]/2,y:o-t[1]/2},{x:i+t[0]/2,y:o+t[1]/2},{x:i-t[0]/2,y:o+t[1]/2},{x:i-t[0]/2,y:o-t[1]/2}];let h=0,d=s[3];e.moveTo(d.x,d.y);for(let c=0;c<s.length;c++){const t=s[c],i=Math.sqrt((t.x-d.x)*(t.x-d.x)+(t.y-d.y)*(t.y-d.y));if(h+i>a){const o=(t.x-d.x)*(a-h)/i,l=(t.y-d.y)*(a-h)/i;e.lineTo(d.x+o,d.y+l);break}e.lineTo(t.x,t.y),d=t,h+=i}return!1}drawOffset(e,t,i,o,l){return Ze(t)?ca(e,t+2*l,i,o):da(e,[t[0]+2*l,t[1]+2*l],i,o)}},ya=new yi;class ua{constructor(e,t,i=!1){this.pathStr="",this.type=e,Ve(t)?this.svgCache=t:this.path=t,this.isSvg=i}drawOffset(e,t,i,o,l,n,r){return t=this.parseSize(t),this.isSvg?!!this.svgCache&&(this.svgCache.forEach(l=>{e.beginPath(),no(l.path.commandList,e,i,o,t,t),r&&r(l.path,l.attribute)}),!1):(no(this.path.commandList,e,i,o,t+l,t+l),!1)}draw(e,t,i,o,l,n){return t=this.parseSize(t),this.drawOffset(e,t,i,o,0,l,n)}parseSize(e){return Ze(e)?e:Math.min(e[0],e[1])}drawWithClipRange(e,t,i,o,l,n,r){return t=this.parseSize(t),this.isSvg?!!this.svgCache&&(this.svgCache.forEach(n=>{n.path.drawWithClipRange(e,t,i,o,l),r&&r(n.path,n.attribute)}),!1):(this.path.drawWithClipRange(e,t,i,o,l),!1)}bounds(e,t){if(e=this.parseSize(e),this.isSvg){if(!this.svgCache)return;return t.clear(),void this.svgCache.forEach(({path:i})=>{ya.x1=i.bounds.x1*e,ya.y1=i.bounds.y1*e,ya.x2=i.bounds.x2*e,ya.y2=i.bounds.y2*e,t.union(ya)})}this.path.bounds&&(t.x1=this.path.bounds.x1*e,t.y1=this.path.bounds.y1*e,t.x2=this.path.bounds.x2*e,t.y2=this.path.bounds.y2*e)}}const ga={};[ur,gr,kr,br,$r,xr,Tr,Br,Or,Rr,Ir,Nr,Ur,Sr,Yr,qr,Qr,ta,oa,pa,na,aa,ha].forEach(e=>{ga[e.type]=e});const fa={arrowLeft:"M 0.25 -0.5 L -0.25 0 l 0.5 0.5",arrowRight:"M -0.25 -0.5 l 0.5 0.5 l -0.5 0.5",rectRound:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",roundLine:"M 1.2392 -0.258 L -1.3432 -0.258 C -1.4784 -0.258 -1.588 -0.1436 -1.588 -0.002 c 0 0.1416 0.1096 0.256 0.2448 0.256 l 2.5824 0 c 0.1352 0 0.2448 -0.1144 0.2448 -0.256 C 1.484 -0.1436 1.3744 -0.258 1.2392 -0.258 z"};class ka{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){"__proto__"===e&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){"__proto__"===e.tagname&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}function ma(e,t,i,o){const l=e.indexOf(t,i);if(-1===l)throw new Error(o);return l+t.length-1}function ba(e,t,i,o=">"){const l=function(e,t,i=">"){let o,l="";for(let n=t;n<e.length;n++){let t=e[n];if(o)t===o&&(o="");else if('"'===t||"'"===t)o=t;else if(t===i[0]){if(!i[1])return{data:l,index:n};if(e[n+1]===i[1])return{data:l,index:n}}else"\t"===t&&(t=" ");l+=t}}(e,t+1,o);if(!l)return;let n=l.data;const r=l.index,a=n.search(/\s/);let s=n;-1!==a&&(s=n.substr(0,a).replace(/\s\s*$/,""),n=n.substr(a+1));return{tagName:s,tagExp:n,closeIndex:r,attrExpPresent:!0,rawTagName:s}}const va=new RegExp("([^\\s=]+)\\s*(=\\s*(['\"])([\\s\\S]*?)\\3)?","gm");class Ca{constructor(e){this.currentNode=null,this.options=e,this.tagsNodeStack=[],this.docTypeEntities={}}addChild(e,t,i){const o=t.tagname;"string"==typeof o?(t.tagname=o,e.addChild(t)):e.addChild(t)}buildAttributesMap(e,t,i){const o={};if(!e)return;const l=function(e,t){const i=[];let o=t.exec(e);for(;o;){const l=[];l.startIndex=t.lastIndex-o[0].length;const n=o.length;for(let e=0;e<n;e++)l.push(o[e]);i.push(l),o=t.exec(e)}return i}(e,va),n=l.length;for(let r=0;r<n;r++){const e=l[r][1],t=l[r][4];e&&(o[e]=void 0===t||(isNaN(t)?t:Number(t)))}return o}parseXml(e){e=e.replace(/\r\n?/g,"\n");const t=new ka("!xml");let i=t,o="",l="";for(let n=0;n<e.length;n++)if("<"===e[n])if("/"===e[n+1]){const t=ma(e,">",n,"Closing Tag is not closed."),r=l.lastIndexOf(".");l=l.substring(0,r),i=this.tagsNodeStack.pop(),i&&i.child&&o&&i.child[i.child.length-1][":@"]&&(i.child[i.child.length-1][":@"].text=o),o="",n=t}else if("?"===e[n+1])n=ba(e,n,0,"?>").closeIndex+1;else if("!--"===e.substr(n+1,3))n=ma(e,"--\x3e",n+4,"Comment is not closed.");else{const r=ba(e,n);let a=r.tagName,s=r.tagExp;const h=r.attrExpPresent,d=r.closeIndex;if(a!==t.tagname&&(l+=l?"."+a:a),s.length>0&&s.lastIndexOf("/")===s.length-1){"/"===a[a.length-1]?(a=a.substr(0,a.length-1),l=l.substr(0,l.length-1),s=a):s=s.substr(0,s.length-1);const e=new ka(a);a!==s&&h&&(e[":@"]=this.buildAttributesMap(s,l,a)),this.addChild(i,e,l),l=l.substr(0,l.lastIndexOf("."))}else{const e=new ka(a);this.tagsNodeStack.push(i),a!==s&&h&&(e[":@"]=this.buildAttributesMap(s,l,a)),this.addChild(i,e,l),i=e}o="",n=d}else o+=e[n];return t.child}}function Sa(e,t){return xa(e)}function xa(e,t){const i={};for(let o=0;o<e.length;o++){const t=e[o],l=_a(t);if(void 0!==l&&t[l]){const e=xa(t[l]);La(e),t[":@"]&&wa(e,t[":@"]),void 0!==i[l]&&i.hasOwnProperty(l)?(Array.isArray(i[l])||(i[l]=[i[l]]),i[l].push(e)):i[l]=e}}return i}function _a(e){const t=Object.keys(e);for(let i=0;i<t.length;i++){const e=t[i];if(":@"!==e)return e}}function wa(e,t,i){if(t){const i=Object.keys(t),o=i.length;for(let l=0;l<o;l++){const o=i[l];e[o]=t[o]}}}function La(e){return 0===Object.keys(e).length}class Fa{constructor(e){this.options=Object.assign({},Fa.defaultOptions,e)}valid(e){return e.startsWith("<")}parse(e){if(!this.valid)return!1;return Sa(new Ca(this.options).parseXml(e),this.options)}}Fa.defaultOptions={};var Ta=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(t){n(t)}}function a(e){try{s(o.throw(e))}catch(t){n(t)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};function Aa(e,t,i,o=0){return e.expand(t+(o/2+(i?function(e,t){return e?t:0}(i,t):0))),e}let za=0;function Ba(){return za++}var Ma;!function(e){e[e.HORIZONTAL=0]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(Ma||(Ma={}));const Oa=new Map;["…","（","）","—","【","】","「","」","《","》"].forEach(e=>Oa.set(e,!0));const Wa=new Map;function Ra(e){if(Oa.has(e))return!0;if(Wa.has(e))return!1;let t=!1;return e.codePointAt(0)<256&&(t=!0),t}[""].forEach(e=>Wa.set(e,!0));const Ha=Ba(),Pa=Ba(),Ea=Ba();Ba(),Ba();const Da=Ba(),Ia=Ba(),ja=Ba(),Na=Ba(),Ga=Ba();Ba();const Ua=Ba();Ba();const Va=Ba();Ba();const Ya=Ba(),Za=Ba(),Xa=Symbol.for("GraphicService"),$a=Symbol.for("GraphicCreator"),Ka={"stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-width":"lineWidth","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity",stroke:"stroke",fill:"fill"},qa=Object.keys(Ka),Ja={duration:200,easing:"cubicOut"};function Qa(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function es(e,t,i){const o=i[0],l=i[1],n=i[2];let r,a,s,h,d,c,p,y,u,g,f,k;return t===e?(e[12]=t[0]*o+t[4]*l+t[8]*n+t[12],e[13]=t[1]*o+t[5]*l+t[9]*n+t[13],e[14]=t[2]*o+t[6]*l+t[10]*n+t[14],e[15]=t[3]*o+t[7]*l+t[11]*n+t[15]):(r=t[0],a=t[1],s=t[2],h=t[3],d=t[4],c=t[5],p=t[6],y=t[7],u=t[8],g=t[9],f=t[10],k=t[11],e[0]=r,e[1]=a,e[2]=s,e[3]=h,e[4]=d,e[5]=c,e[6]=p,e[7]=y,e[8]=u,e[9]=g,e[10]=f,e[11]=k,e[12]=r*o+d*l+u*n+t[12],e[13]=a*o+c*l+g*n+t[13],e[14]=s*o+p*l+f*n+t[14],e[15]=h*o+y*l+k*n+t[15]),e}function ts(e,t){e[0]=t.a,e[1]=t.b,e[2]=0,e[3]=0,e[4]=t.c,e[5]=t.d,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=t.e,e[13]=t.f,e[14]=0,e[15]=1}function is(e,t,i){const o=t[0],l=t[1],n=t[2],r=t[3],a=t[4],s=t[5],h=t[6],d=t[7],c=t[8],p=t[9],y=t[10],u=t[11],g=t[12],f=t[13],k=t[14],m=t[15];let b=i[0],v=i[1],C=i[2],S=i[3];return e[0]=b*o+v*a+C*c+S*g,e[1]=b*l+v*s+C*p+S*f,e[2]=b*n+v*h+C*y+S*k,e[3]=b*r+v*d+C*u+S*m,b=i[4],v=i[5],C=i[6],S=i[7],e[4]=b*o+v*a+C*c+S*g,e[5]=b*l+v*s+C*p+S*f,e[6]=b*n+v*h+C*y+S*k,e[7]=b*r+v*d+C*u+S*m,b=i[8],v=i[9],C=i[10],S=i[11],e[8]=b*o+v*a+C*c+S*g,e[9]=b*l+v*s+C*p+S*f,e[10]=b*n+v*h+C*y+S*k,e[11]=b*r+v*d+C*u+S*m,b=i[12],v=i[13],C=i[14],S=i[15],e[12]=b*o+v*a+C*c+S*g,e[13]=b*l+v*s+C*p+S*f,e[14]=b*n+v*h+C*y+S*k,e[15]=b*r+v*d+C*u+S*m,e}function os(e,t,i){const o=t[0],l=t[1],n=t[2];let r=i[3]*o+i[7]*l+i[11]*n+i[15];return r=r||1,e[0]=(i[0]*o+i[4]*l+i[8]*n+i[12])/r,e[1]=(i[1]*o+i[5]*l+i[9]*n+i[13])/r,e[2]=(i[2]*o+i[6]*l+i[10]*n+i[14])/r,e}class ls{constructor(){this.pools=[]}static identity(e){return Qa(e)}allocate(){if(!this.pools.length)return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];const e=this.pools.pop();return ls.identity(e),e}allocateByObj(e){let t;t=this.pools.length?this.pools.pop():[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];for(let i=0;i<t.length;i++)t[i]=e[i];return t}free(e){e&&this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}}const ns=new class{constructor(){this.pools=[]}allocate(e,t,i,o,l,n){if(!this.pools.length)return new gi(e,t,i,o,l,n);const r=this.pools.pop();return r.a=e,r.b=t,r.c=i,r.d=o,r.e=l,r.f=n,r}allocateByObj(e){if(!this.pools.length)return new gi(e.a,e.b,e.c,e.d,e.e,e.f);const t=this.pools.pop();return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t.e=e.e,t.f=e.f,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}},rs=new ls;var as=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},ss=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const hs=new gi(1,0,0,1,0,0),ds={x:0,y:0};let cs=class{get nativeContext(){return this.path}constructor(e,t){this.matrix=new gi(1,0,0,1,0,0),this.stack=[],this.dpr=t,this.applyedMatrix=new gi(1,0,0,1,0,0),this.path=new Zo,this._clearMatrix=new gi(1,0,0,1,0,0)}getCanvas(){throw new Error("不支持getCanvas")}getContext(){throw new Error("不支持getContext")}setTransformForCurrent(e=!1){!e&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix=this.cloneMatrix(this.matrix))}get currentMatrix(){return this.matrix}cloneMatrix(e){return ns.allocateByObj(e)}clear(){this.save(),this.resetTransform(),this.restore()}reset(){this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new gi(1,0,0,1,0,0),this.stack.length=0}restore(){this.stack.length>0&&(ns.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent())}highPerformanceRestore(){this.stack.length>0&&(ns.free(this.matrix),this.matrix=this.stack.pop())}rotate(e,t=!0){this.matrix.rotate(e),t&&this.setTransformForCurrent()}save(){const e=this.cloneMatrix(this.matrix);this.stack.push(e)}highPerformanceSave(){const e=this.cloneMatrix(this.matrix);this.stack.push(e)}scale(e,t,i=!0){this.matrix.scale(e,t),i&&this.setTransformForCurrent()}setScale(e,t,i=!0){this.matrix.setScale(e,t),i&&this.setTransformForCurrent()}scalePoint(e,t,i,o,l=!0){this.translate(i,o,!1),this.scale(e,t,!1),this.translate(-i,-o,!1),l&&this.setTransformForCurrent()}setTransform(e,t,i,o,l,n,r=!0,a=this.dpr){this.matrix.setValue(a*e,a*t,a*i,a*o,a*l,a*n),r&&this.setTransformForCurrent()}setTransformFromMatrix(e,t=!0,i=this.dpr){this.matrix.setValue(e.a*i,e.b*i,e.c*i,e.d*i,e.e*i,e.f*i),t&&this.setTransformForCurrent()}resetTransform(e=!0,t=this.dpr){this.setTransform(t,0,0,t,0,0),e&&this.setTransformForCurrent()}transform(e,t,i,o,l,n,r=!0){this.matrix.multiply(e,t,i,o,l,n),r&&this.setTransformForCurrent()}transformFromMatrix(e,t){this.matrix.multiply(e.a,e.b,e.c,e.d,e.e,e.f),t&&this.setTransformForCurrent()}translate(e,t,i=!0){this.matrix.translate(e,t),i&&this.setTransformForCurrent()}rotateDegrees(e,t=!0){const i=e*Math.PI/180;this.rotate(i,t)}rotateAbout(e,t,i,o=!0){this.translate(t,i,!1),this.rotate(e,!1),this.translate(-t,-i,!1),o&&this.setTransformForCurrent()}rotateDegreesAbout(e,t,i,o=!0){this.translate(t,i,!1),this.rotateDegrees(e,!1),this.translate(-t,-i,!1),o&&this.setTransformForCurrent()}beginPath(){this.path.clear()}clip(e,t){}arc(e,t,i,o,l,n){this.path.arc(e,t,i,o,l,n)}arcTo(e,t,i,o,l){this.path.arcTo(e,t,i,o,l)}bezierCurveTo(e,t,i,o,l,n){this.path.bezierCurveTo(e,t,i,o,l,n)}closePath(){this.path.closePath()}ellipse(e,t,i,o,l,n,r,a){}lineTo(e,t){this.path.lineTo(e,t)}moveTo(e,t){this.path.moveTo(e,t)}quadraticCurveTo(e,t,i,o){this.path.quadraticCurveTo(e,t,i,o)}rect(e,t,i,o){this.path.rect(e,t,i,o)}createImageData(e,t){return null}createLinearGradient(e,t,i,o){throw new Error("不支持createLinearGradient")}createPattern(e,t){throw new Error("不支持createPattern")}createRadialGradient(e,t,i,o,l,n){throw new Error("不支持createRadialGradient")}createConicGradient(e,t,i,o){return null}fill(e,t){}fillRect(e,t,i,o){this.path.rect(e,t,i,o)}clearRect(e,t,i,o){}fillText(e,t,i){}getImageData(e,t,i,o){return null}getLineDash(){return[]}isPointInPath(e,t){return this.matrix.transformPoint({x:e,y:t},ds),function(e,t,i){return kn(e,0,!1,t,i)}(this.path.commandList,ds.x,ds.y)}isPointInStroke(e,t){if(!this.lineWidth)return!1;this.matrix.transformPoint({x:e,y:t},ds);const i=Cl(this,this.lineWidth,this.dpr);return function(e,t,i,o){return kn(e,t,!0,i,o)}(this.path.commandList,i,ds.x,ds.y)}measureText(e){throw new Error("不支持measureText")}putImageData(e,t,i){throw new Error("不支持measureText")}setLineDash(e){}stroke(e){}strokeRect(e,t,i,o){this.path.rect(e,t,i,o)}strokeText(e,t,i){}drawImage(){}setCommonStyle(e,t,i,o,l){}_setCommonStyle(e,t,i,o){}setStrokeStyle(e,t,i,o,l){}_setStrokeStyle(e,t,i,o){}setTextStyleWithoutAlignBaseline(e,t){}setTextStyle(e,t){}draw(){}clearMatrix(e=!0,t=this.dpr){this.setTransformFromMatrix(hs,e,t)}setClearMatrix(e,t,i,o,l,n){this._clearMatrix.setValue(e,t,i,o,l,n)}onlyTranslate(e=this.dpr){return this.matrix.a===e&&0===this.matrix.b&&0===this.matrix.c&&this.matrix.d===e}release(...e){this.stack.forEach(e=>ns.free(e)),this.stack.length=0}};cs=as([Q(),ss("design:paramtypes",[Object,Number])],cs);const ps={WIDTH:500,HEIGHT:500,DPR:1};class ys{get displayWidth(){return this._pixelWidth/this._dpr}get displayHeight(){return this._pixelHeight/this._dpr}get id(){return this._id}get x(){return this._x}set x(e){this._x=e}get y(){return this._y}set y(e){this._y=e}get nativeCanvas(){return this._nativeCanvas}set nativeCanvas(e){this._nativeCanvas=e}get width(){return this._pixelWidth}set width(e){this._pixelWidth=e,this._displayWidth=e/(this._dpr||1)}get height(){return this._pixelHeight}set height(e){this._pixelHeight=e,this._displayHeight=e/(this._dpr||1)}getContext(e){return this._context}get visiable(){return this._visiable}set visiable(e){this._visiable=e,e?this.show():this.hide()}get dpr(){return this._dpr}set dpr(e){this._dpr=e,this.resize(this._displayWidth,this._displayHeight)}constructor(e){var t;const{nativeCanvas:i,width:o=ps.WIDTH,height:l=ps.HEIGHT,dpr:n=ps.DPR,x:r,y:a,id:s,canvasControled:h=!0}=e;this._x=null!=r?r:0,this._y=null!=a?a:0,this._pixelWidth=o*n,this._pixelHeight=l*n,this._visiable=!1!==e.visiable,this.controled=h,this._displayWidth=o,this._displayHeight=l,this._dpr=n,this._nativeCanvas=i,this._id=null!==(t=i.id)&&void 0!==t?t:s,s&&(i.id=s),this.init(e)}getNativeCanvas(){return this._nativeCanvas}hide(){}show(){}applyPosition(){}resetStyle(e){}resize(e,t){}toDataURL(e,t){return""}readPixels(e,t,i,o){return this._context.getImageData(e,t,i,o)}convertToBlob(e){throw new Error("暂未实现")}transferToImageBitmap(){throw new Error("暂未实现")}release(...e){this.controled&&this._nativeCanvas.parentElement&&this._nativeCanvas.parentElement.removeChild(this._nativeCanvas)}}var us;ys.env="browser",function(e){e[e.Color255=0]="Color255",e[e.Color1=1]="Color1"}(us||(us={}));class gs{static Get(e,t=us.Color1,i=[0,0,0,1]){if(t===us.Color1){const t=gs.store1[e];if(t)return i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3],i;const o=Fi.parseColorString(e);if(o){const t=[o.r/255,o.g/255,o.b/255,o.opacity];gs.store1[e]=t,gs.store255[e]=[o.r,o.g,o.b,o.opacity],i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=t[3]}return i}const o=gs.store255[e];if(o)return i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],i;const l=Fi.parseColorString(e);return l&&(gs.store1[e]=[l.r/255,l.g/255,l.b/255,l.opacity],gs.store255[e]=[l.r,l.g,l.b,l.opacity],i[0]=l.r,i[1]=l.g,i[2]=l.b,i[3]=l.opacity),i}static Set(e,t,i){if(t===us.Color1){if(gs.store1[e])return;gs.store1[e]=i,gs.store255[e]=[Math.floor(255*i[0]),Math.floor(255*i[1]),Math.floor(255*i[2]),Math.floor(255*i[3])]}else{if(gs.store255[e])return;gs.store255[e]=i,gs.store1[e]=[i[0]/255,i[1]/255,i[2]/255,i[3]]}}}function fs(e,t=!1){return Array.isArray(e)&&Ze(e[0])?t?`rgb(${Math.round(e[0])},${Math.round(e[1])},${Math.round(e[2])},${e[3].toFixed(2)})`:`rgb(${Math.round(e[0])},${Math.round(e[1])},${Math.round(e[2])})`:e}function ks(e,t,i,o,l){return Array.isArray(e)&&!Ze(e[0])||Array.isArray(t)&&!Ze(t[0])?new Array(4).fill(0).map((l,n)=>{var r,a;return ms(Ve(e)?null!==(r=e[n])&&void 0!==r?r:e[0]:e,Ve(t)?null!==(a=t[n])&&void 0!==a?a:t[0]:t,i,o)}):ms(e,t,i,o)}function ms(e,t,i,o,l){if(!e||!t)return e&&fs(e)||t&&fs(t)||!1;let n,r,a=!1,s=!1;if(Array.isArray(e)?n=e:"string"==typeof e?n=gs.Get(e,us.Color255):a=!0,Array.isArray(t)?r=t:"string"==typeof t?r=gs.Get(t,us.Color255):s=!0,a!==s){const l=a?e:t,n=a?t:e,r=Object.assign(Object.assign({},l),{stops:l.stops.map(e=>Object.assign(Object.assign({},e),{color:fs(n)}))});return a?ks(l,r,i,o):ks(r,l,i,o)}if(a){if(e.gradient===t.gradient){const o=e,l=t,n=o.stops,r=l.stops;if(n.length!==r.length)return!1;if("linear"===o.gradient)return function(e,t,i){const o=e.stops,l=t.stops;return{gradient:"linear",x0:e.x0+(t.x0-e.x0)*i,x1:e.x1+(t.x1-e.x1)*i,y0:e.y0+(t.y0-e.y0)*i,y1:e.y1+(t.y1-e.y1)*i,stops:new Array(o.length).fill(0).map((e,t)=>({color:Ss(o[t].color,l[t].color,i),offset:o[t].offset+(l[t].offset-o[t].offset)*i}))}}(o,l,i);if("radial"===o.gradient)return function(e,t,i){const o=e.stops,l=t.stops;return{gradient:"radial",x0:e.x0+(t.x0-e.x0)*i,x1:e.x1+(t.x1-e.x1)*i,y0:e.y0+(t.y0-e.y0)*i,y1:e.y1+(t.y1-e.y1)*i,r0:e.r0+(t.r0-e.r0)*i,r1:e.r1+(t.r1-e.r1)*i,stops:new Array(o.length).fill(0).map((e,t)=>({color:Ss(o[t].color,l[t].color,i),offset:o[t].offset+(l[t].offset-o[t].offset)*i}))}}(o,l,i);if("conical"===o.gradient)return function(e,t,i){const o=e.stops,l=t.stops;return{gradient:"conical",startAngle:e.startAngle+(t.startAngle-e.startAngle)*i,endAngle:e.endAngle+(t.endAngle-e.endAngle)*i,x:e.x+(t.x-e.x)*i,y:e.y+(t.y-e.y)*i,stops:new Array(o.length).fill(0).map((e,t)=>({color:Ss(o[t].color,l[t].color,i),offset:o[t].offset+(l[t].offset-o[t].offset)*i}))}}(o,l,i)}return!1}return fs(function(e,t,i){return[e[0]+(t[0]-e[0])*i,e[1]+(t[1]-e[1])*i,e[2]+(t[2]-e[2])*i,e[3]+(t[3]-e[3])*i]}(n,r,i),o)}function bs(e,t,i){return`rgba(${e[0]+(t[0]-e[0])*i},${e[1]+(t[1]-e[1])*i},${e[2]+(t[2]-e[2])*i},${e[3]+(t[3]-e[3])*i})`}gs.store255={},gs.store1={};const vs=[0,0,0,0],Cs=[0,0,0,0];function Ss(e,t,i){return gs.Get(e,us.Color255,vs),gs.Get(t,us.Color255,Cs),`rgba(${Math.round(vs[0]+(Cs[0]-vs[0])*i)},${Math.round(vs[1]+(Cs[1]-vs[1])*i)},${Math.round(vs[2]+(Cs[2]-vs[2])*i)},${vs[3]+(Cs[3]-vs[3])*i})`}class xs{static GetCanvas(){try{return xs.canvas||(xs.canvas=xe.global.createCanvas({})),xs.canvas}catch(nH){return null}}static GetCtx(){if(!xs.ctx){const e=xs.GetCanvas();xs.ctx=e.getContext("2d")}return xs.ctx}}class _s extends fi{static getInstance(){return _s._instance||(_s._instance=new _s),_s._instance}constructor(e=[],t=100){super(),this.cacheParams={CLEAN_THRESHOLD:100,L_TIME:1e3},this.dataMap=new Map;const i=xs.GetCanvas(),o=xs.GetCtx();if(i.width=t,i.height=1,!o)return;if(o.translate(0,0),!o)throw new Error("获取ctx发生错误");const l=o.createLinearGradient(0,0,t,0);e.forEach(e=>{l.addColorStop(e[0],e[1])}),o.fillStyle=l,o.fillRect(0,0,t,1),this.rgbaSet=o.getImageData(0,0,t,1).data}getColor(e){const t=this.rgbaSet.slice(4*e,4*e+4);return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]/255})`}GetOrCreate(e,t,i,o,l=[],n=100){let r=`${e}${t}${i}${o}`;l.forEach(e=>r+=e.join()),r+=n;let a=this.dataMap.get(r);return a||(a={data:new _s(l,n),timestamp:[]},this.addLimitedTimestamp(a,Date.now(),{}),this.dataMap.set(r,a)),this.clearCache(this.dataMap,this.cacheParams),a.data}}class ws{static GetSize(e){for(let t=0;t<ws.ImageSize.length;t++)if(ws.ImageSize[t]>=e)return ws.ImageSize[t];return e}static Get(e,t,i,o,l,n,r){const a=ws.GenKey(e,t,i,o,l),s=ws.cache[a];if(!s||0===s.length)return null;for(let h=0;h<s.length;h++)if(s[h].width>=n&&s[h].height>=r)return s[h].pattern;return null}static Set(e,t,i,o,l,n,r,a){const s=ws.GenKey(e,t,i,o,l);ws.cache[s]?ws.cache[s].push({width:r,height:a,pattern:n}):ws.cache[s]=[{width:r,height:a,pattern:n}]}static GenKey(e,t,i,o,l){return`${t},${i},${o},${l},${e.join()}`}}ws.cache={},ws.ImageSize=[20,40,80,160,320,640,1280,2560];const Ls=new yi,Fs=new gi;new yi;const Ts=["lineWidth","scaleX","scaleY","angle","anchor","visible"],As=["x","y"],zs=["scaleX","scaleY"],Bs=["angle"],Ms=new Gt,Os={strokeSeg:1,boundsPadding:2,pickMode:1,boundsMode:1,customPickShape:1,pickable:1,childrenPickable:1,visible:1,zIndex:1,layout:1,keepDirIn3d:1,globalZIndex:1,outerBorder:1,innerBorder:1,lineDash:1,lineCap:1,lineJoin:1,miterLimit:2,strokeBoundsBuffer:2,scaleCenter:1,anchor:1,anchor3d:1,postMatrix:1,backgroundMode:2,background:1,texture:1,cursor:1,html:1};class Ws extends Dn{static mixin(e){const t=Object.keys(e);for(let i=0;i<t.length;++i){const o=t[i];Object.defineProperty(Ws.prototype,o,Object.getOwnPropertyDescriptor(e,o))}}get AABBBounds(){return this.tryUpdateAABBBounds()}get OBBBounds(){return this.tryUpdateOBBBounds()}get globalAABBBounds(){return this.tryUpdateGlobalAABBBounds()}get transMatrix(){return this.tryUpdateLocalTransMatrix(!0)}get globalTransMatrix(){return this.tryUpdateGlobalTransMatrix(!0)}constructor(e={}){var t;super(),this._AABBBounds=new yi,this._updateTag=Ki.INIT,this.attribute=e,this.valid=this.isValid(),this.updateAABBBoundsStamp=0,e.background?this.loadImage(null!==(t=e.background.background)&&void 0!==t?t:e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic)}getGraphicService(){var e,t;return null!==(t=null===(e=this.stage)||void 0===e?void 0:e.graphicService)&&void 0!==t?t:xe.graphicService}getAttributes(){return this.attribute}setMode(e){"3d"===e?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}getOffsetXY(e,t=!1){var i,o;const{dx:l=e.dx,dy:n=e.dy}=this.attribute;if(t&&this.parent){const e=this.parent.attribute;Ms.x=l+(null!==(i=e.scrollX)&&void 0!==i?i:0),Ms.y=n+(null!==(o=e.scrollY)&&void 0!==o?o:0)}else Ms.x=l,Ms.y=n;return Ms}onAnimateBind(e){this._emitCustomEvent("animate-bind",e)}tryUpdateAABBBounds(){const e="imprecise"===this.attribute.boundsMode;if(!this.shouldUpdateAABBBounds())return this._AABBBounds;if(!this.valid)return this._AABBBounds.clear(),this._AABBBounds;this.getGraphicService().beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const t=this.doUpdateAABBBounds(e);return this.getGraphicService().afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,!0),"empty"===this.attribute.boundsMode&&t.clear(),t}tryUpdateOBBBounds(){return this._OBBBounds||(this._OBBBounds=new ui),this.tryUpdateAABBBounds(),this.updateOBBBoundsStamp===this.updateAABBBoundsStamp?this._OBBBounds:(this.updateOBBBoundsStamp=this.updateAABBBoundsStamp,this.valid?this.doUpdateOBBBounds():(this._OBBBounds.clear(),this._OBBBounds))}combindShadowAABBBounds(e){if(this.shadowRoot){const t=this.shadowRoot.AABBBounds.clone();e.union(t)}}doUpdateOBBBounds(){return this._OBBBounds}getClipPath(){const{clipConfig:e}=this.attribute;if(!e)return null;this.clipPathMap||(this.clipPathMap=new Map);const{shape:t}=e;let i=this.clipPathMap.get(t)||null;return i||(this.clipPathMap.size>10&&this.clipPathMap.clear(),i=this.parsePath(t),i&&this.clipPathMap.set(t,i)),i}parsePath(e){if(!e)return null;let t=ga[e];if(t)return t;if(t=Ws.userSymbolMap[e],t)return t;if(!0===((i=e=fa[e]||e).startsWith("<svg")||i.startsWith("<?xml"))){const t=new Fa,{svg:i}=t.parse(e);if(!i)return null;const o=Ve(i.path)?i.path:[i.path];Ls.clear();const l=[];o.forEach(e=>{const t=(new Zo).fromString(e.d),i={};qa.forEach(t=>{e[t]&&(i[Ka[t]]=e[t])}),l.push({path:t,attribute:i}),Ls.union(t.bounds)});const n=Ls.width(),r=Ls.height(),a=1/Rt(n,r);l.forEach(e=>e.path.transform(0,0,a,a));const s=new ua(e,l,!0);return Ws.userSymbolMap[e]=s,s}var i;const o=(new Zo).fromString(e),l=o.bounds.width(),n=o.bounds.height(),r=1/Rt(l,n);o.transform(0,0,r,r);const a=new ua(e,o);return Ws.userSymbolMap[e]=a,a}doUpdateAABBBounds(e){this.updateAABBBoundsStamp++;const t=this.getGraphicTheme();this._AABBBounds.clear();const i=this.attribute,o=this.updateAABBBounds(i,t,this._AABBBounds,e),{boundsPadding:l=t.boundsPadding}=i,n=ir(l);return n&&o.expand(n),this.clearUpdateBoundTag(),o}updatePathProxyAABBBounds(e){const t="function"==typeof this.pathProxy?this.pathProxy(this.attribute):this.pathProxy;if(!t)return!1;const i=new Bi(e);return no(t.commandList,i,0,0),!0}tryUpdateGlobalAABBBounds(){const e=this.AABBBounds;return this._globalAABBBounds?this._globalAABBBounds.setValue(e.x1,e.y1,e.x2,e.y2):this._globalAABBBounds=e.clone(),this._globalAABBBounds.empty()||this.parent&&this._globalAABBBounds.transformWithMatrix(this.parent.globalTransMatrix),this._globalAABBBounds}tryUpdateGlobalTransMatrix(e=!0){if(this._globalTransMatrix){if(this.parent){const e=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();return this.shouldUpdateGlobalMatrix()&&this.doUpdateGlobalMatrix(),this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!0}tryUpdateLocalTransMatrix(e=!0){return this._transMatrix||(this._transMatrix=new gi),this.shouldUpdateLocalMatrix()&&(this.doUpdateLocalMatrix(),e&&this.clearUpdateLocalPositionTag()),this._transMatrix}shouldUpdateAABBBounds(){return this.shadowRoot?(!!(this._updateTag&Ki.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds())&&this.getGraphicService().validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this):!!(this._updateTag&Ki.UPDATE_BOUNDS)&&this.getGraphicService().validCheck(this.attribute,this.getGraphicTheme(),this._AABBBounds,this)}shouldSelfChangeUpdateAABBBounds(){return this.shadowRoot?!!(this._updateTag&Ki.UPDATE_BOUNDS)||this.shadowRoot.shouldUpdateAABBBounds():!!(this._updateTag&Ki.UPDATE_BOUNDS)}shouldUpdateLocalMatrix(){return!!(this._updateTag&Ki.UPDATE_LOCAL_MATRIX)}isValid(){var e,t;const i=this.attribute;return Number.isFinite((null!==(e=i.x)&&void 0!==e?e:0)+(null!==(t=i.y)&&void 0!==t?t:0))}_validNumber(e){return null==e||Number.isFinite(e)}shouldUpdateShape(){return!!(this._updateTag&Ki.UPDATE_SHAPE)}clearUpdateShapeTag(){this._updateTag&=Ki.CLEAR_SHAPE}containsPoint(e,t,i,o){if(!o)return!1;if(i===qi.GLOBAL){const i=new Gt(e,t);this.parent&&this.parent.globalTransMatrix.transformPoint(i,i),e=i.x,t=i.y}return o.containsPoint(this,{x:e,y:t})}setWidthHeightWithoutTransform(e){this.widthWithoutTransform=e.x2-e.x1,this.heightWithoutTransform=e.y2-e.y1}setAttributesAndPreventAnimate(e,t=!1,i,o){this.setAttributes(e,t,i),this.animates&&this.animates.forEach(t=>{(t.priority!==1/0||o)&&Object.keys(e).forEach(e=>{t.preventAttr(e)})})}setAttributes(e,t=!1,i){e&&((e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,i)||e).background?this.loadImage(e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic),this._setAttributes(e,t,i))}_setAttributes(e,t=!1,i){const o=Object.keys(e);for(let l=0;l<o.length;l++){const t=o[l];this.attribute[t]=e[t]}this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!t&&!this.needUpdateTags(o)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i)}setAttribute(e,t,i,o){var l;const n=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[e]:t},this.attribute,e,o);n?this._setAttributes(n,i,o):De(null===(l=this.normalAttrs)||void 0===l?void 0:l[e])?(this.attribute[e]=t,this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!i&&!this.needUpdateTag(e)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(o)):this.normalAttrs[e]=t,"background"===e?this.loadImage(t,!0):"shadowGraphic"===e&&this.setShadowGraphic(t)}needUpdateTags(e,t=Ts){for(let i=0;i<t.length;i++){const o=t[i];if(-1!==e.indexOf(o))return!0}return!1}needUpdateTag(e,t=Ts){for(let i=0;i<t.length;i++)if(e===t[i])return!0;return!1}initAttributes(e){const t={type:Ji.INIT};e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,t)||e,this.attribute=e,e.background?this.loadImage(e.background,!0):e.shadowGraphic&&this.setShadowGraphic(e.shadowGraphic),this._updateTag=Ki.INIT,this.valid=this.isValid(),this.onAttributeUpdate(t)}translate(e,t){var i,o;if(0===e&&0===t)return this;const l={type:Ji.TRANSLATE},n=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:e,y:t},this.attribute,As,l);n&&(e=n.x,t=n.y,delete n.x,delete n.y,this._setAttributes(n));const r=this.attribute,a=r.postMatrix;return a?xe.transformUtil.fromMatrix(a,a).translate(e,t):(r.x=(null!==(i=r.x)&&void 0!==i?i:Ko.x)+e,r.y=(null!==(o=r.y)&&void 0!==o?o:Ko.y)+t),this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(l),this}translateTo(e,t){const i=this.attribute;if(i.x===e&&i.y===t)return this;const o={type:Ji.TRANSLATE_TO},l=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({x:e,y:t},this.attribute,As,o);return l?(this._setAttributes(l,!1,o),this):(i.x=e,i.y=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(o),this)}scale(e,t,i){var o,l;if(1===e&&1===t)return this;const n={type:Ji.SCALE},r=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:e,scaleY:t,scaleCenter:i},this.attribute,zs,n);r&&(e=r.scaleX,t=r.scaleY,delete r.scaleX,delete r.scaleY,this._setAttributes(r));const a=this.attribute;if(i){let{postMatrix:o}=this.attribute;o||(o=new gi,a.postMatrix=o),xe.transformUtil.fromMatrix(o,o).scale(e,t,i)}else a.scaleX=(null!==(o=a.scaleX)&&void 0!==o?o:Ko.scaleX)*e,a.scaleY=(null!==(l=a.scaleY)&&void 0!==l?l:Ko.scaleY)*t;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(n),this}scaleTo(e,t){const i=this.attribute;if(i.scaleX===e&&i.scaleY===t)return this;const o={type:Ji.SCALE_TO},l=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({scaleX:e,scaleY:t},this.attribute,zs,o);return l?(this._setAttributes(l,!1,o),this):(i.scaleX=e,i.scaleY=t,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(o),this)}rotate(e,t){var i;if(0===e)return this;const o={type:Ji.ROTATE},l=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({angle:e,rotateCenter:t},this.attribute,Bs,o);l&&(delete l.angle,this._setAttributes(l,!1,o));const n=this.attribute;if(t){let{postMatrix:i}=this.attribute;i||(i=new gi,n.postMatrix=i),xe.transformUtil.fromMatrix(i,i).rotate(e,t)}else n.angle=(null!==(i=n.angle)&&void 0!==i?i:Ko.angle)+e;return this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(o),this}rotateTo(e){const t=this.attribute;if(t.angle===e)return this;const i={type:Ji.ROTATE_TO},o=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,Bs,i);return o?(this._setAttributes(o,!1,i),this):(t.angle=e,this.addUpdatePositionTag(),this.addUpdateBoundTag(),this.addUpdateLayoutTag(),this.onAttributeUpdate(i),this)}skewTo(e,t){return this}onAttributeUpdate(e){e&&e.skipUpdateCallback||(this.getGraphicService().onAttributeUpdate(this),this._emitCustomEvent("afterAttributeUpdate",e))}update(e){e?(e.bounds&&this.tryUpdateAABBBounds(),e.trans&&this.tryUpdateLocalTransMatrix()):(this.tryUpdateAABBBounds(),this.tryUpdateLocalTransMatrix())}hasState(e){return!(!this.currentStates||!this.currentStates.length)&&(!!De(e)||this.currentStates.includes(e))}getState(e){var t;return null===(t=this.states)||void 0===t?void 0:t[e]}applyStateAttrs(e,t,i,o){var l,n;if(i){const t=Object.keys(e),i=this.getNoWorkAnimateAttr(),r={};let a;t.forEach(t=>{i[t]?(a||(a={}),a[t]=e[t]):r[t]=o&&void 0===e[t]?this.getDefaultAttribute(t):e[t]});const s=null!==(n=null!==(l=this.context&&this.context.stateAnimateConfig)&&void 0!==l?l:this.stateAnimateConfig)&&void 0!==n?n:Ja;this.applyAnimationState(["state"],[{name:"state",animation:{type:"state",to:r,duration:s.duration,easing:s.easing}}]),a&&this.setAttributesAndPreventAnimate(a,!1,{type:Ji.STATE})}else this.stopStateAnimates(),this.setAttributesAndPreventAnimate(e,!1,{type:Ji.STATE}),this.finalAttribute&&Object.assign(this.finalAttribute,e);this._emitCustomEvent("afterStateUpdate",{type:Ji.STATE})}updateNormalAttrs(e){const t={};this.normalAttrs?(Object.keys(e).forEach(e=>{e in this.normalAttrs?(t[e]=this.normalAttrs[e],delete this.normalAttrs[e]):t[e]=this.getNormalAttribute(e)}),Object.keys(this.normalAttrs).forEach(t=>{e[t]=this.normalAttrs[t]})):Object.keys(e).forEach(e=>{t[e]=this.getNormalAttribute(e)}),this.normalAttrs=t}stopStateAnimates(e="end"){this.animates&&this.animates.forEach(t=>{t.stateNames&&(t.stop(e),this.animates.delete(t.id))})}getNormalAttribute(e){var t,i;const o=this.attribute[e];return this.animates?null===(t=this.finalAttribute)||void 0===t?void 0:t[e]:null!=o?o:null===(i=this.finalAttribute)||void 0===i?void 0:i[e]}clearStates(e){this.hasState()&&this.normalAttrs?(this.currentStates=[],this.applyStateAttrs(this.normalAttrs,this.currentStates,e,!0)):this.currentStates=[],this.normalAttrs=null}removeState(e,t){if(this.currentStates){const i=Ve(e)?t=>!e.includes(t):t=>t!==e,o=this.currentStates.filter(i);o.length!==this.currentStates.length&&this.useStates(o,t)}}toggleState(e,t){if(this.hasState(e))this.removeState(e,t);else if((this.currentStates?this.currentStates.indexOf(e):-1)<0){const i=this.currentStates?this.currentStates.slice():[];i.push(e),this.useStates(i,t)}}addState(e,t,i){var o;if(this.currentStates&&this.currentStates.includes(e)&&(t||1===this.currentStates.length))return;const l=t&&(null===(o=this.currentStates)||void 0===o?void 0:o.length)?this.currentStates.concat([e]):[e];this.useStates(l,i)}useStates(e,t){var i;if(!e.length)return void this.clearStates(t);if((null===(i=this.currentStates)||void 0===i?void 0:i.length)===e.length&&!e.some((e,t)=>this.currentStates[t]!==e))return;const o={};e.forEach(t=>{var i;const l=this.stateProxy?this.stateProxy(t,e):null===(i=this.states)||void 0===i?void 0:i[t];l&&Object.assign(o,l)}),this.updateNormalAttrs(o),this.currentStates=e,this.applyStateAttrs(o,e,t)}addUpdateBoundTag(){this._updateTag|=Ki.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}addUpdateShapeTag(){this._updateTag|=Ki.UPDATE_SHAPE}addUpdateShapeAndBoundsTag(){this._updateTag|=Ki.UPDATE_SHAPE_AND_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag(),this.glyphHost&&this.glyphHost.addUpdateBoundTag()}updateShapeAndBoundsTagSetted(){return(this._updateTag&Ki.UPDATE_SHAPE_AND_BOUNDS)===Ki.UPDATE_SHAPE_AND_BOUNDS}clearUpdateBoundTag(){this._updateTag&=Ki.CLEAR_BOUNDS}addUpdatePositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=Ki.UPDATE_GLOBAL_LOCAL_MATRIX}addUpdateGlobalPositionTag(){this.shadowRoot&&this.shadowRoot.addUpdateGlobalPositionTag(),this._updateTag|=Ki.UPDATE_GLOBAL_MATRIX}clearUpdateLocalPositionTag(){this._updateTag&=Ki.CLEAR_LOCAL_MATRIX}clearUpdateGlobalPositionTag(){this._updateTag&=Ki.CLEAR_GLOBAL_MATRIX}addUpdateLayoutTag(){this._updateTag|=Ki.UPDATE_LAYOUT}clearUpdateLayoutTag(){this._updateTag&=Ki.CLEAR_LAYOUT}needUpdateLayout(){return!!(this._updateTag&Ki.UPDATE_LAYOUT)}getAnchor(e,t,i){const o=[0,0],l=()=>{if(t.b)return t.b;const e=this.clone();return e.attribute.angle=0,e.attribute.scaleCenter=null,i&&(e.attribute.scaleX=1,e.attribute.scaleY=1),t.b=e.AABBBounds,t.b};if("string"==typeof e[0]){const t=parseFloat(e[0])/100,i=l();o[0]=i.x1+(i.x2-i.x1)*t}else o[0]=e[0];if("string"==typeof e[1]){const t=parseFloat(e[1])/100,i=l();o[1]=i.y1+(i.y2-i.y1)*t}else o[1]=e[1];return o}doUpdateLocalMatrix(){const{x:e=Ko.x,y:t=Ko.y,scaleX:i=Ko.scaleX,scaleY:o=Ko.scaleY,angle:l=Ko.angle,scaleCenter:n,anchor:r,postMatrix:a}=this.attribute;let s=[0,0];const h={};if(r&&l&&(s=this.getAnchor(r,h)),!n||1===i&&1===o)!function(e,t,i,o,l,n,r,a){const s=t.a,h=t.b,d=t.c,c=t.d,p=t.e,y=t.f,u=Wt(r),g=Pt(r);let f,k;a?(f=a[0],k=a[1]):(f=i,k=o);const m=f-i,b=k-o,v=s*u+d*g,C=h*u+c*g,S=d*u-s*g,x=c*u-h*g;e.a=l*v,e.b=l*C,e.c=n*S,e.d=n*x,e.e=p+s*f+d*k-v*m-S*b,e.f=y+h*f+c*k-C*m-x*b}(this._transMatrix,this._transMatrix.reset(),e,t,i,o,l,r&&s);else{const r=this._transMatrix;r.reset(),r.translate(s[0],s[1]),r.rotate(l),r.translate(-s[0],-s[1]),r.translate(e,t),s=this.getAnchor(n,h,!0),xe.transformUtil.fromMatrix(r,r).scale(i,o,{x:s[0],y:s[1]})}const d=this.getOffsetXY(Ko);if(this._transMatrix.e+=d.x,this._transMatrix.f+=d.y,a){const e=Fs.setValue(a.a,a.b,a.c,a.d,a.e,a.f),t=this._transMatrix;e.multiply(t.a,t.b,t.c,t.d,t.e,t.f),t.setValue(e.a,e.b,e.c,e.d,e.e,e.f)}}doUpdateGlobalMatrix(){if(this.parent){this._globalTransMatrix.multiply(this.transMatrix.a,this.transMatrix.b,this.transMatrix.c,this.transMatrix.d,this.transMatrix.e,this.transMatrix.f);const{scrollX:e=0,scrollY:t=0}=this.parent.attribute;this._globalTransMatrix.translate(e,t)}}setStage(e,t){if(this.stage!==e){if(this.stage=e,this.layer=t,this.setStageToShadowRoot(e,t),this.animates&&this.animates.size){const t=e.getTimeline();this.animates.forEach(e=>{e.timeline.isGlobal&&(e.setTimeline(t),t.addAnimate(e))})}this._onSetStage&&this._onSetStage(this,e,t),this.getGraphicService().onSetStage(this,e)}}setStageToShadowRoot(e,t){this.shadowRoot&&this.shadowRoot.setStage(e,t)}onAddStep(e){}onStop(e){e&&this.setAttributes(e,!1,{type:Ji.ANIMATE_END})}getDefaultAttribute(e){return this.getGraphicTheme()[e]}getComputedAttribute(e){var t;return null!==(t=this.attribute[e])&&void 0!==t?t:this.getDefaultAttribute(e)}onSetStage(e,t=!1){this._onSetStage=e,t&&this.stage&&e(this,this.stage)}attachShadow(e){return e&&(e.shadowHost=this),this.shadowRoot=null!=e?e:xe.graphicService.creator.shadowRoot(this),this.addUpdateBoundTag(),this.shadowRoot.setStage(this.stage,this.layer),this.shadowRoot}detachShadow(){this.shadowRoot&&(this.addUpdateBoundTag(),this.shadowRoot.release(!0),this.shadowRoot=null)}toJson(){return{attribute:this.attribute,_uid:this._uid,type:this.type,name:this.name,children:this.children.map(e=>e.toJson())}}createPathProxy(e){return Ue(e,!0)?this.pathProxy=(new Zo).fromString(e):this.pathProxy=new Zo,this.pathProxy}loadImage(e,t=!1){if(!e||t&&function(e){return!(!e.fill&&!e.stroke)}(e))return;const i=e;this.resources||(this.resources=new Map);const o={data:"init",state:null};var l;this.resources.set(i,o),"string"==typeof e?(o.state="loading",e.startsWith("<svg")?(qn.GetSvg(e,this),this.backgroundImg=this.backgroundImg||t):(l=e,(new RegExp(/^(http(s)?:\/\/)\w+[^\s]+(\.[^\s]+){1,}$/).test(l)||e.includes("/")||(e=>new RegExp(/^data:image\/(?:gif|png|jpeg|bmp|webp|svg\+xml)(?:;charset=utf-8)?;base64,(?:[A-Za-z0-9]|[+/])+={0,2}/g).test(e))(e))&&(qn.GetImage(e,this),this.backgroundImg=this.backgroundImg||t))):je(e)?(o.state="success",o.data=e,this.backgroundImg=this.backgroundImg||t):o.state="fail"}setShadowGraphic(e){e?this.attachShadow().add(e):this.detachShadow()}imageLoadSuccess(e,t,i){if(!this.resources)return;const o=this.resources.get(e);o&&(o.state="success",o.data=t,i&&i(),this.addUpdateBoundTag(),this.stage&&this.stage.renderNextFrame())}imageLoadFail(e,t){if(!this.resources)return;const i=this.resources.get(e);i&&(i.state="fail",t&&t())}_stopAnimates(e){e&&e.forEach(e=>{e.stop()})}stopAnimates(e=!1){this._stopAnimates(this.animates),this.shadowRoot&&this.shadowRoot.stopAnimates(!0),this.isContainer&&e&&this.forEachChildren(t=>{t.stopAnimates(e)})}release(){this.releaseStatus="released",this.stopAnimates(),xe.graphicService.onRelease(this)}_emitCustomEvent(e,t){var i,o;if(this._events&&e in this._events){const l=new Un(e,t);l.bubbles=!1,l.manager=null===(o=null===(i=this.stage)||void 0===i?void 0:i.eventSystem)||void 0===o?void 0:o.manager,this.dispatchEvent(l)}}toCustomPath(){var e,t,i;const o=null===(i=null===(t=(null===(e=this.stage)||void 0===e?void 0:e.renderService)||xe.renderService)||void 0===t?void 0:t.drawContribution)||void 0===i?void 0:i.getRenderContribution(this);if(o){const e=new cs(null,1);return o.drawShape(this,e,0,0,{},{}),e.path}return null}}var Rs;Ws.userSymbolMap={},Ws.mixin(Xn),function(e){e[e.LESS_GROUP=0]="LESS_GROUP",e[e.MORE_GROUP=1]="MORE_GROUP"}(Rs||(Rs={}));class Hs extends Ws{constructor(e){super(e),this.type="group",this.parent=null,this.isContainer=!0,this.numberType=Da,this._childUpdateTag=Ki.UPDATE_BOUNDS}setMode(e){"3d"===e?this.set3dMode():this.set2dMode()}set3dMode(){this.in3dMode=!0}set2dMode(){this.in3dMode=!1}setTheme(e){return this.theme||(this.theme=new Rn),this.theme.setTheme(e,this)}createTheme(){this.theme||(this.theme=new Rn)}visibleAll(e){this.setAttribute("visible",e),this.forEachChildren(t=>{t.isContainer&&t.visibleAll?t.visibleAll(e):t.setAttribute("visible",e)})}hideAll(){this.visibleAll(!1)}showAll(){this.visibleAll(!0)}containsPoint(e,t,i){if(i===qi.GLOBAL){const i=new Gt(e,t);return this.parent&&this.parent.globalTransMatrix.transformPoint(i,i),this.AABBBounds.contains(i.x,i.y)}return this.AABBBounds.contains(e,t)}shouldUpdateAABBBounds(){return!!super.shouldUpdateAABBBounds()||!!(this._childUpdateTag&Ki.UPDATE_BOUNDS)}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.getGraphicService().beforeUpdateAABBBounds(this,this.stage,!0,this._AABBBounds);const e=this.shouldSelfChangeUpdateAABBBounds(),t=this.doUpdateAABBBounds();return this.addUpdateLayoutTag(),this.getGraphicService().afterUpdateAABBBounds(this,this.stage,this._AABBBounds,this,e),"empty"===this.attribute.boundsMode&&t.clear(),t}doUpdateLocalMatrix(){const{x:e=Ko.x,y:t=Ko.y,dx:i=Ko.dx,dy:o=Ko.dy,scaleX:l=Ko.scaleX,scaleY:n=Ko.scaleY,angle:r=Ko.angle,postMatrix:a}=this.attribute;if(0!==e||0!==t||0!==i||0!==o||1!==l||1!==n||0!==r||a)return super.doUpdateLocalMatrix();this._transMatrix.reset()}getGraphicTheme(){return Pn(this).group}updateAABBBounds(e,t,i){const o=i;i=i.clone();const{width:l,height:n,path:r,clip:a=t.clip}=e;if(r&&r.length?r.forEach(e=>{i.union(e.AABBBounds)}):null!=l&&null!=n&&i.set(0,0,Math.max(0,l),Math.max(0,n)),!a){this.forEachChildren(e=>{i.union(e.AABBBounds)});const{scrollX:t=0,scrollY:o=0}=e;i.translate(t,o)}return xe.graphicService.updateTempAABBBounds(i),xe.graphicService.transformAABBBounds(e,i,t,!1,this),o.copy(i),o}doUpdateAABBBounds(){this.updateAABBBoundsStamp++;const e=super.doUpdateAABBBounds();return this.parent&&this.parent.addChildUpdateBoundTag(),this._emitCustomEvent("AAABBBoundsChange"),e}clearUpdateBoundTag(){this._updateTag&=Ki.CLEAR_BOUNDS,this._childUpdateTag&=Ki.CLEAR_BOUNDS}addUpdateBoundTag(){this._updateTag|=Ki.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag()}addChildUpdateBoundTag(){this._childUpdateTag&Ki.UPDATE_BOUNDS||(this._childUpdateTag|=Ki.UPDATE_BOUNDS,this.parent&&this.parent.addChildUpdateBoundTag())}getTheme(){return this.theme.getTheme(this)}incrementalAppendChild(e){const t=super.appendChild(e);return this.stage&&t&&(t.stage=this.stage,t.layer=this.layer),this.addUpdateBoundTag(),this.getGraphicService().onAddIncremental(e,this,this.stage),t}incrementalClearChild(){super.removeAllChild(),this.addUpdateBoundTag(),this.getGraphicService().onClearIncremental(this,this.stage)}_updateChildToStage(e){return this.stage&&e&&e.setStage(this.stage,this.layer),this.addUpdateBoundTag(),e}appendChild(e,t=!0){const i=super.appendChild(e);return t&&this.stage&&i&&i.setStage(this.stage,this.layer),this.addUpdateBoundTag(),i}insertBefore(e,t){return this._updateChildToStage(super.insertBefore(e,t))}insertAfter(e,t){return this._updateChildToStage(super.insertAfter(e,t))}insertInto(e,t){return this._updateChildToStage(super.insertInto(e,t))}removeChild(e){const t=super.removeChild(e);return this.getGraphicService().onRemove(e),e.stage=null,this.addUpdateBoundTag(),t}removeAllChild(e=!1){this.forEachChildren(t=>{this.getGraphicService().onRemove(t),e&&t.isContainer&&t.removeAllChild(e)}),super.removeAllChild(),this.addUpdateBoundTag()}setStage(e,t){this.stage!==e&&(this.stage=e,this.layer=t,this.setStageToShadowRoot(e,t),this._onSetStage&&this._onSetStage(this,e,t),this.getGraphicService().onSetStage(this,e),this.forEachChildren(t=>{t.setStage(e,this.layer)}))}addUpdatePositionTag(){super.addUpdatePositionTag(),this.forEachChildren(e=>{e.isContainer&&e.addUpdateGlobalPositionTag()})}addUpdateGlobalPositionTag(){super.addUpdateGlobalPositionTag(),this.forEachChildren(e=>{e.isContainer&&e.addUpdateGlobalPositionTag()})}tryUpdateGlobalTransMatrix(e=!0){if(this.shouldUpdateGlobalMatrix()){if(this._globalTransMatrix){if(this.parent){const e=this.parent.globalTransMatrix;this._globalTransMatrix.setValue(e.a,e.b,e.c,e.d,e.e,e.f)}}else this._globalTransMatrix=this.parent?this.parent.globalTransMatrix.clone():this.transMatrix.clone();this.doUpdateGlobalMatrix(),e&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}shouldUpdateGlobalMatrix(){return!!(this._updateTag&Ki.UPDATE_GLOBAL_MATRIX)}_getChildByName(e,t){return this.find(t=>t.name===e,t)}createOrUpdateChild(e,t,i){let o=this._getChildByName(e);return o?o.setAttributes(t):(o=xe.graphicService.creator[i](t),o.name=e,this.add(o)),o}clone(){return new Hs(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Hs.NOWORK_ANIMATE_ATTR}release(e){e&&this.forEachChildren(t=>{t.release(e)}),super.release()}}function Ps(e){return new Hs(e)}Hs.NOWORK_ANIMATE_ATTR=Os;class Es extends Hs{get offscreen(){return this.layerHandler.offscreen}get layerMode(){return this.layerHandler.type}get width(){return this.stage?this.stage.width:0}get height(){return this.stage?this.stage.height:0}get viewWidth(){return this.stage?this.stage.viewWidth:0}get viewHeight(){return this.stage?this.stage.viewHeight:0}get dirtyBound(){throw new Error("暂不支持")}get dpr(){return this._dpr}constructor(e,t,i,o){var l;super({}),this.stage=e,this.global=t,this.window=i,this.main=o.main,this.layerHandler=o.layerHandler,this.layerHandler.init(this,i,{main:o.main,canvasId:o.canvasId,width:this.viewWidth,height:this.viewHeight,zIndex:null!==(l=o.zIndex)&&void 0!==l?l:0}),this.layer=this,this.subLayers=new Map,this.theme=new Rn,this.background="rgba(0, 0, 0, 0)",this.afterDrawCbs=[]}combineSubLayer(e=!0){const t=Array.from(this.subLayers.values()).sort((e,t)=>e.zIndex-t.zIndex);this.layerHandler.merge(t.map(t=>(t.layer.subLayers.size&&t.layer.combineSubLayer(e),t.layer.getNativeHandler()))),e&&t.forEach(e=>{e.group&&(e.group.incremental=0)}),t.forEach(e=>{xe.layerService.releaseLayer(this.stage,e.layer)}),this.subLayers.clear()}getNativeHandler(){return this.layerHandler}setStage(e,t){super.setStage(e,this)}pick(e,t){throw new Error("暂不支持")}tryRenderSecondaryLayer(e,t){this.layerHandler.secondaryHandlers&&this.layerHandler.secondaryHandlers.length&&this.layerHandler.secondaryHandlers.forEach(i=>{i.layer.renderCount=this.renderCount,i.layer.render(e,t)})}render(e,t){var i;this.layerHandler.render([this],{renderService:e.renderService,stage:this.stage,layer:this,viewBox:e.viewBox,transMatrix:e.transMatrix,background:null!==(i=e.background)&&void 0!==i?i:this.background,updateBounds:e.updateBounds},t),this.afterDrawCbs.forEach(e=>e(this)),this.tryRenderSecondaryLayer(e,t)}resize(e,t){this.layerHandler.resize(e,t)}resizeView(e,t){this.layerHandler.resizeView(e,t)}setDpr(e){this.layerHandler.setDpr(e)}afterDraw(e){this.afterDrawCbs.push(e)}startAnimate(e){throw new Error("暂不支持")}setToFrame(e){throw new Error("暂不支持")}prepare(e,t){}release(){super.release(),this.layerHandler.release(),this.subLayers&&this.subLayers.forEach(e=>{xe.layerService.releaseLayer(this.stage,e.layer)})}drawTo(e,t){var i;this.layerHandler.drawTo(e,[this],Object.assign({background:null!==(i=t.background)&&void 0!==i?i:this.background,renderService:t.renderService,viewBox:t.viewBox,transMatrix:t.transMatrix,stage:this.stage,layer:this},t)),this.afterDrawCbs.forEach(e=>e(this))}}const Ds=Symbol.for("TransformUtil"),Is=Symbol.for("GraphicUtil"),js=Symbol.for("LayerService"),Ns=Symbol.for("StaticLayerHandlerContribution"),Gs=Symbol.for("DynamicLayerHandlerContribution"),Us=Symbol.for("VirtualLayerHandlerContribution");var Vs,Ys=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Zs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Xs=Vs=class{static GenerateLayerId(){return`${Vs.idprefix}_${Vs.prefix_count++}`}constructor(){this.layerMap=new Map,this.global=xe.global}tryInit(){this.inited||(this.staticLayerCountInEnv=this.global.getStaticCanvasCount(),this.dynamicLayerCountInEnv=this.global.getDynamicCanvasCount(),this.inited=!0)}getStageLayer(e){return this.layerMap.get(e)}getRecommendedLayerType(e){return e||(0!==this.staticLayerCountInEnv?"static":0!==this.dynamicLayerCountInEnv?"dynamic":"virtual")}getLayerHandler(e){let t;return t="static"===e?Dl.get(Ns):"dynamic"===e?Dl.get(Gs):Dl.get(Us),t}createLayer(e,t={main:!1}){var i;this.tryInit();let o=this.getRecommendedLayerType(t.layerMode);o=t.main||t.canvasId?"static":o;const l=this.getLayerHandler(o),n=new Es(e,this.global,e.window,Object.assign(Object.assign({main:!1},t),{layerMode:o,canvasId:null!==(i=t.canvasId)&&void 0!==i?i:Vs.GenerateLayerId(),layerHandler:l})),r=this.layerMap.get(e)||[];return r.push(n),this.layerMap.set(e,r),this.staticLayerCountInEnv--,n}prepareStageLayer(e){let t;e.forEachChildren(e=>{const i=e.getNativeHandler();"virtual"===i.type?(i.mainHandler=t,t.secondaryHandlers.push(i)):(t=i,t.secondaryHandlers=[])})}releaseLayer(e,t){t.release();const i=this.layerMap.get(e)||[];this.layerMap.set(e,i.filter(e=>e!==t))}layerCount(e){return(this.layerMap.get(e)||[]).length}restLayerCount(e){return"browser"===this.global.env?10:0}releaseStage(e){this.layerMap.delete(e)}};Xs.idprefix="visactor_layer",Xs.prefix_count=0,Xs=Vs=Ys([Q(),Zs("design:paramtypes",[])],Xs);const $s=new I(e=>{e(Se).to(Be).inSingletonScope(),e(Cn).to(xn),e(Is).to(Fn).inSingletonScope(),e(Ds).to(zn).inSingletonScope(),e(js).to(Xs).inSingletonScope()});function Ks(e,t){return!(!e&&!t)}function qs(e,t){let i;return i=Ve(e)?e.some(e=>e||void 0===e):!!e,i&&t>0}function Js(e,t,i){return i&&e*t>0}function Qs(e,t,i,o,l){return l&&e*t>0&&0!==i&&0!==o}function eh(e,t){return e*t>0}function th(e,t,i,o,l){return l?e*t>0:e*t>0&&0!==i&&0!==o}function ih(e,t,i,o,l,n,r){const a=e-i,s=t-o,h=(r?n:-n)/Math.sqrt(a*a+s*s),d=h*s,c=-h*a,p=e+d,y=t+c,u=i+d,g=o+c,f=(p+u)/2,k=(y+g)/2,m=u-p,b=g-y,v=m*m+b*b,C=l-n,S=p*g-u*y,x=(b<0?-1:1)*Math.sqrt(Math.max(0,C*C*v-S*S));let _=(S*b-m*x)/v,w=(-S*m-b*x)/v;const L=(S*b+m*x)/v,F=(-S*m+b*x)/v,T=_-f,A=w-k,z=L-f,B=F-k;return T*T+A*A>z*z+B*B&&(_=L,w=F),{cx:_,cy:w,x01:-d,y01:-c,x11:_*(l/C-1),y11:w*(l/C-1)}}function oh(e,t,i,o,l){const n=Mt(i-t),r=e.getParsedCornerRadius(),a=Ve(r),{outerDeltaAngle:s,innerDeltaAngle:h,outerStartAngle:d,outerEndAngle:c,innerEndAngle:p,innerStartAngle:y}=e.getParsePadAngle(t,i),u=a?r[0]:r,g=a?r[1]:r,f=a?r[2]:r,k=a?r[3]:r,m=Math.max(g,u),b=Math.max(f,k);let v=m,C=b;const S=l*Wt(d),x=l*Pt(d),_=o*Wt(p),w=o*Pt(p);let L,F,T,A;if((b>Ft||m>Ft)&&(L=l*Wt(c),F=l*Pt(c),T=o*Wt(y),A=o*Pt(y),n<Tt)){const e=function(e,t,i,o,l,n,r,a){const s=i-e,h=o-t,d=r-l,c=a-n;let p=c*s-d*h;return p*p<Ft?[]:(p=(d*(t-n)-c*(e-l))/p,[e+p*s,t+p*h])}(S,x,T,A,L,F,_,w);if(e){const t=S-e[0],i=x-e[1],n=L-e[0],r=F-e[1],a=1/Pt(((z=(t*n+i*r)/(Et(t*t+i*i)*Et(n*n+r*r)))>1?0:z<-1?Tt:Math.acos(z))/2),s=Et(e[0]*e[0]+e[1]*e[1]);C=Ht(b,(o-s)/(a-1)),v=Ht(m,(l-s)/(a+1))}}var z;return{outerDeltaAngle:s,xors:S,yors:x,xirs:T,yirs:A,xore:L,yore:F,xire:_,yire:w,limitedOcr:v,limitedIcr:C,outerCornerRadiusStart:u,outerCornerRadiusEnd:g,maxOuterCornerRadius:m,maxInnerCornerRadius:b,outerStartAngle:d,outerEndAngle:c,innerDeltaAngle:h,innerEndAngle:p,innerStartAngle:y,innerCornerRadiusStart:k,innerCornerRadiusEnd:f}}function lh(e,t,i,o,l,n,r){const{startAngle:a,endAngle:s}=e.getParsedAngle(),h=Mt(s-a),d=s>a;let c=!1;if(l<n){const e=l;l=n,n=e}if(l<=Ft)t.moveTo(i,o);else if(h>=Bt-Ft)t.moveTo(i+l*Wt(a),o+l*Pt(a)),t.arc(i,o,l,a,s,!d),n>Ft&&(t.moveTo(i+n*Wt(s),o+n*Pt(s)),t.arc(i,o,n,s,a,d));else{const{outerDeltaAngle:h,xors:p,yors:y,xirs:u,yirs:g,limitedOcr:f,outerCornerRadiusStart:k,outerCornerRadiusEnd:m,maxOuterCornerRadius:b,xore:v,yore:C,xire:S,yire:x,outerStartAngle:_,outerEndAngle:w,limitedIcr:L,innerDeltaAngle:F,innerEndAngle:T,innerStartAngle:A,innerCornerRadiusStart:z,innerCornerRadiusEnd:B,maxInnerCornerRadius:M}=oh(e,a,s,n,l);if(h<.001)r&&(r[3]||r[1])&&t.moveTo(i+p,o+y),c=!0;else if(f>Ft){const e=Ht(k,f),n=Ht(m,f),a=ih(u,g,p,y,l,e,Number(d)),s=ih(v,C,S,x,l,n,Number(d));f<b&&e===n?!r||r[0]?(t.moveTo(i+a.cx+a.x01,o+a.cy+a.y01),t.arc(i+a.cx,o+a.cy,f,Ot(a.y01,a.x01),Ot(s.y01,s.x01),!d)):t.moveTo(i+a.cx+f*Wt(Ot(s.y01,s.x01)),o+a.cy+f*Pt(Ot(s.y01,s.x01))):!r||r[0]?(t.moveTo(i+a.cx+a.x01,o+a.cy+a.y01),e>0&&t.arc(i+a.cx,o+a.cy,e,Ot(a.y01,a.x01),Ot(a.y11,a.x11),!d),t.arc(i,o,l,Ot(a.cy+a.y11,a.cx+a.x11),Ot(s.cy+s.y11,s.cx+s.x11),!d),n>0&&t.arc(i+s.cx,o+s.cy,n,Ot(s.y11,s.x11),Ot(s.y01,s.x01),!d)):n>0?t.moveTo(i+s.cx+n*Wt(Ot(s.y01,s.x01)),o+s.cy+n*Pt(Ot(s.y01,s.x01))):t.moveTo(i+v,o+l*Pt(w))}else!r||r[0]?(t.moveTo(i+p,o+y),t.arc(i,o,l,_,w,!d)):t.moveTo(i+l*Wt(w),o+l*Pt(w));if(!(n>Ft)||F<.001)!r||r[1]?t.lineTo(i+S,o+x):t.moveTo(i+S,o+x),c=!0;else if(L>Ft){const e=Ht(z,L),l=Ht(B,L),a=ih(S,x,v,C,n,-l,Number(d)),s=ih(p,y,u,g,n,-e,Number(d));if(!r||r[1]?t.lineTo(i+a.cx+a.x01,o+a.cy+a.y01):t.moveTo(i+a.cx+a.x01,o+a.cy+a.y01),L<M&&e===l){const e=Ot(s.y01,s.x01);!r||r[2]?t.arc(i+a.cx,o+a.cy,L,Ot(a.y01,a.x01),e,!d):t.moveTo(i+a.cx+Wt(e),o+a.cy+Pt(e))}else!r||r[2]?(l>0&&t.arc(i+a.cx,o+a.cy,l,Ot(a.y01,a.x01),Ot(a.y11,a.x11),!d),t.arc(i,o,n,Ot(a.cy+a.y11,a.cx+a.x11),Ot(s.cy+s.y11,s.cx+s.x11),d),e>0&&t.arc(i+s.cx,o+s.cy,e,Ot(s.y11,s.x11),Ot(s.y01,s.x01),!d)):e>0?t.moveTo(i+s.cx+e*Wt(Ot(s.y01,s.x01)),o+s.cy+e*Pt(Ot(s.y01,s.x01))):t.moveTo(i+u,o+g)}else!r||r[1]?t.lineTo(i+S,o+x):t.moveTo(i+S,o+x),!r||r[2]?t.arc(i,o,n,T,A,d):t.moveTo(i+n*Wt(A),o+n*Pt(A))}return r?r[3]&&t.lineTo(i+l*Wt(a),o+l*Pt(a)):t.closePath(),c}const nh=Symbol.for("ArcRenderContribution"),rh=Symbol.for("AreaRenderContribution"),ah=Symbol.for("GroupRenderContribution"),sh=Symbol.for("PathRenderContribution"),hh=Symbol.for("PolygonRenderContribution"),dh=Symbol.for("RectRenderContribution"),ch=Symbol.for("SymbolRenderContribution"),ph=Symbol.for("TextRenderContribution"),yh=Symbol.for("InteractiveSubRenderContribution");function uh(e,t){return"end"===e||"right"===e?-t:"center"===e?-t/2:0}function gh(e,t,i,o=0){return"middle"===e?-t/2:"top"===e?0:"bottom"===e?o-t:e&&"alphabetic"!==e?0:(i||(i=t),-(t-i)/2-.79*i)}var fh=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},kh=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},mh=function(e,t){return function(i,o){t(i,o,e)}};function bh(e,t,i){var o;const{x:l=i.x,y:n=i.y,z:r=i.z,dx:a=i.dx,dy:s=i.dy,dz:h=i.dz,scaleX:d=i.scaleX,scaleY:c=i.scaleY,scaleZ:p=i.scaleZ,alpha:y=i.alpha,beta:u=i.beta,angle:g=i.angle,anchor3d:f=t.attribute.anchor,anchor:k}=t.attribute,m=[0,0,0];if(f){if("string"==typeof f[0]){const e=parseFloat(f[0])/100,i=t.AABBBounds;m[0]=i.x1+(i.x2-i.x1)*e}else m[0]=f[0];if("string"==typeof f[1]){const e=parseFloat(f[1])/100,i=t.AABBBounds;m[1]=i.x1+(i.x2-i.x1)*e}else m[1]=f[1];m[2]=null!==(o=f[2])&&void 0!==o?o:0}if(Qa(e),es(e,e,[l+a,n+s,r+h]),es(e,e,[m[0],m[1],m[2]]),function(e,t,i){const o=Math.sin(i),l=Math.cos(i),n=t[4],r=t[5],a=t[6],s=t[7],h=t[8],d=t[9],c=t[10],p=t[11];t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=n*l+h*o,e[5]=r*l+d*o,e[6]=a*l+c*o,e[7]=s*l+p*o,e[8]=h*l-n*o,e[9]=d*l-r*o,e[10]=c*l-a*o,e[11]=p*l-s*o}(e,e,u),function(e,t,i){const o=Math.sin(i),l=Math.cos(i),n=t[0],r=t[1],a=t[2],s=t[3],h=t[8],d=t[9],c=t[10],p=t[11];t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*l-h*o,e[1]=r*l-d*o,e[2]=a*l-c*o,e[3]=s*l-p*o,e[8]=n*o+h*l,e[9]=r*o+d*l,e[10]=a*o+c*l,e[11]=s*o+p*l}(e,e,y),es(e,e,[-m[0],-m[1],m[2]]),function(e,t,i){const o=i[0],l=i[1],n=i[2];e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e[3]=t[3]*o,e[4]=t[4]*l,e[5]=t[5]*l,e[6]=t[6]*l,e[7]=t[7]*l,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]}(e,e,[d,c,p]),g){const i=rs.allocate(),o=[0,0];if(k){if("string"==typeof f[0]){const e=parseFloat(f[0])/100,i=t.AABBBounds;o[0]=i.x1+(i.x2-i.x1)*e}else o[0]=f[0];if("string"==typeof f[1]){const e=parseFloat(f[1])/100,i=t.AABBBounds;o[1]=i.x1+(i.x2-i.x1)*e}else o[1]=f[1]}es(i,i,[o[0],o[1],0]),function(e,t,i){const o=Math.sin(i),l=Math.cos(i),n=t[0],r=t[1],a=t[2],s=t[3],h=t[4],d=t[5],c=t[6],p=t[7];t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=n*l+h*o,e[1]=r*l+d*o,e[2]=a*l+c*o,e[3]=s*l+p*o,e[4]=h*l-n*o,e[5]=d*l-r*o,e[6]=c*l-a*o,e[7]=p*l-s*o}(i,i,g),es(i,i,[-o[0],-o[1],0]),is(e,e,i)}}let vh=class{constructor(e){this.creator=e,this.hooks={onAttributeUpdate:new ve(["graphic"]),onSetStage:new ve(["graphic","stage"]),onRemove:new ve(["graphic"]),onRelease:new ve(["graphic"]),onAddIncremental:new ve(["graphic","group","stage"]),onClearIncremental:new ve(["graphic","group","stage"]),beforeUpdateAABBBounds:new ve(["graphic","stage","willUpdate","aabbBounds"]),afterUpdateAABBBounds:new ve(["graphic","stage","aabbBounds","globalAABBBounds","selfChange"]),clearAABBBounds:new ve(["graphic","stage","aabbBounds"])},this.tempAABBBounds1=new yi,this.tempAABBBounds2=new yi}onAttributeUpdate(e){this.hooks.onAttributeUpdate.taps.length&&this.hooks.onAttributeUpdate.call(e)}onSetStage(e,t){this.hooks.onSetStage.taps.length&&this.hooks.onSetStage.call(e,t)}onRemove(e){this.hooks.onRemove.taps.length&&this.hooks.onRemove.call(e)}onRelease(e){this.hooks.onRelease.taps.length&&this.hooks.onRelease.call(e)}onAddIncremental(e,t,i){this.hooks.onAddIncremental.taps.length&&this.hooks.onAddIncremental.call(e,t,i)}onClearIncremental(e,t){this.hooks.onClearIncremental.taps.length&&this.hooks.onClearIncremental.call(e,t)}beforeUpdateAABBBounds(e,t,i,o){this.hooks.beforeUpdateAABBBounds.taps.length&&this.hooks.beforeUpdateAABBBounds.call(e,t,i,o)}afterUpdateAABBBounds(e,t,i,o,l){this.hooks.afterUpdateAABBBounds.taps.length&&this.hooks.afterUpdateAABBBounds.call(e,t,i,o,l)}clearAABBBounds(e,t,i){this.hooks.clearAABBBounds.taps.length&&this.hooks.clearAABBBounds.call(e,t,i)}updatePathProxyAABBBounds(e,t){const i="function"==typeof t.pathProxy?t.pathProxy(t.attribute):t.pathProxy;if(!i)return!1;const o=new Bi(e);return no(i.commandList,o,0,0),!0}updateHTMLTextAABBBounds(e,t,i,o){const{textAlign:l,textBaseline:n}=e;if(null!=e.forceBoundsHeight){const t=Ze(e.forceBoundsHeight)?e.forceBoundsHeight:e.forceBoundsHeight(),o=gh(n,t,t);i.set(i.x1,o,i.x2,o+t)}if(null!=e.forceBoundsWidth){const t=Ze(e.forceBoundsWidth)?e.forceBoundsWidth:e.forceBoundsWidth(),o=uh(l,t);i.set(o,i.y1,o+t,i.y2)}}combindShadowAABBBounds(e,t){if(t&&t.shadowRoot){const i=t.shadowRoot.AABBBounds;e.union(i)}}transformAABBBounds(e,t,i,o,l){if(!t.empty()){const{scaleX:l=i.scaleX,scaleY:n=i.scaleY,stroke:r=i.stroke,shadowBlur:a=i.shadowBlur,lineWidth:s=i.lineWidth,pickStrokeBuffer:h=i.pickStrokeBuffer,strokeBoundsBuffer:d=i.strokeBoundsBuffer}=e,c=this.tempAABBBounds1,p=this.tempAABBBounds2;if(r&&s){Aa(c,(s+h)/Math.abs(l+n),o,d),t.union(c),c.setValue(p.x1,p.y1,p.x2,p.y2)}if(a){const{shadowOffsetX:o=i.shadowOffsetX,shadowOffsetY:r=i.shadowOffsetY}=e;Aa(c,a/Math.abs(l+n)*2,!1,d+1),c.translate(o,r),t.union(c)}}if(this.combindShadowAABBBounds(t,l),t.empty())return;let n=!0;const r=l.transMatrix;l&&l.isContainer&&(n=!(1===r.a&&0===r.b&&0===r.c&&1===r.d&&0===r.e&&0===r.f)),n&&ci(t,t,r)}validCheck(e,t,i,o){if(!o)return!0;if(null!=e.forceBoundsHeight||null!=e.forceBoundsWidth)return!0;if(o.shadowRoot||o.isContainer)return!0;const{visible:l=t.visible}=e;return!(!o.valid||!l)||(i.empty()||(o.parent&&i.transformWithMatrix(o.parent.globalTransMatrix),this.clearAABBBounds(o,o.stage,i),i.clear()),!1)}updateTempAABBBounds(e){const t=this.tempAABBBounds1,i=this.tempAABBBounds2;return t.setValue(e.x1,e.y1,e.x2,e.y2),i.setValue(e.x1,e.y1,e.x2,e.y2),{tb1:t,tb2:i}}};vh=fh([Q(),mh(0,q($a)),kh("design:paramtypes",[Object])],vh);const Ch=(e,t,i)=>{const{outerBorder:o,shadowBlur:l=t.shadowBlur}=e;if(o){const e=t.outerBorder,{distance:n=e.distance,lineWidth:r=e.lineWidth}=o;i.expand(n+(l+r)/2)}return i};class Sh{constructor(e,t,i){this.fontFamily=e,this.textOptions=t,this.textMeasure=i}LayoutBBox(e,t,i,o){if(e.xOffset="left"===t||"start"===t?0:"center"===t?e.width/-2:"right"===t||"end"===t?-e.width:0,"top"===i)e.yOffset=0;else if("middle"===i)e.yOffset=e.height/-2;else if("alphabetic"===i){let t=.79;if(1===o.length){const e=o[0];t=e.ascent/(e.ascent+e.descent)}e.yOffset=e.height*-t}else e.yOffset=-e.height;return e}GetLayoutByLines(e,t,i,o,l="",n,r){const{lineWidth:a,suffixPosition:s="end",measureMode:h=Me.actualBounding,keepCenterInLine:d=!1}=null!=r?r:{};e=e.map(e=>e.toString());const c=[],p=[0,0];if("number"==typeof a&&a!==1/0){let t;for(let i=0,o=e.length;i<o;i++){const o=this.textMeasure.measureTextPixelADscentAndWidth(e[i],this.textOptions,h);let r=e[i].toString();if(o.width>a){const o=this.textMeasure.clipTextWithSuffix(e[i],this.textOptions,a,l,n,s);r=o.str,t=o.width}else t=o.width;c.push({str:r,width:t,ascent:o.ascent,descent:o.descent,keepCenterInLine:d})}p[0]=a}else{let t,i,o=0;for(let l=0,n=e.length;l<n;l++){i=e[l];const n=this.textMeasure.measureTextPixelADscentAndWidth(e[l],this.textOptions,h);t=n.width,o=Math.max(o,t),c.push({str:i,width:t,ascent:n.ascent,descent:n.descent,keepCenterInLine:d})}p[0]=o}p[1]=c.length*o,p[0]=c.reduce((e,t)=>Math.max(e,t.width),0);const y={xOffset:0,yOffset:0,width:p[0],height:p[1]};return this.LayoutBBox(y,t,i,c),this.layoutWithBBox(y,c,t,i,o)}layoutWithBBox(e,t,i,o,l){const n=[0,0],r=t.length*l;"top"===o||("middle"===o?n[1]=(e.height-r)/2:"bottom"===o&&(n[1]=e.height-r));for(let a=0;a<t.length;a++)this.lineOffset(e,t[a],i,o,l,n);return{bbox:e,lines:t,fontFamily:this.fontFamily,fontSize:this.textOptions.fontSize,fontWeight:this.textOptions.fontWeight,lineHeight:l,textAlign:i,textBaseline:o}}lineOffset(e,t,i,o,l,n){if("left"===i||"start"===i?t.leftOffset=0:"center"===i?t.leftOffset=(e.width-t.width)/2:"right"!==i&&"end"!==i||(t.leftOffset=e.width-t.width),t.topOffset=l/2+(t.ascent-t.descent)/2+n[1],!t.keepCenterInLine){const e=0,i=t.ascent+t.descent+e;if(i<l-e&&("bottom"===o?t.topOffset+=(l-i)/2:"top"===o&&(t.topOffset-=(l-i)/2)),"alphabetic"===o){const e=l/(t.ascent+t.descent);t.topOffset=l/2+(t.ascent-t.descent)/2*e+n[1]}}return n[1]+=l,t}}const xh=["text","maxLineWidth","maxWidth","textAlign","textBaseline","heightLimit","lineClamp","fontSize","fontFamily","fontWeight","ellipsis","lineHeight","direction","wordBreak","heightLimit","lineClamp",...Ts];class _h extends Ws{get font(){const e=this.getGraphicTheme();return this._font||(this._font=si(this.attribute,e)),this._font}get clipedText(){var e;const t=this.attribute,i=this.getGraphicTheme(),o=this.getMaxWidth(i);return Number.isFinite(o)?(this.tryUpdateAABBBounds(),this.cache.clipedText):(null!==(e=t.text)&&void 0!==e?e:i.text).toString()}get clipedWidth(){return this.tryUpdateAABBBounds(),this.cache.clipedWidth}get cliped(){var e,t;const i=this.getGraphicTheme(),o=this.attribute,l=this.getMaxWidth(i);if(!Number.isFinite(l))return!1;const{text:n}=this.attribute;if(this.tryUpdateAABBBounds(),null===(t=null===(e=this.cache)||void 0===e?void 0:e.layoutData)||void 0===t?void 0:t.lines){let e="";return this.cache.layoutData.lines.forEach(t=>{e+=t.str}),(Array.isArray(n)?n.join(""):n)!==e}return"vertical"===o.direction&&this.cache.verticalList&&this.cache.verticalList[0]?this.cache.verticalList[0].map(e=>e.text).join("")!==o.text.toString():null!=this.clipedText&&this.clipedText!==o.text.toString()}get multilineLayout(){return this.tryUpdateAABBBounds(),this.cache.layoutData}get isMultiLine(){return Array.isArray(this.attribute.text)||"normal"===this.attribute.whiteSpace}constructor(e={text:"",fontSize:16}){super(e),this.type="text",this.numberType=Za,this.cache={}}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{text:e}=this.attribute;return Ve(e)?!e.every(e=>null==e||""===e):null!=e&&""!==e}getGraphicTheme(){return Pn(this).text}doUpdateOBBBounds(){const e=this.getGraphicTheme();this._OBBBounds.clear();const t=this.attribute,{angle:i=e.angle}=t;if(!i){const e=this.AABBBounds;return this._OBBBounds.setValue(e.x1,e.y1,e.x2,e.y2),this._OBBBounds}this.obbText||(this.obbText=new _h({})),this.obbText.setAttributes(Object.assign(Object.assign({},t),{angle:0}));const o=this.obbText.AABBBounds,{x:l,y:n}=t,r={x:(o.x1+o.x2)/2,y:(o.y1+o.y2)/2},a=ii(r,i,{x:l,y:n});return this._OBBBounds.copy(o),this._OBBBounds.translate(a.x-r.x,a.y-r.y),this._OBBBounds.angle=i,this._OBBBounds}updateAABBBounds(e,t,i){const{text:o=t.text}=this.attribute;Array.isArray(o)?this.updateMultilineAABBBounds(o):this.updateSingallineAABBBounds(o);const{tb1:l}=xe.graphicService.updateTempAABBBounds(i),{scaleX:n=t.scaleX,scaleY:r=t.scaleY,shadowBlur:a=t.shadowBlur,strokeBoundsBuffer:s=t.strokeBoundsBuffer}=e;if(a){Aa(l,a/Math.abs(n+r),!0,s),i.union(l)}return xe.graphicService.combindShadowAABBBounds(i,this),null==e.forceBoundsHeight&&null==e.forceBoundsWidth||xe.graphicService.updateHTMLTextAABBBounds(e,t,i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,ci(i,i,this.transMatrix),i}updateSingallineAABBBounds(e){this.updateMultilineAABBBounds([e]);const t=this.cache.layoutData;if(t&&t.lines&&t.lines.length){const e=t.lines[0];this.cache.clipedText=e.str,this.cache.clipedWidth=e.width}return this._AABBBounds}updateMultilineAABBBounds(e){const t=this.getGraphicTheme(),{direction:i=t.direction,underlineOffset:o=t.underlineOffset}=this.attribute,l="horizontal"===i?this.updateHorizontalMultilineAABBBounds(e):this.updateVerticalMultilineAABBBounds(e);return"horizontal"===i&&o&&this._AABBBounds.add(this._AABBBounds.x1,this._AABBBounds.y2+o),l}guessLineHeightBuf(e){return e?.1*e:0}updateHorizontalMultilineAABBBounds(e){var t;const i=this.getGraphicTheme(),o=this.attribute,{fontFamily:l=i.fontFamily,textAlign:n=i.textAlign,textBaseline:r=i.textBaseline,fontSize:a=i.fontSize,fontWeight:s=i.fontWeight,ellipsis:h=i.ellipsis,maxLineWidth:d,stroke:c=i.stroke,wrap:p=i.wrap,measureMode:y=i.measureMode,lineWidth:u=i.lineWidth,whiteSpace:g=i.whiteSpace,suffixPosition:f=i.suffixPosition,ignoreBuf:k=i.ignoreBuf,keepCenterInLine:m=i.keepCenterInLine}=o,b=k?0:this.guessLineHeightBuf(a),v=this.getLineHeight(o,i,b);if("normal"===g||p)return this.updateWrapAABBBounds(e);if(!this.shouldUpdateShape()&&(null===(t=this.cache)||void 0===t?void 0:t.layoutData)){const e=this.cache.layoutData.bbox;return this._AABBBounds.set(e.xOffset,e.yOffset,e.xOffset+e.width,e.yOffset+e.height),c&&this._AABBBounds.expand(u/2),this._AABBBounds}const C=xe.graphicUtil.textMeasure,S=new Sh(l,{fontSize:a,fontWeight:s,fontFamily:l,lineHeight:v},C).GetLayoutByLines(e,n,r,v,!0===h?i.ellipsis:h||void 0,!1,{lineWidth:d,suffixPosition:f,measureMode:y,keepCenterInLine:m}),{bbox:x}=S;return this.cache.layoutData=S,this.clearUpdateShapeTag(),this._AABBBounds.set(x.xOffset,x.yOffset,x.xOffset+x.width,x.yOffset+x.height),c&&this._AABBBounds.expand(u/2),this._AABBBounds}updateWrapAABBBounds(e){var t,i,o;const l=this.getGraphicTheme(),{fontFamily:n=l.fontFamily,textAlign:r=l.textAlign,textBaseline:a=l.textBaseline,fontSize:s=l.fontSize,ellipsis:h=l.ellipsis,maxLineWidth:d,stroke:c=l.stroke,lineWidth:p=l.lineWidth,wordBreak:y=l.wordBreak,fontWeight:u=l.fontWeight,ignoreBuf:g=l.ignoreBuf,measureMode:f=l.measureMode,suffixPosition:k=l.suffixPosition,heightLimit:m=0,lineClamp:b,keepCenterInLine:v=l.keepCenterInLine}=this.attribute,C=g?0:this.guessLineHeightBuf(s),S=this.getLineHeight(this.attribute,l,C);if(!this.shouldUpdateShape()&&(null===(t=this.cache)||void 0===t?void 0:t.layoutData)){const e=this.cache.layoutData.bbox;return this._AABBBounds.set(e.xOffset,e.yOffset,e.xOffset+e.width,e.yOffset+e.height),c&&this._AABBBounds.expand(p/2),this._AABBBounds}const x=xe.graphicUtil.textMeasure,_={fontSize:s,fontWeight:u,fontFamily:n,lineHeight:S},w=new Sh(n,_,x),L=Ve(e)?e.map(e=>e.toString()):[e.toString()],F=[],T=[0,0];let A=1/0;if(m>0&&(A=Math.max(Math.floor(m/S),1)),b&&(A=Math.min(A,b)),"number"==typeof d&&d!==1/0){if(d>0)for(let t=0;t<L.length;t++){const e=L[t];let l=!0;if(t===A-1){const i=x.clipTextWithSuffix(e,_,d,h,!1,k,t!==L.length-1),o=x.measureTextPixelADscentAndWidth(i.str,_,f);F.push({str:i.str,width:i.width,ascent:o.ascent,descent:o.descent,keepCenterInLine:v});break}const n=x.clipText(e,_,d,"break-all"!==y,"keep-all"===y);if(""!==e&&""===n.str||n.wordBreaked){if(h){const t=x.clipTextWithSuffix(e,_,d,h,!1,k);n.str=null!==(i=t.str)&&void 0!==i?i:"",n.width=null!==(o=t.width)&&void 0!==o?o:0}else n.str="",n.width=0;l=!1}const r=x.measureTextPixelADscentAndWidth(n.str,_,f);F.push({str:n.str,width:n.width,ascent:r.ascent,descent:r.descent,keepCenterInLine:v});let a=n.str.length;if(!n.wordBreaked||""!==e&&""===n.str||(l=!0,a=n.wordBreaked),n.str.length===e.length);else if(l){let i=e.substring(a);"keep-all"===y&&(i=i.replace(/^\s+/g,"")),L.splice(t+1,0,i)}}let e=0;F.forEach(t=>{e=Math.max(e,t.width)}),T[0]=e}else{let e,t,i=0;for(let o=0,l=L.length;o<l;o++){if(o===A-1){const e=x.clipTextWithSuffix(L[o],_,d,h,!1,k),t=x.measureTextPixelADscentAndWidth(e.str,_,f);F.push({str:e.str,width:e.width,ascent:t.ascent,descent:t.descent,keepCenterInLine:v}),i=Math.max(i,e.width);break}t=L[o],e=x.measureTextWidth(t,_),i=Math.max(i,e);const l=x.measureTextPixelADscentAndWidth(t,_,f);F.push({str:t,width:e,ascent:l.ascent,descent:l.descent,keepCenterInLine:v})}T[0]=i}T[1]=F.length*S;const z={xOffset:0,yOffset:0,width:T[0],height:T[1]};w.LayoutBBox(z,r,a,F);const B=w.layoutWithBBox(z,F,r,a,S);return this.cache.layoutData=B,this.clearUpdateShapeTag(),this._AABBBounds.set(z.xOffset,z.yOffset,z.xOffset+z.width,z.yOffset+z.height),c&&this._AABBBounds.expand(p/2),this._AABBBounds}updateVerticalMultilineAABBBounds(e){var t,i;const o=this.getGraphicTheme(),l=xe.graphicUtil.textMeasure;let n;const r=this.attribute,{maxLineWidth:a=o.maxLineWidth,ellipsis:s=o.ellipsis,fontFamily:h=o.fontFamily,fontSize:d=o.fontSize,fontWeight:c=o.fontWeight,stroke:p=o.stroke,lineWidth:y=o.lineWidth,verticalMode:u=o.verticalMode,suffixPosition:g=o.suffixPosition}=r,f=this.getLineHeight(r,o,0);let{textAlign:k=o.textAlign,textBaseline:m=o.textBaseline}=r;if(!u){const e=k;k=null!==(t=_h.baselineMapAlign[m])&&void 0!==t?t:"left",m=null!==(i=_h.alignMapBaseline[e])&&void 0!==i?i:"top"}if(n=0,!this.shouldUpdateShape()&&this.cache){this.cache.verticalList.forEach(e=>{const t=e.reduce((e,t)=>e+t.width,0);n=Rt(t,n)});const e=uh(k,n),t=this.cache.verticalList.length*f,i=gh(m,t,d);return this._AABBBounds.set(i,e,i+t,e+n),p&&this._AABBBounds.expand(y/2),this._AABBBounds}const b=e.map(e=>function(e){const t=[];let i=0,o="";for(let l=0;l<e.length;l++)Ra(e[l])?i?o+=e[l]:(i=1,o=e[l]):(i&&(t.push({text:o,direction:Ma.VERTICAL}),o="",i=0),t.push({text:e[l],direction:Ma.HORIZONTAL}));return o&&t.push({text:o,direction:Ma.VERTICAL}),t}(e.toString()));b.forEach((e,t)=>{if(Number.isFinite(a))if(s){const i=!0===s?o.ellipsis:s,r=l.clipTextWithSuffixVertical(e,{fontSize:d,fontWeight:c,fontFamily:h},a,i,!1,g);b[t]=r.verticalList,n=r.width}else{const i=l.clipTextVertical(e,{fontSize:d,fontWeight:c,fontFamily:h},a,!1);b[t]=i.verticalList,n=i.width}else n=0,e.forEach(e=>{const t=e.direction===Ma.HORIZONTAL?d:l.measureTextWidth(e.text,{fontSize:d,fontWeight:c,fontFamily:h});n+=t,e.width=t})}),this.cache.verticalList=b,this.clearUpdateShapeTag(),this.cache.verticalList.forEach(e=>{const t=e.reduce((e,t)=>e+t.width,0);n=Rt(t,n)});const v=uh(k,n),C=this.cache.verticalList.length*f,S=gh(m,C,d);return this._AABBBounds.set(S,v,S+C,v+n),p&&this._AABBBounds.expand(y/2),this._AABBBounds}getMaxWidth(e){var t,i;const o=this.attribute;return null!==(i=null!==(t=o.maxLineWidth)&&void 0!==t?t:o.maxWidth)&&void 0!==i?i:e.maxWidth}getLineHeight(e,t,i){var o;return null!==(o=cr(e.lineHeight,e.fontSize||t.fontSize))&&void 0!==o?o:(e.fontSize||t.fontSize)+i}needUpdateTags(e,t=xh){return super.needUpdateTags(e,t)}needUpdateTag(e,t=xh){return super.needUpdateTag(e,t)}_interpolate(e,t,i,o,l){"text"===e&&(l.text=o)}clone(){return new _h(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return _h.NOWORK_ANIMATE_ATTR}getBaselineMapAlign(){return _h.baselineMapAlign}getAlignMapBaseline(){return _h.alignMapBaseline}}function wh(e){return new _h(e)}_h.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,direction:1,textAlign:1,textBaseline:1,fontFamily:1,fontWeight:1},Os),_h.baselineMapAlign={top:"left",bottom:"right",middle:"center"},_h.alignMapBaseline={left:"top",right:"bottom",center:"middle"};const Lh=["symbolType","size",...Ts];let Fh=class e extends Ws{constructor(e={symbolType:"circle"}){super(e),this.type="symbol",this.numberType=Ya}getParsedPath(){return this.shouldUpdateShape()&&(this._parsedPath=this.doUpdateParsedPath(),this.clearUpdateShapeTag()),this._parsedPath}getParsedPath2D(e=0,t=0,i=1){let o=null;try{o=new Path2D}catch(nH){return null}const l=this.getParsedPath();if(!l)return null;l.draw(o,i,e,t)}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{size:e}=this.attribute;return Ve(e)?2===e.length&&e.every(this._validNumber):this._validNumber(e)}doUpdateParsedPath(){const{symbolType:e="circle"}=this.attribute;return super.parsePath(e)}getGraphicTheme(){return Pn(this).symbol}updateAABBBounds(e,t,i,o){this.updatePathProxyAABBBounds(i)||(o?this.updateSymbolAABBBoundsImprecise(e,t,i):this.updateSymbolAABBBoundsAccurate(e,t,i));const{tb1:l,tb2:n}=xe.graphicService.updateTempAABBBounds(i);((e,t,i)=>{const{outerBorder:o,shadowBlur:l=t.shadowBlur,strokeBoundsBuffer:n=t.strokeBoundsBuffer}=e;if(o){const e=t.outerBorder,{distance:r=e.distance,lineWidth:a=e.lineWidth}=o;Aa(i,r+(l+a)/2,!0,n)}})(e,t,l),i.union(l),l.setValue(n.x1,n.y1,n.x2,n.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,this.x1WithoutTransform=i.x1,this.y1WithoutTransform=i.y1;const{lineJoin:r=t.lineJoin}=e;return xe.graphicService.transformAABBBounds(e,i,t,"miter"===r,this),i}updateSymbolAABBBoundsImprecise(e,t,i){const{size:o=t.size}=e;if(Ve(o))i.set(-o[0]/2,-o[1]/2,o[0]/2,o[1]/2);else{const e=o/2;i.set(-e,-e,e,e)}return i}updateSymbolAABBBoundsAccurate(e,t,i){const{size:o=t.size}=e;return this.getParsedPath().bounds(o,i),i}needUpdateTags(e){return super.needUpdateTags(e,Lh)}needUpdateTag(e){return super.needUpdateTag(e,Lh)}toCustomPath(){const e=this.getParsedPath(),t=this.attribute.size,i=Ve(t)?t:[t,t];return e.path?(new Zo).fromCustomPath2D(e.path,0,0,i[0],i[1]):(new Zo).fromString(e.pathStr,0,0,i[0],i[1])}clone(){return new e(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return e.NOWORK_ANIMATE_ATTR}};function Th(e){return new Fh(e)}Fh.NOWORK_ANIMATE_ATTR=Object.assign({symbolType:1},Os);const Ah=["segments","points","curveType","curveTension",...Ts];let zh=class e extends Ws{constructor(e={}){super(e),this.type="line",this.numberType=ja}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:e,segments:t}=this.attribute;return t?0!==t.length:!(!e||e.length<=1)}_interpolate(e,t,i,o,l){"points"===e&&(l.points=ar(i,o,t))}getGraphicTheme(){return Pn(this).line}updateAABBBounds(e,t,i){this.updatePathProxyAABBBounds(i)||(e.segments?this.updateLineAABBBoundsBySegments(e,t,i):this.updateLineAABBBoundsByPoints(e,t,i)),xe.graphicService.updateTempAABBBounds(i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;const{lineJoin:o=t.lineJoin}=e;return xe.graphicService.transformAABBBounds(e,i,t,"miter"===o,this),i}updateLineAABBBoundsByPoints(e,t,i,o){const{points:l=t.points,connectedType:n}=e,r=i;return l.forEach(e=>{!1===e.defined&&"connect"!==n||r.add(e.x,e.y)}),r}updateLineAABBBoundsBySegments(e,t,i,o){const{segments:l=t.segments,connectedType:n}=e,r=i;return l.forEach(e=>{e.points.forEach(e=>{!1===e.defined&&"connect"!==n||r.add(e.x,e.y)})}),r}needUpdateTags(e){return super.needUpdateTags(e,Ah)}needUpdateTag(e){return super.needUpdateTag(e,Ah)}toCustomPath(){let e=super.toCustomPath();if(e)return e;const t=this.attribute;e=new Zo;const i=t.segments,o=t=>{if(t&&t.length){let i=!0;t.forEach(t=>{!1!==t.defined&&(i?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y),i=!1)})}};return i&&i.length?i.forEach(e=>{o(e.points)}):t.points&&o(t.points),e}clone(){return new e(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return e.NOWORK_ANIMATE_ATTR}};function Bh(e){return new zh(e)}zh.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},Os);const Mh=e=>{if(!e)return{x:0,y:0,width:0,height:0};let t=De(e.width)?e.x1-e.x:e.width,i=De(e.height)?e.y1-e.y:e.height,o=0,l=0;return t<0?(o=t,t=-t):Number.isNaN(t)&&(t=0),i<0?(l=i,i=-i):Number.isNaN(i)&&(i=0),{x:o,y:l,width:t,height:i}},Oh=["width","x1","y1","height","cornerRadius",...Ts];class Wh extends Ws{constructor(e){super(e),this.type="rect",this.numberType=Ua}isValid(){return super.isValid()&&this._isValid()}_isValid(){return!0}getGraphicTheme(){return Pn(this).rect}updateAABBBounds(e,t,i){if(!this.updatePathProxyAABBBounds(i)){let{width:t,height:o}=e;const{x1:l,y1:n,x:r,y:a}=e;t=null!=t?t:l-r,o=null!=o?o:n-a,(isFinite(t)||isFinite(o)||isFinite(r)||isFinite(a))&&i.set(0,0,t||0,o||0)}const{tb1:o,tb2:l}=xe.graphicService.updateTempAABBBounds(i);return Ch(e,t,o),i.union(o),o.setValue(l.x1,l.y1,l.x2,l.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,xe.graphicService.transformAABBBounds(e,i,t,!1,this),i}needUpdateTags(e){return super.needUpdateTags(e,Oh)}needUpdateTag(e){return super.needUpdateTag(e,Oh)}toCustomPath(){let e=super.toCustomPath();if(e)return e;const t=this.attribute,{x:i,y:o,width:l,height:n}=Mh(t);return e=new Zo,e.moveTo(i,o),e.rect(i,o,l,n),e}clone(){return new Wh(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Wh.NOWORK_ANIMATE_ATTR}}function Rh(e){return new Wh(e)}Wh.NOWORK_ANIMATE_ATTR=Os;class Hh{constructor(e,t,i,o,l,n,r,a,s,h,d,c,p,y){this.left=e,this.top=t,this.width=i,this.height=o,this.actualHeight=0,this.bottom=t+o,this.right=e+i,this.ellipsis=l,this.wordBreak=n,this.verticalDirection=r,this.lines=[],this.globalAlign=a,this.globalBaseline=s,this.layoutDirection=h,this.directionKey=xl[this.layoutDirection],this.isWidthMax=d,this.isHeightMax=c,this.singleLine=p,y?(y.clear(),this.icons=y):this.icons=new Map}draw(e,t){const{width:i,height:o}=this.getActualSize(),l=this.isWidthMax?Math.min(this.width,i):this.width||i||0;let n=this.isHeightMax?Math.min(this.height,o):this.height||o||0;n=Math.min(n,o);let r=0;switch(this.globalBaseline){case"top":r=0;break;case"middle":r=-n/2;break;case"bottom":r=-n}let a=0;"right"===this.globalAlign||"end"===this.globalAlign?a=-l:"center"===this.globalAlign&&(a=-l/2);let s=this[this.directionKey.height];this.singleLine&&(s=this.lines[0].height+1);let h=!1;if("middle"===this.verticalDirection)if(this.actualHeight>=s&&0!==s)for(let d=0;d<this.lines.length;d++){const{top:i,height:o}=this.lines[d];if(i+o<this[this.directionKey.top]||i+o>this[this.directionKey.top]+s)return h;let l=!1;this.ellipsis&&this.lines[d+1]&&this.lines[d+1].top+this.lines[d+1].height>this[this.directionKey.top]+s&&(l=!0,h=!0),this.lines[d].draw(e,l,this.lines[d][this.directionKey.left]+a,this.lines[d][this.directionKey.top]+r,this.ellipsis,t)}else{const i=Math.floor((s-this.actualHeight)/2);"vertical"===this.layoutDirection?a+=i:r+=i;for(let o=0;o<this.lines.length;o++)this.lines[o].draw(e,!1,this.lines[o][this.directionKey.left]+a,this.lines[o][this.directionKey.top]+r,this.ellipsis,t)}else if("bottom"===this.verticalDirection&&"vertical"!==this.layoutDirection)for(let d=0;d<this.lines.length;d++){const{top:i,height:o}=this.lines[d],l=s-this.lines[d].top-this.lines[d].height;if(0===s)this.lines[d].draw(e,!1,a,l+r,this.ellipsis,t);else{if(l+o>this[this.directionKey.top]+s||l<this[this.directionKey.top])return h;{let i=!1;this.ellipsis&&this.lines[d+1]&&l-this.lines[d+1].height<this[this.directionKey.top]&&(i=!0,h=!0),this.lines[d].draw(e,i,a,l+r,this.ellipsis,t)}}}else{"bottom"===this.verticalDirection&&"vertical"===this.layoutDirection&&this.singleLine&&this.isWidthMax&&(a+=this.lines[0].height+1);for(let i=0;i<this.lines.length;i++){"bottom"===this.verticalDirection&&"vertical"===this.layoutDirection&&(a-=this.lines[i].height+this.lines[i].top);const{top:o,height:l}=this.lines[i];if(0===s)this.lines[i].draw(e,!1,this.lines[i][this.directionKey.left]+a,this.lines[i][this.directionKey.top]+r,this.ellipsis,t);else{if(o+l<this[this.directionKey.top]||o+l>this[this.directionKey.top]+s)return h;{let o=!1;this.ellipsis&&this.lines[i+1]&&this.lines[i+1].top+this.lines[i+1].height>this[this.directionKey.top]+s&&(o=!0,h=!0),this.lines[i].draw(e,o,this.lines[i][this.directionKey.left]+a,this.lines[i][this.directionKey.top]+r,this.ellipsis,t)}}}}return h}getActualSize(){return this.ellipsis?this.getActualSizeWidthEllipsis():this.getRawActualSize()}getRawActualSize(){let e=0,t=0;for(let i=0;i<this.lines.length;i++){const o=this.lines[i];o.actualWidth>e&&(e=o.actualWidth),t+=o.height}return{width:"vertical"===this.layoutDirection?t:e,height:"vertical"===this.layoutDirection?e:t}}getActualSizeWidthEllipsis(){let e=0,t=0;const{width:i,height:o}=this.getRawActualSize();this.width,this.height;let l=this[this.directionKey.height];if(this.singleLine&&(l=this.lines[0].height+1),"middle"===this.verticalDirection)if(this.actualHeight>=l&&0!==l)for(let n=0;n<this.lines.length;n++){const{top:i,height:o}=this.lines[n];if(i+o<this[this.directionKey.top]||i+o>this[this.directionKey.top]+l);else if(this.ellipsis&&this.lines[n+1]&&this.lines[n+1].top+this.lines[n+1].height>this[this.directionKey.top]+l){const i=!0===this.ellipsis?"...":this.ellipsis||"",o=this.lines[n].getWidthWithEllips(i);o>e&&(e=o),t+=this.lines[n].height}else this.lines[n].actualWidth>e&&(e=this.lines[n].actualWidth),t+=this.lines[n].height}else{Math.floor((l-this.actualHeight)/2);for(let i=0;i<this.lines.length;i++)this.lines[i].actualWidth>e&&(e=this.lines[i].actualWidth),t+=this.lines[i].height}else if("bottom"===this.verticalDirection)for(let n=0;n<this.lines.length;n++){const{top:i,height:o}=this.lines[n],r=l-this.lines[n].top-this.lines[n].height;if(0===l)this.lines[n].actualWidth>e&&(e=this.lines[n].actualWidth),t+=this.lines[n].height;else if(r+o>this[this.directionKey.top]+l||r<this[this.directionKey.top]);else if(this.ellipsis&&this.lines[n+1]&&r-this.lines[n+1].height<this[this.directionKey.top]){const i=!0===this.ellipsis?"...":this.ellipsis||"",o=this.lines[n].getWidthWithEllips(i);o>e&&(e=o),t+=this.lines[n].height}else this.lines[n].actualWidth>e&&(e=this.lines[n].actualWidth),t+=this.lines[n].height}else for(let n=0;n<this.lines.length;n++){const{top:i,height:o}=this.lines[n];if(0===l)this.lines[n].actualWidth>e&&(e=this.lines[n].actualWidth),t+=this.lines[n].height;else if(i+o<this[this.directionKey.top]||i+o>this[this.directionKey.top]+l);else if(this.ellipsis&&this.lines[n+1]&&this.lines[n+1].top+this.lines[n+1].height>this[this.directionKey.top]+l){const i=!0===this.ellipsis?"...":this.ellipsis||"",o=this.lines[n].getWidthWithEllips(i);o>e&&(e=o),t+=this.lines[n].height}else this.lines[n].actualWidth>e&&(e=this.lines[n].actualWidth),t+=this.lines[n].height}return{width:"vertical"===this.layoutDirection?t:e,height:"vertical"===this.layoutDirection?e:t}}}function Ph(e,t,i,o){const l=Math.round(e),n=Math.round(i),r=Math.round(t),a=Math.round(o);return{left:e>l?l:l-.5,top:i>n?n:n-.5,right:r>t?r:r+.5,bottom:a>o?a:a+.5}}class Eh{constructor(e,t,i,o){var l,n;this.fontSize=i.fontSize||16,this.textBaseline=i.textBaseline||"alphabetic",this.ascentDescentMode=o;const r=cr(i.lineHeight,this.fontSize);this.lineHeight="number"==typeof r?r>this.fontSize?r:this.fontSize:Math.floor(1.2*this.fontSize),this.height=this.lineHeight;const{ascent:a,height:s,descent:h,width:d}=Ol(e,i,this.ascentDescentMode);let c=0,p=0,y=0;this.height>s&&(c=(this.height-s)/2,p=Math.ceil(c),y=Math.floor(c)),"top"===this.textBaseline?(this.ascent=c,this.descent=s-c):"bottom"===this.textBaseline?(this.ascent=s-c,this.descent=c):"middle"===this.textBaseline?(this.ascent=this.height/2,this.descent=this.height/2):(this.ascent=a+p,this.descent=h+y),this.length=e.length,this.width=d||0,this.text=e||"",this.newLine=t||!1,this.character=i,this.left=0,this.top=0,this.ellipsis="normal",this.ellipsisWidth=0,this.ellipsisOtherParagraphWidth=0,this.space=i.space,this.dx=null!==(l=i.dx)&&void 0!==l?l:0,this.dy=null!==(n=i.dy)&&void 0!==n?n:0,"vertical"===i.direction&&(this.direction=i.direction,this.widthOrigin=this.width,this.heightOrigin=this.height,this.width=this.heightOrigin,this.height=this.widthOrigin,this.lineHeight=this.height),this.ellipsisStr="..."}updateWidth(){const{width:e}=Ol(this.text,this.character,this.ascentDescentMode);this.width=e,"vertical"===this.direction&&(this.widthOrigin=this.width,this.width=this.heightOrigin,this.height=this.widthOrigin)}drawBackground(e,t,i,o,l,n,r){if(""===this.text||"\n"===this.text||!this.character.background||this.character.backgroundOpacity&&!(this.character.backgroundOpacity>0))return;let a=t+i,s=this.text,h=this.left+o;a+=this.top;let d=this.direction;if(this.verticalEllipsis)s=this.ellipsisStr,d="vertical",a-=this.ellipsisWidth/2;else{if("hide"===this.ellipsis)return;if("add"===this.ellipsis)s+=this.ellipsisStr,"right"!==n&&"end"!==n||(h-=this.ellipsisWidth);else if("replace"===this.ellipsis){const e=zl(s,("vertical"===d?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,s.length-1);if(s=s.slice(0,e),s+=this.ellipsisStr,"right"===n||"end"===n)if("vertical"===d);else{const{width:t}=Ol(this.text.slice(e),this.character,this.ascentDescentMode);h-=this.ellipsisWidth-t}}}const c=Ph(h,h+(this.widthOrigin||this.width),t,t+r);return Object.assign(Object.assign({},c),{fillStyle:this.character.background,globalAlpha:this.character.backgroundOpacity})}draw(e,t,i,o,l,n,r){var a;let s=t+i,h=this.text,d=this.left+o+(null!==(a=this.space)&&void 0!==a?a:0)/2;s+=this.top;let c=this.direction;if(this.verticalEllipsis)h=this.ellipsisStr,c="vertical",s-=this.ellipsisWidth/2;else{if("hide"===this.ellipsis)return;if("add"===this.ellipsis)h+=this.ellipsisStr,"right"!==n&&"end"!==n||(d-=this.ellipsisWidth);else if("replace"===this.ellipsis){const e=zl(h,("vertical"===c?this.height:this.width)-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,h.length-1);if(h=h.slice(0,e),h+=this.ellipsisStr,"right"===n||"end"===n)if("vertical"===c);else{const{width:t}=Ol(this.text.slice(e),this.character,this.ascentDescentMode);d-=this.ellipsisWidth-t}}}switch(this.character.script){case"super":s-=this.ascent*(1/3);break;case"sub":s+=this.descent/2}"vertical"===c&&(e.save(),e.rotateAbout(Math.PI/2,d,s),e.translate(-this.heightOrigin||-this.lineHeight/2,-this.descent/2),e.translate(d,s),d=0,s=0);const{lineWidth:p=1}=this.character;if(this.character.stroke&&p&&e.strokeText(h,d+this.dx,s+this.dy),this.character.fill&&e.fillText(h,d+this.dx,s+this.dy),this.character.fill)if(this.character.lineThrough||this.character.underline){if(this.character.underline){const t=1+s,i=Ph(d,d+(this.widthOrigin||this.width),t,t+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(i.left,1+s,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}if(this.character.lineThrough){const t=1+s-this.ascent/2,i=Ph(d,d+(this.widthOrigin||this.width),t,t+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(i.left,1+s-this.ascent/2,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}}else if("underline"===this.character.textDecoration){const t=1+s,i=Ph(d,d+(this.widthOrigin||this.width),t,t+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(i.left,1+s,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}else if("line-through"===this.character.textDecoration){const t=1+s-this.ascent/2,i=Ph(d,d+(this.widthOrigin||this.width),t,t+(this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1));e.fillRect(i.left,1+s-this.ascent/2,i.right-i.left,this.character.fontSize?Math.max(1,Math.floor(this.character.fontSize/10)):1)}"vertical"===c&&e.restore()}getWidthWithEllips(e){let t=this.text;const i="vertical"===e?this.height:this.width;if("hide"===this.ellipsis)return i;if("add"===this.ellipsis)return i+this.ellipsisWidth;if("replace"===this.ellipsis){const e=zl(t,i-this.ellipsisWidth+this.ellipsisOtherParagraphWidth,this.character,t.length-1);t=t.slice(0,e),t+=this.ellipsisStr;const{width:o}=Ol(this.text.slice(e),this.character,this.ascentDescentMode);return i+this.ellipsisWidth-o}return i}}const Dh=["width","height","image",...Ts];class Ih extends Ws{constructor(e){super(e),this.type="image",this.numberType=Ia,this.loadImage(this.attribute.image)}getImageElement(){const{image:e}=this.attribute;if(!e||!this.resources)return null;const t=this.resources.get(e);return"success"!==t.state?null:t.data}get width(){return this.tryUpdateAABBBounds(),this._actualWidth}get height(){return this.tryUpdateAABBBounds(),this._actualHeight}get repeatX(){var e;return null!==(e=this.attribute.repeatX)&&void 0!==e?e:"no-repeat"}set repeatX(e){this.attribute.repeatX===e&&(this.attribute.repeatX=e)}get repeatY(){var e;return null!==(e=this.attribute.repeatY)&&void 0!==e?e:"no-repeat"}set repeatY(e){this.attribute.repeatY===e&&(this.attribute.repeatY=e)}get image(){return this.attribute.image}set image(e){e!==this.attribute.image&&(this.attribute.image=e,this.loadImage(this.attribute.image))}imageLoadSuccess(e,t,i){super.imageLoadSuccess(e,t,()=>{this.successCallback&&this.successCallback()}),this.addUpdateBoundTag()}imageLoadFail(e,t){super.imageLoadFail(e,()=>{this.failCallback&&this.failCallback()})}setAttributes(e,t,i){return e.image&&this.loadImage(e.image),super.setAttributes(e,t,i)}setAttribute(e,t,i,o){return"image"===e&&this.loadImage(t),super.setAttribute(e,t,i,o)}getGraphicTheme(){return Pn(this).image}updateAABBBounds(e,t,i){if(!this.updatePathProxyAABBBounds(i)){const{maxWidth:o=t.maxWidth,maxHeight:l=t.maxHeight}=e;let{width:n,height:r}=e;if(null==n||null==r){const e=this.getImageElement();if(e){const t=e.width,i=e.height;if(null!=n)r=n*(i/t);else if(null!=r)n=r*(t/i);else{const e=t/i;e>o/l?(n=o,r=o/e):(r=l,n=l*e)}}else n=o,r=l}this._actualWidth=n,this._actualHeight=r,i.set(0,0,n,r)}const{tb1:o,tb2:l}=xe.graphicService.updateTempAABBBounds(i);return Ch(e,t,o),i.union(o),o.setValue(l.x1,l.y1,l.x2,l.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,xe.graphicService.transformAABBBounds(e,i,t,!1,this),i}getDefaultAttribute(e){return kl[e]}needUpdateTags(e){return super.needUpdateTags(e,Dh)}needUpdateTag(e){return super.needUpdateTag(e,Dh)}clone(){return new Ih(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Ih.NOWORK_ANIMATE_ATTR}}function jh(e){return new Ih(e)}Ih.NOWORK_ANIMATE_ATTR=Object.assign({image:1,repeatX:1,repeatY:1},Os);class Nh extends Ih{constructor(e){if(super(e),this._x=0,this._y=0,this._hovered=!1,this._marginArray=[0,0,0,0],"always"===e.backgroundShowMode&&(this._hovered=!0),e.margin){const t=ir(e.margin);this._marginArray="number"==typeof t?[t,t,t,t]:t}this.onBeforeAttributeUpdate=(e,t,i)=>{if(Ve(i)&&-1!==i.indexOf("margin")||"margin"===i)if(t.margin){const e=ir(t.margin);this._marginArray="number"==typeof e?[e,e,e,e]:e}else this._marginArray=[0,0,0,0]}}get width(){var e;return(null!==(e=this.attribute.width)&&void 0!==e?e:0)+this._marginArray[1]+this._marginArray[3]}get height(){var e;return(null!==(e=this.attribute.height)&&void 0!==e?e:0)+this._marginArray[0]+this._marginArray[2]}tryUpdateAABBBounds(){if(!this.shouldUpdateAABBBounds())return this._AABBBounds;this.doUpdateAABBBounds();const{width:e=kl.width,height:t=kl.height}=this.attribute,{backgroundWidth:i=e,backgroundHeight:o=t}=this.attribute,l=(i-e)/2,n=(o-t)/2;return this._AABBBounds.expand([0,2*l,2*n,0]),this._AABBBounds}setHoverState(e){"hover"===this.attribute.backgroundShowMode&&this._hovered!==e&&(this._hovered=e)}}class Gh{constructor(e,t,i,o,l,n,r,a){this.left=e,this.width=t,this.baseline=i,this.ascent=o,this.descent=l,this.top=i-o,this.paragraphs=n.map(e=>e),this.textAlign=(this.paragraphs[0]instanceof Nh?this.paragraphs[0].attribute.textAlign:this.paragraphs[0].character.textAlign)||"left",this.direction=r,this.directionKey=xl[this.direction],this.actualWidth=0;let s=0;this.paragraphs.forEach((e,t)=>{if(0===t&&e instanceof Eh){const t=Tl.exec(e.text);0!==(null==t?void 0:t.index)&&(e.text=e.text.slice(null==t?void 0:t.index),e.updateWidth())}this.actualWidth+=e[this.directionKey.width],s=Math.max(e[this.directionKey.height],s)}),this.height=s,this.blankWidth=a?0:this.width-this.actualWidth,this.calcOffset(t,a)}calcOffset(e,t){const i=this.directionKey,o=this.height;let l=this.left,n=0;this.actualWidth<e&&!t&&("right"===this.textAlign||"end"===this.textAlign?l=e-this.actualWidth:"center"===this.textAlign?l=(e-this.actualWidth)/2:"justify"===this.textAlign&&(this.paragraphs.length<2?l=(e-this.actualWidth)/2:n=(e-this.actualWidth)/(this.paragraphs.length-1))),this.paragraphs.map(function(e){e instanceof Nh?(e["_"+i.x]=l,l+=e[i.width]+n,e["_"+i.y]="top"===e.attribute.textBaseline?0:"bottom"===e.attribute.textBaseline?o-e.height:(o-e.height)/2):(e[i.left]=l,l+=e[i.width]+n)})}draw(e,t,i,o,l,n){if(l&&(t||this.paragraphs.some(e=>e.overflow))){let e=!0,i=!1;for(let t=this.paragraphs.length-1;t>=0;t--){const o=this.paragraphs[t];if(o.overflow)e=e&&""===o.text;else if(e){i=!0;break}}let o=0;if(!i)for(let n=this.paragraphs.length-1;n>=0;n--){const e=this.paragraphs[n];if(e.overflow){if(""===e.text)break;continue}if(e instanceof Nh)break;if("vertical"===this.direction&&"vertical"!==e.direction){e.verticalEllipsis=!0;break}const i=!0===l?"...":l||"";e.ellipsisStr=i;const{width:r}=Ol(i,e.character,e.ascentDescentMode),a=r||0;if(a<=this.blankWidth+o){t&&(e.ellipsis="add");break}if(a<=this.blankWidth+o+e.width){e.ellipsis="replace",e.ellipsisWidth=a,e.ellipsisOtherParagraphWidth=this.blankWidth+o;break}e.ellipsis="hide",o+=e.width}}let r="",a=-1,s=[];const h=[s];this.paragraphs.forEach((t,l)=>{if(t instanceof Nh)return;const n=t.drawBackground(e,o,this.ascent,i,0===l,this.textAlign,this.height);n&&(r===n.fillStyle&&a===n.globalAlpha||(s=[],h.push(s),r=n.fillStyle,a=n.globalAlpha),s.push(n))}),h.forEach(t=>{if(0===t.length)return;const i=t[0],o=t[t.length-1];e.fillStyle=i.fillStyle,e.globalAlpha=i.globalAlpha,e.fillRect(i.left,i.top,o.right-i.left,o.bottom-i.top)}),this.paragraphs.forEach((t,l)=>{if(t instanceof Nh)return t.setAttributes({x:i+t._x,y:o+t._y}),void n(t,e,i+t._x,o+t._y,this.ascent);const r={x1:this.left,y1:this.top,x2:this.left+this.actualWidth,y2:this.top+this.height};(function(e,t){const i=t&&t.stroke||wl;if(!i)return void(e.globalAlpha=0);const{strokeOpacity:o=1,opacity:l=1}=t;e.globalAlpha=o*l,e.lineWidth=t&&"number"==typeof t.lineWidth?t.lineWidth:1,e.strokeStyle=i,Al(e,t)})(e,t.character),function(e,t,i){const o=t&&t.fill||_l,{fillOpacity:l=1,opacity:n=1}=t;e.globalAlpha=l*n,e.fillStyle=i?Sl(e,o,{AABBBounds:i}):o,Al(e,t)}(e,t.character,r),t.draw(e,o,this.ascent,i,0===l,this.textAlign,this.height)})}getWidthWithEllips(e){let t=0;for(let o=this.paragraphs.length-1;o>=0;o--){const i=this.paragraphs[o];if(i instanceof Nh)break;const{width:l}=Ol(e,i.character,i.ascentDescentMode),n=l||0;if(n<=this.blankWidth+t){i.ellipsis="add",i.ellipsisWidth=n;break}if(n<=this.blankWidth+t+i.width){i.ellipsis="replace",i.ellipsisWidth=n,i.ellipsisOtherParagraphWidth=this.blankWidth+t;break}i.ellipsis="hide",t+=i.width}let i=0;return this.paragraphs.forEach((e,t)=>{i+=e instanceof Nh?e.width:e.getWidthWithEllips(this.direction)}),i}}class Uh{constructor(e){this.frame=e,this.width=this.frame.width,this.height=this.frame.height,this.lineWidth=0,this.y=this.frame.top,this.maxAscent=0,this.maxDescent=0,this.maxAscentForBlank=0,this.maxDescentForBlank=0,this.lineBuffer=[],this.direction=e.layoutDirection,this.directionKey=xl[this.direction]}store(e){if(e instanceof Nh){this.frame.icons.set(e.richtextId,e),this.lineBuffer.push(e),this.lineWidth+=e[this.directionKey.width];let t=0,i=0;"top"===e.attribute.textBaseline?(t=0,i=e.height):"bottom"===e.attribute.textBaseline?(t=e.height,i=0):(t=e.height/2,i=e.height/2),this.maxAscent=Math.max(this.maxAscent,t),this.maxDescent=Math.max(this.maxDescent,i)}else this.lineBuffer.push(e),0!==e.text.length?(this.lineWidth+=e[this.directionKey.width],this.maxAscent=Math.max(this.maxAscent,e.ascent),this.maxDescent=Math.max(this.maxDescent,e.descent)):(this.maxAscentForBlank=Math.max(this.maxAscentForBlank,e.ascent),this.maxDescentForBlank=Math.max(this.maxDescentForBlank,e.descent))}send(){if(0===this.lineBuffer.length)return;const e=0===this.maxAscent?this.maxAscentForBlank:this.maxAscent,t=0===this.maxDescent?this.maxDescentForBlank:this.maxDescent,i=new Gh(this.frame.left,this[this.directionKey.width],this.y+e,e,t,this.lineBuffer,this.direction,"horizontal"===this.direction?this.frame.isWidthMax:this.frame.isHeightMax);this.frame.lines.push(i),this.frame.actualHeight+=i.height,this.y+=i.height,this.lineBuffer.length=0,this.lineWidth=this.maxAscent=this.maxDescent=this.maxAscentForBlank=this.maxDescentForBlank=0}deal(e,t=!1){e instanceof Nh?"horizontal"===this.direction&&0===this.width||"vertical"===this.direction&&0===this.height||this.lineWidth+e[this.directionKey.width]<=this[this.directionKey.width]?this.store(e):0===this.lineBuffer.length?(this.store(e),this.send()):(this.send(),this.deal(e)):"number"!=typeof this.width||this.width<0||(e.newLine&&this.send(),(0!==e.text.length||this.newLine)&&("horizontal"===this.direction&&0===this.width||"vertical"===this.direction&&0===this.height||this.lineWidth+e[this.directionKey.width]<=this[this.directionKey.width]?this.store(e):this.lineWidth===this[this.directionKey.width]?(this.send(),this.deal(e)):this.cut(e,t)))}cut(e,t){const i=this[this.directionKey.width]-this.lineWidth||0,o=Math.ceil(i/e[this.directionKey.width]*e.length)||0,l=zl(e.text,i,e.character,o,"break-word"===this.frame.wordBreak);if(0!==l){const[i,o]=function(e,t){const i=e.text.slice(0,t),o=e.text.slice(t);return[new Eh(i,e.newLine,e.character,e.ascentDescentMode),new Eh(o,!0,e.character,e.ascentDescentMode)]}(e,l);this.store(i),t?this.send():this.deal(o)}else 0!==this.lineBuffer.length&&(this.send(),this.deal(e))}}let Vh=!1;try{Vh=Intl&&"function"==typeof Intl.Segmenter}catch(rH){Vh=!1}const Yh=["width","height","ellipsis","wordBreak","verticalDirection","maxHeight","maxWidth","textAlign","textBaseline","textConfig","layoutDirection","fill","stroke","fontSize","fontFamily","fontStyle","fontWeight","lineWidth","opacity","fillOpacity","strokeOpacity",...Ts];class Zh extends Ws{constructor(e){super(e),this.type="richtext",this._currentHoverIcon=null,this.numberType=Va,this.onBeforeAttributeUpdate=(e,t,i)=>{for(const o in e)if("hoverIconId"===o){if(e[o]===t[o])continue;const i=this._frameCache.icons.get(e[o]);this.updateHoverIconState(i)}}}get width(){var e;return null!==(e=this.attribute.width)&&void 0!==e?e:fl.width}set width(e){this.attribute.width!==e&&(this.attribute.width=e,this.addUpdateShapeAndBoundsTag())}get height(){var e;return null!==(e=this.attribute.height)&&void 0!==e?e:fl.height}set height(e){this.attribute.height!==e&&(this.attribute.height=e,this.addUpdateShapeAndBoundsTag())}get maxWidth(){return this.attribute.maxWidth}set maxWidth(e){this.attribute.maxWidth!==e&&(this.attribute.maxWidth=e,this.addUpdateShapeAndBoundsTag())}get maxHeight(){return this.attribute.maxHeight}set maxHeight(e){this.attribute.maxHeight!==e&&(this.attribute.maxHeight=e,this.addUpdateShapeAndBoundsTag())}get ellipsis(){var e;return null!==(e=this.attribute.ellipsis)&&void 0!==e?e:fl.ellipsis}set ellipsis(e){this.attribute.ellipsis!==e&&(this.attribute.ellipsis=e,this.addUpdateShapeAndBoundsTag())}get wordBreak(){var e;return null!==(e=this.attribute.wordBreak)&&void 0!==e?e:fl.wordBreak}set wordBreak(e){this.attribute.wordBreak!==e&&(this.attribute.wordBreak=e,this.addUpdateShapeAndBoundsTag())}get verticalDirection(){var e;return null!==(e=this.attribute.verticalDirection)&&void 0!==e?e:fl.verticalDirection}set verticalDirection(e){this.attribute.verticalDirection!==e&&(this.attribute.verticalDirection=e,this.addUpdateShapeAndBoundsTag())}get textAlign(){var e;return null!==(e=this.attribute.textAlign)&&void 0!==e?e:fl.textAlign}set textAlign(e){this.attribute.textAlign!==e&&(this.attribute.textAlign=e,this.addUpdateShapeAndBoundsTag())}get textBaseline(){var e;return null!==(e=this.attribute.textBaseline)&&void 0!==e?e:fl.textBaseline}set textBaseline(e){this.attribute.textBaseline!==e&&(this.attribute.textBaseline=e,this.addUpdateShapeAndBoundsTag())}get textConfig(){var e;return null!==(e=this.attribute.textConfig)&&void 0!==e?e:fl.textConfig}set textConfig(e){this.attribute.textConfig=e,this.addUpdateShapeAndBoundsTag()}getGraphicTheme(){return Pn(this).richtext}static AllSingleCharacter(e){return e.lines?e.lines.every(e=>e.paragraphs.every(e=>!(e.text&&Ue(e.text)&&Zh.splitText(e.text).length>1))):e.every(e=>e.isComposing||!(e.text&&Ue(e.text)&&Zh.splitText(e.text).length>1))}static splitText(e){if(Vh){const t=new Intl.Segmenter(void 0,{granularity:"grapheme"}),i=[];for(const{segment:o}of t.segment(e))i.push(o);return i}return Array.from(e)}static TransformTextConfig2SingleCharacter(e){const t=[];return e.forEach(e=>{const i=Zh.splitText(e.text.toString());if(Ue(e.text)&&i.length>1)for(let o=0;o<i.length;o++){const l=i[o];t.push(Object.assign(Object.assign({},e),{text:l}))}else t.push(e)}),t}updateAABBBounds(e,t,i){var o,l,n,r;const{width:a=t.width,height:s=t.height,maxWidth:h=t.maxWidth,maxHeight:d=t.maxHeight,textAlign:c=t.textAlign,textBaseline:p=(null!==(l=null!==(o=e.textBaseline)&&void 0!==o?o:t.textBaseline)&&void 0!==l?l:"top"),editOptions:y}=e;if(a>0&&s>0)i.set(0,0,a,s);else{const e=this.getFrameCache(),{width:t,height:o}=e.getActualSize();let l=a||t||0,n=s||o||0;n="number"==typeof d&&n>d?d:n||0,l="number"==typeof h&&l>h?h:l||0,i.set(0,0,l,n)}y&&y.keepHeightWhileEmpty&&!i.height()&&!(null===(n=e.textConfig)||void 0===n?void 0:n.length)&&(i.y2=i.y1+(null!==(r=e.fontSize)&&void 0!==r?r:12),i.x2=i.x1+2);let u=0;switch(p){case"top":u=0;break;case"middle":u=-i.height()/2;break;case"bottom":u=-i.height()}let g=0;switch(c){case"left":g=0;break;case"center":g=-i.width()/2;break;case"right":g=-i.width()}return s||("middle"===this.verticalDirection?u-=i.height()/2:"bottom"===this.verticalDirection&&(u-=i.height())),i.translate(g,u),xe.graphicService.updateTempAABBBounds(i),null==e.forceBoundsHeight&&null==e.forceBoundsWidth||xe.graphicService.updateHTMLTextAABBBounds(e,t,i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1,xe.graphicService.transformAABBBounds(e,i,t,!1,this),0===i.width()&&0===i.height()&&i.clear(),i}needUpdateTags(e){return super.needUpdateTags(e,Yh)}needUpdateTag(e){return super.needUpdateTag(e,Yh)}getFrameCache(){return this.shouldUpdateShape()&&(this.doUpdateFrameCache(),this.clearUpdateShapeTag()),this._frameCache}get cliped(){const e=this.getFrameCache();if(e.actualHeight>e.height)return!0;const{disableAutoWrapLine:t}=this.attribute;if(t)for(let i=0;i<e.lines.length;i++){const t=e.lines[i];for(let e=0;e<t.paragraphs.length;e++){const i=t.paragraphs[e];if(i.overflow&&""!==i.text)return!0}}return!1}combinedStyleToCharacter(e){const{fill:t,stroke:i,fontSize:o,fontFamily:l,fontStyle:n,fontWeight:r,lineWidth:a,opacity:s,fillOpacity:h,lineHeight:d,strokeOpacity:c,upgradeAttrs:p}=this.attribute,y=Object.assign({fill:t,stroke:i,fontSize:o,fontFamily:l,fontStyle:n,fontWeight:r,lineWidth:a,opacity:s,fillOpacity:h,strokeOpacity:c},e);return(null==p?void 0:p.lineHeight)&&(y.lineHeight=d),y}doUpdateFrameCache(e){var t;const{maxWidth:i,maxHeight:o,width:l,height:n,ellipsis:r,wordBreak:a,verticalDirection:s,textAlign:h,textBaseline:d,layoutDirection:c,singleLine:p,disableAutoWrapLine:y,editable:u,ascentDescentMode:g,upgradeAttrs:f}=this.attribute,k=f&&f.multiBreakLine;let{textConfig:m=[]}=this.attribute;u&&m.length>0&&!Zh.AllSingleCharacter(m)&&(m=Zh.TransformTextConfig2SingleCharacter(m),this.attribute.textConfig=m);const b=[],v=null!=e?e:m;for(let F=0;F<v.length;F++)if("image"in v[F]){const e=this.combinedStyleToCharacter(v[F]);e.lineWidth=void 0;const t=e.id&&this._frameCache&&this._frameCache.icons&&this._frameCache.icons.get(e.id);if(t)b.push(t);else{const t=new Nh(e);t.successCallback=()=>{var e;this.addUpdateBoundTag(),null===(e=this.stage)||void 0===e||e.renderNextFrame()},t.richtextId=e.id,b.push(t)}}else{const e=this.combinedStyleToCharacter(v[F]);if(Ze(e.text)&&(e.text=`${e.text}`),e.text&&e.text.includes("\n")){const t=e.text.split("\n");for(let i=0;i<t.length;i++)if(0===i)b.push(new Eh(t[i],!1,e,g));else if(t[i]||F===v.length-1)b.push(new Eh(t[i],!0,e,g));else{const e=this.combinedStyleToCharacter(v[F+1]);b.push(new Eh(t[i],!0,e,g))}}else e.text&&b.push(new Eh(e.text,!1,e,g))}const C="number"==typeof i&&Number.isFinite(i)&&i>0,S="number"==typeof o&&Number.isFinite(o)&&o>0,x="number"==typeof l&&Number.isFinite(l)&&l>0&&(!C||l<=i),_="number"==typeof n&&Number.isFinite(n)&&n>0&&(!S||n<=o),w=new Hh(0,0,(x?l:C?i:0)||0,(_?n:S?o:0)||0,r,a,s,h,d,c||"horizontal",!x&&C,!_&&S,p||!1,null===(t=this._frameCache)||void 0===t?void 0:t.icons),L=new Uh(w);if(L.newLine=k,y){let e=0,t=!1;for(let i=0;i<b.length;i++){const o=b[i];t?(o.overflow=!0,o.left=1/0,o.top=1/0,!o.newLine&&w.lines[w.lines.length-1].paragraphs.push(o)):L.deal(o,!0),w.lines.length!==e&&(e=w.lines.length,L.lineBuffer.length=0,o.overflow=!0,o.left=1e3,o.top=1e3,w.lines[w.lines.length-1].paragraphs.push(o),t=!0),o.newLine&&(t=!1,L.lineWidth=0),L.send()}}else for(let F=0;F<b.length;F++)L.deal(b[F]);if(L.send(),!("horizontal"===w.layoutDirection?x:_)){const e=w.getActualSizeWidthEllipsis();let t="horizontal"===w.layoutDirection?e.width:e.height;("horizontal"===w.layoutDirection?C:S)&&(t=Math.min(t,"horizontal"===w.layoutDirection?i:o)),w.lines.forEach(function(e){e.calcOffset(t,!1)})}k&&w.lines.forEach(e=>{const t=e.paragraphs;e.paragraphs=e.paragraphs.filter(e=>""!==e.text),0===e.paragraphs.length&&t.length&&(t[0].text="\n",e.paragraphs.push(t[0]))}),this._frameCache=w}clone(){return new Zh(Object.assign({},this.attribute))}setStage(e,t){super.setStage(e,t),this.getFrameCache().icons.forEach(i=>{i.setStage(e,t)})}bindIconEvent(){this.addEventListener("pointermove",e=>{const t=this.pickIcon(e.global);t&&t===this._currentHoverIcon||(t?this.setAttribute("hoverIconId",t.richtextId):!t&&this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0))}),this.addEventListener("pointerleave",e=>{this._currentHoverIcon&&this.setAttribute("hoverIconId",void 0)})}updateHoverIconState(e){var t,i,o,l,n;e?(null===(t=this._currentHoverIcon)||void 0===t||t.setHoverState(!1),this._currentHoverIcon=e,this._currentHoverIcon.setHoverState(!0),null===(i=this.stage)||void 0===i||i.setCursor(e.attribute.cursor),null===(o=this.stage)||void 0===o||o.renderNextFrame()):(this._currentHoverIcon.setHoverState(!1),this._currentHoverIcon=null,null===(l=this.stage)||void 0===l||l.setCursor(),null===(n=this.stage)||void 0===n||n.renderNextFrame())}pickIcon(e){const t=this.getFrameCache(),{e:i,f:o}=this.globalTransMatrix;let l;return t.icons.forEach((t,n)=>{var r,a;const s=t.AABBBounds.clone();s.translate(t._marginArray[3],t._marginArray[0]),s.containsPoint({x:e.x-i,y:e.y-o})&&(l=t,l.globalX=(null!==(r=l.attribute.x)&&void 0!==r?r:0)+i+t._marginArray[3],l.globalY=(null!==(a=l.attribute.y)&&void 0!==a?a:0)+o+t._marginArray[0])}),l}getNoWorkAnimateAttr(){return Zh.NOWORK_ANIMATE_ATTR}}function Xh(e){return new Zh(e)}Zh.NOWORK_ANIMATE_ATTR=Object.assign({ellipsis:1,wordBreak:1,verticalDirection:1,textAlign:1,textBaseline:1,textConfig:1,layoutDirection:1},Os);const $h=["path","customPath",...Ts];class Kh extends Ws{constructor(e){super(e),this.type="path",this.numberType=Na}get pathShape(){return this.tryUpdateAABBBounds(),this.getParsedPathShape()}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{path:e}=this.attribute;return null!=e&&""!==e}getParsedPathShape(){const e=this.getGraphicTheme();if(!this.valid)return e.path;const t=this.attribute;return t.path instanceof Zo?t.path:(De(this.cache)&&this.doUpdatePathShape(),this.cache instanceof Zo?this.cache:e.path)}getGraphicTheme(){return Pn(this).path}updateAABBBounds(e,t,i){if(!this.updatePathProxyAABBBounds(i)){const e=this.getParsedPathShape();i.union(e.getBounds())}const{tb1:o,tb2:l}=xe.graphicService.updateTempAABBBounds(i);Ch(e,t,o),i.union(o),o.setValue(l.x1,l.y1,l.x2,l.y2),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;const{lineJoin:n=t.lineJoin}=e;return xe.graphicService.transformAABBBounds(e,i,t,"miter"===n,this),i}doUpdateAABBBounds(e){return this.doUpdatePathShape(),super.doUpdateAABBBounds(e)}doUpdatePathShape(){const e=this.attribute;Ue(e.path,!0)?this.cache=(new Zo).fromString(e.path):e.customPath&&(this.cache=new Zo,e.customPath(this.cache,this))}needUpdateTags(e){return super.needUpdateTags(e,$h)}needUpdateTag(e){return super.needUpdateTag(e,$h)}toCustomPath(){return(new Zo).fromCustomPath2D(this.getParsedPathShape(),0,0)}clone(){return new Kh(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Kh.NOWORK_ANIMATE_ATTR}}function qh(e){return new Kh(e)}Kh.NOWORK_ANIMATE_ATTR=Object.assign({path:1,customPath:1},Os);const Jh=["segments","points","curveType","curveTension",...Ts];class Qh extends Ws{constructor(e){super(e),this.type="area",this.numberType=Ea}isValid(){return super.isValid()&&this._isValid()}_isValid(){if(this.pathProxy)return!0;const{points:e,segments:t}=this.attribute;return t?0!==t.length:!!e&&0!==e.length}getGraphicTheme(){return Pn(this).area}updateAABBBounds(e,t,i){this.updatePathProxyAABBBounds(i)||(e.segments?this.updateAreaAABBBoundsBySegments(e,t,i):this.updateAreaAABBBoundsByPoints(e,t,i)),xe.graphicService.updateTempAABBBounds(i),this.setWidthHeightWithoutTransform(i);const{lineJoin:o=t.lineJoin}=e;return xe.graphicService.transformAABBBounds(e,i,t,"miter"===o,this),i}updateAreaAABBBoundsByPoints(e,t,i,o){const{points:l=t.points}=e,n=i;return l.forEach(e=>{var t,i;n.add(e.x,e.y),n.add(null!==(t=e.x1)&&void 0!==t?t:e.x,null!==(i=e.y1)&&void 0!==i?i:e.y)}),n}updateAreaAABBBoundsBySegments(e,t,i,o){const{segments:l=t.segments}=e,n=i;return l.forEach(e=>{e.points.forEach(e=>{var t,i;n.add(e.x,e.y),n.add(null!==(t=e.x1)&&void 0!==t?t:e.x,null!==(i=e.y1)&&void 0!==i?i:e.y)})}),n}_interpolate(e,t,i,o,l){"points"===e&&(l.points=ar(i,o,t))}needUpdateTags(e){return super.needUpdateTags(e,Jh)}needUpdateTag(e){return super.needUpdateTag(e,Jh)}toCustomPath(){let e=super.toCustomPath();if(e)return e;e=new Zo;const t=this.attribute,i=t.segments,o=t=>{if(t&&t.length){let i=!0;const o=[];if(t.forEach(t=>{var l,n;!1!==t.defined&&(i?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y),o.push({x:null!==(l=t.x1)&&void 0!==l?l:t.x,y:null!==(n=t.y1)&&void 0!==n?n:t.y}),i=!1)}),o.length){for(let t=o.length-1;t>=0;t--)e.lineTo(o[t].x,o[t].y);e.closePath()}}};return t.points?o(t.points):i&&i.length&&i.forEach(e=>{o(e.points)}),e}clone(){return new Qh(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return Qh.NOWORK_ANIMATE_ATTR}}function ed(e){return new Qh(e)}Qh.NOWORK_ANIMATE_ATTR=Object.assign({segments:1,curveType:1},Os);const td=["innerRadius","outerRadius","startAngle","endAngle","cornerRadius","padAngle","padRadius","cap",...Ts];class id extends Ws{constructor(e){super(e),this.type="arc",this.numberType=Ha}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{startAngle:e,endAngle:t,outerRadius:i,innerRadius:o}=this.attribute;return this._validNumber(e)&&this._validNumber(t)&&this._validNumber(i)&&this._validNumber(o)}getParsedCornerRadius(){const e=this.getGraphicTheme(),{cornerRadius:t=e.cornerRadius,innerPadding:i=e.innerPadding,outerPadding:o=e.outerPadding}=this.attribute;let{outerRadius:l=e.outerRadius,innerRadius:n=e.innerRadius}=this.attribute;if(l+=o,n-=i,0===t||"0%"===t)return 0;const r=Math.abs(l-n),a=e=>Math.min(Ze(e,!0)?e:r*parseFloat(e)/100,r/2);if(Ve(t)){const e=t.map(e=>a(e)||0);return 0===e.length?[e[0],e[0],e[0],e[0]]:2===e.length?[e[0],e[1],e[0],e[1]]:(3===e.length&&e.push(0),e)}return a(t)}getParsedAngle(){const e=this.getGraphicTheme();let{startAngle:t=e.startAngle,endAngle:i=e.endAngle}=this.attribute;const{cap:o=e.cap}=this.attribute,l=i-t>=0?1:-1,n=i-t;if(t=Yt(t),i=t+n,o&&Mt(n)<Bt-Ft){let n=1,r=1;o.length&&(n=Number(o[0]),r=Number(o[1]));let{outerRadius:a=e.outerRadius,innerRadius:s=e.innerRadius}=this.attribute;const{outerPadding:h=e.outerPadding,innerPadding:d=e.innerPadding}=this.attribute;a+=h,s-=d;const c=Math.abs(a-s)/2,p=c/a;if(c>Ft&&a>Ft)return{startAngle:t-l*p*n,endAngle:i+l*p*r,sc:l*p*n,ec:l*p*r}}return{startAngle:t,endAngle:i}}getParsePadAngle(e,t){const i=this.getGraphicTheme(),{innerPadding:o=i.innerPadding,outerPadding:l=i.outerPadding,padAngle:n=i.padAngle}=this.attribute;let{outerRadius:r=i.outerRadius,innerRadius:a=i.innerRadius}=this.attribute;r+=l,a-=o;const{padRadius:s=Et(r*r+a*a)}=this.attribute,h=Mt(t-e);let d=e,c=t,p=e,y=t;const u=n/2;let g=h,f=h;if(u>Ft&&s>Ft){const i=t>e?1:-1;let o=It(Number(s)/a*Pt(u)),l=It(Number(s)/r*Pt(u));return(g-=2*o)>Ft?(o*=i,p+=o,y-=o):(g=0,p=y=(e+t)/2),(f-=2*l)>Ft?(l*=i,d+=l,c-=l):(f=0,d=c=(e+t)/2),{outerStartAngle:d,outerEndAngle:c,innerStartAngle:p,innerEndAngle:y,innerDeltaAngle:g,outerDeltaAngle:f}}return{outerStartAngle:d,outerEndAngle:c,innerStartAngle:p,innerEndAngle:y,innerDeltaAngle:g,outerDeltaAngle:f}}getGraphicTheme(){return Pn(this).arc}updateAABBBounds(e,t,i,o){this.updatePathProxyAABBBounds(i)||(o?this.updateArcAABBBoundsImprecise(e,t,i):this.updateArcAABBBoundsAccurate(e,t,i));const{tb1:l,tb2:n}=xe.graphicService.updateTempAABBBounds(i);Ch(e,t,l),i.union(l),l.setValue(n.x1,n.y1,n.x2,n.y2),this.setWidthHeightWithoutTransform(i);const{lineJoin:r=t.lineJoin}=e;return xe.graphicService.transformAABBBounds(e,i,t,"miter"===r,this),i}updateArcAABBBoundsImprecise(e,t,i){let{outerRadius:o=t.outerRadius,innerRadius:l=t.innerRadius}=e;const{outerPadding:n=t.outerPadding,innerPadding:r=t.innerPadding}=e;return o+=n,l-=r,o<l&&(o=l),i.set(-o,-o,o,o),i}updateArcAABBBoundsAccurate(e,t,i){let{outerRadius:o=t.outerRadius,innerRadius:l=t.innerRadius}=e;const{outerPadding:n=t.outerPadding,innerPadding:r=t.innerPadding}=e;if(o+=n,l-=r,o<l){const e=o;o=l,l=e}let{endAngle:a=t.endAngle,startAngle:s=t.startAngle}=e;if(s>a){const e=s;s=a,a=e}return o<=Ft?i.set(0,0,0,0):Math.abs(a-s)>Bt-Ft?i.set(-o,-o,o,o):(nr(s,a,o,i),nr(s,a,l,i)),i}needUpdateTags(e){return super.needUpdateTags(e,td)}needUpdateTag(e){return super.needUpdateTag(e,td)}toCustomPath(){var e,t,i,o;let l=super.toCustomPath();if(l)return l;const n=this.attribute,{startAngle:r,endAngle:a}=this.getParsedAngle();let s=(null!==(e=n.innerRadius)&&void 0!==e?e:0)-(null!==(t=n.innerPadding)&&void 0!==t?t:0),h=(null!==(i=n.outerRadius)&&void 0!==i?i:0)-(null!==(o=n.outerPadding)&&void 0!==o?o:0);const d=Mt(a-r),c=a>r;if(h<s){const e=h;h=s,s=e}if(l=new Zo,h<=Ft)l.moveTo(0,0);else if(d>=Bt-Ft)l.moveTo(0+h*Wt(r),0+h*Pt(r)),l.arc(0,0,h,r,a,!c),s>Ft&&(l.moveTo(0+s*Wt(a),0+s*Pt(a)),l.arc(0,0,s,a,r,c));else{const e=h*Wt(r),t=h*Pt(r),i=s*Wt(a),o=s*Pt(a);l.moveTo(0+e,0+t),l.arc(0,0,h,r,a,!c),l.lineTo(0+i,0+o),l.arc(0,0,s,a,r,c),l.closePath()}return l}clone(){return new id(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return id.NOWORK_ANIMATE_ATTR}}function od(e){return new id(e)}id.NOWORK_ANIMATE_ATTR=Object.assign({cap:1},Os);const ld=["points","cornerRadius",...Ts];class nd extends Ws{constructor(e){super(e),this.type="polygon",this.numberType=Ga}isValid(){return super.isValid()&&this._isValid()}_isValid(){const{points:e}=this.attribute;return e&&e.length>=2}getGraphicTheme(){return Pn(this).polygon}updateAABBBounds(e,t,i){this.updatePathProxyAABBBounds(i)||this.updatePolygonAABBBoundsImprecise(e,t,i),xe.graphicService.updateTempAABBBounds(i),this.widthWithoutTransform=i.x2-i.x1,this.heightWithoutTransform=i.y2-i.y1;const{lineJoin:o=t.lineJoin}=e;return xe.graphicService.transformAABBBounds(e,i,t,"miter"===o,this),i}updatePolygonAABBBoundsImprecise(e,t,i){const{points:o=t.points}=e;return o.forEach(e=>{i.add(e.x,e.y)}),i}_interpolate(e,t,i,o,l){"points"===e&&(l.points=ar(i,o,t))}needUpdateTags(e){return super.needUpdateTags(e,ld)}needUpdateTag(e){return super.needUpdateTag(e,ld)}toCustomPath(){let e=super.toCustomPath();if(e)return e;const t=this.attribute.points;return e=new Zo,t.forEach((t,i)=>{0===i?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath(),e}clone(){return new nd(Object.assign({},this.attribute))}getNoWorkAnimateAttr(){return nd.NOWORK_ANIMATE_ATTR}}function rd(e){return new nd(e)}nd.NOWORK_ANIMATE_ATTR=Os;class ad extends Hs{constructor(e){super({x:0,y:0}),this.type="shadowroot",this.shadowHost=e}clearUpdateBoundTag(){super.clearUpdateBoundTag(),this.shadowHost&&this.shadowHost.clearUpdateBoundTag()}addUpdateBoundTag(){super.addUpdateBoundTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}addUpdateShapeAndBoundsTag(){super.addUpdateShapeAndBoundsTag(),this.shadowHost&&this.shadowHost.addUpdateBoundTag()}tryUpdateGlobalTransMatrix(e=!0){if(this.shouldUpdateGlobalMatrix()){const t=this.transMatrix;this._globalTransMatrix?this._globalTransMatrix.setValue(t.a,t.b,t.c,t.d,t.e,t.f):this._globalTransMatrix=t.clone(),this.doUpdateGlobalMatrix(),e&&this.clearUpdateGlobalPositionTag()}return this._globalTransMatrix}doUpdateGlobalMatrix(){if(this.shadowHost){const e=this.shadowHost.globalTransMatrix;this._globalTransMatrix.multiply(e.a,e.b,e.c,e.d,e.e,e.f)}}tryUpdateGlobalAABBBounds(){return this._globalAABBBounds?this._globalAABBBounds.setValue(this._AABBBounds.x1,this._AABBBounds.y1,this._AABBBounds.x2,this._AABBBounds.y2):this._globalAABBBounds=this._AABBBounds.clone(),this.shadowHost&&this._globalAABBBounds.transformWithMatrix(this.shadowHost.globalTransMatrix),this._globalAABBBounds}}function sd(e){return new ad(e)}const hd=new class{constructor(){this.store=new Map}RegisterGraphicCreator(e,t){this.store.set(e,t),this[e]=t}CreateGraphic(e,t){const i=this.store.get(e);return i?i(t):null}};let dd;function cd(e){return dd||(dd=hd.CreateGraphic("text",{})),dd.initAttributes(e),dd.AABBBounds}var pd=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},yd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ud=function(e,t){return function(i,o){t(i,o,e)}};class gd{constructor(){this.time=to.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){var y;const{background:u,backgroundOpacity:g=(null!==(y=e.attribute.fillOpacity)&&void 0!==y?y:s.backgroundOpacity),opacity:f=s.opacity,backgroundMode:k=s.backgroundMode,backgroundFit:m=s.backgroundFit,backgroundKeepAspectRatio:b=s.backgroundKeepAspectRatio,backgroundScale:v=s.backgroundScale,backgroundOffsetX:C=s.backgroundOffsetX,backgroundOffsetY:S=s.backgroundOffsetY,backgroundClip:x=s.backgroundClip}=e.attribute;if(u)if(e.backgroundImg&&e.resources){const l=e.resources.get(u);if("success"!==l.state||!l.data)return;if(t.save(),e.parent&&!e.transMatrix.onlyTranslate()){const i=Pn(e.parent).group,{scrollX:o=i.scrollX,scrollY:l=i.scrollY}=e.parent.attribute;t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.translate(o,l)}x&&t.clip();const n=e.AABBBounds;t.setCommonStyle(e,e.attribute,i,o,s),t.globalAlpha=g*f,this.doDrawImage(t,l.data,n,{backgroundMode:k,backgroundFit:m,backgroundKeepAspectRatio:b,backgroundScale:v,backgroundOffsetX:C,backgroundOffsetY:S}),t.restore(),e.transMatrix.onlyTranslate()||t.setTransformForCurrent()}else t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,i,o,s),t.globalAlpha=g*f,t.fillStyle=u,t.fill(),t.highPerformanceRestore()}doDrawImage(e,t,i,o){const{backgroundMode:l,backgroundFit:n,backgroundKeepAspectRatio:r,backgroundScale:a=1,backgroundOffsetX:s=0,backgroundOffsetY:h=0}=o,d=i.width(),c=i.height();let p=d,y=c;if("no-repeat"===l)if(n)if(r){const o=Math.max(d/t.width,c/t.height);e.drawImage(t,i.x1+s,i.y1+h,t.width*o*a,t.height*o*a)}else e.drawImage(t,i.x1,i.y1,i.width(),i.height());else{const o=t.width*a,l=t.height*a;e.drawImage(t,i.x1+s,i.y1+h,o,l)}else{if(n&&"repeat"!==l&&(t.width||t.height)){const i=t.width,o=t.height;"repeat-x"===l?(p=i*(c/o),y=c):"repeat-y"===l&&(y=o*(d/i),p=d);const n=e.dpr,r=mn.allocate({width:p,height:y,dpr:n}),a=r.getContext("2d");a&&(a.inuse=!0,a.clearMatrix(),a.setTransformForCurrent(!0),a.clearRect(0,0,p,y),a.drawImage(t,0,0,p,y),t=r.nativeCanvas),mn.free(r)}const o=e.dpr,r=e.createPattern(t,l);r.setTransform&&r.setTransform(new DOMMatrix([1/o,0,0,1/o,0,0])),e.fillStyle=r,e.translate(i.x1,i.y1),e.fillRect(0,0,d,c),e.translate(-i.x1,-i.y1)}}}const fd=new gd;let kd=class{constructor(e){this.subRenderContribitions=e,this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){this._subRenderContribitions||(this._subRenderContribitions=this.subRenderContribitions.getContributions()),this._subRenderContribitions.forEach(y=>{y.render(e,t,i,o,l,n,r,a,s,h,d,c,p)})}};kd=pd([Q(),ud(0,q(ge)),ud(0,ee(yh)),yd("design:paramtypes",[Object])],kd);const md=new class{constructor(){this.time=to.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){var y,u;const{clipConfig:g}=e.attribute;if(!g)return;const f=e.getClipPath();if(!f)return;const k=!(d||c),m=e.AABBBounds,b=null!==(y=e.attribute.width)&&void 0!==y?y:m.width(),v=null!==(u=e.attribute.height)&&void 0!==u?u:m.height();k&&t.save(),t.beginPath(),!1===f.draw(t,[b,v],i+b/2,o+v/2,0)&&t.closePath(),d&&d(t,e.attribute,s,!0),k&&t.clip()}};const bd=new class{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){const{clipConfig:y}=e.attribute;y&&e.getClipPath()&&(d||c||t.restore())}};class vd{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=10,this._tempSymbolGraphic=null}createCommonPattern(e,t,i,o,l){const n=(e-2*t)/2,r=o.dpr,a=mn.allocate({width:e,height:e,dpr:r}),s=a.getContext("2d");if(!s)return null;s.inuse=!0,s.clearMatrix(),s.setTransformForCurrent(!0),s.clearRect(0,0,e,e),l(n,s);const h=o.createPattern(a.nativeCanvas,"repeat");return h.setTransform&&h.setTransform(new DOMMatrix([1/r,0,0,1/r,0,0])),mn.free(a),h}createCirclePattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(e,t)=>{t.fillStyle=i,t.arc(e,e,e,0,Bt),t.fill()})}createDiamondPattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(t,o)=>{const l=e/2,n=l;o.fillStyle=i,o.moveTo(l,n-t),o.lineTo(t+l,n),o.lineTo(l,n+t),o.lineTo(l-t,n),o.closePath(),o.fill()})}createRectPattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(e,o)=>{const l=t,n=l;o.fillStyle=i,o.fillRect(l,n,2*e,2*e)})}createVerticalLinePattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(o,l)=>{const n=t;l.fillStyle=i,l.fillRect(n,0,2*o,e)})}createHorizontalLinePattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(o,l)=>{const n=t;l.fillStyle=i,l.fillRect(0,n,e,2*o)})}createBiasLRLinePattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(t,o)=>{o.strokeStyle=i,o.lineWidth=t,o.moveTo(0,0),o.lineTo(e,e);const l=e/2,n=-l;o.moveTo(l,n),o.lineTo(l+e,n+e),o.moveTo(-l,-n),o.lineTo(-l+e,-n+e),o.stroke()})}createBiasRLLinePattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(t,o)=>{o.strokeStyle=i,o.lineWidth=t,o.moveTo(e,0),o.lineTo(0,e);const l=e/2,n=l;o.moveTo(e+l,n),o.lineTo(l,n+e),o.moveTo(e-l,-n),o.lineTo(-l,-n+e),o.stroke()})}createGridPattern(e,t,i,o){return this.createCommonPattern(e,t,i,o,(e,o)=>{const l=t,n=l;o.fillStyle=i,o.fillRect(l,n,e,e),o.fillRect(l+e,n+e,e,e)})}initTextureMap(e,t){this.textureMap=new Map}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){this.textureMap||this.initTextureMap(t,e.stage);const{texture:y=s.texture,textureColor:u=s.textureColor,textureSize:g=s.textureSize,texturePadding:f=s.texturePadding}=e.attribute;y&&this.drawTexture(y,e,t,i,o,s,u,g,f)}drawTexture(e,t,i,o,l,n,r,a,s){var h;const{textureRatio:d=n.textureRatio,textureOptions:c=null}=t.attribute;let p=this.textureMap.get(e);if(!p)switch(e){case"circle":p=this.createCirclePattern(a,s,r,i);break;case"diamond":p=this.createDiamondPattern(a,s,r,i);break;case"rect":p=this.createRectPattern(a,s,r,i);break;case"vertical-line":p=this.createVerticalLinePattern(a,s,r,i);break;case"horizontal-line":p=this.createHorizontalLinePattern(a,s,r,i);break;case"bias-lr":p=this.createBiasLRLinePattern(a,s,r,i);break;case"bias-rl":p=this.createBiasRLLinePattern(a,s,r,i);break;case"grid":p=this.createGridPattern(a,s,r,i)}if(c&&c.dynamicTexture){const{gridConfig:p={},useNewCanvas:y}=c,u=t.AABBBounds;o=u.x1,l=u.y1;const g=i;let f;if(y){f=mn.allocate({width:u.width(),height:u.height(),dpr:i.dpr});const e=f.getContext("2d");e.clearRect(0,0,u.width(),u.height()),o=0,l=0,i=e}if(g.save(),t.parent&&!t.transMatrix.onlyTranslate()){const{scrollX:e=0,scrollY:i=0}=t.parent.attribute;g.setTransformFromMatrix(t.parent.globalTransMatrix),g.translate(e,i,!0)}g.setCommonStyle(t,t.attribute,o,l,n),g.clip();const k=u.width(),m=u.height(),b=s,v=a,C=p.columns?p.columns:Math.ceil(k/v),S=p.rows?p.rows:Math.ceil(m/v),x=p.gutterColumn?p.gutterColumn:2*b,_=p.gutterRow?p.gutterRow:2*b;this._tempSymbolGraphic||(this._tempSymbolGraphic=Th({}));const w=p.columns?k/p.columns:v,L=p.rows?m/p.rows:v;this._tempSymbolGraphic.setAttributes({size:[w-x,L-_],symbolType:e});const F=this._tempSymbolGraphic.getParsedPath();for(let e=0;e<S;e++)for(let n=0;n<C;n++){const a=o+v/2+n*v,s=l+v/2+e*v;null===(h=c.beforeDynamicTexture)||void 0===h||h.call(c,i,e,n,S,C,d,t,u.width(),u.height()),i.beginPath(),!1===F.draw(i,Math.min(w-x,L-_),a,s,0)&&i.closePath(),i.fillStyle=r,c.dynamicTexture(i,e,n,S,C,d,t,u.width(),u.height())}y&&(g.globalAlpha=1,g.drawImage(f.nativeCanvas,0,0,f.nativeCanvas.width,f.nativeCanvas.height,u.x1,u.y1,u.width()*g.dpr,u.height()*g.dpr)),g.restore()}else if(p)i.highPerformanceSave(),i.setCommonStyle(t,t.attribute,o,l,n),i.fillStyle=p,i.fill(),i.highPerformanceRestore();else if("wave"===e){i.save(),i.setCommonStyle(t,t.attribute,o,l,n),i.clip();const e=t.AABBBounds;(function(e,t,i,o,l,n,r){const{fill:a="orange",percent:s=.6,frequency:h=4,opacity:d,phi:c=0}=l;let{amplitude:p=10}=l;p*=function(e){return e<=.5?4*e-1:-4*e+3}(t);const y=o*(1-s),u=i,g=Math.max(Math.round(u/70),2);e.beginPath(),e.moveTo(0+n,o+r),e.lineTo(0+n,y+r);const f=u/h*t,k=u/Math.PI/(2*h);for(let m=0;m<u;m+=g){const t=p*Math.sin((m+f+c)/k+c);e.lineTo(m+n,y+t+r)}e.lineTo(u+n,o+r),e.closePath(),e.fillStyle=a,isFinite(d)&&(e.globalAlpha=d),e.fill()})(i,d,e.width(),e.height(),Object.assign(Object.assign({},c||{}),{fill:r}),o+e.x1-o,l+e.y1-l),i.restore()}}}const Cd=new vd;const Sd=new class{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c){const{outerBorder:p,innerBorder:y}=e.attribute,u=p&&!1!==p.visible,g=y&&!1!==y.visible;if(!u&&!g)return;const{innerPadding:f=s.innerPadding,outerPadding:k=s.outerPadding,startAngle:m=s.startAngle,endAngle:b=s.endAngle,opacity:v=s.opacity,x:C=s.x,y:S=s.y,scaleX:x=s.scaleX,scaleY:_=s.scaleY,keepStrokeScale:w=s.keepStrokeScale}=e.attribute;let{innerRadius:L=s.innerRadius,outerRadius:F=s.outerRadius}=e.attribute;F+=k,L-=f;const T=(l,n)=>{const r=!(!l||!l.stroke),{distance:a=s[n].distance}=l,h=w?a:Cl(t,a,t.dpr),d=a/F,p="outerBorder"===n?1:-1;if(e.setAttributes({outerRadius:F+p*h,innerRadius:L-p*h,startAngle:m-p*d,endAngle:b+p*d}),t.beginPath(),lh(e,t,i,o,F+p*h,L-p*h),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),c)c(t,l,s[n]);else if(r){const r=s[n].opacity;s[n].opacity=v,t.setStrokeStyle(e,l,(C-i)/x,(S-o)/_,s[n]),s[n].opacity=r,t.stroke()}};u&&T(p,"outerBorder"),g&&T(y,"innerBorder"),e.setAttributes({outerRadius:F,innerRadius:L,startAngle:m,endAngle:b})}},xd=Cd,_d=fd;const wd=new class extends gd{constructor(){super(...arguments),this.time=to.beforeFillStroke}drawShape(e,t,i,o,l,n,r,a,s,h,d,c){const{background:p,backgroundMode:y=s.backgroundMode,backgroundFit:u=s.backgroundFit,backgroundKeepAspectRatio:g=s.backgroundKeepAspectRatio,backgroundScale:f=s.backgroundScale,backgroundOffsetX:k=s.backgroundOffsetX,backgroundOffsetY:m=s.backgroundOffsetY}=e.attribute;if(p)if(e.backgroundImg&&e.resources){const i=e.resources.get(p);if("success"!==i.state||!i.data)return;t.highPerformanceSave(),t.setTransformFromMatrix(e.parent.globalTransMatrix,!0);const o=e.AABBBounds;this.doDrawImage(t,i.data,o,{backgroundMode:y,backgroundFit:u,backgroundKeepAspectRatio:g,backgroundScale:f,backgroundOffsetX:k,backgroundOffsetY:m}),t.highPerformanceRestore(),t.setTransformForCurrent()}else t.highPerformanceSave(),t.fillStyle=p,t.fill(),t.highPerformanceRestore()}},Ld=Tt/2;function Fd(e,t,i,o,l,n,r=!0,a){let s;if(Array.isArray(r)&&(a=r,r=!0),o<0&&(t+=o,o=-o),l<0&&(i+=l,l=-l),Ze(n,!0))s=[n=Mt(n),n,n,n];else if(Array.isArray(n)){const e=n;let t,i;switch(e.length){case 0:s=[0,0,0,0];break;case 1:t=Mt(e[0]),s=[t,t,t,t];break;case 2:case 3:t=Mt(e[0]),i=Mt(e[1]),s=[t,i,t,i];break;default:s=e,s[0]=Mt(s[0]),s[1]=Mt(s[1]),s[2]=Mt(s[2]),s[3]=Mt(s[3])}}else s=[0,0,0,0];if(o<0||s[0]+s[1]+s[2]+s[3]<1e-12)return e.rect(t,i,o,l);const[h,d,c,p]=[[t,i],[t+o,i],[t+o,i+l],[t,i+l]],y=Math.min(o/2,l/2),u=[Math.min(y,s[0]),Math.min(y,s[1]),Math.min(y,s[2]),Math.min(y,s[3])],g=[h[0]+u[0],h[1]],f=[h[0],h[1]+u[0]],k=[d[0]-u[1],d[1]],m=[d[0],d[1]+u[1]],b=[c[0]-u[2],c[1]],v=[c[0],c[1]-u[2]],C=[p[0]+u[3],p[1]],S=[p[0],p[1]-u[3]];if(e.moveTo(g[0],g[1]),r){if(a&&a[0]?a[0](g[0],g[1],k[0],k[1]):e.lineTo(k[0],k[1]),!yt(k,m)){a&&a[0]&&e.moveTo(k[0],k[1]);const t=k[0],i=k[1]+u[1];e.arc(t,i,u[1],-Ld,0,!1)}if(a&&a[1]?a[1](m[0],m[1],v[0],v[1]):e.lineTo(v[0],v[1]),!yt(b,v)){const t=v[0]-u[2],i=v[1];a&&a[1]&&e.moveTo(v[0],v[1]),e.arc(t,i,u[2],0,Ld,!1)}if(a&&a[2]?a[2](b[0],b[1],C[0],C[1]):e.lineTo(C[0],C[1]),!yt(C,S)){const t=C[0],i=C[1]-u[3];a&&a[2]&&e.moveTo(C[0],C[1]),e.arc(t,i,u[3],Ld,Tt,!1)}if(a&&a[3]?a[3](S[0],S[1],f[0],f[1]):e.lineTo(f[0],f[1]),!yt(g,f)){const t=g[0],i=g[1]+u[0];a&&a[3]&&e.moveTo(f[0],f[1]),e.arc(t,i,u[0],Tt,Tt+Ld,!1)}}else a&&a[0]?a[0](g[0],g[1],k[0],k[1]):e.lineTo(k[0],k[1]),a&&a[1]?a[1](k[0],k[1],b[0],b[1]):e.lineTo(b[0],b[1]),a&&a[2]?a[2](b[0],b[1],C[0],C[1]):e.lineTo(C[0],C[1]),a&&a[2]?a[2](C[0],C[1],g[0],g[1]):e.lineTo(g[0],g[1]);return!a&&e.closePath(),e}var Td=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Ad=class{constructor(){this.time=to.beforeFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){const{stroke:y=s.stroke}=e.attribute;Array.isArray(y)&&y.some(e=>!1===e)&&(p.doStroke=!1)}};Ad=Td([Q()],Ad);let zd=class{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c){const{x1:p,y1:y,x:u=s.x,y:g=s.y,stroke:f=s.stroke,cornerRadius:k=s.cornerRadius,cornerType:m=s.cornerType}=e.attribute;let{width:b,height:v}=e.attribute;if(b=(null!=b?b:p-u)||0,v=(null!=v?v:y-g)||0,Array.isArray(f)&&f.some(e=>!1===e)){if(t.setStrokeStyle(e,e.attribute,i,o,s),!(0===k||Ve(k)&&k.every(e=>0===e))){let l,n=0;return Fd(t,i,o,b,v,k,"bevel"!==m,new Array(4).fill(0).map((r,a)=>(r,h,d,c)=>{f[a]&&(n===a-1&&f[a]===l||(t.setStrokeStyle(e,Object.assign(Object.assign({},e.attribute),{stroke:f[a]}),i,o,s),t.beginPath(),t.moveTo(r,h),l=f[a]),n=a,t.lineTo(d,c),t.stroke(),3===a&&t.beginPath())})),void t.stroke()}if(t.beginPath(),t.moveTo(i,o),f[0]?t.lineTo(i+b,o):t.moveTo(i+b,o),f[1]?t.lineTo(i+b,o+v):t.moveTo(i+b,o+v),f[2]?t.lineTo(i,o+v):t.moveTo(i,o+v),f[3]){const e=f[0]?o-t.lineWidth/2:o;t.lineTo(i,e)}else t.moveTo(i,o);t.stroke()}}};zd=Td([Q()],zd);const Bd=new class{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c){const{outerBorder:p,innerBorder:y}=e.attribute,u=p&&!1!==p.visible,g=y&&!1!==y.visible;if(!u&&!g)return;const{cornerRadius:f=s.cornerRadius,cornerType:k=s.cornerType,opacity:m=s.opacity,x:b=s.x,y:v=s.y,scaleX:C=s.scaleX,scaleY:S=s.scaleY,x1:x,y1:_,keepStrokeScale:w=s.keepStrokeScale}=e.attribute;let{width:L,height:F}=e.attribute;L=(null!=L?L:x-i)||0,F=(null!=F?F:_-o)||0;const T=(l,n)=>{const r=!(!l||!l.stroke),a="outerBorder"===n?-1:1,{distance:h=s[n].distance}=l,d=w?h:Cl(t,h,t.dpr),p=i+a*d,y=o+a*d,u=2*d;if(0===f||Ve(f)&&f.every(e=>0===e)?(t.beginPath(),t.rect(p,y,L-a*u,F-a*u)):(t.beginPath(),Fd(t,p,y,L-a*u,F-a*u,f,"bevel"!==k)),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),c)c(t,l,s[n]);else if(r){const r=s[n].opacity;s[n].opacity=m,t.setStrokeStyle(e,l,(b-i)/C,(v-o)/S,s[n]),s[n].opacity=r,t.stroke()}};u&&T(p,"outerBorder"),g&&T(y,"innerBorder")}},Md=Cd,Od=fd;const Wd=new class{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c){const p=e.getParsedPath();if(!p)return;const{outerBorder:y,innerBorder:u}=e.attribute,g=y&&!1!==y.visible,f=u&&!1!==u.visible;if(!g&&!f)return;const{size:k=s.size,opacity:m=s.opacity,x:b=s.x,y:v=s.y,scaleX:C=s.scaleX,scaleY:S=s.scaleY,keepStrokeScale:x=s.keepStrokeScale}=e.attribute,_=(l,n)=>{const r=!(!l||!l.stroke),{distance:a=s[n].distance}=l,h=x?a:Cl(t,a,t.dpr),d="outerBorder"===n?1:-1;if(t.beginPath(),!1===p.drawOffset(t,k,i,o,d*h)&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),c)c(t,l,s[n]);else if(r){const r=s[n].opacity;s[n].opacity=m,t.setStrokeStyle(e,l,(b-i)/C,(v-o)/S,s[n]),s[n].opacity=r,t.stroke()}};g&&_(y,"outerBorder"),f&&_(u,"innerBorder")}},Rd=new class{constructor(){this.time=to.afterFillStroke,this.useStyle=!0,this.order=0}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){const{clipRange:y=s.clipRange,x:u=s.x,y:g=s.y,z:f=s.z,size:k=s.size,scaleX:m=s.scaleX,scaleY:b=s.scaleY}=e.attribute,v=e.getParsedPath();v&&y<1&&y>0&&(t.beginPath(),v.drawWithClipRange&&v.drawWithClipRange(t,k,i,o,y,f,(l,n)=>{var r,h,d,p;if(e._parsedPath.svgCache){const t=Object.assign({},n);t.fill=null!==(r=n.fill)&&void 0!==r?r:e.attribute.fill,t.opacity=null!==(h=n.opacity)&&void 0!==h?h:e.attribute.opacity,t.fillOpacity=e.attribute.fillOpacity,t.stroke=null!==(d=n.stroke)&&void 0!==d?d:e.attribute.stroke,t.lineWidth=null!==(p=n.lineWidth)&&void 0!==p?p:e.attribute.lineWidth,n=t}n.stroke&&(c?c(t,e.attribute,s):a&&(t.setStrokeStyle(e,n,(u-i)/m,(g-o)/b,s),t.stroke()))}),n&&!v.isSvg&&(c?c(t,e.attribute,s):a&&(t.setStrokeStyle(e,e.attribute,(u-i)/m,(g-o)/b,s),t.stroke())))}},Hd=Cd,Pd=fd;const Ed={x:0,y:0,z:0,lastModelMatrix:null};class Dd{init(e){e&&(this._renderContribitions=e.getContributions()),this._renderContribitions||(this._renderContribitions=[]),this.builtinContributions||(this.builtinContributions=[]),this.builtinContributions.push(md),this.builtinContributions.push(bd),this.builtinContributions.forEach(e=>this._renderContribitions.push(e)),this._renderContribitions.length&&(this._renderContribitions.sort((e,t)=>t.order-e.order),this._beforeRenderContribitions=this._renderContribitions.filter(e=>e.time===to.beforeFillStroke),this._afterRenderContribitions=this._renderContribitions.filter(e=>e.time===to.afterFillStroke))}reInit(){this.init(this.graphicRenderContributions)}beforeRenderStep(e,t,i,o,l,n,r,a,s,h,d,c,p){this._beforeRenderContribitions&&this._beforeRenderContribitions.forEach(y=>{y.supportedAppName&&e.stage&&e.stage.params&&e.stage.params.context&&e.stage.params.context.appName&&!(Array.isArray(y.supportedAppName)?y.supportedAppName:[y.supportedAppName]).includes(e.stage.params.context.appName)||y.drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p)})}afterRenderStep(e,t,i,o,l,n,r,a,s,h,d,c,p){this._afterRenderContribitions&&this._afterRenderContribitions.forEach(y=>{y.supportedAppName&&e.stage&&e.stage.params&&e.stage.params.context&&e.stage.params.context.appName&&!(Array.isArray(y.supportedAppName)?y.supportedAppName:[y.supportedAppName]).includes(e.stage.params.context.appName)||y.drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p)})}drawPathProxy(e,t,i,o,l,n,r,a){if(!e.pathProxy)return!1;const s=Pn(e,null==n?void 0:n.theme)[e.type.replace("3d","")],{fill:h=s.fill,stroke:d=s.stroke,opacity:c=s.opacity,fillOpacity:p=s.fillOpacity,lineWidth:y=s.lineWidth,strokeOpacity:u=s.strokeOpacity,visible:g=s.visible,x:f=s.x,y:k=s.y}=e.attribute,m=Js(c,p,h),b=eh(c,u),v=Ks(h),C=qs(d,y);if(!g)return!0;if(!v&&!C)return!0;if(!(m||b||r||a))return!0;t.beginPath();return no(("function"==typeof e.pathProxy?e.pathProxy(e.attribute):e.pathProxy).commandList,t,i,o),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,i,o,v,C,m,b,s,l,r,a),C&&(a?a(t,e.attribute,s):b&&(t.setStrokeStyle(e,e.attribute,i-f,o-k,s),t.stroke())),v&&(r?r(t,e.attribute,s):m&&(t.setCommonStyle(e,e.attribute,i-f,o-k,s),t.fill())),this.afterRenderStep(e,t,i,o,v,C,m,b,s,l,r,a),!0}valid(e,t,i,o){const{fill:l=t.fill,background:n,stroke:r=t.stroke,opacity:a=t.opacity,fillOpacity:s=t.fillOpacity,lineWidth:h=t.lineWidth,strokeOpacity:d=t.strokeOpacity,visible:c=t.visible}=e.attribute,p=Js(a,s,l),y=eh(a,d),u=Ks(l,n),g=qs(r,h);return!(!e.valid||!c)&&!(!u&&!g)&&!!(p||y||i||o||n)&&{fVisible:p,sVisible:y,doFill:u,doStroke:g}}transform(e,t,i,o=!1){const{x:l=t.x,y:n=t.y,z:r=t.z,scaleX:a=t.scaleX,scaleY:s=t.scaleY,angle:h=t.angle,postMatrix:d}=e.attribute,c=i.modelMatrix,p=i.camera;Ed.x=l,Ed.y=n,Ed.z=r,Ed.lastModelMatrix=c;const y=p&&(o||function(e){const{alpha:t,beta:i}=e.attribute;return t||i}(e)),u=y?e.transMatrix.onlyTranslate()&&!d:1===a&&1===s&&0===h&&!d;if(y){const o=rs.allocate(),l=rs.allocate();bh(l,e,t),is(o,c||o,l),Ed.x=0,Ed.y=0,Ed.z=0,i.modelMatrix=o,i.setTransform(1,0,0,1,0,0,!0),rs.free(l)}if(u&&!c){const o=e.getOffsetXY(t);Ed.x+=o.x,Ed.y+=o.y,Ed.z=r,i.setTransformForCurrent()}else if(y)Ed.x=0,Ed.y=0,Ed.z=0,i.setTransform(1,0,0,1,0,0,!0);else if(p&&i.project){const o=e.getOffsetXY(t);Ed.x+=o.x,Ed.y+=o.y,this.transformWithoutTranslate(i,Ed.x,Ed.y,Ed.z,a,s,h)}else i.transformFromMatrix(e.transMatrix,!0),Ed.x=0,Ed.y=0,Ed.z=0;return Ed}transformUseContext2d(e,t,i,o){const l=o.camera;if(this.camera=l,l){const t=e.AABBBounds,l=t.x2-t.x1,n=t.y2-t.y1,r=o.project(0,0,i),a=o.project(l,0,i),s=o.project(l,n,i),h={x:0,y:0},d={x:l,y:0},c={x:l,y:n};o.camera=null;const p=1/(h.x*(c.y-d.y)-d.x*c.y+c.x*d.y+(d.x-c.x)*h.y),y=-(h.y*(s.x-a.x)-d.y*s.x+c.y*a.x+(d.y-c.y)*r.x)*p,u=(d.y*s.y+h.y*(a.y-s.y)-c.y*a.y+(c.y-d.y)*r.y)*p,g=(h.x*(s.x-a.x)-d.x*s.x+c.x*a.x+(d.x-c.x)*r.x)*p,f=-(d.x*s.y+h.x*(a.y-s.y)-c.x*a.y+(c.x-d.x)*r.y)*p,k=(h.x*(c.y*a.x-d.y*s.x)+h.y*(d.x*s.x-c.x*a.x)+(c.x*d.y-d.x*c.y)*r.x)*p,m=(h.x*(c.y*a.y-d.y*s.y)+h.y*(d.x*s.y-c.x*a.y)+(c.x*d.y-d.x*c.y)*r.y)*p;o.setTransform(y,u,g,f,k,m,!0)}}restoreTransformUseContext2d(e,t,i,o){this.camera&&(o.camera=this.camera)}transformWithoutTranslate(e,t,i,o,l,n,r){const a=e.project(t,i,o);e.translate(a.x,a.y,!1),e.scale(l,n,!1),e.rotate(r,!1),e.translate(-a.x,-a.y,!1),e.setTransformForCurrent()}_draw(e,t,i,o,l,n){const{context:r}=o;if(!r)return;const{renderable:a}=e.attribute;if(!1===a)return;r.highPerformanceSave();const s=this.transform(e,t,r,i),{x:h,y:d,z:c,lastModelMatrix:p}=s;this.z=c,this.drawPathProxy(e,r,h,d,o,l)||(this.drawShape(e,r,h,d,o,l,null,null,n),this.z=0,r.modelMatrix!==p&&rs.free(r.modelMatrix),r.modelMatrix=p),r.highPerformanceRestore()}}var Id=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},jd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nd=function(e,t){return function(i,o){t(i,o,e)}};let Gd=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=Ha,this.builtinContributions=[Sd,_d,xd],this.init(e)}drawArcTailCapPath(e,t,i,o,l,n,r,a){const s=a-r,h=e.getParsedAngle(),d=h.startAngle;let c=h.endAngle;c=a;const p=c>d;let y=!1;if(l<n){const e=l;l=n,n=e}const{xors:u,yors:g,xirs:f,yirs:k,limitedOcr:m,outerCornerRadiusStart:b,outerCornerRadiusEnd:v,maxOuterCornerRadius:C,xore:S,yore:x,xire:_,yire:w,limitedIcr:L,innerDeltaAngle:F,innerStartAngle:T,innerCornerRadiusStart:A,innerCornerRadiusEnd:z,maxInnerCornerRadius:B}=oh(e,d,c,n,l);if(m>Ft){const e=Ht(b,m),n=Ht(v,m),r=ih(f,k,u,g,l,e,Number(p)),a=ih(S,x,_,w,l,n,Number(p));if(m<C&&e===n)t.moveTo(i+r.cx+r.x01,o+r.cy+r.y01),t.arc(i+r.cx,o+r.cy,m,Ot(r.y01,r.x01),Ot(a.y01,a.x01),!p);else{const e=c-s-.03,r=Ot(a.y11,a.x11);t.arc(i,o,l,e,r,!p),n>0&&t.arc(i+a.cx,o+a.cy,n,Ot(a.y11,a.x11),Ot(a.y01,a.x01),!p)}}else t.moveTo(i+u,o+g);if(!(n>Ft)||F<.001)t.lineTo(i+_,o+w),y=!0;else if(L>Ft){const e=Ht(A,L),l=Ht(z,L),r=ih(_,w,S,x,n,-l,Number(p)),a=ih(u,g,f,k,n,-e,Number(p));if(t.lineTo(i+r.cx+r.x01,o+r.cy+r.y01),L<B&&e===l){const e=Ot(a.y01,a.x01);t.arc(i+r.cx,o+r.cy,L,Ot(r.y01,r.x01),e,!p)}else{l>0&&t.arc(i+r.cx,o+r.cy,l,Ot(r.y01,r.x01),Ot(r.y11,r.x11),!p);const e=Ot(r.cy+r.y11,r.cx+r.x11),a=c-s-.03;t.arc(i,o,n,e,a,p)}}else t.lineTo(i+n*Wt(T),o+n*Pt(T));return y}drawShape(e,t,i,o,l,n,r,a,s){s=null!=s?s:Pn(e,null==n?void 0:n.theme).arc;const{fill:h=s.fill,stroke:d=s.stroke,x:c=s.x,y:p=s.y,fillStrokeOrder:y=s.fillStrokeOrder}=e.attribute,u=this.valid(e,s,r,a);if(!u)return;const{fVisible:g,sVisible:f,doFill:k,doStroke:m}=u,{outerPadding:b=s.outerPadding,innerPadding:v=s.innerPadding,cap:C=s.cap,forceShowCap:S=s.forceShowCap}=e.attribute;let{outerRadius:x=s.outerRadius,innerRadius:_=s.innerRadius}=e.attribute;x+=b,_-=v;let w=0;const L=(Pe(C)&&C||C[0])&&"conical"===h.gradient;if(L){const{sc:t,startAngle:i,endAngle:o}=e.getParsedAngle();Mt(o-i)<Bt-Ft&&(w=t||0,h.startAngle-=w,h.endAngle-=w)}let F=!1;const{isFullStroke:T,stroke:A}=(e=>{var t;let i=!0;if(Pe(e,!0)){for(let o=0;o<4;o++)er[o]=e,i&&(i=!(null!==(t=er[o])&&void 0!==t&&!t));i=e}else if(Array.isArray(e))for(let o=0;o<4;o++)er[o]=!!e[o],i&&(i=!!er[o]);else er[0]=!1,er[1]=!1,er[2]=!1,er[3]=!1;return{isFullStroke:i,stroke:er}})(d);if((k||T)&&(t.beginPath(),lh(e,t,i,o,x,_),F=!0,t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,i,o,k,m,g,f,s,l,r,a),y?(this._runStroke(e,t,i,o,s,m,T,f,a),this._runFill(e,t,i,o,s,k,g,c,p,r)):(this._runFill(e,t,i,o,s,k,g,c,p,r),this._runStroke(e,t,i,o,s,m,T,f,a))),!T&&m&&(t.beginPath(),lh(e,t,i,o,x,_,A),F||this.beforeRenderStep(e,t,i,o,k,m,g,f,s,l,r,a),a?a(t,e.attribute,s):f&&(t.setStrokeStyle(e,e.attribute,i,o,s),t.stroke())),(Pe(C)&&C||C[1])&&S){const{startAngle:n,endAngle:h}=e.getParsedAngle();if(Mt(h-n)>=Bt-Ft){t.beginPath();const n=Math.abs(x-_)/2/x,{endAngle:h=s.endAngle,fill:d=s.fill}=e.attribute,c=h;this.drawArcTailCapPath(e,t,i,o,x,_,c,c+n),F||this.beforeRenderStep(e,t,i,o,k,m,g,f,s,l,r,a);const p=()=>{if(k){const l=d;if("conical"===l.gradient){const n=function(e,t,i,o){const{stops:l,startAngle:n,endAngle:r}=o;for(;i<0;)i+=Bt;for(;i>Bt;)i-=Bt;if(i<n)return l[0].color;if(i>r)return l[0].color;let a,s,h=(i-n)/(r-n);for(let d=0;d<l.length;d++)if(l[d].offset>=h){a=l[d-1],s=l[d];break}return h=(h-a.offset)/(s.offset-a.offset),ks(a.color,s.color,h,!1)}(0,0,h,l);r||Js&&(t.setCommonStyle(e,e.attribute,i,o,s),t.fillStyle=n,t.fill())}}},y=()=>{m&&(a||f&&(t.setStrokeStyle(e,e.attribute,i,o,s),t.stroke()))};p(),y()}}this.afterRenderStep(e,t,i,o,k,m,g,f,s,l,r,a),L&&(h.startAngle+=w,h.endAngle+=w)}_runFill(e,t,i,o,l,n,r,a,s,h){n&&(h?h(t,e.attribute,l):r&&(t.setCommonStyle(e,e.attribute,a-i,s-o,l),t.fill()))}_runStroke(e,t,i,o,l,n,r,a,s){n&&r&&(s||a&&(t.setStrokeStyle(e,e.attribute,i,o,l),t.stroke()))}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).arc;this._draw(e,l,!1,i,o,l)}};function Ud(e,t,i,o){if(!t.p1)return;const{offsetX:l=0,offsetY:n=0,offsetZ:r=0}=o||{};if(1===i)t.p2&&t.p3?e.bezierCurveTo(l+t.p1.x,n+t.p1.y,l+t.p2.x,n+t.p2.y,l+t.p3.x,n+t.p3.y,r):e.lineTo(l+t.p1.x,n+t.p1.y,r);else if(t.p2&&t.p3){const[o]=yo(t,i);e.bezierCurveTo(l+o.p1.x,n+o.p1.y,l+o.p2.x,n+o.p2.y,l+o.p3.x,n+o.p3.y,r)}else{const o=t.getPointAt(i);e.lineTo(l+o.x,n+o.y,r)}}function Vd(e,t,i,o,l,n,r){var a;let s=t.p0,h=o;if(i&&i.originP1===i.originP2&&(s=i.p0),t.defined)o||(e.lineTo(s.x+l,s.y+n,r),h=!o);else{const{originP1:d,originP2:c}=t;let p;if(d&&!1!==d.defined&&!i?p=s:d&&!1!==c.defined&&(p=null!==(a=t.p3)&&void 0!==a?a:t.p1),o){h=!o;const i=p?p.x:t.p0.x,a=p?p.y:t.p0.y;e.moveTo(i+l,a+n,r)}else p&&(h=!o,e.lineTo(p.x+l,p.y+n,r))}return h}function Yd(e,t,i,o,l){const{offsetX:n=0,offsetY:r=0,offsetZ:a=0,mode:s="none",drawConnect:h=!1}=l||{};if(h&&"none"===s)return;if(!t)return;let d=!0;const{curves:c}=t;if(i>=1){if(h){let t,i=!0;c.forEach((o,l)=>{o.originP1!==o.originP2?(i=Vd(e,o,t,i,n,r,a),t=o):t=o})}else c.forEach(t=>{t.defined?(d&&e.moveTo(t.p0.x+n,t.p0.y+r,a),Ud(e,t,1,l),d=!1):d=!0});return}if(i<=0)return;let p;"x"===o?p=Qi.ROW:"y"===o?p=Qi.COLUMN:"auto"===o&&(p=t.direction);const y=i*t.tryUpdateLength(p);let u=0,g=!0,f=null;for(let k=0,m=c.length;k<m;k++){const t=c[k],i=t.getLength(p),o=(y-u)/i;if(u+=i,o<0)break;if(h){if(t.originP1===t.originP2){f=t;continue}g=Vd(e,t,f,g,n,r,a),f=t}else{if(!t.defined){d=!0;continue}d&&e.moveTo(t.p0.x+n,t.p0.y+r,a),Ud(e,t,Ht(o,1),l),d=!1}}}Gd=Id([Q(),Nd(0,q(ge)),Nd(0,ee(nh)),jd("design:paramtypes",[Object])],Gd);var Zd=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Xd=class extends Dd{constructor(){super(...arguments),this.numberType=ja}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).line;this._draw(e,l,!1,i,o)}drawSegmentItem(e,t,i,o,l,n,r,a,s,h,d,c,p,y,u){var g;if(!t)return;e.beginPath();Yd(e,t,s,h,{offsetX:d,offsetY:c,offsetZ:null!==(g=this.z)&&void 0!==g?g:0}),p.cache&&!Ve(p.cache)&&p.cache.curves.every(e=>e.defined)&&p.attribute.curveType&&p.attribute.curveType.includes("Closed")&&e.closePath(),e.setShadowBlendStyle&&e.setShadowBlendStyle(p,r,a);const{x:f=0,x:k=0}=r;return!1!==i&&(y?y(e,r,a):l&&(e.setCommonStyle(p,r,f-d,k-c,a),e.fill())),!1!==o&&(u?u(e,r,a):n&&(e.setStrokeStyle(p,r,f-d,k-c,a),e.stroke())),!1}drawLinearLineHighPerformance(e,t,i,o,l,n,r,a,s,h,d,c,p){var y;t.beginPath();const u=null!==(y=this.z)&&void 0!==y?y:0,{points:g}=e.attribute,f=g[0];t.moveTo(f.x+r,f.y+a,u);for(let b=1;b<g.length;b++){const e=g[b];t.lineTo(e.x+r,e.y+a,u)}t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s);const{x:k=0,x:m=0}=e.attribute;!1!==i&&(c?c(t,e.attribute,s):l&&(t.setCommonStyle(e,e.attribute,k-r,m-a,s),t.fill())),!1!==o&&(p?p(t,e.attribute,s):n&&(t.setStrokeStyle(e,e.attribute,k-r,m-a,s),t.stroke()))}drawShape(e,t,i,o,l,n,r,a){const s=Pn(e,null==n?void 0:n.theme).line,{fill:h=s.fill,stroke:d=s.stroke,fillOpacity:c=s.fillOpacity,strokeOpacity:p=s.strokeOpacity,segments:y,points:u,closePath:g,curveTension:f=s.curveTension,connectedType:k=s.connectedType}=e.attribute;if(!this.valid(e,s,r,a))return;let{curveType:m=s.curveType}=e.attribute;g&&"linear"===m&&(m="linearClosed");const{clipRange:b=s.clipRange,clipRangeByDimension:v=s.clipRangeByDimension}=e.attribute;if(1===b&&!y&&!u.some(e=>!1===e.defined)&&"linear"===m)return this.drawLinearLineHighPerformance(e,t,!!h,!!d,c,p,i,o,s,l,n,r,a);function C(e,t){return"none"===t?e:e.filter(e=>!1!==e.defined)}if(e.shouldUpdateShape()){const{points:t,segments:i}=e.attribute,o=t;if(i&&i.length){let t,o;if(e.cache=i.map((e,i)=>{if(e.points.length<=1&&0===i)return e.points[0]&&(o={endX:e.points[0].x,endY:e.points[0].y,curves:[{defined:!1!==e.points[0].defined}]}),null;1===i?t={x:o.endX,y:o.endY,defined:o.curves[o.curves.length-1].defined}:i>1&&(t.x=o.endX,t.y=o.endY,t.defined=o.curves[o.curves.length-1].defined);const l=Yo(C(e.points,k),m,{startPoint:t,curveTension:f});return o=l,l}).filter(e=>!!e),"linearClosed"===m){let t;for(let i=0;i<e.cache.length;i++){const o=e.cache[i];for(let e=0;e<o.curves.length;e++)if(o.curves[e].defined){t=o.curves[e].p0;break}if(t)break}e.cache[e.cache.length-1]&&e.cache[e.cache.length-1].lineTo(t.x,t.y,!0)}}else{if(!t||!t.length)return e.cache=null,void e.clearUpdateShapeTag();e.cache=Yo(C(o,k),m,{curveTension:f})}e.clearUpdateShapeTag()}if(Array.isArray(e.cache)){const l=e.attribute.segments.filter(e=>e.points.length);if(1===l[0].points.length&&l.shift(),1===b){let n=!1;e.cache.forEach((y,u)=>{n||(n=this.drawSegmentItem(t,y,!!h,!!d,c,p,l[u],[s,e.attribute],b,v,i,o,e,r,a))})}else{const n=e.cache.reduce((e,t)=>e+t.getLength(),0),y=b*n;let u=0,g=!1;e.cache.forEach((n,f)=>{if(g)return;const k=n.getLength(),m=(y-u)/k;u+=k,m>0&&(g=this.drawSegmentItem(t,n,!!h,!!d,c,p,l[f],[s,e.attribute],Ht(m,1),v,i,o,e,r,a))})}}else this.drawSegmentItem(t,e.cache,!!h,!!d,c,p,e.attribute,s,b,v,i,o,e,r,a)}};function $d(e,t,i,o){const{offsetX:l=0,offsetY:n=0,offsetZ:r=0}=o||{};let a=!0;t.forEach(t=>{t.defined?(a&&e.moveTo(t.p0.x+l,t.p0.y+n,r),Ud(e,t,1,o),a=!1):a=!0}),a=!0;for(let s=i.length-1;s>=0;s--){const t=i[s];t.defined?(a&&e.lineTo(t.p0.x+l,t.p0.y+n,r),Ud(e,t,1,o),a=!1):a=!0}e.closePath()}Xd=Zd([Q()],Xd);const Kd=new class extends vd{constructor(){super(...arguments),this.time=to.afterFillStroke}drawShape(e,t,i,o,l,n,r,a,s,h,d,c,p){var y,u,g,f;this.textureMap||this.initTextureMap(t,e.stage);const{attribute:k=e.attribute}=p||{},{texture:m=(null!==(y=e.attribute.texture)&&void 0!==y?y:sr(s,"texture")),textureColor:b=(null!==(u=e.attribute.textureColor)&&void 0!==u?u:sr(s,"textureColor")),textureSize:v=(null!==(g=e.attribute.textureSize)&&void 0!==g?g:sr(s,"textureSize")),texturePadding:C=(null!==(f=e.attribute.texturePadding)&&void 0!==f?f:sr(s,"texturePadding"))}=k;m&&this.drawTexture(m,e,t,i,o,s,b,v,C)}},qd=fd;var Jd=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Qd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ec=function(e,t){return function(i,o){t(i,o,e)}};let tc=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=Ea,this.builtinContributions=[Kd,qd],this.init(e)}drawLinearAreaHighPerformance(e,t,i,o,l,n,r,a,s,h,d,c,p){var y,u,g;const{points:f}=e.attribute;if(f.length<2)return;t.beginPath();const k=null!==(y=this.z)&&void 0!==y?y:0,m=f[0];t.moveTo(m.x+r,m.y+a,k);for(let C=1;C<f.length;C++){const e=f[C];t.lineTo(e.x+r,e.y+a,k)}for(let C=f.length-1;C>=0;C--){const e=f[C];t.lineTo((null!==(u=e.x1)&&void 0!==u?u:e.x)+r,(null!==(g=e.y1)&&void 0!==g?g:e.y)+a,k)}t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,r,a,!!l,!1,i,!1,s,h,c,null,{attribute:e.attribute});const{x:b=0,x:v=0}=e.attribute;!1!==i&&(c?c(t,e.attribute,s):l&&(t.setCommonStyle(e,e.attribute,b-r,v-a,s),t.fill())),this.afterRenderStep(e,t,r,a,!!l,!1,i,!1,s,h,c,null,{attribute:e.attribute}),(()=>{var i,l;if(o){const{stroke:o=s&&s.stroke}=e.attribute;if(Ve(o)&&(o[0]||o[2])&&!1===o[1])if(t.beginPath(),o[0]){t.moveTo(m.x+r,m.y+a,k);for(let e=1;e<f.length;e++){const i=f[e];t.lineTo(i.x+r,i.y+a,k)}}else if(o[2]){const e=f[f.length-1];t.moveTo(e.x+r,e.y+a,k);for(let o=f.length-2;o>=0;o--){const e=f[o];t.lineTo((null!==(i=e.x1)&&void 0!==i?i:e.x)+r,(null!==(l=e.y1)&&void 0!==l?l:e.y)+a,k)}}p?p(t,e.attribute,s):(t.setStrokeStyle(e,e.attribute,b-r,v-a,s),t.stroke())}})()}drawShape(e,t,i,o,l,n,r,a){var s,h,d,c,p,y;const u=Pn(e,null==n?void 0:n.theme).area,{fill:g=u.fill,stroke:f=u.stroke,fillOpacity:k=u.fillOpacity,z:m=u.z,strokeOpacity:b=u.strokeOpacity,curveTension:v=u.curveTension,connectedType:C=u.connectedType}=e.attribute,S=this.valid(e,u,r,a);if(!S)return;const{doFill:x}=S,_=S.doStroke&&S.sVisible,{clipRange:w=u.clipRange,closePath:L,points:F,segments:T}=e.attribute;let{curveType:A=u.curveType}=e.attribute;function z(e,t){return"connect"!==t?e:e.filter(e=>!1!==e.defined)}if(L&&"linear"===A&&(A="linearClosed"),1===w&&!T&&!F.some(e=>!1===e.defined)&&"linear"===A)return this.drawLinearAreaHighPerformance(e,t,!!g,_,k,b,i,o,u,l,n,r,a);if(e.shouldUpdateShape()){if(T&&T.length){let t,i;const o=T.map((e,o)=>{if(e.points.length<=1&&0===o)return e.points[0]&&(i={endX:e.points[0].x,endY:e.points[0].y}),null;1===o?t={x:i.endX,y:i.endY}:o>1&&(t.x=i.endX,t.y=i.endY);const l=Yo(z(e.points,C),A,{startPoint:t,curveTension:v});return i=l,l}).filter(e=>!!e);let l;const n=[];for(let e=T.length-1;e>=0;e--){const t=T[e].points,i=[];for(let e=t.length-1;e>=0;e--)i.push({x:null!==(s=t[e].x1)&&void 0!==s?s:t[e].x,y:null!==(h=t[e].y1)&&void 0!==h?h:t[e].y});if(0!==e){const t=T[e-1].points,o=t[t.length-1];o&&i.push({x:null!==(d=o.x1)&&void 0!==d?d:o.x,y:null!==(c=o.y1)&&void 0!==c?c:o.y})}i.length>1&&(l=Yo(z(i,C),"stepBefore"===A?"stepAfter":"stepAfter"===A?"stepBefore":A,{curveTension:v}),n.unshift(l))}e.cacheArea=n.map((e,t)=>({top:o[t],bottom:e}))}else{if(!F||!F.length)return e.cacheArea=null,void e.clearUpdateShapeTag();{const t=z(F,C),i=[];for(let e=t.length-1;e>=0;e--)i.push({x:null!==(p=t[e].x1)&&void 0!==p?p:t[e].x,y:null!==(y=t[e].y1)&&void 0!==y?y:t[e].y});const o=Yo(t,A,{curveTension:v}),l=Yo(i,"stepBefore"===A?"stepAfter":"stepAfter"===A?"stepBefore":A,{curveTension:v});e.cacheArea={top:o,bottom:l}}}e.clearUpdateShapeTag()}if(Array.isArray(e.cacheArea)){const n=e.attribute.segments.filter(e=>e.points.length);if(1===n[0].points.length&&n.shift(),1===w){let s=!1;e.cacheArea.forEach((h,d)=>{s||(s=this.drawSegmentItem(t,h,x,k,_,b,n[d],[u,e.attribute],w,i,o,m,e,l,r,a))})}else{const s=e.cacheArea.reduce((e,t)=>e+t.top.getLength(),0),h=w*s;let d=0,c=!1;e.cacheArea.forEach((s,p)=>{if(c)return;const y=s.top.getLength(),g=(h-d)/y;d+=y,g>0&&(c=this.drawSegmentItem(t,s,x,k,_,b,n[p],[u,e.attribute],Ht(g,1),i,o,m,e,l,r,a))})}}else this.drawSegmentItem(t,e.cacheArea,x,k,_,b,e.attribute,u,w,i,o,m,e,l,r,a)}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).area;this._draw(e,l,!1,i,o)}drawSegmentItem(e,t,i,o,l,n,r,a,s,h,d,c,p,y,u,g){return this._drawSegmentItem(e,t,i,o,l,n,r,a,s,h,d,c,p,y,u,g)}_drawSegmentItem(e,t,i,o,l,n,r,a,s,h,d,c,p,y,u,g){if(!(t&&t.top&&t.bottom&&t.top.curves&&t.top.curves.length&&t.bottom.curves&&t.bottom.curves.length))return;e.beginPath();const{points:f,segments:k}=p.attribute;let m,b,v=Qi.ROW;if(k){const e=k[k.length-1];b=k[0].points[0],m=e.points[e.points.length-1]}else b=f[0],m=f[f.length-1];const C=Mt(m.x-b.x),S=Mt(m.y-b.y);v=null==m.x1?Qi.ROW:null==m.y1?Qi.COLUMN:Number.isFinite(C+S)?C>S?Qi.ROW:Qi.COLUMN:Qi.ROW,function(e,t,i,o){var l;const{top:n,bottom:r}=t;if(n.curves.length!==r.curves.length)return;if(i>=1){const t=[],i=[];let l=!0;for(let a=0,s=n.curves.length;a<s;a++){const h=n.curves[a];l!==h.defined?(l?($d(e,t,i,o),t.length=0,i.length=0):(t.push(h),i.push(r.curves[s-a-1])),l=!l):l&&(t.push(h),i.push(r.curves[s-a-1]))}return void $d(e,t,i,o)}if(i<=0)return;let{direction:a}=o||{};const{curves:s}=n,h=null!==(l=s[s.length-1].p3)&&void 0!==l?l:s[s.length-1].p1,d=Mt(h.x-s[0].p0.x),c=Mt(h.y-s[0].p0.y);a=null!=a?a:d>c?Qi.ROW:Qi.COLUMN,Number.isFinite(d)||(a=Qi.COLUMN),Number.isFinite(c)||(a=Qi.ROW);const p=i*(a===Qi.ROW?d:c);let y=0,u=!0;const g=[],f=[];for(let k=0,m=n.curves.length;k<m;k++){const t=n.curves[k],i=t.getLength(a),l=(p-y)/i;if(l<0)break;y+=i;let s=null,h=null;u!==t.defined?(u?($d(e,g,f,o),g.length=0,f.length=0):(s=t,h=r.curves[m-k-1]),u=!u):u&&(s=t,h=r.curves[m-k-1]),s&&h&&(l<1&&(s=s.p2&&s.p3?yo(s,l)[0]:go(s,l)[0],h=h.p2&&h.p3?yo(h,1-l)[1]:go(h,1-l)[1]),s.defined=u,h.defined=u,g.push(s),f.push(h)),s=null,h=null}$d(e,g,f,o)}(e,t,s,{offsetX:h,offsetY:d,offsetZ:c,direction:v}),this.beforeRenderStep(p,e,h,d,!!o,!1,i,!1,a,y,u,null,{attribute:r}),e.setShadowBlendStyle&&e.setShadowBlendStyle(p,r,a);const{x:x=0,x:_=0}=r;return!1!==i&&(u?u(e,r,a):o&&(e.setCommonStyle(p,r,x-h,_-d,a),e.fill())),this.afterRenderStep(p,e,h,d,!!o,!1,i,!1,a,y,u,null,{attribute:r}),(()=>{if(!1!==l)if(g)g(e,r,a);else{const{stroke:i=a&&a[1]&&a[1].stroke}=r;Ve(i)&&(i[0]||i[2])&&!1===i[1]&&(e.beginPath(),Yd(e,i[0]?t.top:t.bottom,s,v===Qi.ROW?"x":"y",{offsetX:h,offsetY:d,offsetZ:c})),e.setStrokeStyle(p,r,x-h,_-d,a),e.stroke()}})(),!1}};tc=Jd([Q(),ec(0,q(ge)),ec(0,ee(rh)),Qd("design:paramtypes",[Object])],tc);const ic=Cd,oc=fd;var lc=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},nc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rc=function(e,t){return function(i,o){t(i,o,e)}};let ac=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=Na,this.builtinContributions=[oc,ic],this.init(e)}drawShape(e,t,i,o,l,n,r,a){var s,h,d;const c=null!==(s=this.tempTheme)&&void 0!==s?s:Pn(e,null==n?void 0:n.theme).path,{x:p=c.x,y:y=c.y,fillStrokeOrder:u=c.fillStrokeOrder}=e.attribute,g=null!==(h=this.z)&&void 0!==h?h:0,f=this.valid(e,c,r,a);if(!f)return;const{fVisible:k,sVisible:m,doFill:b,doStroke:v}=f;if(t.beginPath(),e.pathShape)no(e.pathShape.commandList,t,i,o,1,1,g);else{no((null!==(d=e.attribute.path)&&void 0!==d?d:c.path).commandList,t,i,o,1,1,g)}t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,c),this.beforeRenderStep(e,t,i,o,b,v,k,m,c,l,r,a);const C=()=>{v&&(a?a(t,e.attribute,c):m&&(t.setStrokeStyle(e,e.attribute,p-i,y-o,c),t.stroke()))},S=()=>{b&&(r?r(t,e.attribute,c):k&&(t.setCommonStyle(e,e.attribute,p-i,y-o,c),t.fill()))};u?(C(),S()):(S(),C()),this.afterRenderStep(e,t,i,o,b,v,k,m,c,l,r,a)}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).path;this.tempTheme=l,this._draw(e,l,!1,i,o),this.tempTheme=null}};ac=lc([Q(),rc(0,q(ge)),rc(0,ee(sh)),nc("design:paramtypes",[Object])],ac);var sc=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},hc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dc=function(e,t){return function(i,o){t(i,o,e)}};let cc=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.type="rect",this.numberType=Ua,this.builtinContributions=[Bd,Od,Md],this.init(e)}drawShape(e,t,i,o,l,n,r,a,s){s=null!=s?s:Pn(e,null==n?void 0:n.theme).rect;const{fill:h=s.fill,background:d,stroke:c=s.stroke,cornerRadius:p=s.cornerRadius,cornerType:y=s.cornerType,opacity:u=s.opacity,fillOpacity:g=s.fillOpacity,lineWidth:f=s.lineWidth,strokeOpacity:k=s.strokeOpacity,visible:m=s.visible,x1:b,y1:v,x:C=s.x,y:S=s.y,fillStrokeOrder:x=s.fillStrokeOrder,drawStrokeWhenZeroWH:_=s.drawStrokeWhenZeroWH}=e.attribute;let{width:w,height:L}=e.attribute;w=(null!=w?w:b-C)||0,L=(null!=L?L:v-S)||0;const F=Qs(u,g,w,L,h),T=th(u,k,w,L,_),A=Ks(h,d),z=qs(c,f);if(!e.valid||!m)return;if(!A&&!z)return;if(!(F||T||r||a||d))return;0===p||Ve(p)&&p.every(e=>0===e)?(t.beginPath(),t.rect(i,o,w,L)):(t.beginPath(),Fd(t,i,o,w,L,p,"bevel"!==y));const B={doFill:A,doStroke:z};t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,i,o,A,z,F,T,s,l,r,a,B),x?(this._runStroke(e,t,i,o,s,B,T,C,S,a),this._runFill(e,t,i,o,s,B,F,C,S,r)):(this._runFill(e,t,i,o,s,B,F,C,S,r),this._runStroke(e,t,i,o,s,B,T,C,S,a)),this.afterRenderStep(e,t,i,o,A,z,F,T,s,l,r,a)}_runFill(e,t,i,o,l,n,r,a,s,h){n.doFill&&(h?h(t,e.attribute,l):r&&(t.setCommonStyle(e,e.attribute,a-i,s-o,l),t.fill()))}_runStroke(e,t,i,o,l,n,r,a,s,h){n.doStroke&&(h?h(t,e.attribute,l):r&&(t.setStrokeStyle(e,e.attribute,a-i,s-o,l),t.stroke()))}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).rect;this._draw(e,l,!1,i,o,l)}};cc=sc([Q(),dc(0,q(ge)),dc(0,ee(dh)),hc("design:paramtypes",[Object])],cc);var pc=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},yc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},uc=function(e,t){return function(i,o){t(i,o,e)}};let gc=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=Ya,this.builtinContributions=[Wd,Pd,Hd,Rd],this.init(e)}drawShape(e,t,i,o,l,n,r,a,s){var h;s=null!=s?s:Pn(e,null==n?void 0:n.theme).symbol;const{size:d=s.size,x:c=s.x,y:p=s.y,scaleX:y=s.scaleX,scaleY:u=s.scaleY,fillStrokeOrder:g=s.fillStrokeOrder,clipRange:f=s.clipRange}=e.attribute,k=this.valid(e,s,r,a);if(!k)return;const{fVisible:m,sVisible:b,doFill:v,doStroke:C}=k,S=e.getParsedPath();if(!S)return;const{keepDirIn3d:x=s.keepDirIn3d}=e.attribute,_=null!==(h=this.z)&&void 0!==h?h:0;t.beginPath();let w=i,L=o,F=_;const T=t.camera;if(x&&T&&t.project){const e=t.project(i,o,_);t.camera=null,Ve(d)&&(d[0],d[1]),w=e.x,L=e.y,F=void 0}!1===S.draw(t,d,w,L,F,(l,n)=>{var h,d,k,m;if(e._parsedPath.svgCache){const t=Object.assign({},n);t.fill=null!==(h=n.fill)&&void 0!==h?h:e.attribute.fill,t.opacity=null!==(d=n.opacity)&&void 0!==d?d:e.attribute.opacity,t.fillOpacity=e.attribute.fillOpacity,t.stroke=null!==(k=n.stroke)&&void 0!==k?k:e.attribute.stroke,t.lineWidth=null!==(m=n.lineWidth)&&void 0!==m?m:e.attribute.lineWidth,n=t}const v=()=>{n.fill&&(r?r(t,e.attribute,s):(t.setCommonStyle(e,n,c-i,p-o,s),t.fill()))},C=()=>{n.stroke&&(a?a(t,e.attribute,s):b&&f>=1&&(t.setStrokeStyle(e,n,(c-i)/y,(p-o)/u,s),t.stroke()))};g?(C(),v()):(v(),C())})&&t.closePath(),t.camera=T,t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,i,o,v,C,m,b,s,l,r,a),g?(this._runStroke(e,t,i,o,s,C,b,c,p,S,f,y,u,a),this._runFill(e,t,i,o,s,v,m,c,p,S,r)):(this._runFill(e,t,i,o,s,v,m,c,p,S,r),this._runStroke(e,t,i,o,s,C,b,c,p,S,f,y,u,a)),this.afterRenderStep(e,t,i,o,v,C,m,b,s,l,r,a)}_runFill(e,t,i,o,l,n,r,a,s,h,d){n&&!h.isSvg&&(d?d(t,e.attribute,l):r&&(t.setCommonStyle(e,e.attribute,a-i,s-o,l),t.fill()))}_runStroke(e,t,i,o,l,n,r,a,s,h,d,c,p,y){n&&!h.isSvg&&(y?y(t,e.attribute,l):r&&d>=1&&(t.setStrokeStyle(e,e.attribute,(a-i)/c,(s-o)/p,l),t.stroke()))}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).symbol;this._draw(e,l,!1,i,o)}};gc=pc([Q(),uc(0,q(ge)),uc(0,ee(ch)),yc("design:paramtypes",[Object])],gc);const fc=new class{constructor(){this.pools=[];for(let e=0;e<10;e++)this.pools.push(new yi)}allocate(e,t,i,o){if(!this.pools.length)return(new yi).setValue(e,t,i,o);const l=this.pools.pop();return l.x1=e,l.y1=t,l.x2=i,l.y2=o,l}allocateByObj(e){if(!this.pools.length)return new yi(e);const t=this.pools.pop();return t.x1=e.x1,t.y1=e.y1,t.x2=e.x2,t.y2=e.y2,t}free(e){this.pools.push(e)}get length(){return this.pools.length}release(...e){this.pools=[]}};const kc=new class extends gd{constructor(){super(...arguments),this.time=to.beforeFillStroke}drawShape(e,t,i,o,l,n,r,a,s,h,d,c){var p,y,u,g,f,k,m,b,v,C;const{backgroundMode:S=s.backgroundMode,backgroundFit:x=s.backgroundFit,backgroundKeepAspectRatio:_=s.backgroundKeepAspectRatio}=e.attribute;let w,{background:L}=e.attribute;if(!L)return;const F=()=>{"richtext"===e.type&&(t.restore(),t.save(),w&&t.setTransformFromMatrix(w,!0,1))};let T;"richtext"===e.type&&(w=t.currentMatrix.clone(),t.restore(),t.save(),t.setTransformForCurrent());const A=je(L)&&L.background,z=e.transMatrix.onlyTranslate();if(A){const t=e.AABBBounds,i=(null!==(p=L.x)&&void 0!==p?p:t.x1)+(null!==(y=L.dx)&&void 0!==y?y:0),o=(null!==(u=L.y)&&void 0!==u?u:t.y1)+(null!==(g=L.dy)&&void 0!==g?g:0),l=null!==(f=L.width)&&void 0!==f?f:t.width(),n=null!==(k=L.height)&&void 0!==k?k:t.height();if(T=fc.allocate(i,o,i+l,o+n),L=L.background,!z){const e=T.width(),t=T.height();T.set((null!==(m=L.x)&&void 0!==m?m:0)+(null!==(b=L.dx)&&void 0!==b?b:0),(null!==(v=L.y)&&void 0!==v?v:0)+(null!==(C=L.dy)&&void 0!==C?C:0),e,t)}}else T=e.AABBBounds,z||(T=cd(Object.assign(Object.assign({},e.attribute),{angle:0,scaleX:1,scaleY:1,x:0,y:0,dx:0,dy:0})).clone());if(e.backgroundImg&&e.resources){const l=e.resources.get(L);if("success"!==l.state||!l.data)return void F();t.highPerformanceSave(),z&&t.setTransformFromMatrix(e.parent.globalTransMatrix,!0),t.setCommonStyle(e,e.attribute,i,o,s),this.doDrawImage(t,l.data,T,{backgroundMode:S,backgroundFit:x,backgroundKeepAspectRatio:_}),t.highPerformanceRestore(),t.setTransformForCurrent()}else{const{backgroundCornerRadius:l}=e.attribute;t.highPerformanceSave(),t.setCommonStyle(e,e.attribute,i,o,s),t.fillStyle=L,l?(Fd(t,T.x1,T.y1,T.width(),T.height(),l,!0),t.fill()):t.fillRect(T.x1,T.y1,T.width(),T.height()),t.highPerformanceRestore()}A&&fc.free(T),F()}};var mc=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},bc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vc=function(e,t){return function(i,o){t(i,o,e)}};let Cc=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=Za,this.builtinContributions=[kc],this.init(e)}drawShape(e,t,i,o,l,n,r,a){var s,h,d;const c=Pn(e,null==n?void 0:n.theme).text,{text:p,underline:y=c.underline,lineThrough:u=c.lineThrough,keepDirIn3d:g=c.keepDirIn3d,direction:f=c.direction,fontSize:k=c.fontSize,verticalMode:m=c.verticalMode,x:b=c.x,y:v=c.y}=e.attribute,C=null!==(s=cr(e.attribute.lineHeight,k))&&void 0!==s?s:k,S=this.valid(e,c,r,a);if(!S)return;const{fVisible:x,sVisible:_,doFill:w,doStroke:L}=S,F=!g,T=this.z||0;t.beginPath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,c),this.beforeRenderStep(e,t,i,o,w,L,x,_,c,l,r,a),F&&this.transformUseContext2d(e,c,T,t);const A=(l,n,s,h)=>{let d=i+n;const p=o+s;if(h){t.highPerformanceSave(),d+=k;const e=ns.allocate(1,0,0,1,0,0);e.rotateByCenter(Math.PI/2,d,p),t.transformFromMatrix(e,!0),ns.free(e)}L&&(a?a(t,e.attribute,c):_&&(t.setStrokeStyle(e,e.attribute,b-i,v-o,c),t.strokeText(l,d,p,T))),w&&(r?r(t,e.attribute,c):x&&(t.setCommonStyle(e,e.attribute,b-i,v-o,c),t.fillText(l,d,p,T))),h&&(t.highPerformanceRestore(),t.setTransformForCurrent())};if(t.setTextStyleWithoutAlignBaseline(e.attribute,c,T),"horizontal"===f){const{multilineLayout:l}=e;if(!l)return void t.highPerformanceRestore();const{xOffset:n,yOffset:s}=l.bbox;L&&(a?a(t,e.attribute,c):_&&(t.setStrokeStyle(e,e.attribute,b-i,v-o,c),l.lines.forEach(e=>{t.strokeText(e.str,(e.leftOffset||0)+n+i,(e.topOffset||0)+s+o,T)}))),w&&(r?r(t,e.attribute,c):x&&(t.setCommonStyle(e,e.attribute,b-i,v-o,c),l.lines.forEach(l=>{t.fillText(l.str,(l.leftOffset||0)+n+i,(l.topOffset||0)+s+o,T),this.drawUnderLine(y,u,e,(l.leftOffset||0)+n+i,(l.topOffset||0)+s+o,l.descent,(l.descent-l.ascent)/2,T,c,t,{width:l.width})})))}else{let{textAlign:i=c.textAlign,textBaseline:o=c.textBaseline}=e.attribute;if(!m){const t=i;i=null!==(h=e.getBaselineMapAlign()[o])&&void 0!==h?h:"left",o=null!==(d=e.getAlignMapBaseline()[t])&&void 0!==d?d:"top"}e.tryUpdateAABBBounds();const l=e.cache,{verticalList:n}=l;t.textAlign="left",t.textBaseline="top";const r=C*n.length;let a=0;n.forEach(e=>{const t=e.reduce((e,t)=>e+(t.width||0),0);a=Rt(t,a)});let s=0,p=0;"bottom"===o?p=-r:"middle"===o&&(p=-r/2),"center"===i?s-=a/2:"right"===i&&(s-=a),n.forEach((e,t)=>{const o=e.reduce((e,t)=>e+(t.width||0),0),l=a-o;let n=s;"center"===i?n+=l/2:"right"===i&&(n+=l),e.forEach(e=>{const{text:i,width:o,direction:l}=e;A(i,r-(t+1)*C+p,n,l),n+=o})})}F&&this.restoreTransformUseContext2d(e,c,T,t),this.afterRenderStep(e,t,i,o,w,L,x,_,c,l,r,a)}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).text,{keepDirIn3d:n=l.keepDirIn3d}=e.attribute,r=!n;this._draw(e,l,r,i,o)}drawUnderLine(e,t,i,o,l,n,r,a,s,h,d){if(t+e<=0)return;const{textAlign:c=s.textAlign,fill:p=s.fill,opacity:y=s.opacity,underlineOffset:u=s.underlineOffset,underlineDash:g=s.underlineDash,fillOpacity:f=s.fillOpacity}=i.attribute,k=!De(d),m=k?d.width:i.clipedWidth,b=k?0:uh(c,m),v={lineWidth:0,stroke:p,opacity:y,strokeOpacity:f};if(e){v.lineWidth=e,h.setStrokeStyle(i,v,o,l,s),g&&h.setLineDash(g),h.beginPath();const t=l+n+u;h.moveTo(o+b,t,a),h.lineTo(o+b+m,t,a),h.stroke()}if(t){v.lineWidth=t,h.setStrokeStyle(i,v,o,l,s),h.beginPath();const e=l+r;h.moveTo(o+b,e,a),h.lineTo(o+b+m,e,a),h.stroke()}}};function Sc(e,t,i,o){if(t&&t.length){e.moveTo(t[0].x+i,t[0].y+o);for(let l=1;l<t.length;l++)e.lineTo(t[l].x+i,t[l].y+o)}}function xc(e,t){return Math.sqrt(e*e+t*t)}function _c(e,t,i,o,l){const n=t/i;return{x:e.x-o*n,y:e.y-l*n}}Cc=mc([Q(),vc(0,q(ge)),vc(0,ee(ph)),bc("design:paramtypes",[Object])],Cc);const wc=Cd,Lc=fd;var Fc=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Tc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ac=function(e,t){return function(i,o){t(i,o,e)}};let zc=class extends Dd{constructor(e){super(),this.graphicRenderContributions=e,this.numberType=Ga,this.builtinContributions=[Lc,wc],this.init(e)}drawShape(e,t,i,o,l,n,r,a){const s=Pn(e,null==n?void 0:n.theme).polygon,{points:h=s.points,cornerRadius:d=s.cornerRadius,x:c=s.x,y:p=s.y,closePath:y=s.closePath,fillStrokeOrder:u=s.fillStrokeOrder}=e.attribute,g=this.valid(e,s,r,a);if(!g)return;const{fVisible:f,sVisible:k,doFill:m,doStroke:b}=g;t.beginPath(),d<=0||Ve(d)&&d.every(e=>0===e)?Sc(t.camera?t:t.nativeContext,h,i,o):function(e,t,i,o,l,n=!0){var r;if(t.length<3)return void Sc(e,t,i,o);let a=0,s=t.length-1;n||(a+=1,s-=1,e.moveTo(t[0].x+i,t[0].y+o));for(let h=a;h<=s;h++){const n=t[0===h?s:(h-1)%t.length],a=t[h%t.length],d=t[(h+1)%t.length],c=a.x-n.x,p=a.y-n.y,y=a.x-d.x,u=a.y-d.y,g=(Math.atan2(p,c)-Math.atan2(u,y))/2,f=Math.abs(Math.tan(g));let k=Array.isArray(l)?null!==(r=l[h%t.length])&&void 0!==r?r:0:l,m=k/f;const b=xc(c,p),v=xc(y,u),C=Math.min(b,v);m>C&&(m=C,k=C*f);const S=_c(a,m,b,c,p),x=_c(a,m,v,y,u),_=2*a.x-S.x-x.x,w=2*a.y-S.y-x.y,L=xc(_,w),F=_c(a,xc(m,k),L,_,w);let T=Math.atan2(S.y-F.y,S.x-F.x);const A=Math.atan2(x.y-F.y,x.x-F.x);let z=A-T;z<0&&(T=A,z=-z),z>Math.PI&&(z-=Math.PI),0===h?e.moveTo(S.x+i,S.y+o):e.lineTo(S.x+i,S.y+o),z&&e.arcTo(a.x+i,a.y+o,x.x+i,x.y+o,k),e.lineTo(x.x+i,x.y+o)}n||e.lineTo(t[s+1].x+i,t[s+1].y+o)}(t.camera?t:t.nativeContext,h,i,o,d,y),y&&t.closePath(),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this.beforeRenderStep(e,t,i,o,m,b,f,k,s,l,r,a);const v=()=>{m&&(r?r(t,e.attribute,s):f&&(t.setCommonStyle(e,e.attribute,c-i,p-o,s),t.fill()))},C=()=>{b&&(a?a(t,e.attribute,s):k&&(t.setStrokeStyle(e,e.attribute,c-i,p-o,s),t.stroke()))};u?(C(),v()):(v(),C()),this.afterRenderStep(e,t,i,o,m,b,f,k,s,l,r,a)}draw(e,t,i,o){const l=Pn(e,null==o?void 0:o.theme).polygon;this._draw(e,l,!1,i,o)}};zc=Fc([Q(),Ac(0,q(ge)),Ac(0,ee(hh)),Tc("design:paramtypes",[Object])],zc);var Bc=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Mc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Oc=function(e,t){return function(i,o){t(i,o,e)}};let Wc=class{constructor(e){this.groupRenderContribitions=e,this.numberType=Da}reInit(){this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(wd)}drawShape(e,t,i,o,l,n,r,a,s){const{clip:h,fill:d,stroke:c,background:p}=e.attribute;if(!(h||d||c||p))return;s=null!=s?s:Pn(e,null==n?void 0:n.theme).group;const{opacity:y=s.opacity,width:u=s.width,height:g=s.height,fillOpacity:f=s.fillOpacity,strokeOpacity:k=s.strokeOpacity,cornerRadius:m=s.cornerRadius,path:b=s.path,lineWidth:v=s.lineWidth,visible:C=s.visible,fillStrokeOrder:S=s.fillStrokeOrder,cornerType:x=s.cornerType,x:_=s.x,y:w=s.y}=e.attribute,L=Qs(y,f,u,g,d),F=th(y,k,u,g),T=Ks(d,p),A=qs(c,v);if(!e.valid||!C)return;if(!h){if(!T&&!A)return;if(!(L||F||r||a||p))return}if(b&&b.length&&l.drawContribution){const e=t.disableFill,i=t.disableStroke,o=t.disableBeginPath;t.disableFill=!0,t.disableStroke=!0,t.disableBeginPath=!0,b.forEach(e=>{l.drawContribution.getRenderContribution(e).draw(e,l.renderService,l,n)}),t.disableFill=e,t.disableStroke=i,t.disableBeginPath=o}else 0===m||Ve(m)&&m.every(e=>0===e)?(t.beginPath(),t.rect(i,o,u,g)):(t.beginPath(),Fd(t,i,o,u,g,m,"bevel"!==x));this._groupRenderContribitions||(this._groupRenderContribitions=this.groupRenderContribitions.getContributions()||[],this._groupRenderContribitions.push(wd));const z={doFill:T,doStroke:A};t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,s),this._groupRenderContribitions.forEach(n=>{n.time===to.beforeFillStroke&&n.drawShape(e,t,i,o,T,A,L,F,s,l,r,a,z)}),h&&t.clip();const B=()=>{z.doFill&&(r?r(t,e.attribute,s):L&&(t.setCommonStyle(e,e.attribute,_-i,w-o,s),t.fill()))},M=()=>{z.doStroke&&(a?a(t,e.attribute,s):F&&(t.setStrokeStyle(e,e.attribute,_-i,w-o,s),t.stroke()))};S?(M(),B()):(B(),M()),this._groupRenderContribitions.forEach(n=>{n.time===to.afterFillStroke&&n.drawShape(e,t,i,o,T,A,L,F,s,l,r,a)})}draw(e,t,i,o){var l,n;const{context:r}=i;if(!r)return;const{clip:a,baseOpacity:s=1,drawMode:h}=e.attribute,d=r.nativeContext,c=r.canvas.nativeCanvas;if(h>0){const{x:t,y:i,width:o,height:l}=e.attribute,n=r.canvas,a=xe.global.createCanvas({width:n.width,height:n.height,dpr:1}),s=a.getContext("2d"),d=r.nativeContext.getTransform();s.setTransform(d.a,d.b,d.c,d.d,d.e,d.f),1===h&&(s.save(),s.clearRect(0,0,n.width,n.height),s.beginPath(),s.rect(t,i,o,l),s.clip(),s.drawImage(n.nativeCanvas,0,0,n.width,n.height,0,0,n.displayWidth,n.displayHeight),s.restore()),r.nativeContext=s,n.nativeCanvas=a}a?r.save():r.highPerformanceSave();const p=r.baseGlobalAlpha;r.baseGlobalAlpha*=s;const y=r.modelMatrix;if(r.camera){const t=Pn(e,null==o?void 0:o.theme).group,i=rs.allocate(),l=rs.allocate();bh(l,e,t),is(i,y||i,l),r.modelMatrix=i,rs.free(l),r.setTransform(1,0,0,1,0,0,!0)}else r.transformFromMatrix(e.transMatrix,!0);r.beginPath(),o.skipDraw?this.drawShape(e,r,0,0,i,o,()=>!1,()=>!1):this.drawShape(e,r,0,0,i,null,null,null);const{scrollX:u,scrollY:g}=e.attribute;let f;if((u||g)&&r.translate(u,g),o&&o.renderInGroup&&(f=o.renderInGroup(null===(l=o.renderInGroupParams)||void 0===l?void 0:l.skipSort,e,i,null===(n=o.renderInGroupParams)||void 0===n?void 0:n.nextM)),r.modelMatrix!==y&&rs.free(r.modelMatrix),r.modelMatrix=y,r.baseGlobalAlpha=p,h>0){const{x:t,y:i,width:o,height:l}=e.attribute,n=r.nativeContext,a=r.canvas.nativeCanvas;d.save(),d.setTransform(r.dpr,0,0,r.dpr,0,0,!0),1===h&&n.rect(t,i,o,l),d.drawImage(a,0,0,a.width,a.height,0,0,r.canvas.displayWidth,r.canvas.displayHeight);const s=n.getTransform();d.setTransform(s.a,s.b,s.c,s.d,s.e,s.f),r.nativeContext=d,r.canvas.nativeCanvas=c,d.restore()}f&&f.then?f.then(()=>{a?r.restore():r.highPerformanceRestore()}):a?r.restore():r.highPerformanceRestore()}};Wc=Bc([Q(),Oc(0,q(ge)),Oc(0,ee(ah)),Mc("design:paramtypes",[Object])],Wc);const Rc=Symbol.for("IncrementalDrawContribution"),Hc=Symbol.for("ArcRender"),Pc=Symbol.for("AreaRender"),Ec=Symbol.for("GraphicRender"),Dc=Symbol.for("GroupRender"),Ic=Symbol.for("LineRender"),jc=Symbol.for("PathRender"),Nc=Symbol.for("PolygonRender"),Gc=Symbol.for("RectRender"),Uc=Symbol.for("SymbolRender"),Vc=Symbol.for("TextRender"),Yc=Symbol.for("RichTextRender"),Zc=Symbol.for("DrawContribution"),Xc=(e,t,i,o)=>{let l,n=!1,r=!1;if(t.forEachChildren(e=>(n=e.numberType===Pa,!n)),t.forEachChildren(e=>(r=!!e.findFace,!r)),n){const e=t.getChildren(),a=[...e];a.sort((e,t)=>{var i,o,l,n;let r=(null!==(o=null!==(i=e.attribute.startAngle)&&void 0!==i?i:0+e.attribute.endAngle)&&void 0!==o?o:0)/2,a=(null!==(n=null!==(l=t.attribute.startAngle)&&void 0!==l?l:0+t.attribute.endAngle)&&void 0!==n?n:0)/2;for(;r<0;)r+=Bt;for(;a<0;)a+=Bt;return a-r}),a.forEach(e=>{e._next=null,e._prev=null}),t.removeAllChild(),t.update(),a.forEach(e=>{t.appendChild(e)}),o.hack_pieFace="outside",l=i(n,r),l&&l.graphic||(o.hack_pieFace="inside",l=i(n,r)),l&&l.graphic||(o.hack_pieFace="top",l=i(n,r)),t.removeAllChild(),e.forEach(e=>{e._next=null,e._prev=null}),e.forEach(e=>{t.appendChild(e)})}else if(r){const o=t.getChildren(),a=o.map(t=>({ave_z:t.findFace().vertices.map(i=>{var o;return e.view(i[0],i[1],null!==(o=i[2]+t.attribute.z)&&void 0!==o?o:0)[2]}).reduce((e,t)=>e+t,0),g:t}));a.sort((e,t)=>t.ave_z-e.ave_z),t.removeAllChild(),a.forEach(e=>{e.g._next=null,e.g._prev=null}),t.update(),a.forEach(e=>{t.add(e.g)}),l=i(n,r),t.removeAllChild(),o.forEach(e=>{e._next=null,e._prev=null}),t.update(),o.forEach(e=>{t.add(e)})}else l=i(n,r);return l};var $c=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Kc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const qc=Symbol.for("DrawItemInterceptor"),Jc=new yi,Qc=new yi;class ep{constructor(){this.order=1}afterDrawItem(e,t,i,o,l){return null==e.attribute.shadowRootIdx&&e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx<0||(e.attribute.shadowRootIdx>0||!e.attribute.shadowRootIdx||e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx>0)&&this.drawItem(e,t,i,o,l),!1}beforeDrawItem(e,t,i,o,l){return null==e.attribute.shadowRootIdx&&e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx>0||(e.attribute.shadowRootIdx<0||e.shadowRoot&&e.shadowRoot.attribute.shadowRootIdx<0)&&this.drawItem(e,t,i,o,l),!1}drawItem(e,t,i,o,l){if(!e.shadowRoot)return!1;const{context:n}=i;if(n.highPerformanceSave(),n.transformFromMatrix(e.transMatrix,!0),o.dirtyBounds&&o.backupDirtyBounds){Jc.copy(o.dirtyBounds),Qc.copy(o.backupDirtyBounds);const t=e.globalTransMatrix.getInverse();o.dirtyBounds.copy(o.backupDirtyBounds).transformWithMatrix(t),o.backupDirtyBounds.copy(o.dirtyBounds)}return o.renderGroup(e.shadowRoot,i,ns.allocate(1,0,0,1,0,0)),n.highPerformanceRestore(),o.dirtyBounds&&o.backupDirtyBounds&&(o.dirtyBounds.copy(Jc),o.backupDirtyBounds.copy(Qc)),!0}}class tp{constructor(){this.order=1}afterDrawItem(e,t,i,o,l){return e.attribute._debug_bounds&&this.drawItem(e,t,i,o,l),!1}drawItem(e,t,i,o,l){if(!e.attribute._debug_bounds)return!1;const{context:n}=i;n.highPerformanceSave(),e.parent&&n.setTransformFromMatrix(e.parent.globalTransMatrix,!0),e.glyphHost&&e.glyphHost.parent&&n.setTransformFromMatrix(e.glyphHost.parent.globalTransMatrix,!0);const r=e.AABBBounds;return!0!==e.attribute._debug_bounds&&e.attribute._debug_bounds(n,e),n.strokeRect(r.x1,r.y1,r.width(),r.height()),n.highPerformanceRestore(),!0}}let ip=class{constructor(){this.order=1,this.interceptors=[new ep,new lp,new op,new tp]}afterDrawItem(e,t,i,o,l){if((!e.in3dMode||i.in3dInterceptor)&&!e.shadowRoot&&!e.attribute._debug_bounds&&!(e.baseGraphic||e.attribute.globalZIndex||e.interactiveGraphic))return!1;for(let n=0;n<this.interceptors.length;n++)if(this.interceptors[n].afterDrawItem&&this.interceptors[n].afterDrawItem(e,t,i,o,l))return!0;return!1}beforeDrawItem(e,t,i,o,l){if((!e.in3dMode||i.in3dInterceptor)&&!e.shadowRoot&&!e.attribute._debug_bounds&&!(e.baseGraphic||e.attribute.globalZIndex||e.interactiveGraphic))return!1;for(let n=0;n<this.interceptors.length;n++)if(this.interceptors[n].beforeDrawItem&&this.interceptors[n].beforeDrawItem(e,t,i,o,l))return!0;return!1}};ip=$c([Q(),Kc("design:paramtypes",[])],ip);class op{constructor(){this.order=1}beforeDrawItem(e,t,i,o,l){return!this.processing&&(e.baseGraphic?this.beforeDrawInteractive(e,t,i,o,l):this.beforeSetInteractive(e,t,i,o,l))}beforeSetInteractive(e,t,i,o,l){let n=e.interactiveGraphic;if(e.attribute.globalZIndex){n||(n=e.clone(),e.interactiveGraphic=n,n.baseGraphic=e),n.setAttributes({globalZIndex:0,zIndex:e.attribute.globalZIndex},!1,{skipUpdateCallback:!0}),i.stage.tryInitInteractiveLayer();const t=i.stage.getLayer("_builtin_interactive");return t&&this.getShadowRoot(t).add(n),!0}if(n){i.stage.tryInitInteractiveLayer();const t=i.stage.getLayer("_builtin_interactive");t&&this.getShadowRoot(t).removeChild(n),e.interactiveGraphic=null,n.baseGraphic=null}return!1}beforeDrawInteractive(e,t,i,o,l){const n=e.baseGraphic;let r=!!n.stage,a=n.parent;for(;r&&a&&a.stage!==a;)r=!!a.stage,a=a.parent;if(!r){const t=i.stage.getLayer("_builtin_interactive");return t&&this.getShadowRoot(t).removeChild(e),!0}if(n){this.processing=!0;const{context:e}=i;return e.highPerformanceSave(),e.setTransformFromMatrix(n.parent.globalTransMatrix,!0),n.isContainer?o.renderGroup(n,i,n.parent.globalTransMatrix):o.renderItem(n,i),e.highPerformanceRestore(),this.processing=!1,!0}return!1}getShadowRoot(e){var t;let i=e.getElementById("_interactive_group");return i||(i=hd.CreateGraphic("group",{}),i.id="_interactive_group",e.add(i)),null!==(t=i.shadowRoot)&&void 0!==t?t:i.attachShadow()}}class lp{constructor(){this.order=1}beforeDrawItem(e,t,i,o,l){if(!e.in3dMode||i.in3dInterceptor)return!1;i.in3dInterceptor=!0;const{context:n,stage:r}=t.drawParams;n.canvas,n.save(),this.initCanvasCtx(n),n.camera=r.camera;const a=n.currentMatrix;a.a/=n.dpr,a.b/=n.dpr,a.c/=n.dpr,a.d/=n.dpr,a.e/=n.dpr,a.f/=n.dpr;const s=rs.allocate();ts(s,a);const h=n.modelMatrix;if(h){if(s){const e=rs.allocate();n.modelMatrix=is(e,h,s)}}else n.modelMatrix=s;return n.setTransform(1,0,0,1,0,0,!0),e.isContainer?Xc(n,e,(t,l)=>o.renderGroup(e,i,e.parent.globalTransMatrix,!t&&l),i):o.renderItem(e,i),n.camera=null,n.restore(),n.modelMatrix!==h&&rs.free(n.modelMatrix),n.modelMatrix=h,i.in3dInterceptor=!1,!0}initCanvasCtx(e){e.setTransformForCurrent()}}var np=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},rp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ap=function(e,t){return function(i,o){t(i,o,e)}};const sp=Symbol.for("RenderService");let hp=class{constructor(e){this.drawContribution=e}prepare(e){e&&this.renderTreeRoots.forEach(t=>{this._prepare(t,e)})}_prepare(e,t){e.forEachChildren(e=>{this._prepare(e,t)}),e.update({bounds:t,trans:!0})}prepareRenderList(){}beforeDraw(e){}draw(e){this.drawContribution.draw(this,Object.assign({},this.drawParams))}afterDraw(e){this.drawContribution.afterDraw&&this.drawContribution.afterDraw(this,Object.assign({},this.drawParams))}reInit(){this.drawContribution.reInit()}render(e,t){this.renderTreeRoots=e,this.drawParams=t;const i=t.updateBounds;this.prepare(i),this.prepareRenderList(),this.beforeDraw(t),this.draw(t),this.afterDraw(t),this.drawParams=null}};hp=np([Q(),ap(0,q(Zc)),rp("design:paramtypes",[Object])],hp);const dp=new I(e=>{e(sp).to(hp)}),cp=Symbol.for("PickerService"),pp=Symbol.for("GlobalPickerService"),yp=Symbol.for("PickItemInterceptor"),up=Symbol.for("PickServiceInterceptor");var gp=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let fp=class{constructor(){this.order=1}afterPickItem(e,t,i,o,l){if(e.graphic){let t=e.graphic;for(;t.parent;)t=t.parent;t.shadowHost&&(e.params={shadowTarget:e.graphic},e.graphic=t.shadowHost)}return e}};fp=gp([Q()],fp);let kp=class{constructor(){this.order=1}afterPickItem(e,t,i,o,l){return e.attribute.shadowRootIdx>0||!e.attribute.shadowRootIdx?this._pickItem(e,t,i,o,l):null}beforePickItem(e,t,i,o,l){return e.attribute.shadowRootIdx<0?this._pickItem(e,t,i,o,l):null}_pickItem(e,t,i,o,l){var n;if(!e.shadowRoot)return null;const{parentMatrix:r}=l||{};if(!r)return null;const a=t.pickContext;a.highPerformanceSave();const s=null===(n=Pn(e))||void 0===n?void 0:n[e.type],{shadowPickMode:h=(null==s?void 0:s.shadowPickMode)}=e.attribute,d=e.shadowRoot,c=ns.allocateByObj(r),p=new Gt(c.a*i.x+c.c*i.y+c.e,c.b*i.x+c.d*i.y+c.f),y=t.pickGroup(d,p,c,o);return a.highPerformanceRestore(),!y.graphic&&y.group&&"full"===h&&(y.graphic=y.group),y}};kp=gp([Q()],kp);let mp=class{constructor(){this.order=1}beforePickItem(e,t,i,o,l){const n=e.baseGraphic;if(n&&n.parent){const e=new Gt(i.x,i.y),l=t.pickContext;l.highPerformanceSave();const r=n.parent.globalTransMatrix;r.transformPoint(e,e);const a=n.isContainer?t.pickGroup(n,e.clone(),r,o):t.pickItem(n,e.clone(),r,o);return l.highPerformanceRestore(),a}return null}};mp=gp([Q()],mp);let bp=class{constructor(){this.order=1}beforePickItem(e,t,i,o,l){if(!e.in3dMode||o.in3dInterceptor)return null;const n=t.pickContext,r=e.stage;if(!n||!r)return null;if(o.in3dInterceptor=!0,n.save(),this.initCanvasCtx(n),n.camera=r.camera,e.isContainer){const r=Xc(n,e,()=>t.pickGroup(e,i,l.parentMatrix,o),o);return n.camera=null,o.in3dInterceptor=!1,n.restore(),r}return n.restore(),null}initCanvasCtx(e){e.setTransformForCurrent()}};bp=gp([Q()],bp);const vp=new I((e,t,i)=>{i(cp)||(e(pp).toSelf(),e(cp).toService(pp)),e(bp).toSelf().inSingletonScope(),e(yp).toService(bp),e(kp).toSelf().inSingletonScope(),e(yp).toService(kp),e(mp).toSelf().inSingletonScope(),e(yp).toService(mp),ke(e,yp),e(fp).toSelf().inSingletonScope(),e(up).toService(fp),ke(e,up)}),Cp=new I(e=>{e(Xa).to(vh),e($a).toConstantValue(hd)}),Sp=Symbol.for("AutoEnablePlugins"),xp=Symbol.for("PluginService");var _p=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},wp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lp=function(e,t){return function(i,o){t(i,o,e)}};let Fp=class{constructor(e){this.autoEnablePlugins=e,this.onStartupFinishedPlugin=[],this.onRegisterPlugin=[],this.actived=!1}active(e,t){this.stage=e,this.actived=!0;const{pluginList:i}=t;i&&Dl.isBound(Sp)&&this.autoEnablePlugins.getContributions().forEach(e=>{i.includes(e.name)&&this.register(e)})}findPluginsByName(e){const t=[];return this.onStartupFinishedPlugin.forEach(i=>{i.name===e&&t.push(i)}),this.onRegisterPlugin.forEach(i=>{i.name===e&&t.push(i)}),t}register(e){"onStartupFinished"===e.activeEvent?this.onStartupFinishedPlugin.push(e):"onRegister"===e.activeEvent&&(this.onRegisterPlugin.push(e),e.activate(this))}unRegister(e){"onStartupFinished"===e.activeEvent?this.onStartupFinishedPlugin.splice(this.onStartupFinishedPlugin.indexOf(e),1):"onRegister"===e.activeEvent&&this.onRegisterPlugin.splice(this.onStartupFinishedPlugin.indexOf(e),1),e.deactivate(this)}release(...e){this.onStartupFinishedPlugin.forEach(e=>{e.deactivate(this)}),this.onStartupFinishedPlugin=[],this.onRegisterPlugin.forEach(e=>{e.deactivate(this)}),this.onRegisterPlugin=[]}};Fp=_p([Q(),Lp(0,q(ge)),Lp(0,ee(Sp)),wp("design:paramtypes",[Object])],Fp);const Tp=new I(e=>{e(xp).to(Fp),function(e,t){e(ge).toDynamicValue(({container:e})=>new fe(t,e)).whenTargetNamed(t)}(e,Sp)}),Ap=new I(e=>{ke(e,Ce)}),zp=new I(e=>{e(Pl).to(El).inSingletonScope(),ke(e,Pl)});var Bp=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Mp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Op=class{constructor(){this.type="static",this.offscreen=!1,this.global=xe.global}setDpr(e){this.canvas.dpr=e}init(e,t,i){if(this.layer=e,this.window=t,i.main)this.main=!0,this.context=t.getContext(),this.canvas=this.context.getCanvas();else{let e;this.main=!1,i.canvasId&&(e=this.global.getElementById(i.canvasId)),e||(e=this.global.createCanvas({width:t.width,height:t.height})),e.style&&(e.style["pointer-events"]="none");const o=t.getContext().getCanvas().nativeCanvas,l=Nl({nativeCanvas:e,width:t.width,height:t.height,dpr:t.dpr,id:i.canvasId,canvasControled:!0,container:t.getContainer(),x:o.offsetLeft,y:o.offsetTop});l.applyPosition(),this.canvas=l,this.context=l.getContext()}}resize(e,t){this.canvas.resize(e,t)}resizeView(e,t){}render(e,t,i){var o;if(!this.main){const e=this.window.getContext().getCanvas().nativeCanvas;!e||this.canvas.x===e.offsetLeft&&this.canvas.y===e.offsetTop||(this.canvas.x=e.offsetLeft,this.canvas.y=e.offsetTop,this.canvas.applyPosition())}t.renderService.render(e,Object.assign(Object.assign({context:this.context,clear:null!==(o=t.background)&&void 0!==o?o:"#ffffff"},t),i))}merge(e){e.forEach(e=>{const t=e.getContext().canvas.nativeCanvas;this.context.drawImage(t,0,0)})}prepare(e,t){}drawTo(e,t,i){var o;const l=e.getContext();i.renderService.render(t,Object.assign(Object.assign({context:l},i),{clear:i.clear?null!==(o=i.background)&&void 0!==o?o:"#fff":void 0}))}getContext(){return this.context}release(){this.canvas.release()}};Op=Bp([Q(),Mp("design:paramtypes",[])],Op);const Wp=new I(e=>{e(Op).toSelf(),e(Ns).toService(Op)});var Rp=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(rH){n(rH)}}function a(e){try{s(o.throw(e))}catch(rH){n(rH)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};function Hp(e,t,i){const o={},l=[];return e.forEachChildren(e=>{const{zIndex:i=t}=e.attribute;o[i]?o[i].push(e):(o[i]=[e],l.push(i))},i),l.sort((e,t)=>i?t-e:e-t),{childMap:o,zIdxArray:l}}function Pp(e,t,i,o=!1,l=!1){let n=!1;if(l)n=!0;else{let i;e.forEachChildren((e,o)=>{const{zIndex:l=t}=e.attribute;if(0===o)i=l;else if(i!==l)return n=!0,!0;return!1},o)}if(n){const{childMap:n,zIdxArray:r}=Hp(e,t,o);let a=!1;for(let e=0;e<r.length&&!a;e++){const t=n[r[e]];l&&t.sort((e,t)=>{var i,l;return(o?-1:1)*((null!==(i=t.attribute.z)&&void 0!==i?i:0)-(null!==(l=e.attribute.z)&&void 0!==l?l:0))});for(let e=0;e<t.length;e++)if(i(t[e],e)){a=!0;break}}}else e.forEachChildren(i,o)}function Ep(e,t,i,o=!1){return Rp(this,void 0,void 0,function*(){yield e.forEachChildrenAsync(i,o)})}function Dp(e,t,i,o=!1){let l=!1;e.forEachChildren((e,t)=>{const{zIndex:o=i}=e.attribute;if(0===t);else if(void 0!==o)return l=!0,!0;return!1},o);let n=null,r=!1;if(l){const{childMap:l,zIdxArray:a}=Hp(e,i,o);let s=!1;for(let e=0;e<a.length&&!s;e++){const i=l[a[e]];for(let e=0;e<i.length;e++){if(r){s=!0,n=i[e];break}i[e]._uid!==t||(r=!0)}}}else e.forEachChildren(e=>r?(n=e,!0):(e._uid===t&&(r=!0),!1),o);return n}var Ip=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},jp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Np=function(e,t){return function(i,o){t(i,o,e)}};let Gp=class{constructor(e,t){this.contributions=e,this.drawItemInterceptorContributions=t,this._renderInGroup=(e,t,i,o)=>{var l;e?t.forEachChildren(e=>{i.break||(e.isContainer?this.renderGroup(e,i,o):this.renderItem(e,i))}):Pp(t,ol.zIndex,e=>{i.break||(e.isContainer?this.renderGroup(e,i,o):this.renderItem(e,i))},!1,!!(null===(l=i.context)||void 0===l?void 0:l.camera))},this.currentRenderMap=new Map,this.defaultRenderMap=new Map,this.styleRenderMap=new Map,this.dirtyBounds=new pi,this.backupDirtyBounds=new pi,this.global=xe.global,this.layerService=xe.layerService,Ve(this.contributions)||(this.contributions=[this.contributions]),this.init()}reInit(){this.init(),this.contributions.forEach(e=>{e.reInit()})}init(){this.contributions.forEach(e=>{if(e.style){const t=this.styleRenderMap.get(e.style)||new Map;t.set(e.numberType,e),this.styleRenderMap.set(e.style,t)}else this.defaultRenderMap.set(e.numberType,e)}),this.InterceptorContributions=this.drawItemInterceptorContributions.getContributions().sort((e,t)=>e.order-t.order)}prepareForDraw(e,t){t.updateBounds?this.useDirtyBounds=!0:this.useDirtyBounds=!t.stage.params.optimize.disableCheckGraphicWidthOutRange}draw(e,t){var i;this.prepareForDraw(e,t),t.drawContribution=this,this.currentRenderMap=this.styleRenderMap.get(t.renderStyle)||this.defaultRenderMap,this.currentRenderService=e;const{context:o,stage:l,viewBox:n,transMatrix:r}=t;if(!o)return;const a=this.dirtyBounds.setValue(0,0,n.width(),n.height());if(l.dirtyBounds&&!l.dirtyBounds.empty()){const e=function(e,t,i){if(null===e)return t;if(null===t)return e;const{x11:o,x12:l,y11:n,y12:r,x21:a,x22:s,y21:h,y22:d}=Jt(e,t,i);return o>=s||l<=a||n>=d||r<=h?{x1:0,y1:0,x2:0,y2:0}:{x1:Math.max(o,a),y1:Math.max(n,h),x2:Math.min(l,s),y2:Math.min(r,d)}}(a,l.dirtyBounds,!1);a.x1=Math.floor(e.x1),a.y1=Math.floor(e.y1),a.x2=Math.ceil(e.x2),a.y2=Math.ceil(e.y2)}const s=o.dpr%1;(s||.5!==s)&&(a.x1=Math.floor(a.x1*o.dpr)/o.dpr,a.y1=Math.floor(a.y1*o.dpr)/o.dpr,a.x2=Math.ceil(a.x2*o.dpr)/o.dpr,a.y2=Math.ceil(a.y2*o.dpr)/o.dpr),this.backupDirtyBounds.copy(a),o.reset(!1),o.save(),o.setClearMatrix(r.a,r.b,r.c,r.d,r.e,r.f),o.clearMatrix(!1),o.translate(n.x1,n.y1,!0),o.beginPath(),o.rect(a.x1,a.y1,a.width(),a.height()),o.clip(),l.camera&&(this.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),this.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0)),this.clearScreen(e,o,t),(null===(i=e.drawParams)||void 0===i?void 0:i.stage)&&e.drawParams.stage.hooks.afterClearScreen.call(e.drawParams),e.renderTreeRoots.sort((e,t)=>{var i,o;return(null!==(i=e.attribute.zIndex)&&void 0!==i?i:ol.zIndex)-(null!==(o=t.attribute.zIndex)&&void 0!==o?o:ol.zIndex)}).forEach(e=>{e.isContainer?this.renderGroup(e,t,ns.allocate(1,0,0,1,0,0)):this.renderItem(e,t)}),o.restore(),o.draw()}doRegister(){throw new Error("暂不支持")}_findNextGraphic(e){let t=e.parent,i=e._uid;for(;t;){const e=Dp(t,i,ol.zIndex);if(e)return e;i=t._uid,t=t.parent}return null}renderGroup(e,t,i,o){if(t.break||!1===e.attribute.visibleAll)return;if(e.incremental&&(null==t.startAtId||t.startAtId===e._uid))return t.break=!0,void this._increaseRender(e,t);if(this.useDirtyBounds&&!Qt(e.AABBBounds,this.dirtyBounds,!1)&&"empty"!==e.attribute.boundsMode)return;let l,n=i;if(this.useDirtyBounds){l=fc.allocateByObj(this.dirtyBounds);const t=e.transMatrix;n=ns.allocateByObj(i).multiply(t.a,t.b,t.c,t.d,t.e,t.f),this.dirtyBounds.copy(this.backupDirtyBounds).transformWithMatrix(n.getInverse())}t.isGroupScroll=!(!e.attribute.scrollX&&!e.attribute.scrollY),this.renderItem(e,t,{renderInGroupParams:{skipSort:o,nextM:n},renderInGroup:this._renderInGroup}),this.useDirtyBounds&&(this.dirtyBounds.copy(l),fc.free(l),ns.free(n))}_increaseRender(e,t){const{layer:i,stage:o}=t,{subLayers:l}=i;let n=l.get(e._uid);n||(n={layer:this.layerService.createLayer(o),zIndex:l.size,group:e},l.set(e._uid,n));const r=n.layer.getNativeHandler().getContext(),a=n.drawContribution||Dl.get(Rc);a.dirtyBounds.setValue(-1/0,-1/0,1/0,1/0),a.backupDirtyBounds.setValue(-1/0,-1/0,1/0,1/0),a.draw(this.currentRenderService,Object.assign(Object.assign({},t),{drawContribution:a,clear:"transparent",layer:n.layer,context:r,startAtId:e._uid,break:!1})),n.drawContribution=a;const s=this._findNextGraphic(e);if(s)if(s.isContainer&&s.incremental)this._increaseRender(s,t);else{let e=l.get(s._uid);e||(e={layer:this.layerService.createLayer(o),zIndex:l.size},l.set(s._uid,e));const i=e.layer.getNativeHandler().getContext();this.draw(this.currentRenderService,Object.assign(Object.assign({},t),{drawContribution:a,clear:"transparent",layer:e.layer,context:i,startAtId:s._uid,break:!1}))}}getRenderContribution(e){let t;return t||(t=this.selectRenderByNumberType(e.numberType,e)),t||(t=this.selectRenderByType(e.type)),t}renderItem(e,t,i){if(this.InterceptorContributions.length)for(let a=0;a<this.InterceptorContributions.length;a++){const o=this.InterceptorContributions[a];if(o.beforeDrawItem&&o.beforeDrawItem(e,this.currentRenderService,t,this,i))return}const o=this.getRenderContribution(e);if(!o)return;let l,n=!1;if(t.isGroupScroll){const{scrollX:t=0,scrollY:i=0}=e.parent.attribute;n=!0,this.scrollMatrix||(this.scrollMatrix=ns.allocate(1,0,0,1,0,0)),this.scrollMatrix.translate(-t,-i)}if(n&&(l=this.dirtyBounds.clone().transformWithMatrix(this.scrollMatrix)),this.useDirtyBounds&&!e.isContainer&&"empty"!==e.attribute.boundsMode&&!Qt(e.AABBBounds,null!=l?l:this.dirtyBounds,!1)){if(n&&e.parent){const{scrollX:t=0,scrollY:i=0}=e.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(t,i)}return}const r=null!=t.startAtId&&e._uid!==t.startAtId;if(e._uid===t.startAtId&&(t.startAtId=null),i&&(i.skipDraw=r),r?e.isContainer&&o.draw(e,this.currentRenderService,t,i):o.draw(e,this.currentRenderService,t,i),n&&e.parent){const{scrollX:t=0,scrollY:i=0}=e.parent.attribute;this.scrollMatrix&&this.scrollMatrix.translate(t,i)}if(this.InterceptorContributions.length)for(let a=0;a<this.InterceptorContributions.length;a++){const i=this.InterceptorContributions[a];if(i.afterDrawItem&&i.afterDrawItem(e,this.currentRenderService,t,this))return}}selectRenderByType(e){return mt.getInstance().warn("未知错误，不应该走到这里"),null}selectRenderByNumberType(e,t){let i;if(t.attribute.renderStyle){const o=this.styleRenderMap.get(t.attribute.renderStyle);i=o&&o.get(e)}return i||this.currentRenderMap.get(e)||this.defaultRenderMap.get(e)}clearScreen(e,t,i){var o,l,n;const{clear:r,viewBox:a}=i,s=a.width(),h=a.height();if(r){t.clearRect(0,0,s,h),(null===(o=e.drawParams)||void 0===o?void 0:o.stage)&&e.drawParams.stage.hooks.afterClearRect.call(e.drawParams);const i=null===(l=e.drawParams)||void 0===l?void 0:l.stage;if(i&&(t.globalAlpha=null!==(n=i.attribute.opacity)&&void 0!==n?n:1),i&&i.backgroundImg&&i.resources){const e=i.resources.get(r);e&&"success"===e.state&&e.data&&t.drawImage(e.data,0,0,s,h)}else t.fillStyle=Sl(t,r,{AABBBounds:{x1:0,y1:0,x2:0+s,y2:0+h}},0,0),t.fillRect(0,0,s,h)}}afterDraw(e,t){}};Gp=Ip([Q(),Np(0,J(Ec)),Np(1,q(ge)),Np(1,ee(qc)),jp("design:paramtypes",[Array,Object])],Gp);var Up=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Vp=class extends Xd{constructor(){super(...arguments),this.numberType=ja}drawShape(e,t,i,o,l,n,r,a){if(e.incremental&&l.multiGraphicOptions){const{startAtIdx:t,length:n}=l.multiGraphicOptions,{segments:s=[]}=e.attribute;if(t>s.length)return;const h=Pn(e).line,{fill:d=h.fill,stroke:c=h.stroke,opacity:p=h.opacity,fillOpacity:y=h.fillOpacity,strokeOpacity:u=h.strokeOpacity,lineWidth:g=h.lineWidth,visible:f=h.visible}=e.attribute,k=Js(p,y,d),m=eh(p,u),b=Ks(d),v=qs(c,g);if(!e.valid||!f)return;if(!b&&!v)return;if(!(k||m||r||a))return;const{context:C}=l;for(let l=t;l<t+n;l++)this.drawIncreaseSegment(e,C,s[l-1],s[l],e.attribute.segments[l],[h,e.attribute],i,o)}else super.drawShape(e,t,i,o,l,n,r,a)}drawIncreaseSegment(e,t,i,o,l,n,r,a){o&&(t.beginPath(),function(e,t,i,o){const{offsetX:l=0,offsetY:n=0}=o||{},r=t?t.points[t.points.length-1]:i.points[0];e.moveTo(r.x+l,r.y+n),i.points.forEach(t=>{!1!==t.defined?e.lineTo(t.x+l,t.y+n):e.moveTo(t.x+l,t.y+n)})}(t.nativeContext,i,o,{offsetX:r,offsetY:a}),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,l,n),t.setStrokeStyle(e,l,r,a,n),t.stroke())}};Vp=Up([Q()],Vp);var Yp=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Zp=class extends tc{constructor(){super(...arguments),this.numberType=Ea}drawShape(e,t,i,o,l,n,r){if(e.incremental&&l.multiGraphicOptions){const{startAtIdx:n,length:a}=l.multiGraphicOptions,{segments:s=[]}=e.attribute;if(n>s.length)return;const h=Pn(e).area,{fill:d=h.fill,fillOpacity:c=h.fillOpacity,opacity:p=h.opacity,visible:y=h.visible}=e.attribute,u=Js(p,c,d),g=Ks(d);if(!e.valid||!y)return;if(!g)return;if(!u&&!r)return;for(let l=n;l<n+a;l++)this.drawIncreaseSegment(e,t,s[l-1],s[l],e.attribute.segments[l],[h,e.attribute],i,o)}else super.drawShape(e,t,i,o,l,n,r)}drawIncreaseSegment(e,t,i,o,l,n,r,a){o&&(t.beginPath(),function(e,t,i,o){const{offsetX:l=0,offsetY:n=0}=o||{},{points:r}=i,a=[];for(let s=0;s<r.length;s++)r[s].defined;a.push(r),a.forEach((i,o)=>{var r,a,s,h;const d=t&&0===o?t.points[t.points.length-1]:i[0];e.moveTo(d.x+l,d.y+n),i.forEach(t=>{!1!==t.defined?e.lineTo(t.x+l,t.y+n):e.moveTo(t.x+l,t.y+n)});for(let t=i.length-1;t>=0;t--){const o=i[t];e.lineTo(null!==(r=o.x1)&&void 0!==r?r:o.x,null!==(a=o.y1)&&void 0!==a?a:o.y)}e.lineTo(null!==(s=d.x1)&&void 0!==s?s:d.x,null!==(h=d.y1)&&void 0!==h?h:d.y),e.closePath()})}(t.camera?t:t.nativeContext,i,o,{offsetX:r,offsetY:a}),t.setShadowBlendStyle&&t.setShadowBlendStyle(e,l,n),t.setCommonStyle(e,l,r,a,n),t.fill())}};Zp=Yp([Q()],Zp);var Xp,$p=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Kp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qp=function(e,t){return function(i,o){t(i,o,e)}},Jp=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(rH){n(rH)}}function a(e){try{s(o.throw(e))}catch(rH){n(rH)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};!function(e){e[e.NORMAL=0]="NORMAL",e[e.STOP=1]="STOP"}(Xp||(Xp={}));let Qp=class extends Gp{constructor(e,t,i,o){super(e,o),this.contributions=e,this.lineRender=t,this.areaRender=i,this.drawItemInterceptorContributions=o,this.rendering=!1,this.currFrameStartAt=0,this.currentIdx=0,this.status=Xp.NORMAL,this.checkingForDrawPromise=null,this.hooks={completeDraw:new ve([])},this.defaultRenderMap.set(this.lineRender.numberType,this.lineRender),this.defaultRenderMap.set(this.areaRender.numberType,this.areaRender)}draw(e,t){return Jp(this,void 0,void 0,function*(){if(this.checkingForDrawPromise)return;this.lastRenderService=e,this.lastDrawContext=t,this.checkingForDrawPromise=this.checkForDraw(t);const i=yield this.checkingForDrawPromise;if(this.checkingForDrawPromise=null,i)return;this.currentRenderService=e;const{context:o,viewBox:l}=t;o&&(o.inuse=!0,o.clearMatrix(),o.setTransformForCurrent(!0),o.save(),t.restartIncremental&&this.clearScreen(this.currentRenderService,o,t),o.translate(l.x1,l.y1,!0),o.save(),e.renderTreeRoots.sort((e,t)=>{var i,o;return(null!==(i=e.attribute.zIndex)&&void 0!==i?i:ol.zIndex)-(null!==(o=t.attribute.zIndex)&&void 0!==o?o:ol.zIndex)}).forEach(e=>{this.renderGroup(e,t)}),this.hooks.completeDraw.tap("top-draw",()=>{o.restore(),o.restore(),o.draw(),o.inuse=!1,this.rendering=!1}))})}_increaseRender(e,t){return Jp(this,void 0,void 0,function*(){this.rendering=!0,yield this._renderIncrementalGroup(e,t)})}_renderIncrementalGroup(e,t){return Jp(this,void 0,void 0,function*(){this.count=e.count,yield new Promise(i=>{this.renderItem(e,t,{drawingCb:()=>Jp(this,void 0,void 0,function*(){if(2!==e.count)yield Ep(e,ol.zIndex,(i,o)=>{if(this.status===Xp.STOP)return!0;if(i.isContainer)return!1;if(o<this.currentIdx)return!1;const l=this.currFrameStartAt+e.incremental;return o<l&&(this.currentIdx=o+1,this.renderItem(i,t)),o===l-1&&(this.currFrameStartAt=this.currentIdx,this.waitToNextFrame())}),i(!1);else{const o=e.getChildAt(0);if(o.incremental&&o.attribute.segments)for(o.incrementalAt||(o.incrementalAt=0);o.incrementalAt<o.attribute.segments.length;)t.multiGraphicOptions={startAtIdx:o.incrementalAt,length:o.incremental},this.renderItem(o,t),o.incrementalAt+=o.incremental,yield this.waitToNextFrame();else this.renderItem(o,t);i(!1)}})})}),this.hooks.completeDraw.call()})}waitToNextFrame(){return Jp(this,void 0,void 0,function*(){return new Promise(e=>{this.global.getRequestAnimationFrame()(()=>{e(!1)})})})}checkForDraw(e){return Jp(this,void 0,void 0,function*(){let t=this.rendering;return e.restartIncremental&&(t=!1,yield this.forceStop(),this.resetToInit()),t})}forceStop(){return Jp(this,void 0,void 0,function*(){this.rendering&&(this.status=Xp.STOP,yield new Promise(e=>{this.hooks.completeDraw.tap("stopCb",()=>{this.status=Xp.NORMAL,this.hooks.completeDraw.taps=this.hooks.completeDraw.taps.filter(e=>"stopCb"!==e.name),e(!1)})}))})}resetToInit(){this.currFrameStartAt=0,this.currentIdx=0}renderGroup(e,t){return Jp(this,void 0,void 0,function*(){if(!t.break&&!1!==e.attribute.visibleAll)return e.incremental&&t.startAtId===e._uid?(yield this._increaseRender(e,t),void(t.break=!0)):void(yield new Promise(i=>{this.renderItem(e,t,{drawingCb:()=>Jp(this,void 0,void 0,function*(){yield Ep(e,ol.zIndex,e=>Jp(this,void 0,void 0,function*(){t.break||e.isContainer&&(yield this.renderGroup(e,t))})),i(!1)})})}))})}};Qp=$p([Q(),qp(0,J(Ec)),qp(1,q(Vp)),qp(2,q(Zp)),qp(3,q(ge)),qp(3,ee(qc)),Kp("design:paramtypes",[Array,Object,Object,Object])],Qp);const ey=new I(e=>{e(gd).toSelf().inSingletonScope(),e(vd).toSelf().inSingletonScope(),e(Zc).to(Gp),e(Rc).to(Qp),e(Dc).to(Wc).inSingletonScope(),e(Ec).toService(Dc),ke(e,ah),e(kd).toSelf().inSingletonScope(),ke(e,yh),ke(e,Ec),e(ip).toSelf().inSingletonScope(),e(qc).toService(ip),ke(e,qc)});function ty(){ty.__loaded||(ty.__loaded=!0,Dl.load($s),Dl.load(Cp),Dl.load(dp),Dl.load(vp),Dl.load(Tp),function(e){e.load(Ap),e.load(zp),e.load(Wp)}(Dl),function(e){e.load(ey)}(Dl))}ty.__loaded=!1,ty();const iy=Dl.get(Se);xe.global=iy;const oy=Dl.get(Is);xe.graphicUtil=oy;const ly=Dl.get(Ds);xe.transformUtil=ly;const ny=Dl.get(Xa);xe.graphicService=ny;const ry=Dl.get(sp);xe.renderService=ry;const ay=Dl.get(js);xe.layerService=ay;class sy{constructor(){this.name="AutoRenderPlugin",this.activeEvent="onRegister",this._uid=D.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=e=>{e.glyphHost&&(e=e.glyphHost),e.stage===this.pluginService.stage&&null!=e.stage&&e.stage.renderNextFrame()}}activate(e){this.pluginService=e;const t=this.pluginService.stage;t&&(t.graphicService.hooks.onAttributeUpdate.tap(this.key,this.handleChange),t.graphicService.hooks.onSetStage.tap(this.key,this.handleChange),t.graphicService.hooks.onRemove.tap(this.key,this.handleChange))}deactivate(e){const t=e=>e.filter(e=>e.name!==this.key),i=this.pluginService.stage;i&&(i.graphicService.hooks.onAttributeUpdate.taps=t(i.graphicService.hooks.onAttributeUpdate.taps),i.graphicService.hooks.onSetStage.taps=t(i.graphicService.hooks.onSetStage.taps),i.graphicService.hooks.onRemove.taps=t(i.graphicService.hooks.onRemove.taps))}}class hy{constructor(){this.name="AutoRefreshPlugin",this.activeEvent="onRegister",this._uid=D.GenAutoIncrementId(),this.key=this.name+this._uid,this.handleChange=e=>{e.glyphHost&&(e=e.glyphHost),e.stage===this.pluginService.stage&&null!=e.stage&&e.stage.renderNextFrame()}}activate(e){this.pluginService=e,this.dpr=xe.global.devicePixelRatio,this.refresh()}refresh(){this._refreshByMediaQuery()||this._refreshByRaf()}_refreshByRaf(){const e=xe.global.getRequestAnimationFrame();this.rafId=e(()=>{xe.global.devicePixelRatio!==this.dpr&&(this.dpr=xe.global.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0)),this.refresh()})}_refreshByMediaQuery(){try{const e=`(resolution: ${window.devicePixelRatio}dppx)`,t=()=>{window.devicePixelRatio!==this.dpr&&(this.dpr=window.devicePixelRatio,this.pluginService.stage.setDpr(this.dpr,!0))},i=matchMedia(e);i&&i.addEventListener("change",t),this.autoRefreshCbs||(this.autoRefreshCbs=[]),this.autoRefreshCbs.push(()=>{i&&i.removeEventListener("change",t)})}catch(nH){return!1}return!0}deactivate(e){var t;const i=xe.global.getCancelAnimationFrame();i&&this.rafId&&i(this.rafId),null===(t=this.autoRefreshCbs)||void 0===t||t.forEach(e=>{e()}),this.autoRefreshCbs=void 0}}class dy{constructor(){this.name="IncrementalAutoRenderPlugin",this.activeEvent="onRegister",this.nextFrameRenderGroupSet=new Set,this.willNextFrameRender=!1,this.nextUserParams={},this._uid=D.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e;const t=this.pluginService.stage;t&&(t.graphicService.hooks.onAddIncremental.tap(this.key,(t,i,o)=>{t.glyphHost&&(t=t.glyphHost),t.stage===e.stage&&null!=t.stage&&(this.nextUserParams.startAtId=i._uid,this.renderNextFrame(i))}),t.graphicService.hooks.onClearIncremental.tap(this.key,(t,i)=>{t.stage===e.stage&&null!=t.stage&&(this.nextUserParams.startAtId=t._uid,this.nextUserParams.restartIncremental=!0,this.renderNextFrame(t))}))}deactivate(e){const t=this.pluginService.stage;t&&(t.graphicService.hooks.onAddIncremental.taps=t.graphicService.hooks.onAddIncremental.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.onClearIncremental.taps=t.graphicService.hooks.onClearIncremental.taps.filter(e=>e.name!==this.key))}renderNextFrame(e){this.nextFrameRenderGroupSet.add(e),this.willNextFrameRender||(this.willNextFrameRender=!0,xe.global.getRequestAnimationFrame()(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){const e=this.pluginService.stage;this.nextFrameRenderGroupSet.size&&(this.nextFrameRenderGroupSet.forEach(t=>{const i=t.layer;if(!i||!t.layer.subLayers)return;const o=t.layer.subLayers.get(t._uid);o&&o.drawContribution&&o.drawContribution.draw(e.renderService,Object.assign({stage:e,layer:i,viewBox:e.window.getViewBox(),transMatrix:e.window.getViewBoxTransform(),clear:"transparent",renderService:e.renderService,updateBounds:!1,startAtId:t._uid,context:o.layer.getNativeHandler().getContext()},this.nextUserParams))}),this.nextUserParams={},this.nextFrameRenderGroupSet.clear())}}const cy=new yi;class py{constructor(){this.name="DirtyBoundsPlugin",this.activeEvent="onRegister",this._uid=D.GenAutoIncrementId(),this.key=this.name+this._uid}activate(e){this.pluginService=e,e.stage.hooks.afterRender.tap(this.key,e=>{e&&e===this.pluginService.stage&&e.dirtyBounds.clear()});const t=this.pluginService.stage;t&&(t.graphicService.hooks.beforeUpdateAABBBounds.tap(this.key,(e,t,i,o)=>{e.glyphHost&&(e=e.glyphHost),t&&t===this.pluginService.stage&&t.renderCount&&(e.isContainer&&!e.shouldSelfChangeUpdateAABBBounds()||i&&(cy.setValue(o.x1,o.y1,o.x2,o.y2),t.dirty(cy,e.parent&&e.parent.globalTransMatrix)))}),t.graphicService.hooks.afterUpdateAABBBounds.tap(this.key,(e,t,i,o,l)=>{t&&t===this.pluginService.stage&&t.renderCount&&(e.isContainer&&!l||t.dirty(o.globalAABBBounds))}),t.graphicService.hooks.clearAABBBounds.tap(this.key,(e,t,i)=>{t&&t===this.pluginService.stage&&t.renderCount&&t&&t.dirty(i)}),t.graphicService.hooks.onRemove.tap(this.key,e=>{const t=e.stage;t&&t===this.pluginService.stage&&t.renderCount&&t&&t.dirty(e.globalAABBBounds)}))}deactivate(e){const t=this.pluginService.stage;t&&(t.graphicService.hooks.beforeUpdateAABBBounds.taps=t.graphicService.hooks.beforeUpdateAABBBounds.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.afterUpdateAABBBounds.taps=t.graphicService.hooks.afterUpdateAABBBounds.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.clearAABBBounds.taps=t.graphicService.hooks.clearAABBBounds.taps.filter(e=>e.name!==this.key),t.hooks.afterRender.taps=t.hooks.afterRender.taps.filter(e=>e.name!==this.key),t.graphicService.hooks.onRemove.taps=t.graphicService.hooks.onRemove.taps.filter(e=>e.name!==this.key))}}let yy;function uy(){!function(){if(null==yy)try{const e=document.createElement("canvas"),t=e.getContext("2d");yy=!!(window&&e.getBoundingClientRect&&requestAnimationFrame&&window.devicePixelRatio&&t&&t.isPointInPath&&t.isPointInStroke),yy&&(yy=!!document.createElement)}catch(nH){yy=!1}}();const e=xe.global&&xe.global.env;return e?"browser"===e:yy}let gy=class e{static registerPlugin(t,i){e._pluginClasses[t]=i}static getPlugin(t){return e._pluginClasses[t]}};gy._pluginClasses={};const fy="white";class ky extends Hs{set viewBox(e){this.window.setViewBox(e)}get viewBox(){return this.window.getViewBox()}get x(){return this.window.getViewBox().x1}set x(e){const t=this.window.getViewBox();t.translate(e-t.x1,0),this.window.setViewBox(t)}get y(){return this.window.getViewBox().y1}set y(e){const t=this.window.getViewBox();t.translate(0,e-t.y1),this.window.setViewBox(t)}get width(){return this.window.width}set width(e){this.resize(e,this.height)}get viewWidth(){return this.window.getViewBox().width()}set viewWidth(e){this.resizeView(e,this.viewHeight)}get viewHeight(){return this.window.getViewBox().height()}set viewHeight(e){this.resizeView(this.viewWidth,e)}get height(){return this.window.height}set height(e){this.resize(this.width,e)}get dpr(){return this.window.dpr}set dpr(e){this.setDpr(e)}get background(){var e;return null!==(e=this._background)&&void 0!==e?e:fy}set background(e){this._background=e}get defaultLayer(){return this.at(0)}get eventSystem(){return this._eventSystem}get ticker(){return this._ticker}set ticker(e){e.bindStage(this),this._ticker&&this._ticker.removeListener("tick",this.afterTickCb),e.addTimeline(this.timeline),this._ticker=e,this._ticker.on("tick",this.afterTickCb)}constructor(e={}){var t,i;super({}),this.tickedBeforeRender=!0,this._onVisibleChange=e=>{if(!(this._skipRender<0))if(e){if(this.dirtyBounds){const e=this.window.getViewBox();this.dirtyBounds.setValue(e.x1,e.y1,e.width(),e.height())}this._skipRender>1&&this.renderNextFrame(),this._skipRender=0}else this._skipRender=1},this.beforeRender=e=>{this._beforeRenderList.forEach(t=>t(e))},this.afterClearScreen=e=>{this._afterClearScreen&&this._afterClearScreen(e)},this.afterClearRect=e=>{this._afterClearRect&&this._afterClearRect(e)},this.afterRender=e=>{this.renderCount++,this._afterRenderList.forEach(t=>t(e)),this._afterNextRenderCbs&&this._afterNextRenderCbs.forEach(t=>t(e)),this._afterNextRenderCbs=null,this.tickedBeforeRender=!1},this.afterTickCb=()=>{this.tickedBeforeRender=!0,"rendering"!==this.state&&this.renderNextFrame()},this.params=e,this.theme=new Rn,this.hooks={beforeRender:new ve(["stage"]),afterRender:new ve(["stage"]),afterClearScreen:new ve(["stage"]),afterClearRect:new ve(["stage"])},this.global=xe.global,!this.global.env&&uy()&&this.global.setEnv("browser"),this.window=Dl.get(Cn),this.renderService=Dl.get(sp),this.pluginService=Dl.get(xp),this.layerService=Dl.get(js),this.graphicService=Dl.get(Xa),this.pluginService.active(this,e),this._beforeRenderList=[],this._afterRenderList=[],this.window.create({width:e.width,height:e.height,viewBox:e.viewBox,container:e.container,dpr:e.dpr||this.global.devicePixelRatio,canvasControled:!1!==e.canvasControled,title:e.title||"",canvas:e.canvas}),this.state="normal",this.renderCount=0,this.tryInitEventSystem(),this._background=null!==(t=e.background)&&void 0!==t?t:fy,this.appendChild(this.layerService.createLayer(this,{main:!0})),this.nextFrameRenderLayerSet=new Set,this.willNextFrameRender=!1,this.stage=this,this.renderStyle=e.renderStyle,e.autoRender&&this.enableAutoRender(),e.autoRefresh&&this.enableAutoRefresh(),!1===e.disableDirtyBounds&&this.enableDirtyBounds(),e.enableHtmlAttribute&&this.enableHtmlAttribute(e.enableHtmlAttribute),e.ReactDOM&&this.enableReactAttribute(e.ReactDOM),e.enableLayout&&this.enableLayout(),this.hooks.beforeRender.tap("constructor",this.beforeRender),this.hooks.afterRender.tap("constructor",this.afterRender),e.beforeRender&&this._beforeRenderList.push(e.beforeRender),e.afterRender&&this._afterRenderList.push(e.afterRender),this.hooks.afterClearScreen.tap("constructor",this.afterClearScreen),this.hooks.afterClearRect.tap("constructor",this.afterClearRect),this._afterClearScreen=e.afterClearScreen,this._afterClearRect=e.afterClearRect,this.supportInteractiveLayer=!1!==e.interactiveLayer,e.optimize||(e.optimize={tickRenderMode:"effect"}),this.optmize(e.optimize),e.background&&Ue(this._background)&&this._background.includes("/")&&this.setAttributes({background:this._background}),this.initAnimate(e),this.rafId=null!==(i=e.rafId)&&void 0!==i?i:Math.floor(6*Math.random())}initAnimate(e){var t;this.createTicker&&this.createTimeline&&(this._ticker=e.ticker||this.createTicker(this),this._ticker.bindStage(this),"performance"===(null===(t=this.params.optimize)||void 0===t?void 0:t.tickRenderMode)&&this._ticker.setFPS(30),this.timeline=this.createTimeline(),this._ticker.addTimeline(this.timeline),this._ticker.on("tick",this.afterTickCb))}startAnimate(){this._ticker&&this.timeline&&(this._ticker.start(),this.timeline.resume())}pauseRender(e=-1){this._skipRender=e}resumeRender(){this._skipRender=0}tryInitEventSystem(){this.global.supportEvent&&!this._eventSystem&&(this._eventSystem=new Kn(Object.assign({targetElement:this.window,resolution:this.window.dpr||this.global.devicePixelRatio,rootNode:this,global:this.global,supportsPointerEvents:this.params.supportsPointerEvents,supportsTouchEvents:this.params.supportsTouchEvents},this.params.event)))}preventRender(e){e?this._skipRender=-1/0:!1!==this.params.optimize.skipRenderWithOutRange?this._skipRender=this.window.isVisible()?0:1:this._skipRender=0}optmize(e){this.optmizeRender(e.skipRenderWithOutRange),this.params.optimize=e}optmizeRender(e=!1){e&&(this._skipRender=this._skipRender<0?this._skipRender:this.window.isVisible()?0:1,this.window.onVisibleChange(this._onVisibleChange))}getTimeline(){return this.timeline}get3dOptions(e){const{center:t={x:this.width/2,y:this.height/2,z:0,dx:0,dy:0,dz:0},light:i={},alpha:o=0,beta:l=0,camera:n,fieldRatio:r=1,fieldDepth:a}=e;return Object.assign(Object.assign({},e),{center:t,light:i,alpha:o,beta:l,camera:n,fieldRatio:r,fieldDepth:a})}set3dOptions(e){var t,i,o,l,n,r;this.option3d=e;const a=this.get3dOptions(e),{light:s,center:h,camera:d,alpha:c,beta:p,fieldRatio:y,fieldDepth:u}=a,{dir:g=[1,1,-1],color:f="white",ambient:k}=s,m=(null!==(t=h.x)&&void 0!==t?t:this.width/2)+(null!==(i=h.dx)&&void 0!==i?i:0),b=(null!==(o=h.y)&&void 0!==o?o:this.height/2)+(null!==(l=h.dy)&&void 0!==l?l:0),v=[m,b,(null!==(n=h.z)&&void 0!==n?n:0)+(null!==(r=h.dz)&&void 0!==r?r:0)];let C=0,S=0,x=0;d||(C=Math.sin(c)+m,S=Math.sin(p)+b,x=Math.cos(c)*Math.cos(p)*1);const _=gy.getPlugin("DirectionalLight");_&&(this.light=new _(g,f,k));const w={left:0,right:this.width,top:0,bottom:this.height,fieldRatio:y,fieldDepth:u,viewParams:{pos:[C,S,x],center:v,up:[0,1,0]}};if(this.camera)this.camera.params=w;else{const e=gy.getPlugin("OrthoCamera");e&&(this.camera=new e(w))}e.enableView3dTransform&&this.enableView3dTransform()}setBeforeRender(e){this._beforeRenderList.push(e)}removeBeforeRender(e){this._beforeRenderList=this._beforeRenderList.filter(t=>t!==e)}setAfterRender(e){this._afterRenderList.push(e)}removeAfterRender(e){this._afterRenderList=this._afterRenderList.filter(t=>t!==e)}afterNextRender(e){this._afterNextRenderCbs||(this._afterNextRenderCbs=[]),this._afterNextRenderCbs.push(e)}enableView3dTransform(){if(this.view3dTranform)return;this.view3dTranform=!0;const e=gy.getPlugin("ViewTransform3dPlugin");e&&this.pluginService.register(new e)}disableView3dTranform(){this.view3dTranform&&(this.view3dTranform=!1,this.pluginService.findPluginsByName("ViewTransform3dPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableAutoRender(){this.autoRender||(this.autoRender=!0,this.pluginService.register(new sy))}disableAutoRender(){this.autoRender&&(this.autoRender=!1,this.pluginService.findPluginsByName("AutoRenderPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableAutoRefresh(){this.autoRefresh||(this.autoRefresh=!0,this.pluginService.register(new hy))}disableAutoRefresh(){this.autoRefresh&&(this.autoRefresh=!1,this.pluginService.findPluginsByName("AutoRefreshPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableIncrementalAutoRender(){this.increaseAutoRender||(this.increaseAutoRender=!0,this.pluginService.register(new dy))}disableIncrementalAutoRender(){this.increaseAutoRender&&(this.increaseAutoRender=!1,this.pluginService.findPluginsByName("IncrementalAutoRenderPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableDirtyBounds(){if(this.dirtyBounds)return;this.dirtyBounds=new pi;let e=this.pluginService.findPluginsByName("DirtyBoundsPlugin")[0];e?e.activate(this.pluginService):(e=new py,this.pluginService.register(e))}disableDirtyBounds(){this.dirtyBounds&&(this.dirtyBounds=null,this.pluginService.findPluginsByName("DirtyBoundsPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableLayout(){if(this._enableLayout)return;this._enableLayout=!0;const e=gy.getPlugin("FlexLayoutPlugin");e&&this.pluginService.register(new e)}disableLayout(){this._enableLayout&&(this._enableLayout=!1,this.pluginService.findPluginsByName("FlexLayoutPlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableHtmlAttribute(e){if(this.htmlAttribute)return;const t=gy.getPlugin("HtmlAttributePlugin");t&&(this.htmlAttribute=e,this.pluginService.register(new t))}disableHtmlAttribute(){this.htmlAttribute&&(this.htmlAttribute=!1,this.pluginService.findPluginsByName("HtmlAttributePlugin").forEach(e=>{this.pluginService.unRegister(e)}))}enableReactAttribute(e){if(this.reactAttribute)return;const t=gy.getPlugin("ReactAttributePlugin");t&&(this.reactAttribute=e,this.pluginService.register(new t))}disableReactAttribute(){this.reactAttribute&&(this.reactAttribute=!1,this.pluginService.findPluginsByName("ReactAttributePlugin").forEach(e=>{this.pluginService.unRegister(e)}))}getPluginsByName(e){return this.pluginService.findPluginsByName(e)}tryUpdateAABBBounds(){const e=this.window.getViewBox();return this._AABBBounds.setValue(e.x1,e.y1,e.x2,e.y2),this._AABBBounds}combineLayer(e,t){throw new Error("暂不支持")}createLayer(e,t){if("released"===this.releaseStatus)return;const i=this.layerService.createLayer(this,{main:!1,layerMode:t,canvasId:e});return this.appendChild(i),i}sortLayer(e){const t=this.children;t.sort(e),this.removeAllChild(),t.forEach(e=>{this.appendChild(e)})}removeLayer(e){return this.removeChild(this.findChildByUid(e))}tryInitInteractiveLayer(){"released"!==this.releaseStatus&&this.supportInteractiveLayer&&!this.interactiveLayer&&(this.interactiveLayer=this.createLayer(),this.interactiveLayer.name="_builtin_interactive",this.interactiveLayer.attribute.pickable=!1,this.nextFrameRenderLayerSet.add(this.interactiveLayer))}clearViewBox(e){this.window.clearViewBox(e)}render(e,t){if("released"===this.releaseStatus)return;this.startAnimate();const i=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this._skipRender||(this.lastRenderparams=t,this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(this.children),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=i,this._skipRender&&this._skipRender++}combineLayersToWindow(){if("harmony"===this.global.env){const e=this.window.getContext().nativeContext;this.forEachChildren((t,i)=>{if(i>0){const i=t.getNativeHandler().getContext().canvas.nativeCanvas.nativeCanvas._c.transferToImageBitmap();e.transferFromImageBitmap(i)}})}}renderNextFrame(e,t){this.nextFrameRenderLayerSet.size!==this.childrenCount&&(e||this).forEach(e=>{this.nextFrameRenderLayerSet.add(e)}),this.willNextFrameRender||(this.willNextFrameRender=!0,this.global.getSpecifiedRequestAnimationFrame(this.rafId)(()=>{this._doRenderInThisFrame(),this.willNextFrameRender=!1}))}_doRenderInThisFrame(){if("released"===this.releaseStatus)return;this.startAnimate();const e=this.state;this.state="rendering",this.layerService.prepareStageLayer(this),this.nextFrameRenderLayerSet.size&&!this._skipRender&&(this.hooks.beforeRender.call(this),this._skipRender||(this.renderLayerList(Array.from(this.nextFrameRenderLayerSet.values()),this.lastRenderparams||{}),this.combineLayersToWindow(),this.nextFrameRenderLayerSet.clear()),this.hooks.afterRender.call(this)),this.state=e,this._skipRender&&this._skipRender++}renderLayerList(e,t){const i=[];for(let o=0;o<e.length;o++){let t=e[o];"virtual"===t.layerMode&&(t=t.getNativeHandler().mainHandler.layer),i.includes(t)||i.push(t)}i.forEach(e=>{e.renderCount>this.renderCount||(e.renderCount=this.renderCount+1,e===this.interactiveLayer&&this.dirtyBounds&&this.dirtyBounds.clear(),e.render({renderService:this.renderService,background:e===this.defaultLayer?this.background:void 0,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},t)))}),this.interactiveLayer&&!e.includes(this.interactiveLayer)&&(this.dirtyBounds&&this.dirtyBounds.clear(),this.interactiveLayer.render({renderService:this.renderService,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty()),viewBox:this.window.getViewBox(),transMatrix:this.window.getViewBoxTransform()},Object.assign({renderStyle:this.renderStyle},t)))}resizeWindow(e,t,i=!0){this.window.resize(e,t),i&&this.render()}resize(e,t,i=!0){"released"!==this.releaseStatus&&(this.window.hasSubView()||this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+e,this.viewBox.y1+t),this.window.resize(e,t),this.forEachChildren(i=>{i.resize(e,t)}),this.camera&&this.option3d&&this.set3dOptions(this.option3d),i&&this.render())}resizeView(e,t,i=!0){"released"!==this.releaseStatus&&(this.viewBox.setValue(this.viewBox.x1,this.viewBox.y1,this.viewBox.x1+e,this.viewBox.y1+t),this.forEachChildren(i=>{i.resizeView(e,t)}),this.camera&&(this.camera.params=Object.assign(Object.assign({},this.camera.params),{right:this.width,bottom:this.height})),i&&this.render())}setViewBox(e,t,i,o,l){let n=!0;"object"==typeof e?(this.viewBox.setValue(e.x1,e.y1,e.x2,e.y2),!1===t&&(n=!1)):(this.viewBox.setValue(e,t,e+i,t+o),!1===l&&(n=!1)),this.forEachChildren(e=>{e.resizeView(this.viewBox.width(),this.viewBox.height())}),n&&this.render()}setDpr(e,t=!0){this.forEachChildren(t=>{t.setDpr(e)}),t&&this.render()}setOrigin(e,t){throw new Error("暂不支持")}export(e){throw new Error("暂不支持")}pick(e,t){if("released"===this.releaseStatus)return;const i=this.getPickerService().pick(this.children,new Gt(e,t),{bounds:this.AABBBounds});return!(!(null==i?void 0:i.graphic)&&!(null==i?void 0:i.group))&&i}setToFrame(e){throw new Error("暂不支持")}release(){var e,t;super.release(),this.hooks.beforeRender.unTap("constructor",this.beforeRender),this.hooks.afterRender.unTap("constructor",this.afterRender),this.eventSystem&&this.eventSystem.release(),this.layerService.releaseStage(this),this.pluginService.release(),this.forEach(e=>{e.release()}),this.interactiveLayer&&(this.interactiveLayer.forEachChildren(e=>{e.setStage&&e.setStage(null,null),this.interactiveLayer.removeChild(e)}),this.interactiveLayer.release()),this.window.release(),null===(e=this._ticker)||void 0===e||e.remTimeline(null==this?void 0:this.timeline),null===(t=this._ticker)||void 0===t||t.removeListener("tick",this.afterTickCb),this.renderService.renderTreeRoots=[]}setStage(e){}dirty(e,t){"released"!==this.releaseStatus&&(t&&e.transformWithMatrix(t),this.dirtyBounds.empty()&&this.dirtyBounds.setValue(e.x1,e.y1,e.x2,e.y2),this.dirtyBounds.union(e))}getLayer(e){return this.children.filter(t=>t.name===e)[0]}renderTo(e){"released"!==this.releaseStatus&&this.forEachChildren((t,i)=>{t.drawTo(e,{renderService:this.renderService,viewBox:e.getViewBox(),transMatrix:e.getViewBoxTransform(),background:t===this.defaultLayer?this.background:void 0,clear:0===i,updateBounds:!(!this.dirtyBounds||this.dirtyBounds.empty())})})}renderToNewWindow(e=!0,t){if("released"===this.releaseStatus)return;const i=Dl.get(Cn),o=t?-t.x1:0,l=t?-t.y1:0,n=t?t.x2:this.viewWidth,r=t?t.y2:this.viewHeight,a=t?t.width():this.viewWidth,s=t?t.height():this.viewHeight;return i.create({viewBox:{x1:o,y1:l,x2:n,y2:r},width:a,height:s,dpr:this.window.dpr,canvasControled:!0,offscreen:!0,title:""}),this.renderTo(i),i}toCanvas(e=!0,t){if("released"===this.releaseStatus)return;const i=this.renderToNewWindow(e,t).getNativeHandler();return i.nativeCanvas?i.nativeCanvas:null}setCursor(e){this._cursor=e,this.eventSystem.setCursor(e,"ignore")}getCursor(){return this._cursor}eventPointTransform(e){const t=this.global.mapToCanvasPoint(e,this.window);return this.stage.window.pointTransform(t.x,t.y)}pauseTriggerEvent(){this._eventSystem&&this._eventSystem.pauseTriggerEvent()}resumeTriggerEvent(){this._eventSystem&&this._eventSystem.resumeTriggerEvent()}getPickerService(){return this.pickerService||(this.pickerService=Dl.get(cp)),this.pickerService}reInit(){this.renderService.reInit(),this.pickerService.reInit()}}var my=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},by=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(rH){n(rH)}}function a(e){try{s(o.throw(e))}catch(rH){n(rH)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};let vy=class{configure(e,...t){e.env===this.type&&e.setActiveEnvContribution(this)}getNativeAABBBounds(e){return new yi}removeDom(e){return!1}createDom(e){return null}updateDom(e,t){return!1}getDynamicCanvasCount(){return 999}getStaticCanvasCount(){return 999}getElementById(e){return document.getElementById(e)}getRootElement(){return document.body}loadJson(e){const t=fetch(e).then(e=>e.json());return t.then(e=>({data:e,state:"success"})).catch(()=>({data:null,state:"fail"})),t}loadArrayBuffer(e){return fetch(e).then(e=>e.arrayBuffer()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadBlob(e){return fetch(e).then(e=>e.blob()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}getElementTop(e,t){return 0}getElementLeft(e,t){return 0}getElementTopLeft(e,t){return{top:0,left:0}}loadFont(e,t,i){return by(this,void 0,void 0,function*(){return{loadState:"fail"}})}isMacOS(){return!1}copyToClipBoard(e){return Promise.resolve(null)}};vy=my([Q()],vy);var Cy=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Sy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let xy=class{constructor(){this._uid=D.GenAutoIncrementId(),this.viewBox=new yi,this.modelMatrix=new gi(1,0,0,1,0,0)}onChange(e){this._onChangeCb=e}configure(e,t){t.env===this.type&&e.setWindowHandler(this)}release(...e){this.releaseWindow()}isVisible(e){return!0}onVisibleChange(e){}getTopLeft(e){return{top:0,left:0}}setViewBox(e){this.viewBox.setValue(e.x1,e.y1,e.x2,e.y2)}getViewBox(){return this.viewBox}setViewBoxTransform(e,t,i,o,l,n){this.modelMatrix.setValue(e,t,i,o,l,n)}getViewBoxTransform(){return this.modelMatrix}};xy=Cy([Q(),Sy("design:paramtypes",[])],xy);var _y=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},wy=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ly=function(e,t){return function(i,o){t(i,o,e)}};let Fy=class{constructor(e,t){this.pickItemInterceptorContributions=e,this.pickServiceInterceptorContributions=t,this.type="default",this.global=xe.global}reInit(){this._init()}_init(){this.InterceptorContributions=this.pickItemInterceptorContributions.getContributions().sort((e,t)=>e.order-t.order),this.pickerServiceInterceptorContributions=this.pickServiceInterceptorContributions.getContributions().sort((e,t)=>e.order-t.order)}pick(e,t,i){let o={graphic:null,group:null};i.pickerService=this;const l=i.bounds.width(),n=i.bounds.height();if(!(new yi).setValue(0,0,l,n).containsPoint(t))return o;this.pickContext&&(this.pickContext.inuse=!0),i.pickContext=this.pickContext,this.pickContext&&this.pickContext.clearMatrix(!0,1);const r=new gi(1,0,0,1,0,0);let a;for(let s=e.length-1;s>=0&&(o=e[s].isContainer?this.pickGroup(e[s],t,r,i):this.pickItem(e[s],t,r,i),!o.graphic);s--)a||(a=o.group);if(o.graphic||(o.group=a),this.pickContext&&(this.pickContext.inuse=!1),this.pickerServiceInterceptorContributions.length)for(let s=0;s<this.pickerServiceInterceptorContributions.length;s++){const e=this.pickerServiceInterceptorContributions[s];e.afterPickItem&&(o=e.afterPickItem(o,this,t,i,{parentMatrix:r}))}return o}containsPoint(e,t,i){var o;return!!(null===(o=this.pickItem(e,t,null,null!=i?i:{pickContext:this.pickContext,pickerService:this}))||void 0===o?void 0:o.graphic)}pickGroup(e,t,i,o){let l={group:null,graphic:null};if(!1===e.attribute.visibleAll)return l;const n=o.pickContext,r=n.modelMatrix;if(n.camera){const t=e.transMatrix,i=rs.allocate();if(ts(i,t),r){if(i){const e=rs.allocate();n.modelMatrix=is(e,r,i),rs.free(i)}}else ts(i,e.globalTransMatrix),n.modelMatrix=i}if(this.InterceptorContributions.length)for(let y=0;y<this.InterceptorContributions.length;y++){const l=this.InterceptorContributions[y];if(l.beforePickItem){const a=l.beforePickItem(e,this,t,o,{parentMatrix:i});if(a)return n.modelMatrix!==r&&rs.free(n.modelMatrix),n.modelMatrix=r,a}}const a=e.transMatrix,s=ns.allocateByObj(i),h=new Gt(t.x,t.y);s.transformPoint(h,h);const d=e.AABBBounds.containsPoint(h);if(!d&&!e.stage.camera)return l;const c=this.pickItem(e,h.clone(),i,o);c&&c.graphic&&(l.graphic=c.graphic,l.params=c.params);const p=!1!==e.attribute.pickable&&d;return s.multiply(a.a,a.b,a.c,a.d,a.e,a.f),!1===e.attribute.childrenPickable||c&&c.graphic||Pp(e,ol.zIndex,n=>{if(n.isContainer){const i=new Gt(t.x,t.y),r=Pn(e).group,{scrollX:a=r.scrollX,scrollY:h=r.scrollY}=e.attribute;i.x-=a,i.y-=h,l=this.pickGroup(n,i,s,o)}else{const r=new Gt(t.x,t.y);s.transformPoint(r,r);const a=Pn(e).group,{scrollX:h=a.scrollX,scrollY:d=a.scrollY}=e.attribute;r.x-=h,r.y-=d;const c=this.pickItem(n,r,i,o);c&&c.graphic&&(l.graphic=c.graphic,l.params=c.params)}return!!l.graphic||!!l.group},!0,!!n.camera),n.modelMatrix!==r&&rs.free(n.modelMatrix),n.modelMatrix=r,l.graphic||l.group||!p||e.stage.camera||(l.group=e),ns.free(s),l}selectPicker(e){return this.pickerMap.get(e.numberType)||null}};function Ty(e,t,i,o,l,n){const r=(t-e)*l+e,a=(i-t)*l+t,s=(o-i)*l+i,h=(a-r)*l+r,d=(s-a)*l+a,c=(d-h)*l+h;n[0]=e,n[1]=r,n[2]=h,n[3]=c,n[4]=c,n[5]=d,n[6]=s,n[7]=o}function Ay(e,t){const i=e.length,o=t.length;if(i===o)return[e,t];const l=[],n=[],r=i<o?e:t,a=Math.min(i,o),s=Math.abs(o-i)/6,h=(a-2)/6,d=Math.ceil(s/h),c=[r[0],r[1]];let p=s;for(let y=2;y<a;y+=6){let e=r[y-2],t=r[y-1],i=r[y],o=r[y+1],a=r[y+2],s=r[y+3];const h=r[y+4],u=r[y+5];if(p<=0){c.push(i,o,a,s,h,u);continue}const g=Math.min(p,d)+1;for(let r=1;r<=g;r++){const d=r/g;Ty(e,i,a,h,d,l),Ty(t,o,s,u,d,n),e=l[3],t=n[3],c.push(l[1],n[1],l[2],n[2],e,t),i=l[5],o=n[5],a=l[6],s=n[6]}p-=g-1}return r===e?[c,t]:[e,c]}function zy(e,t){const i=e||t,o=i.length,l=i[o-2],n=i[o-1],r=[];for(let a=0;a<t.length;a+=2)r[a]=l,r[a+1]=n;return r}function By(e){const t=[],i=e.length;for(let o=0;o<i;o+=2)t[o]=e[i-o-2],t[o+1]=e[i-o-1];return t}function My(e){let t=0,i=0,o=0;const l=e.length;for(let n=0,r=l-2;n<l;r=n,n+=2){const l=e[r],a=e[r+1],s=e[n],h=e[n+1],d=l*h-s*a;t+=d,i+=(l+s)*d,o+=(a+h)*d}return 0===t?[e[0]||0,e[1]||0,0]:[i/t/3,o/t/3,t]}function Oy(e,t,i,o){const l=(e.length-2)/6;let n=1/0,r=0;const a=e.length,s=a-2;for(let h=0;h<l;h++){const l=6*h;let d=0;for(let n=0;n<a;n+=2){const r=0===n?l:(l+n-2)%s+2,a=e[r]-i[0],h=e[r+1]-i[1],c=t[n]-o[0]-a,p=t[n+1]-o[1]-h;d+=c*c+p*p}d<n&&(n=d,r=h)}return r}function Wy(e){const t=new Zo,i=e.toString();if(!i)return[];t.fromString(i);const o=t.tryBuildCurves();if(!o||0===o.length)return[];const l=[];let n=null;n=[];let r=0,a=0,s=0,h=0,d=!0;for(let p=0;p<o.length;p++){const e=o[p];if(d&&(r=e.p0.x,a=e.p0.y,s=r,h=a,n=[r,a],l.push(n),d=!1),e.p1&&e.p2&&e.p3)n.push(e.p1.x,e.p1.y,e.p2.x,e.p2.y,e.p3.x,e.p3.y),s=e.p3.x,h=e.p3.y;else if(e.p1&&e.p2){const t=e.p1.x,i=e.p1.y,o=e.p2.x,l=e.p2.y;n.push(s+2/3*(t-s),h+2/3*(i-h),o+2/3*(t-o),l+2/3*(i-l),o,l),s=o,h=l}else if(e.p1){const t=e.p1.x,i=e.p1.y;Math.abs(s-t)<1e-10&&Math.abs(h-i)<1e-10||n.push(s,h,t,i,t,i),s=t,h=i}if(p===o.length-1&&Math.abs(s-r)<1e-10&&Math.abs(h-a),p<o.length-1){const e=o[p+1];(Math.abs(s-e.p0.x)>1e-10||Math.abs(h-e.p0.y)>1e-10)&&(d=!0)}}const c=l.filter(e=>e.length>2);return 1===c.length?[c[0]]:c}function Ry(e,t){for(let i=0;i<e.length;i++){const o=e[i];for(let e=0;e<o.length;e+=2){const i=o[e],l=o[e+1],n={x:i,y:l};t.transformPoint({x:i,y:l},n),o[e]=n.x,o[e+1]=n.y}}}function Hy(e){const t=new Zo;for(let i=0;i<e.length;i++){const o=e[i];if(o.length>2){t.moveTo(o[0],o[1]);for(let e=2;e<o.length;e+=6)t.bezierCurveTo(o[e],o[e+1],o[e+2],o[e+3],o[e+4],o[e+5])}}return t}function Py(e,t,i){const o=e/t;let l,n;e>=t?(n=Math.ceil(Math.sqrt(i*o)),l=Math.floor(i/n),0===l&&(l=1,n=i)):(l=Math.ceil(Math.sqrt(i/o)),n=Math.floor(i/l),0===n&&(n=1,l=i));const r=[];for(let s=0;s<l;s++)r.push(n);const a=i-l*n;if(a>0)for(let s=0;s<a;s+=n)s+n<a?r.push(n):r.push(a-s);return r}Fy=_y([Q(),Ly(0,q(ge)),Ly(0,ee(yp)),Ly(1,q(ge)),Ly(1,ee(up)),wy("design:paramtypes",[Object,Object])],Fy);const Ey=(e,t)=>{const i=e.filter(e=>!1!==e.defined&&Ze(e.x)&&Ze(e.y));if(0===i.length)return[];if(1===i.length)return new Array(t).fill(0).map(e=>i[0]);const o=[];if(t<=i.length){const e=i.length/t;let l=0,n=0;for(;l<t;)o.push(i[Math.floor(n)]),n+=e,l++;return o}const l=t-i.length,n=1/(l/(i.length-1)+1);let r=0;for(let a=0,s=e.length;a<s;a++)if(o.push(e[a]),a<s-1){let t=n;const i=e[a].x,s=e[a].y,h=e[a+1].x,d=e[a+1].y;for(;t<1&&r<l;)o.push({x:i+(h-i)*t,y:s+(d-s)*t}),t+=n,r+=1}return o};function Dy(e,t){return e[0]*t[1]-e[1]*t[0]}const Iy=e=>e.map(e=>({x:e.x,y:e.y})),jy=(e,t,i)=>{const o=e.length,l=[];for(let c=0;c<o;c++){const n=e[c],r=c===o-1?e[0]:e[c+1],a=Kt([t.x,t.y],[i.x,i.y],[n.x,n.y],[r.x,r.y]);a&&"boolean"!=typeof a&&l.push({dot:Dy([a[0]-t.x,a[1]-t.x],[i.x-t.x,i.y-t.x]),point:{x:a[0],y:a[1]},edgeIndex:c})}if(l.length<2)return[Iy(e),Iy(e)];l.sort((e,t)=>e.dot-t.dot);let n=l[0],r=l[l.length-1];n.edgeIndex>r.edgeIndex&&([n,r]=[r,n]);const a=n.point,s=r.point,h=[{x:a.x,y:a.y}];for(let c=n.edgeIndex+1;c<=r.edgeIndex;c++)h.push({x:e[c].x,y:e[c].y});h.push({x:s.x,y:s.y});const d=[{x:s.x,y:s.y}];for(let c=r.edgeIndex+1,p=n.edgeIndex+o;c<=p;c++){const t=e[c%o];d.push({x:t.x,y:t.y})}return d.push({x:a.x,y:a.y}),[h,d]},Ny=(e,t,i)=>{if(1===t)i.push({points:e});else{const o=Math.floor(t/2),l=(e=>{const t=new pi;e.forEach(e=>{t.add(e.x,e.y)});const i=t.width(),o=t.height();if(i>=o){const o=t.x1+i/2;return jy(e,{x:o,y:t.y1},{x:o,y:t.y2})}const l=t.y1+o/2;return jy(e,{x:t.x1,y:l},{x:t.x2,y:l})})(e);Ny(l[0],o,i),Ny(l[1],t-o,i)}};let Gy=!1;const Uy=new I(e=>{Gy||(Gy=!0,e(Gd).toSelf().inSingletonScope(),e(Hc).to(Gd).inSingletonScope(),e(Ec).toService(Hc),e(nh).toService(kd),ke(e,nh))});let Vy=!1;const Yy=new I(e=>{Vy||(Vy=!0,e(cc).toSelf().inSingletonScope(),e(Gc).to(cc).inSingletonScope(),e(Ec).toService(Gc),e(zd).toSelf(),e(Ad).toSelf(),e(dh).toService(zd),e(dh).toService(Ad),e(dh).toService(kd),ke(e,dh))});let Zy=!1;const Xy=new I(e=>{Zy||(Zy=!0,e(Xd).toSelf().inSingletonScope(),e(Vp).toSelf().inSingletonScope(),e(Ic).to(Xd).inSingletonScope(),e(Ec).toService(Ic))});let $y=!1;const Ky=new I(e=>{$y||($y=!0,e(tc).toSelf().inSingletonScope(),e(Pc).to(tc).inSingletonScope(),e(Ec).toService(Pc),e(rh).toService(kd),ke(e,rh),e(Zp).toSelf().inSingletonScope())});let qy=!1;const Jy=new I(e=>{qy||(qy=!0,e(gc).toSelf().inSingletonScope(),e(Uc).to(gc).inSingletonScope(),e(Ec).toService(Uc),e(ch).toService(kd),ke(e,ch))});let Qy=!1;const eu=new I(e=>{Qy||(Qy=!0,e(Vc).to(Cc).inSingletonScope(),e(Ec).toService(Vc),e(ph).toService(kd),ke(e,ph))});let tu=!1;const iu=new I(e=>{tu||(tu=!0,e(ac).toSelf().inSingletonScope(),e(jc).to(ac).inSingletonScope(),e(Ec).toService(jc),e(sh).toService(kd),ke(e,sh))});let ou=!1;const lu=new I(e=>{ou||(ou=!0,e(Nc).to(zc).inSingletonScope(),e(Ec).toService(Nc),e(hh).toService(kd),ke(e,hh))});var nu=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},ru=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let au=class extends Dd{constructor(){super(),this.numberType=Va,this.builtinContributions=[kc],this.init()}drawShape(e,t,i,o,l){const n=Pn(e).richtext,{strokeOpacity:r=n.strokeOpacity,opacity:a=n.opacity,fillOpacity:s=n.fillOpacity,visible:h=n.visible}=e.attribute;if(!e.valid||!h)return;const d=Js(a,s,!0),c=Js(a,r,!0);d&&(t.setShadowBlendStyle&&t.setShadowBlendStyle(e,e.attribute,n),t.translate(i,o),this.beforeRenderStep(e,t,i,o,d,c,d,c,n,l),e.getFrameCache().draw(t,this.drawIcon),this.afterRenderStep(e,t,i,o,d,c,d,c,n,l))}drawIcon(e,t,i,o,l){var n;const r=Pn(e).richtextIcon,{width:a=r.width,height:s=r.height,opacity:h=r.opacity,image:d,backgroundFill:c=r.backgroundFill,backgroundFillOpacity:p=r.backgroundFillOpacity,backgroundStroke:y=r.backgroundStroke,backgroundStrokeOpacity:u=r.backgroundStrokeOpacity,backgroundRadius:g=r.backgroundRadius,margin:f}=e.attribute,{backgroundWidth:k=a,backgroundHeight:m=s}=e.attribute;if(f&&(i+=e._marginArray[3],o+=e._marginArray[0]),e._hovered){const e=(k-a)/2,l=(m-s)/2;0===g?(t.beginPath(),t.rect(i-e,o-l,k,m)):(t.beginPath(),Fd(t,i-e,o-l,k,m,g,!0)),c&&(t.globalAlpha=p,t.fillStyle=c,t.fill()),y&&(t.globalAlpha=u,t.strokeStyle=y,t.stroke())}const b=d&&(null===(n=null==e?void 0:e.resources)||void 0===n?void 0:n.get(d));b&&"success"===b.state&&(t.globalAlpha=h,t.drawImage(b.data,i,o,a,s))}draw(e,t,i){const o=Pn(e).richtext;this._draw(e,o,!1,i)}};au=nu([Q(),ru("design:paramtypes",[])],au);let su=!1;const hu=new I(e=>{su||(su=!0,e(Yc).to(au).inSingletonScope(),e(Ec).toService(Yc))});const du=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,cu=(e,t=!1)=>t?"boolean"==typeof e:!0===e||!1===e||du(e,"Boolean"),pu=e=>"function"==typeof e,yu=e=>null==e,uu=e=>null!=e,gu=e=>{const t=typeof e;return null!==e&&"object"===t||"function"===t},fu=function(e){if(!(e=>"object"==typeof e&&null!==e)(e)||!du(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},ku=e=>void 0===e,mu=(e,t=!1)=>{const i=typeof e;return t?"string"===i:"string"===i||du(e,"String")},bu=e=>Array.isArray?Array.isArray(e):du(e,"Array"),vu=function(e){return null!==e&&"function"!=typeof e&&Number.isFinite(e.length)},Cu=(e,t=!1)=>{const i=typeof e;return t?"number"===i:"number"===i||du(e,"Number")},Su=e=>Cu(e)&&Number.isFinite(e),xu=Object.prototype,_u=Object.prototype.hasOwnProperty;function wu(e){if(yu(e))return!0;if(vu(e))return!e.length;const t=(e=>({}.toString.call(e).replace(/^\[object /,"").replace(/]$/,"")))(e);if("Map"===t||"Set"===t)return!e.size;if(function(e){const t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||xu)}(e))return!Object.keys(e).length;for(const i in e)if(_u.call(e,i))return!1;return!0}const Lu=(e,t,i)=>{const o=mu(t)?t.split("."):t;for(let l=0;l<o.length;l++)e=e?e[o[l]]:void 0;return void 0===e?i:e};function Fu(e,t,i){let o;if(!uu(e)||"object"!=typeof e||t&&t(e))return e;const l=bu(e),n=e.length;o=l?new Array(n):"object"==typeof e?{}:cu(e)||Cu(e)||mu(e)?e:(e=>du(e,"Date"))(e)?new Date(+e):void 0;const r=l?void 0:Object.keys(Object(e));let a=-1;if(o)for(;++a<(r||e).length;){const l=r?r[a]:a,n=e[l];i&&i.includes(l.toString())?o[l]=n:o[l]=Fu(n,t,i)}return o}function Tu(e,t,i=!1,o=!1){if(t){if(e===t)return;if(uu(t)&&"object"==typeof t){const l=Object(t),n=[];for(const e in l)n.push(e);let{length:r}=n,a=-1;for(;r--;){const r=n[++a];!uu(l[r])||"object"!=typeof l[r]||o&&bu(e[r])?zu(e,r,l[r]):Au(e,t,r,i,o)}}}}function Au(e,t,i,o=!1,l=!1){const n=e[i],r=t[i];let a=t[i],s=!0;if(bu(r)){if(o)a=[];else if(bu(n))a=n;else if(vu(n)){a=new Array(n.length);let e=-1;const t=n.length;for(;++e<t;)a[e]=n[e]}}else fu(r)?(a=null!=n?n:{},"function"!=typeof n&&"object"==typeof n||(a={})):s=!1;s&&Tu(a,r,o,l),zu(e,i,a)}function zu(e,t,i){(void 0!==i&&!function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e[t],i)||void 0===i&&!(t in e))&&(e[t]=i)}function Bu(e,...t){let i=-1;const o=t.length;for(;++i<o;)Tu(e,t[i],!0);return e}function Mu(e,t){if(!e||!fu(e))return e;const i={};return Object.keys(e).forEach(o=>{const l=e[o];let n=!1;t.forEach(e=>{(mu(e)&&e===o||e instanceof RegExp&&o.match(e))&&(n=!0)}),n||(i[o]=l)}),i}function Ou(e){return Object.prototype.toString.call(e)}function Wu(e){return Object.keys(e)}function Ru(e,t,i){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(null==e||null==t)return!1;if(Number.isNaN(e)&&Number.isNaN(t))return!0;if(Ou(e)!==Ou(t))return!1;if(pu(e))return!1;if("object"!=typeof e)return!1;if(bu(e)){if(e.length!==t.length)return!1;for(let i=e.length-1;i>=0;i--)if(!Ru(e[i],t[i]))return!1;return!0}if(!fu(e))return!1;const o=Wu(e),l=Wu(t);if(o.length!==l.length)return!1;o.sort(),l.sort();for(let n=o.length-1;n>=0;n--)if(o[n]!=l[n])return!1;for(let n=o.length-1;n>=0;n--){const i=o[n];if(!Ru(e[i],t[i]))return!1}return!0}function Hu(e,t,i){const o=function(e){if(!e)return[];if(Object.keys)return Object.keys(e);const t=[];for(const i in e)e.hasOwnProperty(i)&&t.push(i);return t}(t);for(let l=0;l<o.length;l++){const n=o[l];(i?null!=t[n]:null==e[n])&&(e[n]=t[n])}return e}function Pu(e,t,i=!0){if(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames){const o=Object.getOwnPropertyNames(t);for(let l=0;l<o.length;l++){const n=o[l];"constructor"!==n&&(i?null!=t[n]:null==e[n])&&(e[n]=t[n])}}else Hu(e,t,i)}function Eu(e){return uu(e)?bu(e)?e:[e]:[]}function Du(e){if(vu(e))return e[e.length-1]}const Iu=(e,t)=>{var i;if(0===e.length)return;let o=e[0];for(let l=1;l<e.length;l++){const n=e[l];(null!==(i=null==t?void 0:t(n,o))&&void 0!==i?i:n-o)>0&&(o=n)}return o},ju=(e,t)=>{var i;if(0===e.length)return;let o=e[0];for(let l=1;l<e.length;l++){const n=e[l];(null!==(i=null==t?void 0:t(n,o))&&void 0!==i?i:n-o)<0&&(o=n)}return o},Nu="undefined"!=typeof console;function Gu(e,t,i){const o=[t].concat([].slice.call(i));Nu&&console[e].apply(console,o)}var Uu;!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"}(Uu||(Uu={}));let Vu=class e{static getInstance(t,i){return e._instance&&Cu(t)?e._instance.level(t):e._instance||(e._instance=new e(t,i)),e._instance}static setInstance(t){return e._instance=t}static setInstanceLevel(t){e._instance?e._instance.level(t):e._instance=new e(t)}static clearInstance(){e._instance=null}constructor(e=Uu.None,t){this._onErrorHandler=[],this._level=e,this._method=t}addErrorHandler(e){this._onErrorHandler.find(t=>t===e)||this._onErrorHandler.push(e)}removeErrorHandler(e){const t=this._onErrorHandler.findIndex(t=>t===e);t<0||this._onErrorHandler.splice(t,1)}callErrorHandler(...e){this._onErrorHandler.forEach(t=>t(...e))}canLogInfo(){return this._level>=Uu.Info}canLogDebug(){return this._level>=Uu.Debug}canLogError(){return this._level>=Uu.Error}canLogWarn(){return this._level>=Uu.Warn}level(e){return arguments.length?(this._level=+e,this):this._level}error(...e){var t;return this._level>=Uu.Error&&(this._onErrorHandler.length?this.callErrorHandler(...e):Gu(null!==(t=this._method)&&void 0!==t?t:"error","ERROR",e)),this}warn(...e){return this._level>=Uu.Warn&&Gu(this._method||"warn","WARN",e),this}info(...e){return this._level>=Uu.Info&&Gu(this._method||"log","INFO",e),this}debug(...e){return this._level>=Uu.Debug&&Gu(this._method||"log","DEBUG",e),this}};Vu._instance=null;const Yu=function(e,t,i){return e<t?t:e>i?i:e};let Zu=!1;try{Zu="function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame}catch(nH){Zu=!1}function Xu(e,t,i){let o,l,n,r,a,s,h=0,d=!1,c=!1,p=!0;const y=!t&&0!==t&&Zu;if("function"!=typeof e)throw new TypeError("Expected a function");function u(t){const i=o,n=l;return o=l=void 0,h=t,r=e.apply(n,i),r}function g(e,t){return y?(cancelAnimationFrame(a),requestAnimationFrame(e)):setTimeout(e,t)}function f(e){const i=e-s;return void 0===s||i>=t||i<0||c&&e-h>=n}function k(){const e=Date.now();if(f(e))return m(e);a=g(k,function(e){const i=e-h,o=t-(e-s);return c?Math.min(o,n-i):o}(e))}function m(e){return a=void 0,p&&o?u(e):(o=l=void 0,r)}function b(...e){const i=Date.now(),n=f(i);if(o=e,l=this,s=i,n){if(void 0===a)return function(e){return h=e,a=g(k,t),d?u(e):r}(s);if(c)return a=g(k,t),u(s)}return void 0===a&&(a=g(k,t)),r}return t=+t||0,gu(i)&&(d=!!i.leading,c="maxWait"in i,c&&(n=Math.max(Su(i.maxWait)?i.maxWait:0,t)),p="trailing"in i?!!i.trailing:p),b.cancel=function(){void 0!==a&&function(e){if(y)return cancelAnimationFrame(e);clearTimeout(e)}(a),h=0,o=s=l=a=void 0},b.flush=function(){return void 0===a?r:m(Date.now())},b.pending=function(){return void 0!==a},b}function $u(e,t,i){let o=!0,l=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return gu(i)&&(o="leading"in i?!!i.leading:o,l="trailing"in i?!!i.trailing:l),Xu(e,t,{leading:o,trailing:l,maxWait:t})}Zu=!1;const Ku=Math.sqrt,qu=Math.pow;function Ju(e){const t=e.toString().split(/[eE]/),i=(t[0].split(".")[1]||"").length-(+t[1]||0);return i>0?i:0}function Qu(e,t){return function(e,t=10){return Math.round(e*t)/t}(e-t,10**Math.max(Ju(e),Ju(t)))}class eg{constructor(e=0,t=0,i,o){this.x=0,this.y=0,this.x=e,this.y=t,this.x1=i,this.y1=o}clone(){return new eg(this.x,this.y)}copyFrom(e){return this.x=e.x,this.y=e.y,this.x1=e.x1,this.y1=e.y1,this.defined=e.defined,this.context=e.context,this}set(e,t){return this.x=e,this.y=t,this}add(e){return Cu(e)?(this.x+=e,void(this.y+=e)):(this.x+=e.x,this.y+=e.y,this)}sub(e){return Cu(e)?(this.x-=e,void(this.y-=e)):(this.x-=e.x,this.y-=e.y,this)}multi(e){throw new Error("暂不支持")}div(e){throw new Error("暂不支持")}}class tg{static distancePP(e,t){return Ku(qu(e.x-t.x,2)+qu(e.y-t.y,2))}static distanceNN(e,t,i,o){return Ku(qu(e-i,2)+qu(t-o,2))}static distancePN(e,t,i){return Ku(qu(t-e.x,2)+qu(i-e.y,2))}static pointAtPP(e,t,i){return new eg((t.x-e.x)*i+e.x,(t.y-e.y)*i+e.y)}}function ig(e){return e*(Math.PI/180)}function og(e,t,i){return t?{x:e.x+t*Math.cos(i),y:e.y+t*Math.sin(i)}:{x:e.x,y:e.y}}function lg(e){for(;e<0;)e+=2*Math.PI;for(;e>=2*Math.PI;)e-=2*Math.PI;return e}function ng(e,t,i,o){const{x:l,y:n}=t,r=function(e,t){const i=Math.abs(t-e);if(i>=2*Math.PI||2*Math.PI-i<1e-6)return[0,Math.PI/2,Math.PI,1.5*Math.PI];const o=lg(Math.min(e,t)),l=o+i,n=[o,l];let r=Math.floor(o/Math.PI)*Math.PI/2;for(;r<l;)r>o&&n.push(r),r+=Math.PI/2;return n}(i,o),{width:a,height:s}=e,h=[];return r.forEach(e=>{const t=Math.sin(e),i=Math.cos(e);1===t?h.push(s-n):-1===t?h.push(n):1===i?h.push(a-l):-1===i?h.push(l):(t>0?h.push(Math.abs((s-n)/t)):h.push(Math.abs(n/t)),i>0?h.push(Math.abs((a-l)/i)):h.push(Math.abs(l/i)))}),Math.min.apply(null,h)}class rg{constructor(e){e?this.setValue(e.x1,e.y1,e.x2,e.y2):this.clear()}clone(){return new rg(this)}clear(){return this.x1=+Number.MAX_VALUE,this.y1=+Number.MAX_VALUE,this.x2=-Number.MAX_VALUE,this.y2=-Number.MAX_VALUE,this}empty(){return this.x1===+Number.MAX_VALUE&&this.y1===+Number.MAX_VALUE&&this.x2===-Number.MAX_VALUE&&this.y2===-Number.MAX_VALUE}equals(e){return this.x1===e.x1&&this.y1===e.y1&&this.x2===e.x2&&this.y2===e.y2}setValue(e=0,t=0,i=0,o=0){return this.x1=e,this.y1=t,this.x2=i,this.y2=o,this}set(e=0,t=0,i=0,o=0){return i<e?(this.x2=e,this.x1=i):(this.x1=e,this.x2=i),o<t?(this.y2=t,this.y1=o):(this.y1=t,this.y2=o),this}add(e=0,t=0){return e<this.x1&&(this.x1=e),t<this.y1&&(this.y1=t),e>this.x2&&(this.x2=e),t>this.y2&&(this.y2=t),this}expand(e=0){return bu(e)?(this.y1-=e[0],this.x2+=e[1],this.y2+=e[2],this.x1-=e[3]):(this.x1-=e,this.y1-=e,this.x2+=e,this.y2+=e),this}round(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this}translate(e=0,t=0){return this.x1+=e,this.x2+=e,this.y1+=t,this.y2+=t,this}rotate(e=0,t=0,i=0){const o=this.rotatedPoints(e,t,i);return this.clear().add(o[0],o[1]).add(o[2],o[3]).add(o[4],o[5]).add(o[6],o[7])}scale(e=0,t=0,i=0,o=0){const l=this.scalePoints(e,t,i,o);return this.clear().add(l[0],l[1]).add(l[2],l[3])}union(e){return e.x1<this.x1&&(this.x1=e.x1),e.y1<this.y1&&(this.y1=e.y1),e.x2>this.x2&&(this.x2=e.x2),e.y2>this.y2&&(this.y2=e.y2),this}intersect(e){return e.x1>this.x1&&(this.x1=e.x1),e.y1>this.y1&&(this.y1=e.y1),e.x2<this.x2&&(this.x2=e.x2),e.y2<this.y2&&(this.y2=e.y2),this}encloses(e){return e&&this.x1<=e.x1&&this.x2>=e.x2&&this.y1<=e.y1&&this.y2>=e.y2}alignsWith(e){return e&&(this.x1===e.x1||this.x2===e.x2||this.y1===e.y1||this.y2===e.y2)}intersects(e){return e&&!(this.x2<e.x1||this.x1>e.x2||this.y2<e.y1||this.y1>e.y2)}contains(e=0,t=0){return!(e<this.x1||e>this.x2||t<this.y1||t>this.y2)}containsPoint(e){return!(e.x<this.x1||e.x>this.x2||e.y<this.y1||e.y>this.y2)}width(){return this.empty()?0:this.x2-this.x1}height(){return this.empty()?0:this.y2-this.y1}scaleX(e=0){return this.x1*=e,this.x2*=e,this}scaleY(e=0){return this.y1*=e,this.y2*=e,this}transformWithMatrix(e){return function(e,t,i){const{x1:o,y1:l,x2:n,y2:r}=t;i.onlyTranslate()?(e!==t&&e.setValue(t.x1,t.y1,t.x2,t.y2),e.translate(i.e,i.f)):(e.clear(),e.add(i.a*o+i.c*l+i.e,i.b*o+i.d*l+i.f),e.add(i.a*n+i.c*l+i.e,i.b*n+i.d*l+i.f),e.add(i.a*n+i.c*r+i.e,i.b*n+i.d*r+i.f),e.add(i.a*o+i.c*r+i.e,i.b*o+i.d*r+i.f))}(this,this,e),this}copy(e){return this.x1=e.x1,this.y1=e.y1,this.x2=e.x2,this.y2=e.y2,this}rotatedPoints(e,t,i){const{x1:o,y1:l,x2:n,y2:r}=this,a=Math.cos(e),s=Math.sin(e),h=t-t*a+i*s,d=i-t*s-i*a;return[a*o-s*l+h,s*o+a*l+d,a*o-s*r+h,s*o+a*r+d,a*n-s*l+h,s*n+a*l+d,a*n-s*r+h,s*n+a*r+d]}scalePoints(e,t,i,o){const{x1:l,y1:n,x2:r,y2:a}=this;return[e*l+(1-e)*i,t*n+(1-t)*o,e*r+(1-e)*i,t*a+(1-t)*o]}}function ag(e,t,i){t/=100,i/=100;const o=(1-Math.abs(2*i-1))*t,l=o*(1-Math.abs(e/60%2-1)),n=i-o/2;let r=0,a=0,s=0;return 0<=e&&e<60?(r=o,a=l,s=0):60<=e&&e<120?(r=l,a=o,s=0):120<=e&&e<180?(r=0,a=o,s=l):180<=e&&e<240?(r=0,a=l,s=o):240<=e&&e<300?(r=l,a=0,s=o):300<=e&&e<360&&(r=o,a=0,s=l),r=Math.round(255*(r+n)),a=Math.round(255*(a+n)),s=Math.round(255*(s+n)),{r:r,g:a,b:s}}function sg(e,t,i){e/=255,t/=255,i/=255;const o=Math.min(e,t,i),l=Math.max(e,t,i),n=l-o;let r=0,a=0,s=0;return r=0===n?0:l===e?(t-i)/n%6:l===t?(i-e)/n+2:(e-t)/n+4,r=Math.round(60*r),r<0&&(r+=360),s=(l+o)/2,a=0===n?0:n/(1-Math.abs(2*s-1)),a=+(100*a).toFixed(1),s=+(100*s).toFixed(1),{h:r,s:a,l:s}}const hg=/^#([0-9a-f]{3,8})$/,dg={transparent:4294967040},cg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pg(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function yg(e){return Cu(e)?new mg(e>>16,e>>8&255,255&e,1):bu(e)?new mg(e[0],e[1],e[2]):new mg(255,255,255)}function ug(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function gg(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const fg=(e,t)=>{const i=hg.exec(e);if(t||i){const e=parseInt(i[1],16),t=i[1].length;return 3===t?new mg((e>>8&15)+((e>>8&15)<<4),(e>>4&15)+((e>>4&15)<<4),(15&e)+((15&e)<<4),1):6===t?yg(e):8===t?new mg(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):null}};let kg=class e{static Brighter(t,i=1){return 1===i?t:new e(t).brighter(i).toRGBA()}static SetOpacity(t,i=1){return 1===i?t:new e(t).setOpacity(i).toRGBA()}static getColorBrightness(t,i="hsl"){const o=t instanceof e?t:new e(t);switch(i){case"hsv":default:return o.getHSVBrightness();case"hsl":return o.getHSLBrightness();case"lum":return o.getLuminance();case"lum2":return o.getLuminance2();case"lum3":return o.getLuminance3();case"wcag":return o.getLuminanceWCAG()}}static parseColorString(e){if(uu(dg[e]))return function(e){return Cu(e)?new mg(e>>>24,e>>>16&255,e>>>8&255,255&e):bu(e)?new mg(e[0],e[1],e[2],e[3]):new mg(255,255,255,1)}(dg[e]);if(uu(cg[e]))return yg(cg[e]);const t=`${e}`.trim().toLowerCase(),i=fg(t);if(void 0!==i)return i;if(/^(rgb|RGB|rgba|RGBA)/.test(t)){const e=t.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new mg(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseFloat(e[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(t)){const e=t.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),i=ag(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10));return new mg(i.r,i.g,i.b,parseFloat(e[3]))}}constructor(t){const i=e.parseColorString(t);i?this.color=i:(console.warn(`Warn: 传入${t}无法解析为Color`),this.color=new mg(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(e){const{r:t,g:i,b:o}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e))),this.color.b=Math.max(0,Math.min(255,Math.floor(o*e))),this}add(e){const{r:t,g:i,b:o}=this.color;return this.color.r+=Math.min(255,t+e.color.r),this.color.g+=Math.min(255,i+e.color.g),this.color.b+=Math.min(255,o+e.color.b),this}sub(e){return this.color.r=Math.max(0,this.color.r-e.color.r),this.color.g=Math.max(0,this.color.g-e.color.g),this.color.b=Math.max(0,this.color.b-e.color.b),this}multiply(e){const{r:t,g:i,b:o}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(o*e.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return.5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(e,t,i){const o=this.color.opacity,l=sg(this.color.r,this.color.g,this.color.b),n=ag(yu(e)?l.h:Yu(e,0,360),yu(t)?l.s:t>=0&&t<=1?100*t:t,yu(i)?l.l:i<=1&&i>=0?100*i:i);return this.color=new mg(n.r,n.g,n.b,o),this}setRGB(e,t,i){return!yu(e)&&(this.color.r=e),!yu(t)&&(this.color.g=t),!yu(i)&&(this.color.b=i),this}setHex(e){const t=`${e}`.trim().toLowerCase(),i=fg(t,!0);return null!=i?i:this}setColorName(e){const t=cg[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}setScalar(e){return this.color.r=e,this.color.g=e,this.color.b=e,this}setOpacity(e=1){return this.color.opacity=e,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}getLuminanceWCAG(){const e=this.color.r/255,t=this.color.g/255,i=this.color.b/255;let o,l,n;return o=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),l=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),n=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*n}clone(){return new e(this.color.toString())}copyGammaToLinear(e,t=2){return this.color.r=Math.pow(e.color.r,t),this.color.g=Math.pow(e.color.g,t),this.color.b=Math.pow(e.color.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.color.r=Math.pow(e.color.r,i),this.color.g=Math.pow(e.color.g,i),this.color.b=Math.pow(e.color.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.color.r=ug(e.color.r),this.color.g=ug(e.color.g),this.color.b=ug(e.color.b),this}copyLinearToSRGB(e){return this.color.r=gg(e.color.r),this.color.g=gg(e.color.g),this.color.b=gg(e.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}},mg=class{constructor(e,t,i,o){this.r=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.g=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.b=isNaN(+i)?255:Math.max(0,Math.min(255,+i)),uu(o)?this.opacity=isNaN(+o)?1:Math.max(0,Math.min(1,+o)):this.opacity=1}formatHex(){return`#${pg(this.r)+pg(this.g)+pg(this.b)+(1===this.opacity?"":pg(255*this.opacity))}`}formatRgb(){const e=this.opacity;return`${1===e?"rgb(":"rgba("}${this.r},${this.g},${this.b}${1===e?")":`,${e})`}`}formatHsl(){const e=this.opacity,{h:t,s:i,l:o}=sg(this.r,this.g,this.b);return`${1===e?"hsl(":"hsla("}${t},${i}%,${o}%${1===e?")":`,${e})`}`}toString(){return this.formatHex()}};function bg(e,t=0,i=0){if(!e)return{width:t,height:i};let o;try{o=null===window||void 0===window?void 0:window.getComputedStyle}catch(rH){o=()=>({})}const l=o(e);if(/^(\d*\.?\d+)(px)$/.exec(l.width)){const o=parseFloat(l.width)-parseFloat(l.paddingLeft)-parseFloat(l.paddingRight)||e.clientWidth-1,n=parseFloat(l.height)-parseFloat(l.paddingTop)-parseFloat(l.paddingBottom)||e.clientHeight-1;return{width:o<=0?t:o,height:n<=0?i:n}}return{width:t,height:i}}class vg{static getInstance(){return vg.instance||(vg.instance=new vg),vg.instance}constructor(){this.locale_shortWeekdays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.locale_periods=["AM","PM"],this.locale_weekdays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.locale_shortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.numberRe=/^\s*\d+/,this.pads={"-":"",_:" ",0:"0"},this.requoteRe=/[\\^$*+?|[\]().{}]/g,this.locale_months=["January","February","March","April","May","June","July","August","September","October","November","December"],this.formatShortWeekday=e=>this.locale_shortWeekdays[e.getDay()],this.formatWeekday=e=>this.locale_weekdays[e.getDay()],this.formatShortMonth=e=>this.locale_shortMonths[e.getMonth()],this.formatMonth=e=>this.locale_months[e.getMonth()],this.formatDayOfMonth=(e,t)=>this.pad(e.getDate(),t,2),this.formatHour24=(e,t)=>this.pad(e.getHours(),t,2),this.formatHour12=(e,t)=>this.pad(e.getHours()%12||12,t,2),this.formatMilliseconds=(e,t)=>this.pad(e.getMilliseconds(),t,3),this.formatMonthNumber=(e,t)=>this.pad(e.getMonth()+1,t,2),this.formatMinutes=(e,t)=>this.pad(e.getMinutes(),t,2),this.formatPeriod=e=>this.locale_periods[+(e.getHours()>=12)],this.formatSeconds=(e,t)=>this.pad(e.getSeconds(),t,2),this.formatFullYear=(e,t)=>this.pad(e.getFullYear()%1e4,t,4),this.formatUTCShortWeekday=e=>this.locale_shortWeekdays[e.getUTCDay()],this.formatUTCWeekday=e=>this.locale_weekdays[e.getUTCDay()],this.formatUTCShortMonth=e=>this.locale_shortMonths[e.getUTCMonth()],this.formatUTCMonth=e=>this.locale_months[e.getUTCMonth()],this.formatUTCDayOfMonth=(e,t)=>this.pad(e.getUTCDate(),t,2),this.formatUTCHour24=(e,t)=>this.pad(e.getUTCHours(),t,2),this.formatUTCHour12=(e,t)=>this.pad(e.getUTCHours()%12||12,t,2),this.formatUTCMilliseconds=(e,t)=>this.pad(e.getUTCMilliseconds(),t,3),this.formatUTCMonthNumber=(e,t)=>this.pad(e.getUTCMonth()+1,t,2),this.formatUTCMinutes=(e,t)=>this.pad(e.getUTCMinutes(),t,2),this.formatUTCPeriod=e=>this.locale_periods[+(e.getUTCHours()>=12)],this.formatUTCSeconds=(e,t)=>this.pad(e.getUTCSeconds(),t,2),this.formatUTCFullYear=(e,t)=>this.pad(e.getUTCFullYear()%1e4,t,4),this.formats={a:this.formatShortWeekday,A:this.formatWeekday,b:this.formatShortMonth,B:this.formatMonth,d:this.formatDayOfMonth,e:this.formatDayOfMonth,H:this.formatHour24,I:this.formatHour12,L:this.formatMilliseconds,m:this.formatMonthNumber,M:this.formatMinutes,p:this.formatPeriod,S:this.formatSeconds,Y:this.formatFullYear},this.utcFormats={a:this.formatUTCShortWeekday,A:this.formatUTCWeekday,b:this.formatUTCShortMonth,B:this.formatUTCMonth,d:this.formatUTCDayOfMonth,e:this.formatUTCDayOfMonth,H:this.formatUTCHour24,I:this.formatUTCHour12,L:this.formatUTCMilliseconds,m:this.formatUTCMonthNumber,M:this.formatUTCMinutes,p:this.formatUTCPeriod,S:this.formatUTCSeconds,Y:this.formatUTCFullYear},this.parseShortWeekday=(e,t,i)=>{const o=this.shortWeekdayRe.exec(t.slice(i));return o?(e.w=this.shortWeekdayLookup.get(o[0].toLowerCase()),i+o[0].length):-1},this.parseWeekday=(e,t,i)=>{const o=this.weekdayRe.exec(t.slice(i));return o?(e.w=this.weekdayLookup.get(o[0].toLowerCase()),i+o[0].length):-1},this.parseShortMonth=(e,t,i)=>{const o=this.shortMonthRe.exec(t.slice(i));return o?(e.m=this.shortMonthLookup.get(o[0].toLowerCase()),i+o[0].length):-1},this.parseMonth=(e,t,i)=>{const o=this.monthRe.exec(t.slice(i));return o?(e.m=this.monthLookup.get(o[0].toLowerCase()),i+o[0].length):-1},this.parseDayOfMonth=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+2));return o?(e.d=+o[0],i+o[0].length):-1},this.parseHour24=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+2));return o?(e.H=+o[0],i+o[0].length):-1},this.parseMilliseconds=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+3));return o?(e.L=+o[0],i+o[0].length):-1},this.parseMonthNumber=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+2));return o?(e.m=o-1,i+o[0].length):-1},this.parseMinutes=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+2));return o?(e.M=+o[0],i+o[0].length):-1},this.parsePeriod=(e,t,i)=>{const o=this.periodRe.exec(t.slice(i));return o?(e.p=this.periodLookup.get(o[0].toLowerCase()),i+o[0].length):-1},this.parseSeconds=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+2));return o?(e.S=+o[0],i+o[0].length):-1},this.parseFullYear=(e,t,i)=>{const o=this.numberRe.exec(t.slice(i,i+4));return o?(e.y=+o[0],i+o[0].length):-1},this.parses={a:this.parseShortWeekday,A:this.parseWeekday,b:this.parseShortMonth,B:this.parseMonth,d:this.parseDayOfMonth,e:this.parseDayOfMonth,H:this.parseHour24,I:this.parseHour24,L:this.parseMilliseconds,m:this.parseMonthNumber,M:this.parseMinutes,p:this.parsePeriod,S:this.parseSeconds,Y:this.parseFullYear},this.timeFormat=(e,t)=>this.newFormat(e,this.formats)(new Date(this.getFullTimeStamp(t))),this.timeUTCFormat=(e,t)=>this.newFormat(e,this.utcFormats)(new Date(this.getFullTimeStamp(t))),this.timeParse=(e,t)=>this.newParse(e,!1)(t+""),this.requoteF=this.requote.bind(this),this.periodRe=this.formatRe(this.locale_periods),this.periodLookup=this.formatLookup(this.locale_periods),this.weekdayRe=this.formatRe(this.locale_weekdays),this.weekdayLookup=this.formatLookup(this.locale_weekdays),this.shortWeekdayRe=this.formatRe(this.locale_shortWeekdays),this.shortWeekdayLookup=this.formatLookup(this.locale_shortWeekdays),this.monthRe=this.formatRe(this.locale_months),this.monthLookup=this.formatLookup(this.locale_months),this.shortMonthRe=this.formatRe(this.locale_shortMonths),this.shortMonthLookup=this.formatLookup(this.locale_shortMonths)}requote(e){return e.replace(this.requoteRe,"\\$&")}localDate(e){if(0<=e.y&&e.y<100){const t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}utcDate(e){if(0<=e.y&&e.y<100){const t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}newDate(e,t,i){return{y:e,m:t,d:i,H:0,M:0,S:0,L:0}}formatRe(e){return new RegExp("^(?:"+e.map(this.requoteF).join("|")+")","i")}formatLookup(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}pad(e,t,i){const o=e<0?"-":"",l=(o?-e:e)+"",n=l.length;return o+(n<i?new Array(i-n+1).join(t)+l:l)}parseSpecifier(e,t,i,o){let l=0;const n=t.length,r=i.length;let a,s;for(;l<n;){if(o>=r)return-1;if(a=t.charCodeAt(l++),37===a){if(a=t.charAt(l++),s=this.parses[a in this.pads?t.charAt(l++):a],!s||(o=s(e,i,o))<0)return-1}else if(a!==i.charCodeAt(o++))return-1}return o}newParse(e,t){const i=this;return function(o){const l=i.newDate(1900,void 0,1);return i.parseSpecifier(l,e,o+="",0)!==o.length?null:"Q"in l?new Date(l.Q):"s"in l?new Date(1e3*l.s+("L"in l?l.L:0)):(t&&!("Z"in l)&&(l.Z=0),"p"in l&&(l.H=l.H%12+12*l.p),void 0===l.m&&(l.m="q"in l?l.q:0),"Z"in l?(l.H+=l.Z/100|0,l.M+=l.Z%100,i.utcDate(l)):i.localDate(l))}}newFormat(e,t){const i=this;return function(o){const l=[];let n=-1,r=0;const a=e.length;let s,h,d;for(o instanceof Date||(o=new Date(+o));++n<a;)37===e.charCodeAt(n)&&(l.push(e.slice(r,n)),(h=i.pads[s=e.charAt(++n)])?s=e.charAt(++n):h="e"===s?" ":"0",d=t[s],s=d(o,h),l.push(s),r=n+1);return l.push(e.slice(r,n)),l.join("")}}getFullTimeStamp(e){const t=parseInt(e+"",10);return 10===String(t).length?1e3*t:t}}function Cg(e){const t=[];for(let i=0;i<e.length;i++){const o=e[i];0!==i&&o[0]===t[t.length-1]||t.push(o[0]),t.push(o[1])}return t}function Sg(e,t,i){const o=e.indexOf(t),l=e.indexOf(i);o>=0&&l>=0&&o<l&&(e.splice(o,1),e.splice(l,0,t))}const xg=(e,...t)=>Vu.getInstance().info(`[VChart log]: ${e}`,...t),_g=(e,t)=>(pu(Lg.warnHandler)&&Lg.warnHandler.call(null,e,t),Vu.getInstance().warn(`[VChart warn]: ${e}`)),wg=(e,t,i)=>{if(!pu(Lg.errorHandler))throw new Error(e);Lg.errorHandler.call(null,e,t)},Lg={warnHandler:!1,errorHandler:!1},Fg=uy(),Tg=Fg&&globalThis?globalThis.document:void 0;function Ag(e){return("desktop-browser"===e||"mobile-browser"===e)&&Fg}function zg(e){return Bg(e)||"mobile-browser"===e}function Bg(e){return e.includes("miniApp")||"lynx"===e||"wx"===e||"harmony"===e}let Mg=0;function Og(){return Mg>=9999999&&(Mg=0),Mg++}function Wg(e){return null!=e&&""!==e&&(!!Cu(e)||+e==+e)}function Rg(e){return!(!e||0===e.length)&&!yu(e[0])&&!yu(e[0].dataId)&&bu(e[0].fields)}const Hg=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","visible","clip","pickable","childrenPickable","zIndex","cursor"];class Pg extends Hs{constructor(e,t){super(e),this._skipRenderAttributes=Hg,(null==t?void 0:t.mode)&&(this.mode=t.mode,this.setMode(t.mode)),(null==t?void 0:t.skipDefault)&&(this.skipDefault=!0),this.setTheme({common:{strokeBoundsBuffer:0}}),this.attribute=e,this.onSetStage(()=>{this.render(),this.bindEvents()})}setAttribute(e,t,i,o){const l=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate({[e]:t},this.attribute,e,o);if(l)return this._setAttributes(l,i);Ne(this.attribute[e])&&Ne(t)&&!Ee(this.attribute[e])&&!Ee(t)?lt(this.attribute[e],t):this.attribute[e]=t,this._skipRenderAttributes.includes(e)||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!i&&!this.needUpdateTag(e)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}setAttributes(e,t,i){return e=this.onBeforeAttributeUpdate&&this.onBeforeAttributeUpdate(e,this.attribute,null,i)||e,this._setAttributes(e,t)}_setAttributes(e,t){const i=Object.keys(e);this._mergeAttributes(e,i),i.every(e=>this._skipRenderAttributes.includes(e))||this.render(),this.valid=this.isValid(),this.updateShapeAndBoundsTagSetted()||!t&&!this.needUpdateTags(i)?this.addUpdateBoundTag():this.addUpdateShapeAndBoundsTag(),this.addUpdatePositionTag(),this.onAttributeUpdate()}_mergeAttributes(e,t){De(t)&&(t=Object.keys(e));for(let i=0;i<t.length;i++){const o=t[i];!Ne(this.attribute[o])||Ee(this.attribute[o])||Ee(e[o])?this.attribute[o]=e[o]:lt(this.attribute[o],e[o])}}bindEvents(){}_getNodeId(e){var t;return`${null!==(t=this.id)&&void 0!==t?t:this._uid}-${this.name}-${e}`}_dispatchEvent(e,t){var i;const o=new Un(e,t);o.manager=null===(i=this.stage)||void 0===i?void 0:i.eventSystem.manager,this.dispatchEvent(o)}eventPosToStagePos(e){var t,i;const o={x:0,y:0},l=null!==(i=null===(t=this.stage)||void 0===t?void 0:t.eventPointTransform(e))&&void 0!==i?i:{x:0,y:0};return this.globalTransMatrix.transformPoint(l,o),o}}const Eg=Symbol.for("MathPickerContribution"),Dg=Symbol.for("MathArcPicker"),Ig=Symbol.for("MathAreaPicker"),jg=Symbol.for("MathImagePicker"),Ng=Symbol.for("MathLinePicker"),Gg=Symbol.for("MathPathPicker"),Ug=Symbol.for("MathRectPicker"),Vg=Symbol.for("MathSymbolPicker"),Yg=Symbol.for("MathTextPicker"),Zg=Symbol.for("MathPolygonPicker"),Xg=Symbol.for("CanvasArcPicker"),$g=Symbol.for("CanvasAreaPicker"),Kg=Symbol.for("CanvasLinePicker"),qg=Symbol.for("CanvasPathPicker"),Jg=Symbol.for("CanvasRectPicker"),Qg=Symbol.for("CanvasSymbolPicker"),ef=Symbol.for("CanvasTextPicker"),tf=Symbol.for("CanvasPolygonPicker"),of=Symbol.for("CanvasRichTextPicker"),lf=Symbol.for("CanvasGroupPicker"),nf=Symbol.for("CanvasPickerContribution"),rf=(e,t)=>{const i=t.x-e.x,o=t.y-e.y;return Math.abs(i)>Math.abs(o)?i>0?"right":"left":o>0?"down":"up"},af=(e,t)=>{const i=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return Math.sqrt(i*i+o*o)};class sf extends e{constructor(e,t={}){var i,o,l,n,r,a,s,h,d,c;super(),this.cachedEvents=[],this.startPoints=[],this.processEvent={},this.throttleTimer=0,this.emitThrottles=[],this.lastTapTarget=null,this.onStart=e=>{this.startTime=Vn.now();const{cachedEvents:t,startPoints:i}=this;e&&t.push(e.clone()),i.length=t.length;for(let o=0;o<t.length;o++){const{x:e,y:l}=t[o],n={x:e,y:l};i[o]=n}if(1!==i.length)this.startDistance=af(i[0],i[1]),this.center=(e=>{const t=e.length;if(1===t)return{x:Math.round(e[0].x),y:Math.round(e[0].y)};let i=0,o=0,l=0;for(;l<t;)i+=e[l].x,o+=e[l].y,l++;return{x:Math.round(i/t),y:Math.round(o/t)}})([i[0],i[1]]);else{const e=t[0];this.pressTimeout=setTimeout(()=>{e.direction="none",e.deltaX=0,e.deltaY=0,e.points=i,this.triggerStartEvent("press",e),this.triggerEvent("press",e),this.eventType="press",this.direction="none",this.pressTimeout=null},this.config.press.time)}},this.onMove=e=>{this.clearPressTimeout();const{startPoints:t,cachedEvents:i}=this;if(!t.length)return;const o=e.clone(),{x:l,y:n,pointerId:r}=o;for(let p=0,y=i.length;p<y;p++)if(r===i[p].pointerId){i[p]=o;break}const a={x:l,y:n},s=i.map(e=>({x:e.x,y:e.y})),h=Vn.now();if(this.prevMoveTime=this.lastMoveTime,this.prevMovePoint=this.lastMovePoint,this.lastMoveTime=h,this.lastMovePoint=a,1===t.length){const e=t[0],i=l-e.x,r=n-e.y,h=this.direction||rf(e,a);this.direction=h;const d=this.getEventType(a);return o.direction=h,o.deltaX=i,o.deltaY=r,o.points=s,this.triggerStartEvent(d,o),void this.triggerEvent(d,o)}const{startDistance:d}=this,c=af(s[0],s[1]);o.scale=c/d,o.center=this.center,o.points=s,this.triggerStartEvent("pinch",o),this.triggerEvent("pinch",o)},this.onEnd=e=>{const t=e.clone(),{cachedEvents:i,startPoints:o}=this,l=i.map(e=>({x:e.x,y:e.y}));if(t.points=l,this.triggerEndEvent(t),1===i.length){const i=Vn.now(),l=this.lastMoveTime;if(i-l<100){const e=l-(this.prevMoveTime||this.startTime);if(e>0){const i=this.prevMovePoint||o[0],l=this.lastMovePoint||o[0],n=af(i,l),r=n/e;if(r>this.config.swipe.velocity&&n>this.config.swipe.threshold)return t.velocity=r,t.direction=rf(i,l),this.triggerEvent("swipe",t),this.cachedEvents=[],this.startPoints=[],void this.reset()}}i-this.startTime<this.config.press.time&&(i-this.lastTapTime<this.config.tap.interval&&e.target===this.lastTapTarget?this.tapCount++:this.tapCount=1,this.lastTapTime=i,this.lastTapTarget=e.target,1===this.tapCount?this.triggerEvent("tap",t):2===this.tapCount&&(this.triggerEvent("doubletap",t),this.tapCount=0))}for(let n=0,r=i.length;n<r;n++)if(i[n].pointerId===t.pointerId){i.splice(n,1),o.splice(n,1);break}this.reset(),i.length>0&&this.onStart()},this.element=e,this.tapCount=0,this.lastTapTime=0,this.config={press:{time:null!==(o=null===(i=null==t?void 0:t.press)||void 0===i?void 0:i.time)&&void 0!==o?o:251,threshold:null!==(n=null===(l=null==t?void 0:t.press)||void 0===l?void 0:l.threshold)&&void 0!==n?n:9},swipe:{threshold:null!==(a=null===(r=null==t?void 0:t.swipe)||void 0===r?void 0:r.threshold)&&void 0!==a?a:10,velocity:null!==(h=null===(s=null==t?void 0:t.swipe)||void 0===s?void 0:s.velocity)&&void 0!==h?h:.3},tap:{interval:null!==(c=null===(d=null==t?void 0:t.tap)||void 0===d?void 0:d.interval)&&void 0!==c?c:300}},this.initEvents()}initEvents(){const{element:e}=this;e&&(e.addEventListener("pointerdown",this.onStart),e.addEventListener("pointermove",this.onMove),e.addEventListener("pointerup",this.onEnd),e.addEventListener("pointerleave",this.onEnd),e.addEventListener("pointerupoutside",this.onEnd))}removeEvents(){const{element:e}=this;e&&(e.removeEventListener("pointerdown",this.onStart),e.removeEventListener("pointermove",this.onMove),e.removeEventListener("pointerup",this.onEnd),e.removeEventListener("pointerleave",this.onEnd),e.removeEventListener("pointerupoutside",this.onEnd))}release(){this.removeEvents(),this.element=null}getEventType(e){const{eventType:t,startTime:i,startPoints:o}=this;if("press"===t)return t;let l;return l=Vn.now()-i>this.config.press.time&&af(o[0],e)<this.config.press.threshold?"press":"pan",this.eventType=l,l}enable(e){this.processEvent[e]=!0}isProcess(e){return this.processEvent[e]}pushEvent(e,t){const{emitThrottles:i}=this,o={type:e,ev:t};for(let l=0,n=i.length;l<n;l++)if(i[l].type===e)return void i.splice(l,1,o);i.push(o)}clearPressTimeout(){this.pressTimeout&&(clearTimeout(this.pressTimeout),this.pressTimeout=null)}reset(){this.clearPressTimeout(),this.startTime=0,this.startDistance=0,this.direction=null,this.eventType=null,this.prevMoveTime=0,this.prevMovePoint=null,this.lastMoveTime=0,this.lastMovePoint=null}triggerEvent(e,t){this.pushEvent(e,t);const{throttleTimer:i,emitThrottles:o}=this;i||(this.throttleTimer=xe.global.getRequestAnimationFrame()(()=>{xe.global.getCancelAnimationFrame()(this.throttleTimer),this.throttleTimer=null;for(let e=0,t=o.length;e<t;e++){const{type:t,ev:i}=o[e];this.emitEvent(t,i)}this.emitThrottles.length=0}))}triggerStartEvent(e,t){this.isProcess(e)||(this.enable(e),this.triggerEvent(`${e}start`,t))}triggerEndEvent(e){const t=this.processEvent;Object.keys(t).forEach(i=>{this.triggerEvent(`${i}end`,e),"press"===i&&this.triggerEvent(`${i}up`,e),delete t[i]})}emitEvent(e,t){if(!this.element)return;const i=this.element._events["*"];if(i)if("fn"in i)i.fn.call(i.context,t,e);else for(let o=0,l=i.length;o<l&&!t.propagationImmediatelyStopped;o++)i[o].fn.call(i[o].context,t,e);this.emit(e,t)}}var hf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},df=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};const cf=[0,0,0];let pf=class{set fillStyle(e){this.nativeContext.fillStyle=e}get fillStyle(){return this.nativeContext.fillStyle}set font(e){e!==this._font&&(this._font=e,this.nativeContext.font=e)}get font(){var e;return null!==(e=this._font)&&void 0!==e?e:this.nativeContext.font}set globalAlpha(e){this.nativeContext.globalAlpha=e*this.baseGlobalAlpha}get globalAlpha(){return this.nativeContext.globalAlpha}set lineCap(e){this.nativeContext.lineCap=e}get lineCap(){return this.nativeContext.lineCap}set lineDashOffset(e){this.nativeContext.lineDashOffset=e}get lineDashOffset(){return this.nativeContext.lineDashOffset}set lineJoin(e){this.nativeContext.lineJoin=e}get lineJoin(){return this.nativeContext.lineJoin}set lineWidth(e){this.nativeContext.lineWidth=e}get lineWidth(){return this.nativeContext.lineWidth}set miterLimit(e){this.nativeContext.miterLimit=e}get miterLimit(){return this.nativeContext.miterLimit}set shadowBlur(e){this.nativeContext.shadowBlur=e}get shadowBlur(){return this.nativeContext.shadowBlur}set shadowColor(e){this.nativeContext.shadowColor=e}get shadowColor(){return this.nativeContext.shadowColor}set shadowOffsetX(e){this.nativeContext.shadowOffsetX=e}get shadowOffsetX(){return this.nativeContext.shadowOffsetX}set shadowOffsetY(e){this.nativeContext.shadowOffsetY=e}get shadowOffsetY(){return this.nativeContext.shadowOffsetY}set strokeStyle(e){this.nativeContext.strokeStyle=e}get strokeStyle(){return this.nativeContext.strokeStyle}set textAlign(e){this.nativeContext.textAlign=e}get textAlign(){return this.nativeContext.textAlign}set textBaseline(e){this.nativeContext.textBaseline=e}get textBaseline(){return this.nativeContext.textBaseline}get inuse(){return!!this._inuse}set inuse(e){e!==!!this._inuse&&(this._inuse=e,e?(this.nativeContext.save(),this.reset()):this.nativeContext.restore())}constructor(e,t){this.fillAttributes=Object.assign(Object.assign({},qo),{opacity:1}),this.strokeAttributes=Object.assign(Object.assign({},Qo),{opacity:1}),this.textAttributes=Object.assign(Object.assign({},el),{opacity:1}),this._clearShadowStyle=!1,this._clearFilterStyle=!1,this._clearGlobalCompositeOperationStyle=!1;const i=e.nativeCanvas.getContext("2d");if(!i)throw new Error("发生错误，获取2d上下文失败");this.nativeContext=i,this.canvas=e,this.matrix=new gi(1,0,0,1,0,0),this.stack=[],this.dpr=t,this.applyedMatrix=new gi(1,0,0,1,0,0),this._clearMatrix=new gi(1,0,0,1,0,0),this.baseGlobalAlpha=1}reset(e=!0){this.stack.length&&mt.getInstance().warn("可能存在bug，matrix没有清空"),this.matrix.setValue(1,0,0,1,0,0),this.applyedMatrix=new gi(1,0,0,1,0,0),this.stack.length=0,e&&this.nativeContext.setTransform(1,0,0,1,0,0)}getCanvas(){return this.canvas}getContext(){return this.nativeContext}setTransformForCurrent(e=!1){!e&&this.applyedMatrix.equalToMatrix(this.matrix)||(this.applyedMatrix.setValue(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f),this.nativeContext.setTransform(this.matrix.a,this.matrix.b,this.matrix.c,this.matrix.d,this.matrix.e,this.matrix.f))}get currentMatrix(){return this.matrix}cloneMatrix(e){return ns.allocateByObj(e)}clear(){this.save(),this.resetTransform(),this.nativeContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.restore()}restore(){this.nativeContext.restore(),this.stack.length>0&&(ns.free(this.matrix),this.matrix=this.stack.pop(),this.setTransformForCurrent(!0)),this.font="",this._clearFilterStyle=!1,this._clearShadowStyle=!1}highPerformanceRestore(){this.stack.length>0&&(ns.free(this.matrix),this.matrix=this.stack.pop())}rotate(e,t=!0){this.matrix.rotate(e),t&&this.setTransformForCurrent()}save(){const e=this.cloneMatrix(this.matrix);this.stack.push(e),this.nativeContext.save()}highPerformanceSave(){const e=this.cloneMatrix(this.matrix);this.stack.push(e)}scale(e,t,i=!0){this.matrix.scale(e,t),i&&this.setTransformForCurrent()}setScale(e,t,i=!0){this.matrix.setScale(e,t),i&&this.setTransformForCurrent()}scalePoint(e,t,i,o,l=!0){this.translate(i,o,!1),this.scale(e,t,!1),this.translate(-i,-o,!1),l&&this.setTransformForCurrent()}setTransform(e,t,i,o,l,n,r=!0,a=this.dpr){this.matrix.setValue(a*e,a*t,a*i,a*o,a*l,a*n),r&&this.setTransformForCurrent()}setTransformFromMatrix(e,t=!0,i=this.dpr){this.matrix.setValue(e.a*i,e.b*i,e.c*i,e.d*i,e.e*i,e.f*i),t&&this.setTransformForCurrent()}resetTransform(e=!0,t=this.dpr){this.setTransform(t,0,0,t,0,0),e&&this.setTransformForCurrent()}transform(e,t,i,o,l,n,r=!0){this.matrix.multiply(e,t,i,o,l,n),r&&this.setTransformForCurrent()}transformFromMatrix(e,t){this.matrix.multiply(e.a,e.b,e.c,e.d,e.e,e.f),t&&this.setTransformForCurrent()}translate(e,t,i=!0){this.matrix.translate(e,t),i&&this.setTransformForCurrent()}rotateDegrees(e,t=!0){const i=e*Math.PI/180;this.rotate(i,t)}rotateAbout(e,t,i,o=!0){this.translate(t,i,!1),this.rotate(e,!1),this.translate(-t,-i,!1),o&&this.setTransformForCurrent()}rotateDegreesAbout(e,t,i,o=!0){this.translate(t,i,!1),this.rotateDegrees(e,!1),this.translate(-t,-i,!1),o&&this.setTransformForCurrent()}beginPath(){this.disableBeginPath||this.nativeContext.beginPath()}clip(e,t){e?"string"==typeof e?this.nativeContext.clip(e):this.nativeContext.clip(e,t):this.nativeContext.clip()}arc(e,t,i,o,l,n,r){if(r=r||0,this.camera){const a=[];((e,t,i,o,l,n,r,a)=>{if(a)for(;i>t;)i-=Bt;else for(;i<t;)i+=Bt;const s=Tt/3*(i>t?1:-1);let h=t,d=h;for(;d!==i;){d=s>0?Math.min(d+s,i):Math.max(d+s,i);const t=Math.abs(d-h),a=4*Math.tan(t/4)/3,c=d<h?-1:1,p=Math.cos(h),y=Math.sin(h),u=Math.cos(d),g=Math.sin(d),f=p*n+o,k=y*r+l,m=u*n+o,b=g*r+l,v=n*a*c,C=r*a*c;e.push([f-v*y,k+C*p,m+v*g,b-C*u,m,b]),h=d}})(a,o,l,e,t,i,i,n);for(let e=0;e<a.length;++e){const t=a[e];this.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5],r)}}else this.nativeContext.arc(e,t,Math.max(0,i),o,l,n)}arcTo(e,t,i,o,l){this.nativeContext.arcTo(e,t,i,o,l)}bezierCurveTo(e,t,i,o,l,n,r){if(r=r||0,this.camera){let a=r,s=r;this.modelMatrix&&(os(cf,[e,t,r],this.modelMatrix),e=cf[0],t=cf[1],a=cf[2],os(cf,[i,o,r],this.modelMatrix),i=cf[0],o=cf[1],s=cf[2],os(cf,[l,n,r],this.modelMatrix),l=cf[0],n=cf[1],r=cf[2]);let h=this.camera.vp(l,n,r);l=h.x,n=h.y,h=this.camera.vp(e,t,a),e=h.x,t=h.y,h=this.camera.vp(i,o,s),i=h.x,o=h.y}this.nativeContext.bezierCurveTo(e,t,i,o,l,n)}closePath(){this.nativeContext.closePath()}ellipse(e,t,i,o,l,n,r,a){null==a?this.nativeContext.ellipse(e,t,i,o,l,n,r):this.nativeContext.ellipse(e,t,i,o,l,n,r,a)}lineTo(e,t,i){if(i=i||0,this.camera){this.modelMatrix&&(os(cf,[e,t,i],this.modelMatrix),e=cf[0],t=cf[1],i=cf[2]);const o=this.camera.vp(e,t,i);e=o.x,t=o.y}this.nativeContext.lineTo(e,t)}moveTo(e,t,i){if(i=i||0,this.camera){this.modelMatrix&&(os(cf,[e,t,i],this.modelMatrix),e=cf[0],t=cf[1],i=cf[2]);const o=this.camera.vp(e,t,i);e=o.x,t=o.y}this.nativeContext.moveTo(e,t)}quadraticCurveTo(e,t,i,o,l){if(l=l||0,this.camera){let n=l;this.modelMatrix&&(os(cf,[e,t,l],this.modelMatrix),e=cf[0],t=cf[1],n=cf[2],os(cf,[i,o,l],this.modelMatrix),i=cf[0],o=cf[1],l=cf[2]);let r=this.camera.vp(i,o,l);i=r.x,o=r.y,r=this.camera.vp(e,t,n),e=r.x,t=r.y}this.nativeContext.quadraticCurveTo(e,t,i,o)}rect(e,t,i,o,l){l=l||0,this.camera?(this.moveTo(e,t,l),this.lineTo(e+i,t,l),this.lineTo(e+i,t+o,l),this.lineTo(e,t+o,l),this.closePath()):this.nativeContext.rect(e,t,i,o)}createImageData(){const e=arguments;return 2===e.length?this.nativeContext.createImageData(e[0],e[1]):1===e.length?this.nativeContext.createImageData(e[0]):null}createLinearGradient(e,t,i,o){return isFinite(e+t+i+o)||(e=0,t=0,i=0,o=0),this.nativeContext.createLinearGradient(e,t,i,o)}createPattern(e,t){return 0===e.width||0===e.height?null:this.nativeContext.createPattern(e,t)}createRadialGradient(e,t,i,o,l,n){return this.nativeContext.createRadialGradient(e,t,i,o,l,n)}createConicGradient(e,t,i,o){if(this.nativeContext.createConicGradient&&Math.abs(o-i-2*Math.PI)<.001)return this.nativeContext.createConicGradient(i,e,t);let l,n=!1;const r=this;return{stops:[],addColorStop(e,t){this.stops.push([e,t]),n=!0},GetPattern(a,s,h){return n&&(h||(h=o-i),l=function(e,t,i,o,l,n,r,a,s){const h=Math.floor(180*l/Math.PI),d=xs.GetCanvas(),c=xs.GetCtx();if(!c)return null;const p=ws.GetSize(a),y=ws.GetSize(s);let u=ws.Get(t,i,o,n,r,p,y);if(u)return u;const g=Math.sqrt(Math.max(Math.max(Math.pow(i,2)+Math.pow(o,2),Math.pow(p-i,2)+Math.pow(o,2)),Math.max(Math.pow(p-i,2)+Math.pow(y-o,2),Math.pow(i,2)+Math.pow(y-o,2)))),f=h+1,k=l/Math.max(1,f-1),m=_s.getInstance().GetOrCreate(i,o,p,y,t,f),b=2*Math.PI*g/360;d.width=p,d.height=y,c.setTransform(1,0,0,1,0,0),c.clearRect(0,0,p,y),c.translate(i,o),c.rotate(n);for(let C=0,S=f-1;C<S&&!(n+C*k>r);C++){const e=m.getColor(C);c.beginPath(),c.rotate(k),c.moveTo(0,0),c.lineTo(g,-2*b),c.lineTo(g,0),c.fillStyle=e,c.closePath(),c.fill()}const v=c.getImageData(0,0,p,y);return d.width=v.width,d.height=v.height,c.putImageData(v,0,0),u=e.createPattern(d,"no-repeat"),u&&ws.Set(t,i,o,n,r,u,p,y),u}(r,this.stops,e,t,h,i,o,a,s),n=!1),l}}}fill(e,t){this.disableFill||(e?this.nativeContext.fill(e):this.nativeContext.fill())}fillRect(e,t,i,o){this.nativeContext.fillRect(e,t,i,o)}clearRect(e,t,i,o){this.nativeContext.clearRect(e,t,i,o)}project(e,t,i){if(i=i||0,this.camera){this.modelMatrix&&(os(cf,[e,t,i],this.modelMatrix),e=cf[0],t=cf[1],i=cf[2]);const o=this.camera.vp(e,t,i);e=o.x,t=o.y}return{x:e,y:t}}view(e,t,i){return i=i||0,this.camera?(this.modelMatrix&&(os(cf,[e,t,i],this.modelMatrix),e=cf[0],t=cf[1],i=cf[2]),this.camera.view(e,t,i)):[e,t,i]}fillText(e,t,i,o){if(o=o||0,this.camera){this.modelMatrix&&(os(cf,[t,i,o],this.modelMatrix),t=cf[0],i=cf[1],o=cf[2]);const e=this.camera.vp(t,i,o);t=e.x,i=e.y}this.nativeContext.fillText(e,t,i)}getImageData(e,t,i,o){return this.nativeContext.getImageData(e,t,i,o)}getLineDash(){return this.nativeContext.getLineDash()}isPointInPath(e,t){return this.nativeContext.isPointInPath(e,t)}isPointInStroke(e,t){return this.nativeContext.isPointInStroke(e,t)}measureText(e,t=xe.global.measureTextMethod){var i,o;if(!t||"native"===t)return this.nativeContext.measureText(e);this.mathTextMeasure||(this.mathTextMeasure=xe.graphicUtil.createTextMeasureInstance({},{},()=>this.canvas.nativeCanvas));const l=null!==(i=this.fontFamily)&&void 0!==i?i:el.fontFamily,n=null!==(o=this.fontSize)&&void 0!==o?o:el.fontSize;return this.mathTextMeasure.textSpec.fontFamily===l&&this.mathTextMeasure.textSpec.fontSize===n||(this.mathTextMeasure.textSpec.fontFamily=l,this.mathTextMeasure.textSpec.fontSize=n,this.mathTextMeasure._numberCharSize=null,this.mathTextMeasure._fullCharSize=null,this.mathTextMeasure._letterCharSize=null,this.mathTextMeasure._specialCharSizeMap={}),this.mathTextMeasure.measure(e,t)}putImageData(e,t,i){this.nativeContext.putImageData(e,t,i)}setLineDash(e){const t=arguments,i=this.nativeContext;this.nativeContext.setLineDash?t[0]&&i.setLineDash(t[0]):"mozDash"in i?i.mozDash=t[0]:"webkitLineDash"in i&&(i.webkitLineDash=t[0])}stroke(e){this.disableStroke||(e?this.nativeContext.stroke(e):this.nativeContext.stroke())}strokeRect(e,t,i,o){this.nativeContext.strokeRect(e,t,i,o)}strokeText(e,t,i,o){if(o=o||0,this.camera){this.modelMatrix&&(os(cf,[t,i,o],this.modelMatrix),t=cf[0],i=cf[1],o=cf[2]);const e=this.camera.vp(t,i,o);t=e.x,i=e.y}this.nativeContext.strokeText(e,t,i)}drawImage(){const e=this.nativeContext,t=arguments;3===t.length?e.drawImage(t[0],t[1],t[2]):5===t.length?e.drawImage(t[0],t[1],t[2],t[3],t[4]):9===t.length&&e.drawImage(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])}setCommonStyle(e,t,i,o,l){if(Array.isArray(l)){if(l.length<=1)return this._setCommonStyle(e,t,i,o,l[0]);const n=Object.create(l[0]);return l.forEach((e,t)=>{0!==t&&Object.assign(n,e)}),this._setCommonStyle(e,t,i,o,n)}return this._setCommonStyle(e,t,i,o,l)}_setCommonStyle(e,t,i,o,l){const n=this.nativeContext;l||(l=this.fillAttributes);const{fillOpacity:r=l.fillOpacity,opacity:a=l.opacity,fill:s=l.fill}=t;n.globalAlpha=r*a*this.baseGlobalAlpha,r>1e-12&&a>1e-12&&(n.fillStyle=Sl(this,s,e,i,o))}setShadowBlendStyle(e,t,i){if(Array.isArray(i)){if(i.length<=1)return this._setShadowBlendStyle(e,i[0]);const o=Object.create(i[0]);return i.forEach((e,t)=>{0!==t&&Object.assign(o,e)}),this._setShadowBlendStyle(e,t,o)}return this._setShadowBlendStyle(e,t,i)}_setShadowBlendStyle(e,t,i){const o=this.nativeContext;i||(i=this.fillAttributes);const{opacity:l=i.opacity,shadowBlur:n=i.shadowBlur,shadowOffsetX:r=i.shadowOffsetX,shadowOffsetY:a=i.shadowOffsetY,blur:s=i.blur,globalCompositeOperation:h=i.globalCompositeOperation}=t;if(!(l<=1e-12)){if(r||a||n){const{shadowColor:e=i.shadowColor,shadowOffsetX:l=i.shadowOffsetX,shadowOffsetY:r=i.shadowOffsetY}=t;o.shadowBlur=n*this.dpr,o.shadowColor=e,o.shadowOffsetX=l*this.dpr,o.shadowOffsetY=r*this.dpr,this._clearShadowStyle=!0}else this._clearShadowStyle&&(o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0);s?(o.filter=`blur(${s}px)`,this._clearFilterStyle=!0):this._clearFilterStyle&&(o.filter="blur(0px)",this._clearFilterStyle=!1),h?(o.globalCompositeOperation=h,this._clearGlobalCompositeOperationStyle=!0):this._clearGlobalCompositeOperationStyle&&(o.globalCompositeOperation="source-over",this._clearGlobalCompositeOperationStyle=!1)}}setStrokeStyle(e,t,i,o,l){if(Array.isArray(l)){if(l.length<=1)return this._setStrokeStyle(e,t,i,o,l[0]);const n=Object.create(l[0]);return l.forEach((e,t)=>{0!==t&&Object.assign(n,e)}),this._setStrokeStyle(e,t,i,o,n)}return this._setStrokeStyle(e,t,i,o,l)}_setStrokeStyle(e,t,i,o,l){const n=this.nativeContext;l||(l=this.strokeAttributes);const{strokeOpacity:r=l.strokeOpacity,opacity:a=l.opacity}=t;if(n.globalAlpha=r*a*this.baseGlobalAlpha,r>1e-12&&a>1e-12){const{lineWidth:r=l.lineWidth,stroke:a=l.stroke,lineJoin:s=l.lineJoin,lineDash:h=l.lineDash,lineDashOffset:d=l.lineDashOffset,lineCap:c=l.lineCap,miterLimit:p=l.miterLimit,keepStrokeScale:y=l.keepStrokeScale}=t;n.lineWidth=y?r:Cl(this,r,this.dpr),n.strokeStyle=Sl(this,a,e,i,o),n.lineJoin=s,h&&(n.setLineDash(h),n.lineDashOffset=d),n.lineCap=c,n.miterLimit=p}}setTextStyleWithoutAlignBaseline(e,t,i){const o=this.nativeContext;t||(t=this.textAttributes);const{scaleIn3d:l=t.scaleIn3d}=e;e.font?this.font=e.font:this.font=si(e,t,l&&this.camera&&this.camera.getProjectionScale(i));const{fontFamily:n=t.fontFamily,fontSize:r=t.fontSize}=e;this.fontFamily=n,this.fontSize=r,o.textAlign="left",o.textBaseline="alphabetic"}setTextStyle(e,t,i){var o,l;const n=this.nativeContext;t||(t=this.textAttributes),e.font?this.font=e.font:this.font=si(e,t,this.camera&&this.camera.getProjectionScale(i));const{fontFamily:r=t.fontFamily,fontSize:a=t.fontSize}=e;this.fontFamily=r,this.fontSize=a,n.textAlign=null!==(o=e.textAlign)&&void 0!==o?o:t.textAlign,n.textBaseline=null!==(l=e.textBaseline)&&void 0!==l?l:t.textBaseline}draw(){}clearMatrix(e=!0,t=this.dpr){this.setTransformFromMatrix(this._clearMatrix,e,t)}setClearMatrix(e,t,i,o,l,n){this._clearMatrix.setValue(e,t,i,o,l,n)}onlyTranslate(e=this.dpr){return this.matrix.a===e&&0===this.matrix.b&&0===this.matrix.c&&this.matrix.d===e}release(...e){this.stack.forEach(e=>ns.free(e)),this.stack.length=0}};pf.env="browser",pf=hf([Q(),df("design:paramtypes",[Object,Number])],pf);var yf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},uf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let gf=class extends ys{constructor(e){super(e)}init(e){const{container:t}=e;if("string"==typeof t){const e=xe.global.getElementById(t);e&&(this._container=e)}else this._container=t;this._context=new pf(this,this._dpr),this.initStyle()}initStyle(){if(!this.controled)return;const{nativeCanvas:e}=this;e.width=this._pixelWidth,e.height=this._pixelHeight,!e.style||this.setCanvasStyle(e,this._x,this._y,this._displayWidth,this._displayHeight),this._container&&this._container.appendChild(e),this.visiable||this.hide()}hide(){this._nativeCanvas&&(this._nativeCanvas.style.display="none")}show(){this._nativeCanvas&&(this._nativeCanvas.style.display="block")}applyPosition(){const e=this._nativeCanvas;e.style.position="absolute",e.style.top=`${this._y}px`,e.style.left=`${this._x}px`}resetStyle(e){if(!this.controled)return;const{width:t=this._displayWidth,height:i=this._displayHeight,dpr:o=this._dpr,x:l=this._x,y:n=this._y}=e,{nativeCanvas:r}=this;r.width=t*o,r.height=i*o,!r.style||this.setCanvasStyle(r,l,n,t,i),e.id&&(r.id=e.id),this.visiable||this.hide()}setCanvasStyle(e,t,i,o,l){this.controled&&(e.style.width=`${o}px`,e.style.height=`${l}px`)}toDataURL(e,t){return"image/jpeg"===e?this._nativeCanvas.toDataURL(e,t):"image/png"===e?this._nativeCanvas.toDataURL(e):this._nativeCanvas.toDataURL(e,t)}resize(e,t){this.controled&&(this._pixelWidth=e*this._dpr,this._pixelHeight=t*this._dpr,this._displayWidth=e,this._displayHeight=t,this._nativeCanvas.style&&(this._nativeCanvas.style.width=`${e}px`,this._nativeCanvas.style.height=`${t}px`),this._nativeCanvas.width=this._pixelWidth,this._nativeCanvas.height=this._pixelHeight,this._context.dpr=this._dpr)}};function ff(e,t){return new I(i=>{i(Il).toDynamicValue(()=>t=>new e(t)).whenTargetNamed(e.env),i(jl).toDynamicValue(()=>(e,i)=>new t(e,i)).whenTargetNamed(t.env)})}gf.env="browser",gf=yf([Q(),uf("design:paramtypes",[Object])],gf);const kf=ff(gf,pf);var mf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},bf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vf=function(e,t){return function(i,o){t(i,o,e)}};let Cf=class extends Fy{constructor(e,t,i,o){super(i,o),this.contributions=e,this.drawContribution=t,this.pickItemInterceptorContributions=i,this.pickServiceInterceptorContributions=o,this.global.hooks.onSetEnv.tap("canvas-picker-service",(e,t,i)=>{this.configure(i,t)}),this.configure(this.global,this.global.env),this.pickerMap=new Map,this.init()}init(){this.contributions.getContributions().forEach(e=>{this.pickerMap.set(e.numberType,e)}),super._init()}configure(e,t){this.pickCanvas=mn.shareCanvas(),this.pickContext=this.pickCanvas.getContext("2d")}pickItem(e,t,i,o){if(!1===e.attribute.pickable)return null;if(this.InterceptorContributions.length)for(let s=0;s<this.InterceptorContributions.length;s++){const l=this.InterceptorContributions[s];if(l.beforePickItem){const n=l.beforePickItem(e,this,t,o,{parentMatrix:i});if(n)return n}}const l=this.pickerMap.get(e.numberType);if(!l)return null;const n=l.contains(e,t,o),r=n?e:null,a={graphic:r,params:n};if(r)return a;if(this.InterceptorContributions.length)for(let s=0;s<this.InterceptorContributions.length;s++){const l=this.InterceptorContributions[s];if(l.afterPickItem){const n=l.afterPickItem(e,this,t,o,{parentMatrix:i});if(n)return n}}return a}};Cf=mf([Q(),vf(0,q(ge)),vf(0,ee(nf)),vf(1,q(Zc)),vf(2,q(ge)),vf(2,ee(yp)),vf(3,q(ge)),vf(3,ee(up)),bf("design:paramtypes",[Object,Object,Object,Object])],Cf);var Sf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let xf=class{constructor(){this.type="group",this.numberType=Da}contains(e,t,i){return!1}};xf=Sf([Q()],xf);const _f=new I((e,t,i,o)=>{_f.__vloaded||(_f.__vloaded=!0,e(lf).to(xf).inSingletonScope(),e(nf).toService(lf),ke(e,nf))});_f.__vloaded=!1;const wf=new I((e,t,i,o)=>{i(Cf)||e(Cf).toSelf().inSingletonScope(),i(cp)?o(cp).toService(Cf):e(cp).toService(Cf)});var Lf,Ff=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Tf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Af=Lf=class extends xy{get container(){return this.canvas.nativeCanvas.parentElement}static GenerateCanvasId(){return`${Lf.idprefix}_${Lf.prefix_count++}`}constructor(){super(),this.type="browser",this._canvasIsIntersecting=!0,this.global=xe.global,this.viewBox=new yi,this.modelMatrix=new gi(1,0,0,1,0,0)}getTitle(){return this.canvas.id&&this.canvas.id.toString()}getWH(){return{width:this.canvas.width/(this.canvas.dpr||1),height:this.canvas.height/(this.canvas.dpr||1)}}getXY(){return this.canvas.nativeCanvas.getBoundingClientRect()}createWindow(e){e.canvas?this.createWindowByCanvas(e):this.createWindowByConfig(e),this.postInit()}postInit(){if(this.global.optimizeVisible)try{this.observerCanvas()}catch(nH){console.error("发生错误，该环境不存在IntersectionObserver")}}isElementVisible(e){const t=e.getBoundingClientRect(),i=window.innerWidth||document.documentElement.clientWidth,o=window.innerHeight||document.documentElement.clientHeight;return!(t.right<0||t.bottom<0||t.left>i||t.top>o)}observerCanvas(){this._canvasIsIntersecting=this.isElementVisible(this.canvas.nativeCanvas);const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{this._canvasIsIntersecting!==e.isIntersecting?(this._canvasIsIntersecting=e.isIntersecting,this._onVisibleChangeCb&&this._onVisibleChangeCb(e.isIntersecting)):this._canvasIsIntersecting=e.isIntersecting})});e&&e.observe(this.canvas.nativeCanvas)}createWindowByConfig(e){const t=this.global.createCanvas({width:e.width,height:e.height});let i;if(i="string"==typeof e.container?this.global.getElementById(e.container):e.container?e.container:this.global.getRootElement(),!i)throw new Error("发生错误，containerId可能传入有误");e.offscreen?i=null:i.appendChild(t);const o={width:e.width,height:e.height,dpr:e.dpr,nativeCanvas:t,container:i,id:Lf.GenerateCanvasId(),canvasControled:!0};this.canvas=new gf(o)}createWindowByCanvas(e){var t;let i;if("string"==typeof e.canvas){if(i=this.global.getElementById(e.canvas),!i)throw new Error("canvasId 参数不正确，请确认canvas存在并插入dom")}else i=e.canvas;if(!i)throw new Error("发生错误，传入的canvas不正确");let o=e.width,l=e.height;if(null==o||null==l||!e.canvasControled){const e=i.getBoundingClientRect();o=e.width,l=e.height}let n=e.dpr;null==n&&(n=null!==(t=i.getContext("2d").pixelRatio)&&void 0!==t?t:i.width/o),this.canvas=new gf({width:o,height:l,dpr:n,nativeCanvas:i,canvasControled:e.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(e,t){this.canvas.resize(e,t)}setDpr(e){this.canvas.dpr=e}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}addEventListener(e,t,i){return this.canvas.nativeCanvas.addEventListener(e,t,i)}removeEventListener(e,t,i){return this.canvas.nativeCanvas.removeEventListener(e,t,i)}dispatchEvent(e){return this.canvas.nativeCanvas.dispatchEvent(e)}getStyle(){var e;return null!==(e=this.canvas.nativeCanvas.style)&&void 0!==e?e:{}}setStyle(e){this.canvas.nativeCanvas.style=e}getBoundingClientRect(){const e=this.canvas.nativeCanvas,t=this.getWH();return e.parentElement?this.canvas.nativeCanvas.getBoundingClientRect():{x:0,y:0,width:t.width,height:t.height,left:0,top:0,right:0,bottom:0}}clearViewBox(e){const t=this.viewBox,i=this.getContext(),o=this.getDpr();i.nativeContext.save(),i.nativeContext.setTransform(o,0,0,o,0,0),i.clearRect(t.x1,t.y1,t.x2-t.x1,t.y2-t.y1),e&&(i.fillStyle=e,i.fillRect(t.x1,t.y1,t.x2-t.x1,t.y2-t.y1)),i.nativeContext.restore()}isVisible(e){return this._canvasIsIntersecting}onVisibleChange(e){this._onVisibleChangeCb=e}getTopLeft(e){return this.global.getElementTopLeft(this.canvas.nativeCanvas,e)}};Af.env="browser",Af.idprefix="visactor_window",Af.prefix_count=0,Af=Lf=Ff([Q(),Tf("design:paramtypes",[])],Af);const zf=new I(e=>{e(Af).toSelf(),e(Sn).toDynamicValue(e=>e.container.get(Af)).whenTargetNamed(Af.env)});var Bf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Mf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Of=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(rH){n(rH)}}function a(e){try{s(o.throw(e))}catch(rH){n(rH)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};class Wf{get x1(){return this.dom.getBoundingClientRect().left}get x2(){return this.dom.getBoundingClientRect().right}get y1(){return this.dom.getBoundingClientRect().top}get y2(){return this.dom.getBoundingClientRect().bottom}get width(){return this.dom.getBoundingClientRect().width}get height(){return this.dom.getBoundingClientRect().height}constructor(e){this.dom=e}}function Rf(e,t=!1){const i=document.createElement("img");if(xe.global.isImageAnonymous&&(i.crossOrigin="anonymous"),t){const t=new Blob([e],{type:"image/svg+xml"});e=window.URL.createObjectURL(t)}return i.src=e,i.complete?Promise.resolve(i):new Promise((e,t)=>{i.onload=()=>{e(i)},i.onerror=()=>{t(new Error("加载失败"))}})}let Hf=class extends vy{constructor(){super(),this.type="browser",this.supportEvent=!0;try{this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.supportsMouseEvents=!!globalThis.MouseEvent}catch(nH){this.supportsTouchEvents=!1,this.supportsPointerEvents=!1,this.supportsPointerEvents=!1}this.applyStyles=!0}mapToCanvasPoint(e,t){var i,o;let l=0,n=0,r=0,a=0;if(e.changedTouches){const t=null!==(i=e.changedTouches[0])&&void 0!==i?i:{};l=t.clientX||0,n=t.clientY||0,r=l,a=n}else l=e.clientX||0,n=e.clientY||0,r=e.offsetX||0,a=e.offsetY||0;if(t){const e=l,i=n,r=t.getBoundingClientRect(),a=null===(o=t.getNativeHandler)||void 0===o?void 0:o.call(t).nativeCanvas;let s,h;return a&&(s=r.width/a.offsetWidth,h=r.height/a.offsetHeight),{x:(e-r.left)/(Xe(s)?s:1),y:(i-r.top)/(Xe(h)?h:1)}}return{x:r,y:a}}getNativeAABBBounds(e){let t=e;if("string"==typeof e&&(t=(new DOMParser).parseFromString(e,"text/html").firstChild,t.lastChild&&(t=t.lastChild.firstChild)),t.getBoundingClientRect){const e=t.getBoundingClientRect();return new Wf(e)}return new yi}removeDom(e){return e.parentElement.removeChild(e),!0}updateDom(e,t){const{width:i,height:o,style:l}=t;return l&&(Ue(l)?e.setAttribute("style",l):Object.keys(l).forEach(t=>{e.style[t]=l[t]})),null!=i&&(e.style.width=`${i}px`),null!=o&&(e.style.height=`${o}px`),!0}createDom(e){const{tagName:t="div",parent:i}=e,o=document.createElement(t);if(this.updateDom(o,e),i){const e=Ue(i)?this.getElementById(i):i;e&&e.appendChild&&e.appendChild(o)}return o}loadImage(e){return Rf(e,!1).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadSvg(e){return Rf(e,!0).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}createCanvas(e){var t,i;const o=document.createElement("canvas");e.id&&(o.id=null!==(t=e.id)&&void 0!==t?t:D.GenAutoIncrementId().toString());const l=null!==(i=e.dpr)&&void 0!==i?i:window.devicePixelRatio;return e.width&&e.height&&(o.style.width=`${e.width}px`,o.style.height=`${e.height}px`,o.width=e.width*l,o.height=e.height*l),o}createOffscreenCanvas(e){var t;const i=null!==(t=e.dpr)&&void 0!==t?t:window.devicePixelRatio;return new OffscreenCanvas(e.width*i,e.height*i)}releaseCanvas(e){let t;t="string"==typeof e?document.getElementById(e):e,t&&t.parentElement&&t.parentElement.removeChild(t)}getDevicePixelRatio(){return window.devicePixelRatio}getRequestAnimationFrame(){return window.requestAnimationFrame}getCancelAnimationFrame(){return window.cancelAnimationFrame}addEventListener(e,t,i){return document.addEventListener(e,t,i)}removeEventListener(e,t,i){return document.removeEventListener(e,t,i)}dispatchEvent(e){return document.dispatchEvent(e)}getElementById(e){return document.getElementById(e)}getRootElement(){return document.body}getDocument(){return document}release(...e){}getElementTop(e,t){let i=e.offsetTop,o=e.offsetParent;for(;null!==o;)i+=o.offsetTop,o=o.offsetParent;return i}getElementLeft(e,t){let i=e.offsetLeft,o=e.offsetParent;for(;null!==o;)i+=o.offsetLeft,o=o.offsetParent;return i}getElementTopLeft(e,t){let i=e.offsetTop,o=e.offsetLeft,l=e.offsetParent;for(;null!==l;)i+=l.offsetTop,o+=l.offsetLeft,l=l.offsetParent;return{top:i,left:o}}loadFont(e,t,i){return Of(this,void 0,void 0,function*(){return new FontFace(e,Ue(t)?`url(${t})`:t,i).load().then(function(e){return document.fonts.add(e),{loadState:"success"}}).catch(function(e){return console.error("Failed to load font:",e),{loadState:"fail"}})})}isMacOS(){if(void 0===this._isMacOS)try{this._isMacOS=navigator.platform.toUpperCase().indexOf("MAC")>=0}catch(nH){this._isMacOS=!1}return this._isMacOS}copyToClipBoard(e){return navigator.clipboard.writeText(e).then(()=>{}).catch(e=>{})}};Hf=Bf([Q(),Mf("design:paramtypes",[])],Hf);const Pf=new I(e=>{Pf.isBrowserBound||(Pf.isBrowserBound=!0,e(Hf).toSelf().inSingletonScope(),e(Ce).toService(Hf))});function Ef(e,t=!0){Ef.__loaded||(Ef.__loaded=!0,e.load(Pf),e.load(kf),e.load(zf),t&&function(e){e.load(_f),e.load(wf)}(e))}Pf.isBrowserBound=!1,Ef.__loaded=!1;class Df{contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if("imprecise"===e.attribute.pickMode)return!0;if(!this.canvasRenderer)return!0;const{pickContext:o}=null!=i?i:{};if(!o)return!1;const l=e.getGraphicTheme();o.highPerformanceSave();let{x:n=l.x,y:r=l.y}=e.attribute;if(e.transMatrix.onlyTranslate()){const t=e.getOffsetXY(l);n+=t.x,r+=t.y,o.setTransformForCurrent()}else n=0,r=0,o.transformFromMatrix(e.transMatrix,!0);let a=!1,s=!1;return this.canvasRenderer.drawShape(e,o,n,r,{},null,(e,i,o,l)=>!(!a&&!s)||(a=e.isPointInPath(t.x,t.y),s=l||s,a),(e,i,l,n)=>{if(a||s)return!0;const r=i.lineWidth||l.lineWidth,h=i.pickStrokeBuffer||l.pickStrokeBuffer,d=i.keepStrokeScale||l.keepStrokeScale;return o.lineWidth=d?r+h:Cl(o,r+h,o.dpr),a=e.isPointInStroke(t.x,t.y),s=n||s,a}),o.highPerformanceRestore(),a}}var If=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},jf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nf=function(e,t){return function(i,o){t(i,o,e)}};let Gf=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="arc",this.numberType=Ha}};Gf=If([Q(),Nf(0,q(Hc)),jf("design:paramtypes",[Object])],Gf);let Uf=!1;const Vf=new I((e,t,i,o)=>{Uf||(Uf=!0,e(Dg).to(Gf).inSingletonScope(),e(Eg).toService(Dg))});var Yf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Zf=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xf=function(e,t){return function(i,o){t(i,o,e)}};let $f=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="area",this.numberType=Ea}};$f=Yf([Q(),Xf(0,q(Pc)),Zf("design:paramtypes",[Object])],$f);let Kf=!1;const qf=new I((e,t,i,o)=>{Kf||(Kf=!0,e(Ig).to($f).inSingletonScope(),e(Eg).toService(Ig))});var Jf=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Qf=class{constructor(){this.type="image",this.numberType=Ia}contains(e,t,i){const{pickContext:o}=null!=i?i:{};return!!o&&!!e.AABBBounds.containsPoint(t)}};Qf=Jf([Q()],Qf);var ek=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},tk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ik=function(e,t){return function(i,o){t(i,o,e)}};let ok=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="line",this.numberType=ja}};ok=ek([Q(),ik(0,q(Ic)),tk("design:paramtypes",[Object])],ok);let lk=!1;const nk=new I((e,t,i,o)=>{lk||(lk=!0,e(Ng).to(ok).inSingletonScope(),e(Eg).toService(Ng))});var rk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},ak=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sk=function(e,t){return function(i,o){t(i,o,e)}};let hk=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="polygon",this.numberType=Ga}};hk=rk([Q(),sk(0,q(Nc)),ak("design:paramtypes",[Object])],hk);let dk=!1;const ck=new I((e,t,i,o)=>{dk||(dk=!0,e(Zg).to(hk).inSingletonScope(),e(Eg).toService(Zg))});var pk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},yk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},uk=function(e,t){return function(i,o){t(i,o,e)}};let gk=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="path",this.numberType=Na}};gk=pk([Q(),uk(0,q(jc)),yk("design:paramtypes",[Object])],gk);let fk=!1;const kk=new I((e,t,i,o)=>{fk||(fk=!0,e(Gg).to(gk).inSingletonScope(),e(Eg).toService(Gg))}),mk=new yi;class bk{constructor(){this.type="rect",this.numberType=Ua}contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if("imprecise"===e.attribute.pickMode)return!0;const{pickContext:o}=null!=i?i:{};if(!o)return!1;const l=e.getGraphicTheme(),{cornerRadius:n=l.cornerRadius}=e.attribute;let{x:r=l.x,y:a=l.y}=e.attribute;o.highPerformanceSave();let s=!0;if(e.transMatrix.onlyTranslate()){const t=e.getOffsetXY(l);r+=t.x,a+=t.y,o.setTransformForCurrent()}else r=0,a=0,s=!1,o.transformFromMatrix(e.transMatrix,!0);let h=!0;if(!s||e.shadowRoot||Ze(n,!0)&&0!==n||Ve(n)&&n.some(e=>0!==e))h=!1,this.canvasRenderer.drawShape(e,o,r,a,{},null,(e,i,o)=>!!h||(h=e.isPointInPath(t.x,t.y),h),(e,i,l)=>{if(h)return!0;const n=i.lineWidth||l.lineWidth,r=i.pickStrokeBuffer||l.pickStrokeBuffer,a=i.keepStrokeScale||l.keepStrokeScale;return o.lineWidth=a?n+r:Cl(o,n+r,o.dpr),h=e.isPointInStroke(t.x,t.y),h});else{const{fill:i=l.fill,stroke:o=l.stroke,lineWidth:n=l.lineWidth}=e.attribute;if(i)h=!0;else if(o){const i=e.AABBBounds;mk.setValue(i.x1,i.y1,i.x2,i.y2),mk.expand(-n/2),h=!mk.containsPoint(t)}}return o.highPerformanceRestore(),h}}var vk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Ck=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Sk=function(e,t){return function(i,o){t(i,o,e)}};let xk=class extends bk{constructor(e){super(),this.canvasRenderer=e}};xk=vk([Q(),Sk(0,q(Gc)),Ck("design:paramtypes",[Object])],xk);let _k=!1;const wk=new I((e,t,i,o)=>{_k||(_k=!0,e(Ug).to(xk).inSingletonScope(),e(Eg).toService(Ug))});let Lk=!1;const Fk=new I((e,t,i,o)=>{Lk||(Lk=!0,e(jg).to(Qf).inSingletonScope(),e(Qf).toService(jg))});var Tk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Ak=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zk=function(e,t){return function(i,o){t(i,o,e)}};let Bk=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="symbol",this.numberType=Ya}};Bk=Tk([Q(),zk(0,q(Uc)),Ak("design:paramtypes",[Object])],Bk);let Mk=!1;const Ok=new I((e,t,i,o)=>{Mk||(Mk=!0,e(Vg).to(Bk).inSingletonScope(),e(Eg).toService(Vg))});var Wk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let Rk=class{constructor(){this.type="text",this.numberType=Za}contains(e,t,i){return!!e.AABBBounds.containsPoint(t)}};Rk=Wk([Q()],Rk);let Hk=!1;const Pk=new I((e,t,i,o)=>{Hk||(Hk=!0,e(Yg).to(Rk).inSingletonScope(),e(Eg).toService(Yg))});var Ek=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Dk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Ik=class extends pf{constructor(e,t){super(e,t);const i=e.nativeCanvas.getContext("2d");if(!i)throw new Error("发生错误，获取2d上下文失败");this.nativeContext=i,this.canvas=e,this.matrix=new gi(1,0,0,1,0,0),this.stack=[],this.dpr=null!=t?t:1}release(...e){}};Ik.env="node",Ik=Ek([Q(),Dk("design:paramtypes",[Object,Number])],Ik);var jk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Nk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let Gk=class extends ys{constructor(e){super(e)}init(){this._context=new Ik(this,this._dpr),this.nativeCanvas.width=this._pixelWidth,this.nativeCanvas.height=this._pixelHeight}release(...e){this._nativeCanvas.release&&Ee(this._nativeCanvas.release)&&this._nativeCanvas.release()}};Gk.env="node",Gk=jk([Q(),Nk("design:paramtypes",[Object])],Gk);const Uk=ff(Gk,Ik);var Vk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Yk=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Zk=function(e,t){return function(i,o){t(i,o,e)}};let Xk=class extends xy{get container(){return null}constructor(e){super(),this.global=e,this.type="node"}getTitle(){return""}getWH(){return{width:this.canvas.displayWidth,height:this.canvas.displayHeight}}getXY(){return{x:0,y:0}}createWindow(e){e.canvas?this.createWindowByCanvas(e):this.createWindowByConfig(e)}createWindowByConfig(e){const t=this.global.createCanvas({width:e.width,height:e.height}),i={width:e.width,height:e.height,dpr:e.dpr,nativeCanvas:t,id:D.GenAutoIncrementId().toString(),canvasControled:!0};this.canvas=new Gk(i)}createWindowByCanvas(e){var t;const i=e.canvas,o=null!==(t=e.dpr)&&void 0!==t?t:1;let l=e.width,n=e.height;null!=l&&null!=n&&e.canvasControled||(l=i.width/o,n=i.height/o),this.canvas=new Gk({width:l,height:n,dpr:o,nativeCanvas:i,canvasControled:e.canvasControled})}releaseWindow(){this.canvas.release()}resizeWindow(e,t){this.canvas.resize(e,t)}setDpr(e){this.canvas.dpr=e}getContext(){return this.canvas.getContext()}getNativeHandler(){return this.canvas}getDpr(){return this.canvas.dpr}getImageBuffer(e="image/png"){return this.canvas.nativeCanvas.toBuffer(e)}addEventListener(e,t,i){}dispatchEvent(e){return!0}removeEventListener(e,t,i){}getStyle(){}setStyle(e){}getBoundingClientRect(){return null}clearViewBox(e){}};Xk.env="node",Xk=Vk([Q(),Zk(0,q(Se)),Yk("design:paramtypes",[Object])],Xk);const $k=new I(e=>{e(Xk).toSelf(),e(Sn).toDynamicValue(e=>e.container.get(Xk)).whenTargetNamed(Xk.env)});var Kk=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r};let qk=class extends vy{constructor(){super(...arguments),this.type="node",this._lastTime=0,this.supportEvent=!1}configure(e,t){e.env===this.type&&(e.setActiveEnvContribution(this),this.pkg=t)}getDynamicCanvasCount(){return 0}getStaticCanvasCount(){return 999}loadJson(e){const t=fetch(e).then(e=>e.json());return t.then(e=>({data:e,state:"success"})).catch(()=>({data:null,state:"fail"})),t}loadArrayBuffer(e){return fetch(e).then(e=>e.arrayBuffer()).then(e=>({data:e,loadState:"success"})).catch(()=>({data:null,loadState:"fail"}))}loadImage(e){const{loadImage:t}=this.pkg;return t?t(e).then(e=>({loadState:e?"success":"fail",data:e})).catch(()=>({loadState:"fail",data:null})):Promise.reject(new Error("node-canvas loadImage could not be found!"))}loadSvg(e){const t=this.pkg.Resvg;if(!t)return Promise.reject(new Error("@resvg/resvg-js svgParser could not be found!"));const i=new t(e).render().asPng();return this.loadImage(i)}createCanvas(e){return this.pkg.createCanvas(e.width,e.height)}releaseCanvas(e){}getDevicePixelRatio(){return 1}getRequestAnimationFrame(){return function(e){return dr.call(e)}}getCancelAnimationFrame(){return e=>{dr.clear(e)}}addEventListener(e,t,i){}removeEventListener(e,t,i){}getElementById(e){return null}getRootElement(){return null}dispatchEvent(e){}release(...e){}createOffscreenCanvas(e){}};qk=Kk([Q()],qk);const Jk=new I(e=>{Jk.isNodeBound||(Jk.isNodeBound=!0,e(qk).toSelf().inSingletonScope(),e(Ce).toService(qk))});function Qk(e,t=!0){Qk.__loaded||(Qk.__loaded=!0,e.load(Jk),e.load(Uk),e.load($k))}Jk.isNodeBound=!1,Qk.__loaded=!1;var em=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},tm=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},im=function(e,t){return function(i,o){t(i,o,e)}};let om=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="arc",this.numberType=Ha}};om=em([Q(),im(0,q(Hc)),tm("design:paramtypes",[Object])],om);let lm=!1;const nm=new I((e,t,i,o)=>{lm||(lm=!0,e(Xg).to(om).inSingletonScope(),e(nf).toService(Xg))});var rm=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},am=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sm=function(e,t){return function(i,o){t(i,o,e)}};let hm=class extends bk{constructor(e){super(),this.canvasRenderer=e}};hm=rm([Q(),sm(0,q(Gc)),am("design:paramtypes",[Object])],hm);let dm=!1;const cm=new I((e,t,i,o)=>{dm||(dm=!0,e(Jg).to(hm).inSingletonScope(),e(nf).toService(Jg))});class pm extends Dd{contains(e,t,i){if(!e.AABBBounds.containsPoint(t))return!1;if("imprecise"===e.attribute.pickMode)return!0;const{pickContext:o}=null!=i?i:{};if(!o)return!1;o.highPerformanceSave();const l=e.getGraphicTheme(),n=this.transform(e,l,o),{x:r,y:a,z:s,lastModelMatrix:h}=n;let d=t;if(o.camera){d=t.clone();const i=e.parent.globalTransMatrix;d.x=i.a*t.x+i.c*t.y+i.e,d.y=i.b*t.x+i.d*t.y+i.f}this.canvasRenderer.z=s;let c=!1;return this.canvasRenderer.drawShape(e,o,r,a,{},null,e=>!!c||(c=e.isPointInPath(d.x,d.y),c),(e,t,i)=>{if(c)return!0;const l=t.lineWidth||i.lineWidth,n=t.pickStrokeBuffer||i.pickStrokeBuffer,r=t.keepStrokeScale||i.keepStrokeScale;return o.lineWidth=r?l+n:Cl(o,l+n,o.dpr),c=e.isPointInStroke(d.x,d.y),c}),this.canvasRenderer.z=0,o.modelMatrix!==h&&rs.free(o.modelMatrix),o.modelMatrix=h,o.highPerformanceRestore(),c}}var ym=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},um=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gm=function(e,t){return function(i,o){t(i,o,e)}};let fm=class extends pm{constructor(e){super(),this.canvasRenderer=e,this.type="line",this.numberType=ja}};fm=ym([Q(),gm(0,q(Ic)),um("design:paramtypes",[Object])],fm);let km=!1;const mm=new I((e,t,i,o)=>{km||(km=!0,e(Kg).to(fm).inSingletonScope(),e(nf).toService(Kg))});var bm=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},vm=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Cm=function(e,t){return function(i,o){t(i,o,e)}};let Sm=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="area",this.numberType=Ea}};Sm=bm([Q(),Cm(0,q(Pc)),vm("design:paramtypes",[Object])],Sm);let xm=!1;const _m=new I((e,t,i,o)=>{xm||(xm=!0,e($g).to(Sm).inSingletonScope(),e(nf).toService($g))});class wm extends Dd{contains(e,t,i){const{pickContext:o}=null!=i?i:{};if(!o)return!1;const l=e.getGraphicTheme();o.highPerformanceSave();const n=this.transform(e,l,o),{x:r,y:a,z:s,lastModelMatrix:h}=n;let d=t;if(o.camera){d=t.clone();const i=e.parent.globalTransMatrix;d.x=i.a*t.x+i.c*t.y+i.e,d.y=i.b*t.x+i.d*t.y+i.f}this.canvasRenderer.z=s;let c=!1;return this.canvasRenderer.drawShape(e,o,r,a,i,null,(e,t,i)=>!!c||(c=e.isPointInPath(d.x,d.y),c)),this.canvasRenderer.z=0,o.modelMatrix!==h&&rs.free(o.modelMatrix),o.modelMatrix=h,o.highPerformanceRestore(),c}}var Lm=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Fm=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tm=function(e,t){return function(i,o){t(i,o,e)}};let Am=class extends wm{constructor(e){super(),this.canvasRenderer=e,this.type="symbol",this.numberType=Ya}contains(e,t,i){const{pickContext:o}=null!=i?i:{};if(!o)return!1;const l=e.getParsedPath();if(!o.camera){if(!e.AABBBounds.containsPoint(t))return!1;if(l.isSvg||"imprecise"===e.attribute.pickMode)return!0}o.highPerformanceSave();const n=e.getGraphicTheme(),r=this.transform(e,n,o),{x:a,y:s,z:h,lastModelMatrix:d}=r;let c=t;if(o.camera){c=t.clone();const i=e.parent.globalTransMatrix;c.x=i.a*t.x+i.c*t.y+i.e,c.y=i.b*t.x+i.d*t.y+i.f}this.canvasRenderer.z=h;let p=!1;return this.canvasRenderer.drawShape(e,o,a,s,{},null,(e,t,i)=>!!p||(p=e.isPointInPath(c.x,c.y),p),(e,t,i)=>{if(p)return!0;const l=t.lineWidth||i.lineWidth,n=t.pickStrokeBuffer||i.pickStrokeBuffer,r=t.keepStrokeScale||i.keepStrokeScale;return o.lineWidth=r?l+n:Cl(o,l+n,o.dpr),p=e.isPointInStroke(c.x,c.y),p}),this.canvasRenderer.z=0,o.modelMatrix!==d&&rs.free(o.modelMatrix),o.modelMatrix=d,o.highPerformanceRestore(),p}};Am=Lm([Q(),Tm(0,q(Uc)),Fm("design:paramtypes",[Object])],Am);let zm=!1;const Bm=new I((e,t,i,o)=>{zm||(zm=!0,e(Qg).to(Am).inSingletonScope(),e(nf).toService(Qg))});var Mm=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Om=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wm=function(e,t){return function(i,o){t(i,o,e)}};let Rm=class extends wm{constructor(e){super(),this.canvasRenderer=e,this.type="text",this.numberType=Za}contains(e,t,i){const{pickContext:o}=null!=i?i:{};if(!o)return!1;const l=e.AABBBounds;if(!o.camera)return!!l.containsPoint(t);o.highPerformanceSave();const n=e.getGraphicTheme(),{keepDirIn3d:r=n.keepDirIn3d}=e.attribute,a=!r,s=this.transform(e,n,o,a),{x:h,y:d,z:c,lastModelMatrix:p}=s;this.canvasRenderer.z=c;let y=t;if(o.camera){y=t.clone();const i=e.parent.globalTransMatrix;y.x=i.a*t.x+i.c*t.y+i.e,y.y=i.b*t.x+i.d*t.y+i.f}let u=!1;return this.canvasRenderer.drawShape(e,o,h,d,{},null,(t,i,o)=>{if(u)return!0;const{fontSize:l=n.fontSize,textBaseline:r=n.textBaseline,textAlign:a=n.textAlign}=e.attribute,s=e.AABBBounds,p=s.height(),g=s.width(),f=gh(r,p,l),k=uh(a,g);return t.rect(k+h,f+d,g,p,c),u=t.isPointInPath(y.x,y.y),u},(e,t,i)=>u),this.canvasRenderer.z=0,o.modelMatrix!==p&&rs.free(o.modelMatrix),o.modelMatrix=p,o.highPerformanceRestore(),u}};Rm=Mm([Q(),Wm(0,q(Vc)),Om("design:paramtypes",[Object])],Rm);let Hm=!1;const Pm=new I((e,t,i,o)=>{Hm||(Hm=!0,e(ef).to(Rm).inSingletonScope(),e(nf).toService(ef))});var Em=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Dm=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Im=function(e,t){return function(i,o){t(i,o,e)}};let jm=class extends pm{constructor(e){super(),this.canvasRenderer=e,this.type="path",this.numberType=Na}};jm=Em([Q(),Im(0,q(jc)),Dm("design:paramtypes",[Object])],jm);let Nm=!1;const Gm=new I((e,t,i,o)=>{Nm||(Nm=!0,e(qg).to(jm).inSingletonScope(),e(nf).toService(qg))});var Um=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},Vm=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ym=function(e,t){return function(i,o){t(i,o,e)}};let Zm=class extends Df{constructor(e){super(),this.canvasRenderer=e,this.type="polygon",this.numberType=Ga}};Zm=Um([Q(),Ym(0,q(Nc)),Vm("design:paramtypes",[Object])],Zm);let Xm=!1;const $m=new I((e,t,i,o)=>{Xm||(Xm=!0,e(tf).to(Zm).inSingletonScope(),e(nf).toService(tf))});var Km=function(e,t,i,o){var l,n=arguments.length,r=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(l=e[a])&&(r=(n<3?l(r):n>3?l(t,i,r):l(t,i))||r);return n>3&&r&&Object.defineProperty(t,i,r),r},qm=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jm=function(e,t){return function(i,o){t(i,o,e)}};let Qm=class{constructor(e){this.canvasRenderer=e,this.type="richtext",this.numberType=Va}contains(e,t,i){return!!e.AABBBounds.containsPoint(t)}};Qm=Km([Q(),Jm(0,q(Yc)),qm("design:paramtypes",[Object])],Qm);let eb=!1;const tb=new I((e,t,i,o)=>{eb||(eb=!0,e(of).to(Qm).inSingletonScope(),e(nf).toService(of))}),ib=uy();function ob(){ob.__loaded||(ob.__loaded=!0,hd.RegisterGraphicCreator("arc",od),Dl.load(Uy),Dl.load(ib?nm:Vf))}ob.__loaded=!1;const lb=ob;function nb(){nb.__loaded||(nb.__loaded=!0,hd.RegisterGraphicCreator("area",ed),Dl.load(Ky),Dl.load(ib?_m:qf))}nb.__loaded=!1;const rb=nb;function ab(){ab.__loaded||(ab.__loaded=!0,hd.RegisterGraphicCreator("group",Ps))}ab.__loaded=!1;const sb=ab;function hb(){hb.__loaded||(hb.__loaded=!0,hd.RegisterGraphicCreator("line",Bh),Dl.load(Xy),Dl.load(ib?mm:nk))}hb.__loaded=!1;const db=hb;function cb(){cb.__loaded||(cb.__loaded=!0,hd.RegisterGraphicCreator("path",qh),Dl.load(iu),Dl.load(ib?Gm:kk))}cb.__loaded=!1;const pb=cb;function yb(){yb.__loaded||(yb.__loaded=!0,hd.RegisterGraphicCreator("polygon",rd),Dl.load(lu),Dl.load(ib?$m:ck))}yb.__loaded=!1;const ub=yb;function gb(){gb.__loaded||(gb.__loaded=!0,hd.RegisterGraphicCreator("rect",Rh),Dl.load(Yy),Dl.load(ib?cm:wk))}gb.__loaded=!1;const fb=gb;function kb(){kb.__loaded||(kb.__loaded=!0,hd.RegisterGraphicCreator("richtext",Xh),Dl.load(hu),Dl.load(ib?tb:Fk))}kb.__loaded=!1;const mb=kb;function bb(){bb.__loaded||(bb.__loaded=!0,hd.RegisterGraphicCreator("shadowRoot",sd))}bb.__loaded=!1;const vb=bb;function Cb(){Cb.__loaded||(Cb.__loaded=!0,hd.RegisterGraphicCreator("symbol",Th),Dl.load(Jy),Dl.load(ib?Bm:Ok))}Cb.__loaded=!1;const Sb=Cb;function xb(){xb.__loaded||(xb.__loaded=!0,hd.RegisterGraphicCreator("text",wh),Dl.load(eu),Dl.load(ib?Pm:Pk))}xb.__loaded=!1;const _b=xb;function wb(){sb(),fb()}const Lb=-.5*Math.PI,Fb=1.5*Math.PI,Tb="PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol";var Ab;!function(e){e.selected="selected",e.selectedReverse="selected_reverse",e.hover="hover",e.hoverReverse="hover_reverse"}(Ab||(Ab={}));const zb={[Ab.selectedReverse]:{},[Ab.selected]:{},[Ab.hover]:{},[Ab.hoverReverse]:{}};function Bb(){return"browser"===iy.env?["pointerup","pointerleave","pointercancel"]:["pointerup","pointerleave","pointerupoutside"]}const Mb={debounce:wt,throttle:Lt};wb();class Ob extends Pg{constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},Ob.defaultAttributes,e)),this.name="scrollbar",this._handleTouchMove=e=>{Ie(this._prePos)&&e.preventDefault()},this._onRailPointerDown=e=>{const{viewX:t,viewY:i}=e,{direction:o,width:l,height:n,range:r}=this.attribute,a=this._sliderSize,[s,h]=this._getScrollRange();let d;if("vertical"===o){const e=i-this._viewPosition.y,t=St(e-a/2,s,h);d=e/n,this._slider.setAttribute("y",t,!0)}else{const e=t-this._viewPosition.x,i=St(e-a/2,s,h);d=e/l,this._slider.setAttribute("x",i,!0)}this.setScrollRange([d-(r[1]-r[0])/2,d+(r[1]-r[0])/2],!1),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()},this._onSliderPointerDown=e=>{this._clearDragEvents();const{stopSliderDownPropagation:t=!0}=this.attribute;t&&e.stopPropagation();const{direction:i}=this.attribute,{x:o,y:l}=this.stage.eventPointTransform(e);this._prePos="horizontal"===i?o:l,this._dispatchEvent("scrollDown",{pos:this._prePos,event:e});const n=Bb(),r="browser"===iy.env?iy:this.stage;r.addEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),n.forEach(e=>{r.addEventListener(e,this._onSliderPointerUp)})},this._computeScrollValue=e=>{const{direction:t}=this.attribute,{x:i,y:o}=this.stage.eventPointTransform(e);let l,n,r=0;const{width:a,height:s}=this.getSliderRenderBounds();return"vertical"===t?(n=o,r=n-this._prePos,l=r/s):(n=i,r=n-this._prePos,l=r/a),[n,l]},this._onSliderPointerMove=e=>{const{stopSliderMovePropagation:t=!0}=this.attribute;t&&e.stopPropagation();const i=this.getScrollRange(),[o,l]=this._computeScrollValue(e);this.setScrollRange([i[0]+l,i[1]+l],!0),this._prePos=o},this._onSliderPointerMoveWithDelay=0===this.attribute.delayTime?this._onSliderPointerMove:Mb[this.attribute.delayType](this._onSliderPointerMove,this.attribute.delayTime),this._onSliderPointerUp=e=>{const{range:t,limitRange:i=[0,1]}=this.attribute,o=this.getScrollRange(),[l,n]=this._computeScrollValue(e),r=[o[0]+n,o[1]+n];this._prePos=null,this._dispatchEvent("scrollUp",{pre:t,value:xt(r,i[0],i[1])}),this._clearDragEvents()}}setScrollRange(e,t=!0){const{direction:i="horizontal",limitRange:o=[0,1],range:l,realTime:n=!0}=this.attribute,r=xt(e,o[0],o[1]);if(t){const e=this._getSliderPos(r);if(this._slider){const t=e[1]-e[0];this._sliderSize=t,"horizontal"===i?this._slider.setAttributes({x:e[0],width:t},!0):this._slider.setAttributes({y:e[0],height:t},!0),this.stage&&!this.stage.autoRender&&this.stage.renderNextFrame()}}this.attribute.range=r,n&&this._dispatchEvent("scrollDrag",{pre:l,value:r})}getScrollRange(){return this.attribute.range}bindEvents(){if(this.attribute.disableTriggerEvent)return;const{delayType:e="throttle",delayTime:t=0}=this.attribute;this._rail&&this._rail.addEventListener("pointerdown",Mb[e](this._onRailPointerDown,t)),this._slider&&this._slider.addEventListener("pointerdown",this._onSliderPointerDown),("browser"===iy.env?iy:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1})}render(){this._reset();const{direction:e="horizontal",width:t,height:i,range:o,limitRange:l=[0,1],railStyle:n,sliderStyle:r,padding:a=2}=this.attribute,s=this.createOrUpdateChild("scrollbar-container",{},"group"),h=s.createOrUpdateChild("scrollbar-rail",Object.assign({x:0,y:0,width:t,height:i},n),"rect");this._rail=h;const d=this.getSliderRenderBounds(),c=this._getSliderPos(xt(o,l[0],l[1])),p=c[1]-c[0];let y;this._sliderSize=p,y="horizontal"===e?{x:c[0],y:d.y1,width:p,height:d.height}:{x:d.x1,y:c[0],width:d.width,height:p};const u=s.createOrUpdateChild("slider",Object.assign(Object.assign(Object.assign(Object.assign({},y),{cornerRadius:this._getDefaultSliderCornerRadius()}),r),{boundsPadding:Ai(a),pickMode:"imprecise"}),"rect");this._slider=u,this._container=s;const g=this._container.AABBBounds;this._viewPosition={x:g.x1,y:g.y1}}getSliderRenderBounds(){if(this._sliderRenderBounds)return this._sliderRenderBounds;const{width:e,height:t,padding:i=2}=this.attribute,[o,l,n,r]=Ai(i),a={x1:r,y1:o,x2:e-l,y2:t-n,width:Math.max(0,e-(r+l)),height:Math.max(0,t-(o+n))};return this._sliderRenderBounds=a,a}_getDefaultSliderCornerRadius(){const{direction:e,round:t}=this.attribute;if(t){const{width:t,height:i}=this.getSliderRenderBounds();return"horizontal"===e?i:t}return 0}_getSliderPos(e){const{direction:t}=this.attribute,{width:i,height:o,x1:l,y1:n}=this.getSliderRenderBounds();return"horizontal"===t?[i*e[0]+l,i*e[1]+l]:[o*e[0]+n,o*e[1]+n]}_getScrollRange(){if(this._sliderLimitRange)return this._sliderLimitRange;const{limitRange:e=[0,1],direction:t}=this.attribute,[i,o]=xt(e,0,1),{width:l,height:n,x1:r,y1:a}=this.getSliderRenderBounds(),s=this._sliderSize;return"horizontal"===t?xt([r+i*l,r+o*l],r,l-s):xt([a+i*n,a+o*n],a,n-s)}_clearDragEvents(){const e=Bb(),t="browser"===iy.env?iy:this.stage;t.removeEventListener("pointermove",this._onSliderPointerMoveWithDelay,{capture:!0}),e.forEach(e=>{t.removeEventListener(e,this._onSliderPointerUp)})}_reset(){this._sliderRenderBounds=null,this._sliderLimitRange=null}release(e){super.release(e),("browser"===iy.env?iy:this.stage).addEventListener("touchmove",this._handleTouchMove,{passive:!1}),this._clearDragEvents()}}function Wb(e,t){e.forEachChildren(e=>{const i=t(e);e.isContainer&&!i&&Wb(e,t)})}Ob.defaultAttributes={direction:"horizontal",round:!0,sliderSize:20,sliderStyle:{fill:"rgba(0, 0, 0, .5)"},railStyle:{fill:"rgba(0, 0, 0, .0)"},padding:2,scrollRange:[0,1],delayType:"throttle",delayTime:0,realTime:!0};const Rb=["#ffffff","#000000"];function Hb(e,t,i,o,l,n){if("string"!=typeof e||"string"!=typeof t)return e;const r=new Fi(e).toHex(),a=new Fi(t).toHex();return Pb(r,a,i,o,n)?r:function(e,t,i,o,l,n){const r=[];l&&(l instanceof Array?r.push(...l):r.push(l)),r.push(...Rb);for(const a of r)if(e!==a&&Pb(a,t,i,o,n))return a}(r,a,i,o,l,n)}function Pb(e,t,i,o,l){if("lightness"===l){const i=Fi.getColorBrightness(new Fi(t));return Fi.getColorBrightness(new Fi(e))<.5?i>=.5:i<.5}return o?Eb(e,t)>o:"largeText"===i?Eb(e,t)>3:Eb(e,t)>4.5}function Eb(e,t){const i=Db(e),o=Db(t);return((i>o?i:o)+.05)/((i>o?o:i)+.05)}function Db(e){const t=function(e){let t="",i="",o="";const l="#"===e[0]?1:0;for(let n=l;n<e.length;n++)"#"!==e[n]&&(n<l+2?t+=e[n]:n<l+4?i+=e[n]:n<l+6&&(o+=e[n]));return[parseInt(t,16),parseInt(i,16),parseInt(o,16)]}(e),i=t[0]/255,o=t[1]/255,l=t[2]/255;let n,r,a;return n=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),r=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),a=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4),.2126*n+.7152*r+.0722*a}function Ib(e,t,i,o){let l;switch(e){case"base":l=t;break;case"invertBase":l=i;break;case"similarBase":l=o}return l}function jb(e){let t=function(e){const[t,i]=e;return Math.sqrt(t*t+i*i)}(e);return t>0&&(t=1/t),[e[0]*t,e[1]*t]}function Nb(e,t,i){const o=function(e,t){const[i,o]=e,[l,n]=t,r=Math.sqrt((i*i+o*o)*(l*l+n*n)),a=r&&(i*l+o*n)/r;return Math.acos(Math.min(Math.max(a,-1),1))}(e,t),l=Nt(e,t)>=0;return i?l?2*Math.PI-o:o:l?o:2*Math.PI-o}const Gb=(e,t,i,o)=>new hi(Object.assign({defaultFontParams:Object.assign({fontFamily:Tb,fontSize:14},o),getTextBounds:i?void 0:cd,specialCharSet:"-/: .,@%'\"~"+hi.ALPHABET_CHAR_SET+hi.ALPHABET_CHAR_SET.toUpperCase()},null!=t?t:{}),e);function Ub(e,t,i={}){if(!e)return{width:0,height:0};const o=cd({text:e,fontFamily:t.fontFamily||i.fontFamily||Tb,fontSize:t.fontSize||i.fontSize||12,fontWeight:t.fontWeight||i.fontWeight,textAlign:t.textAlign||"center",textBaseline:t.textBaseline,ellipsis:!!t.ellipsis,maxLineWidth:t.maxLineWidth||1/0,lineHeight:t.fontSize||i.fontSize||12});return{width:o.width(),height:o.height()}}function Vb(e,t="type"){var i,o;return je(e.text)&&"type"in e.text?null!==(i=e.text.type)&&void 0!==i?i:"text":t in e&&null!==(o=e[t])&&void 0!==o?o:"text"}function Yb(e){var t,i;return Ie(e.maxLineWidth)&&(e.maxWidth=e.maxLineWidth,delete e.maxLineWidth),e.width=null!==(t=e.width)&&void 0!==t?t:0,e.height=null!==(i=e.height)&&void 0!==i?i:0,e.textConfig=e.text.text||e.text,e}function Zb(e,t="type"){const i=Vb(e,t);return"rich"===i?hd.richtext(Yb(e)):("html"===i?e=function(e){const{text:t,_originText:i}=e,{text:o}=t;return e.html=o,e.text=i,e.renderable=!1,e}(e):"react"===i&&(e=function(e){const{text:t,_originText:i}=e,{text:o}=t;return e.react=o,e.text=i,e.renderable=!1,e}(e)),hd.text(e))}function Xb(){sb(),fb(),Sb(),mb(),_b()}var $b=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};Xb();class Kb extends Pg{getBgRect(){return this._bgRect}getTextShape(){return this._textShape}constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},Kb.defaultAttributes,e)),this.name="tag",this._tagStates=[],this._rectStates=[],this._symbolStates=[],this._textStates=[]}render(){var e,t,i;this.cacheStates();const{text:o="",textStyle:l={},shape:n={},panel:r={},space:a=4,minWidth:s,maxWidth:h,padding:d=4,visible:c,state:p,type:y,textAlwaysCenter:u,containerTextAlign:g}=this.attribute,f=Ai(d),k=this.createOrUpdateChild("tag-content",{x:0,y:0,zIndex:1},"group");let m,b=-f[3],v=-f[0],C=f[1]+f[3],S=f[0]+f[2],x=0,_=0;const{visible:w}=n,L=$b(n,["visible"]);if(Pe(w)){const e=(null==L?void 0:L.size)||10,t=Ze(e)?e:Math.max(e[0],e[1]);m=k.createOrUpdateChild("tag-shape",Object.assign(Object.assign({symbolType:"circle",size:e,strokeBoundsBuffer:0},L),{visible:w,x:t/2,y:t/2}),"symbol"),qe(null==p?void 0:p.shape)||(m.states=p.shape),w&&(_=t+a)}let F,T,A;if(C+=_,x+=_,function(e,t="type"){return"rich"===Vb(e,t)}({text:o})||"rich"===y){const e=Object.assign(Object.assign(Object.assign({},Yb(Object.assign({type:y,text:o},l))),l),{visible:Ie(o)&&!1!==c,x:x,y:0});De(e.lineHeight)&&(e.lineHeight=l.fontSize),F=k.createOrUpdateChild("tag-text",e,"richtext"),T=F.AABBBounds.width(),A=F.AABBBounds.height()}else{const i=Object.assign(Object.assign({text:je(o)&&"type"in o&&"text"===o.type?o.text:o,visible:Ie(o)&&!1!==c,lineHeight:null==l?void 0:l.fontSize},l),{x:x,y:0});De(i.lineHeight)&&(i.lineHeight=l.fontSize),F=k.createOrUpdateChild("tag-text",i,"text");const n=Ub(i.text,l,null===(t=null===(e=this.stage)||void 0===e?void 0:e.getTheme())||void 0===t?void 0:t.text);T=n.width,A=n.height}C+=T;const z=null!==(i=n.size)&&void 0!==i?i:10,B=Ze(z)?z:Math.max(z[0],z[1]);S+=Math.max(A,n.visible?B:0);const{textAlign:M,textBaseline:O}=l;(Ie(s)||Ie(h))&&(Ie(s)&&C<s&&(C=s),Ie(h)&&C>h&&(C=h,F.setAttribute("maxLineWidth",h-f[1]-f[2]))),b=0,v=0;let W=0;"left"===M||"start"===M?W=1:"right"===M||"end"===M?W=-1:"center"===M&&(W=0),W?W<0?(b-=C,m&&m.setAttribute("x",(m.attribute.x||0)-T),k.setAttribute("x",-f[1]-_)):W>0&&k.setAttribute("x",f[3]):(b-=C/2,m&&m.setAttribute("x",(m.attribute.x||0)-T/2),k.setAttribute("x",-_/2));const R="right"===g||"end"===g,H="left"===g||"start"===g,P=(e,t)=>{"richtext"===F.type?F.setAttributes({x:e,textAlign:t,textConfig:dt(F.attribute.textConfig).map(e=>Object.assign(Object.assign({},e),{textAlign:t}))}):F.setAttributes({x:e,textAlign:t})};if((g?"center"===g:u)&&W){const e=C-f[1]-f[3],t=T+_,i=1===W?(e-t)/2+_+T/2:f[0]+_-(C/2+t/2-_)+T/2;if(P(i,"center"),m){const e=i-T/2-_+B/2;m.setAttributes({x:e})}}if(H&&1!==W){const e=C-f[1]-f[3],t=0===W?-e/2+_/2:-C+f[3]+f[1]+_;if(P(t+_,"left"),m){const e=t+B/2;m.setAttributes({x:e})}}if(R&&-1!==W){const e=C-f[1]-f[3],t=0===W?e/2+_/2:e;if(P(t,"right"),m){const e=t-T-_+B/2;m.setAttributes({x:e})}}"middle"===O?(v-=S/2,m&&m.setAttribute("y",0)):"bottom"===O?(v-=S,m&&m.setAttribute("y",-A/2),k.setAttribute("y",-f[2])):"top"===O&&(k.setAttribute("y",f[0]),m&&m.setAttribute("y",A/2)),qe(null==p?void 0:p.text)||(F.states=p.text);const{visible:E}=r,D=$b(r,["visible"]);if(c&&Pe(E)){const e=this.createOrUpdateChild("tag-panel",Object.assign(Object.assign({},D),{visible:E&&!!o,width:C,height:S,x:b,y:v}),"rect");if(qe(null==p?void 0:p.panel)||(e.states=p.panel),D.customShape){const t=D.customShape;e.pathProxy=e=>t(this,e,new Zo)}this._bgRect=e}this._textShape=F,this._symbol=m,this.resetStates()}initAttributes(e,t){e=(null==t?void 0:t.skipDefault)?e:lt({},Kb.defaultAttributes,e),super.initAttributes(e),this.render()}addState(e,t,i){super.addState(e,t,i),this._textShape&&this._textShape.addState(e,t,i),this._bgRect&&this._bgRect.addState(e,t,i),this._symbol&&this._symbol.addState(e,t,i)}removeState(e,t){super.removeState(e,t),this._textShape&&this._textShape.removeState(e,t),this._bgRect&&this._bgRect.removeState(e,t),this._symbol&&this._symbol.removeState(e,t)}cacheStates(){var e,t,i,o,l,n,r,a,s,h,d,c,p,y;this._tagStates=null!==(t=null===(e=this.currentStates)||void 0===e?void 0:e.slice())&&void 0!==t?t:[],this._rectStates=null!==(l=null===(o=null===(i=this._bgRect)||void 0===i?void 0:i.currentStates)||void 0===o?void 0:o.slice())&&void 0!==l?l:[],this._symbolStates=null!==(a=null===(r=null===(n=this._symbol)||void 0===n?void 0:n.currentStates)||void 0===r?void 0:r.slice())&&void 0!==a?a:[],this._textStates=null!==(d=null===(h=null===(s=this._textShape)||void 0===s?void 0:s.currentStates)||void 0===h?void 0:h.slice())&&void 0!==d?d:[],this.clearStates(),null===(c=this._bgRect)||void 0===c||c.clearStates(),null===(p=this._symbol)||void 0===p||p.clearStates(),null===(y=this._textShape)||void 0===y||y.clearStates()}resetStates(){var e,t,i;this._tagStates.length&&this.useStates(this._tagStates),this._rectStates.length&&(null===(e=this._bgRect)||void 0===e||e.useStates(this._rectStates)),this._symbolStates.length&&(null===(t=this._symbol)||void 0===t||t.useStates(this._symbolStates)),this._textStates.length&&(null===(i=this._textShape)||void 0===i||i.useStates(this._textStates))}}Kb.defaultAttributes={visible:!0,textStyle:{fontSize:12,fill:"#000",textAlign:"left",textBaseline:"top"},space:4,padding:4,shape:{fill:"#000"}};const qb={visible:!0,position:"auto",titleStyle:{fontSize:16,fill:"#08979c"},contentStyle:{fontSize:12,fill:"green"},panel:{visible:!0,fill:"#e6fffb",size:12,space:0,stroke:"#87e8de",lineWidth:1,cornerRadius:4}},Jb={poptip:lt({},qb)};class Qb extends Pg{constructor(){super(...arguments),this.name="crosshair"}render(){this.renderCrosshair(this)}}sb(),db();class ev extends Qb{constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},ev.defaultAttributes,e))}renderCrosshair(e){const{start:t,end:i,lineStyle:o}=this.attribute;return e.createOrUpdateChild("crosshair-line",Object.assign({points:[t,i]},o),"line")}setLocation(e){const{start:t,end:i}=e;this.setAttributes({start:t,end:i})}}ev.defaultAttributes={lineStyle:{stroke:"#b2bacf",lineWidth:1,lineDash:[2]}},sb(),fb();class tv extends Qb{constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},tv.defaultAttributes,e))}renderCrosshair(e){const{start:t,end:i,rectStyle:o}=this.attribute;return e.createOrUpdateChild("crosshair-rect",Object.assign({x:t.x,y:t.y,width:i.x-t.x,height:i.y-t.y},o),"rect")}setLocation(e){const{start:t,end:i}=e;this.setAttributes({start:t,end:i})}}tv.defaultAttributes={rectStyle:{fill:"#b2bacf",opacity:.2}},sb(),db(),ub(),Sb();class iv extends Pg{getStartAngle(){return Xt(this._startAngle)}getEndAngle(){return Xt(this._endAngle)}getMainSegmentPoints(){return this._mainSegmentPoints}constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},iv.defaultAttributes,e)),this.name="segment",this.key="segment",this.lines=[]}render(){this.removeAllChild(!0),this._reset();const{startSymbol:e,endSymbol:t,lineStyle:i,state:o,visible:l=!0,multiSegment:n,mainSegmentIndex:r}=this.attribute;if(!l)return;this._computeLineAngle();const a=this._getMainSegmentPoints(),s=this._renderSymbol(e,a,"start"),h=this._renderSymbol(t,a,"end");if(this.startSymbol=s,this.endSymbol=h,n){const e=[...this.attribute.points];if(Xe(r))e[r]=this._clipPoints(e[r]);else{const t=this._clipPoints(ut(e));e[0][0]=t[0],e[e.length-1][e[e.length-1].length-1]=t[t.length-1]}e.forEach((e,t)=>{var l,n;const r=hd.line(Object.assign(Object.assign({points:e},Ve(i)?null!==(l=i[t])&&void 0!==l?l:i[i.length-1]:i),{fill:!1}));r.name=`${this.name}-line`,r.id=this._getNodeId("line"+t),qe(null==o?void 0:o.line)||(r.states=Ve(o.line)?null!==(n=o.line[t])&&void 0!==n?n:o.line[o.line.length-1]:o.line),this.add(r),this.lines.push(r)})}else{let e=hd.line;dt(i)[0].cornerRadius&&(e=hd.polygon);const t=e(Object.assign(Object.assign({points:this._clipPoints(this.attribute.points)},dt(i)[0]),{fill:!1,closePath:!1}));t.name=`${this.name}-line`,t.id=this._getNodeId("line"),qe(null==o?void 0:o.line)||(t.states=[].concat(o.line)[0]),this.add(t),this.lines.push(t)}}_computeStartRotate(e){return e+Math.PI/2}_computeEndRotate(e){return e+Math.PI/2}_renderSymbol(e,t,i){if(!t.length)return;const{autoRotate:o=!0}=e;let l;if(e&&e.visible){const n=this.getStartAngle(),r=this.getEndAngle(),{state:a}=this.attribute,s=t[0],h=t[t.length-1],{refX:d=0,refY:c=0,refAngle:p=0,style:y,symbolType:u,size:g=12}=e;let f,k;"start"===i?(f={x:s.x+(Xe(n)?d*Math.cos(n)+c*Math.cos(n-Math.PI/2):0),y:s.y+(Xe(n)?d*Math.sin(n)+c*Math.sin(n-Math.PI/2):0)},k=this._computeStartRotate(this._startAngle)):(f={x:h.x+(Xe(r)?d*Math.cos(r)+c*Math.cos(r-Math.PI/2):0),y:h.y+(Xe(r)?d*Math.sin(r)+c*Math.sin(r-Math.PI/2):0)},k=this._computeEndRotate(this._endAngle)),l=hd.symbol(Object.assign(Object.assign(Object.assign({},f),{symbolType:u,size:g,angle:o?k+p:0,strokeBoundsBuffer:0}),y)),l.name=`${this.name}-${i}-symbol`,l.id=this._getNodeId(`${i}-symbol`),qe(null==a?void 0:a.symbol)||(l.states=a.symbol),"start"===i?qe(null==a?void 0:a.startSymbol)||(l.states=a.startSymbol):qe(null==a?void 0:a.endSymbol)||(l.states=a.endSymbol),this.add(l)}return l}_getMainSegmentPoints(){if(this._mainSegmentPoints)return this._mainSegmentPoints;const{points:e,multiSegment:t,mainSegmentIndex:i}=this.attribute;let o;return o=t?Xe(i)?e[i]:ut(e):e,this._mainSegmentPoints=o,o}_clipPoints(e){const{startSymbol:t={},endSymbol:i={}}=this.attribute;let o=e;if(t.visible){const i=t.clip?t.size||10:0;o=[{x:e[0].x-i/2*(Math.cos(this._startAngle)||0),y:e[0].y-i/2*(Math.sin(this._startAngle)||0)},...o.slice(1)]}if(i.visible){const t=i.clip?i.size||10:0,l={x:e[e.length-1].x-t/2*(Math.cos(this._endAngle)||0),y:e[e.length-1].y-t/2*(Math.sin(this._endAngle)||0)};o=[...o.slice(0,o.length-1),l]}return o}_computeLineAngle(){const e=this._getMainSegmentPoints();if(e.length<=1)return;const t=e[0],i=e[1],o=e[e.length-2],l=e[e.length-1],n=[t.x-i.x,t.y-i.y],r=Math.atan2(n[1],n[0]),a=[l.x-o.x,l.y-o.y],s=Math.atan2(a[1],a[0]);this._startAngle=r,this._endAngle=s}_reset(){this.startSymbol=null,this.endSymbol=null,this._startAngle=null,this._endAngle=null,this._mainSegmentPoints=null}}var ov,lv;iv.defaultAttributes={visible:!0,lineStyle:{lineWidth:1,stroke:"#000"},startSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}},endSymbol:{visible:!1,autoRotate:!0,symbolType:"triangle",size:12,refX:0,refY:0,refAngle:0,style:{fill:"#000",zIndex:1}}},function(e){e.innerView="inner-view",e.axisContainer="axis-container",e.labelContainer="axis-label-container",e.tickContainer="axis-tick-container",e.tick="axis-tick",e.subTick="axis-sub-tick",e.label="axis-label",e.title="axis-title",e.gridContainer="axis-grid-container",e.grid="axis-grid",e.gridRegion="axis-grid-region",e.line="axis-line",e.background="axis-background",e.axisLabelBackground="axis-label-background",e.axisBreak="axis-break",e.axisBreakSymbol="axis-break-symbol"}(ov||(ov={})),function(e){e.selected="selected",e.selectedReverse="selected_reverse",e.hover="hover",e.hoverReverse="hover_reverse"}(lv||(lv={}));const nv={[lv.selectedReverse]:{},[lv.selected]:{},[lv.hover]:{},[lv.hoverReverse]:{}},rv={title:{space:4,padding:0,textStyle:{fontSize:12,fill:"#333333",fontWeight:"normal",fillOpacity:1}},label:{visible:!0,inside:!1,space:4,padding:0,style:{fontSize:12,fill:"#333",fontWeight:"normal",fillOpacity:1}},tick:{visible:!0,inside:!1,alignWithLabel:!0,length:4,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}},subTick:{visible:!1,inside:!1,count:4,length:2,style:{lineWidth:1,stroke:"#999",strokeOpacity:1}},line:{visible:!0,style:{lineWidth:1,stroke:"#000",strokeOpacity:1}}},av={size:8,stroke:"#000",lineWidth:1,zIndex:1};function sv(e,t){var i,o;return(null===(i=e.OBBBounds)||void 0===i?void 0:i.empty())||(null===(o=t.OBBBounds)||void 0===o?void 0:o.empty())?Qt(e.AABBBounds,t.AABBBounds,!1)&&(!e.rotatedBounds||!t.rotatedBounds||ni(e.rotatedBounds,t.rotatedBounds,!0)):e.OBBBounds.intersects(t.OBBBounds)}const hv=Math.sin(Math.PI/10);function dv(e,t=hv){const i=!De(e)&&0!==e,o=i?Math.cos(e):1;return i&&Math.abs(o)<=t}function cv(e,t=hv){const i=!De(e)&&0!==e,o=i?Math.sin(e):0;return!i||Math.abs(o)<=t}function pv(e){const t={};return Wb(e,e=>{"group"!==e.type&&e.id&&(t[e.id]=e)}),t}function yv(e,t){return{x:e.x+t[0],y:e.y+t[1]}}function uv(e,t){let i="";return 0===e.length||(e.forEach((e,t)=>{0===t?i=`M${e.x},${e.y}`:i+=`L${e.x},${e.y}`}),t&&(i+="Z")),i}function gv(e,t,i){var o;if(cv(null===(o=e.attribute)||void 0===o?void 0:o.angle,Number.EPSILON))return i>di(e.AABBBounds,t.AABBBounds);const l=e.OBBBounds,n=t.OBBBounds;return!l||!n||l.empty()||n.empty()?i>di(e.AABBBounds,t.AABBBounds):l.intersects(n)||i>((e,t)=>{const i=[{x:Math.cos(e.angle),y:Math.sin(e.angle)},{x:-Math.sin(e.angle),y:Math.cos(e.angle)},{x:Math.cos(t.angle),y:Math.sin(e.angle)},{x:-Math.sin(t.angle),y:Math.cos(e.angle)}];function o(e,t,i){const o=e.getRotatedCorners().map(e=>e.x*t+e.y*i);return{min:Math.min(...o),max:Math.max(...o)}}let l=0;for(const n of i){const i=o(e,n.x,n.y),r=o(t,n.x,n.y);let a;a=i.max<r.min?r.min-i.max:r.max<i.min?i.min-r.max:0,l=Math.max(l,a)}return l})(l,n)}function fv(e,t){for(let i,o=1,l=e.length,n=e[0];o<l;n=i,++o)if(i=e[o],gv(n,i,t))return!0;return!1}class kv extends Pg{_prepareAnimate(e){if(!1!==this.attribute.animation){const{animation:t,animationEnter:i,animationExit:o,animationUpdate:l}=this.attribute,n=je(t)?t:{};this._animationConfig={enter:!1!==i&&lt({},e,n,null!=i?i:{}),exit:!1!==o&&lt({},e,n,null!=o?o:{}),update:!1!==l&&(Ve(l)?l:lt({},e,n,null!=l?l:{}))}}else this._animationConfig={enter:!1,exit:!1,update:!1}}}const mv={type:"default",duration:300,easing:"linear"};class bv extends kv{constructor(){super(...arguments),this.name="axis",this.data=[],this.tickLineItems=[],this.subTickLineItems=[],this.axisLabelLayerSize={},this.axisLabelsContainer=null,this._onHover=e=>{this._lastHover=((e,t,i)=>{const o=e.target;return o!==i&&o.name&&!qe(o.states)?(o.addState(Ab.hover,!0),Wb(t,e=>{e!==o&&e.name&&!qe(e.states)&&e.addState(Ab.hoverReverse,!0)}),o):i})(e,this.axisContainer,this._lastHover)},this._onUnHover=e=>{this._lastHover=((e,t,i)=>i?(Wb(t,e=>{e.name&&!qe(e.states)&&(e.removeState(Ab.hoverReverse),e.removeState(Ab.hover))}),null):i)(0,this.axisContainer,this._lastHover)},this._onClick=e=>{this._lastSelect=((e,t,i)=>{const o=e.target;return i===o&&o.hasState(Ab.selected)?(Wb(t,e=>{e.name&&!qe(e.states)&&(e.removeState(Ab.selectedReverse),e.removeState(Ab.selected))}),null):o.name&&!qe(o.states)?(o.addState(Ab.selected,!0),Wb(t,e=>{e!==o&&e.name&&!qe(e.states)&&e.addState(Ab.selectedReverse,!0)}),o):i})(e,this.axisContainer,this._lastSelect)}}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}getBoundsWithoutRender(e){const t=et(this.attribute);t.scale=this.attribute.scale,this.attribute=e;const i=hd.group({x:this.attribute.x,y:this.attribute.y});return this.add(i),this._renderInner(i),this.removeChild(i),this.attribute=t,i.AABBBounds}render(){this._prepare(),this._prevInnerView=this._innerView&&pv(this._innerView),this.removeAllChild(!0),this._innerView=hd.group({x:0,y:0,pickable:!1}),this.add(this._innerView),this._renderInner(this._innerView),this._bindEvent(),this.runAnimation()}_prepare(){this._prepareAnimate(mv)}_bindEvent(){if(this.attribute.disableTriggerEvent)return;const{hover:e,select:t}=this.attribute;e&&(this._innerView.addEventListener("pointermove",this._onHover),this._innerView.addEventListener("pointerout",this._onUnHover)),t&&this._innerView.addEventListener("pointerdown",this._onClick)}_renderInner(e){const{title:t,label:i,tick:o,line:l,items:n}=this.attribute,r=hd.group({x:0,y:0,zIndex:1,pickable:!1});if(r.name=ov.axisContainer,r.id=this._getNodeId("container"),r.setMode(this.mode),this.axisContainer=r,e.add(r),l&&l.visible&&this.renderLine(r),n&&n.length&&(this.data=this._transformItems(n[0]),o&&o.visible&&this.renderTicks(r),i&&i.visible)){const e=hd.group({x:0,y:0,pickable:!1});e.name=ov.labelContainer,e.id=this._getNodeId("label-container"),this.axisLabelsContainer=e,r.add(e),n.forEach((t,i)=>{const o=this.renderLabels(e,t,i),l=o.getChildren();this.beforeLabelsOverlap(l,t,o,i,n.length),this.handleLabelsOverlap(l,t,o,i,n.length),this.afterLabelsOverlap(l,t,o,i,n.length);let r=0,a=0,s="center",h="middle",d=0;l.forEach((e,t)=>{var i;const o=e.attribute,l=null!==(i=o.angle)&&void 0!==i?i:0,n=e.AABBBounds;let c=n.width(),p=n.height();l&&(c=Math.abs(c*Math.cos(l)),p=Math.abs(p*Math.sin(l))),r=Math.max(r,c),a=Math.max(a,p),s=o.textAlign,h=o.textBaseline,0===t&&(d=o.x)}),this.axisLabelLayerSize[i]={width:r,height:a,labelPos:d,textAlign:s,textBaseline:h}})}t&&t.visible&&this.renderTitle(r)}renderTicks(e){const t=this.getTickLineItems(),i=hd.group({x:0,y:0,pickable:!1});i.name=ov.tickContainer,i.id=this._getNodeId("tick-container"),e.add(i),t.forEach((e,o)=>{var l;const n=hd.line(Object.assign({},this._getTickLineAttribute("tick",e,o,t)));if(n.name=ov.tick,n.id=this._getNodeId(e.id),qe(null===(l=this.attribute.tick)||void 0===l?void 0:l.state))n.states=zb;else{const e=this.data[o],t=lt({},zb,this.attribute.tick.state);Object.keys(t).forEach(i=>{Ee(t[i])&&(t[i]=t[i](e.rawValue,o,e,this.data))}),n.states=t}i.add(n)}),this.tickLineItems=t;const{subTick:o}=this.attribute;if(o&&o.visible){const e=this.getSubTickLineItems();e.length&&e.forEach((e,l)=>{const n=hd.line(Object.assign({},this._getTickLineAttribute("subTick",e,l,t)));if(n.name=ov.subTick,n.id=this._getNodeId(`${l}`),qe(o.state))n.states=zb;else{const i=lt({},zb,o.state);Object.keys(i).forEach(o=>{Ee(i[o])&&(i[o]=i[o](e.value,l,e,t))}),n.states=i}i.add(n)}),this.subTickLineItems=e}}renderLabels(e,t,i){const{dataFilter:o}=this.attribute.label;o&&Ee(o)&&(t=o(t,i));const l=this._transformItems(t),n=hd.group({x:0,y:0,pickable:!1});return n.name=`${ov.labelContainer}-layer-${i}`,n.id=this._getNodeId(`label-container-layer-${i}`),e.add(n),l.forEach((e,t)=>{var o;const r=Zb(this._getLabelAttribute(e,t,l,i));if(r.name=ov.label,r.id=this._getNodeId(`layer${i}-label-${e.id}`),qe(null===(o=this.attribute.label)||void 0===o?void 0:o.state))r.states=zb;else{const o=lt({},zb,this.attribute.label.state);Object.keys(o).forEach(n=>{Ee(o[n])&&(o[n]=o[n](e,t,l,i))}),r.states=o}r.data=Object.assign(Object.assign({},e),{index:t,layer:i}),n.add(r)}),n}renderTitle(e){const t=this.getTitleAttribute(),i=new Kb(Object.assign({},t));i.name=ov.title,i.id=this._getNodeId("title"),e.add(i)}getVerticalCoord(e,t,i){return yv(e,this.getVerticalVector(t,i,e))}getTickLineItems(){const{tick:e}=this.attribute,t=this.data,i=[],{alignWithLabel:o,inside:l=!1,length:n,dataFilter:r}=e;let a=1;return t.length>=2&&(a=t[1].value-t[0].value),(r&&Ee(r)?r(t):t).forEach(e=>{let t=e.point,r=e.value;if(!o){const i=e.value-a/2;if(this.isInValidValue(i))return;t=this.getTickCoord(i),r=i}const s=this.getVerticalCoord(t,n,l);if("3d"===this.mode){const o=this.getVerticalVector(n,l,t);let a=0,h=0;Mt(o[0])>Mt(o[1])?a=Tt/2*(s.x>t.x?1:-1):h=Tt/2*(s.y>t.y?-1:1),i.push({start:t,end:s,value:r,id:`tick-${e.id}`,anchor:[t.x,t.y],alpha:a,beta:h})}else i.push({start:t,end:s,value:r,id:`tick-${e.id}`})}),i}getSubTickLineItems(){const{subTick:e}=this.attribute,t=[],{count:i=4,inside:o=!1,length:l=2}=e,n=this.tickLineItems,r=n.length;if(r>=2)for(let a=0;a<r-1;a++){const e=n[a],r=n[a+1];for(let n=0;n<i;n++){const a=(n+1)/(i+1),s=(1-a)*e.value+a*r.value,h=this.getTickCoord(s),d=this.getVerticalCoord(h,l,o);t.push({start:h,end:d,value:s,id:`sub-tick-${s}`})}}return t}_getTickLineAttribute(e,t,i,o){let l=Je(this.attribute,`${e}.style`);const n=this.data[i];l=Ee(l)?lt({},Je(rv,`${e}.style`),"tick"===e?l(n.rawValue,i,n,this.data):l(t.value,i,t,o)):l;const{start:r,end:a,anchor:s,alpha:h,beta:d}=t;return Object.assign({points:[r,a],anchor:s,alpha:h,beta:d},l)}_getLabelAttribute(e,t,i,o){var l,n;const{space:r=4,inside:a=!1,formatMethod:s,type:h="text",text:d}=this.attribute.label;let c=r,p=0;(null===(l=this.attribute.tick)||void 0===l?void 0:l.visible)&&this.attribute.tick.inside===a&&(p=this.attribute.tick.length||4),(null===(n=this.attribute.subTick)||void 0===n?void 0:n.visible)&&this.attribute.subTick.inside===a&&(p=Math.max(p,this.attribute.subTick.length||2)),c+=p;const y=this.getRelativeVector(e.point);o>0&&(0===y[1]?c+=(this.axisLabelLayerSize[o-1].height+Je(this.attribute,"label.space",4))*o:c+=(this.axisLabelLayerSize[o-1].width+Je(this.attribute,"label.space",4))*o);const u=this.getVerticalCoord(e.point,c,a),g=this.getVerticalVector(c||1,a,u),f=s?s(`${e.label}`,e,t,i,o):e.label;let{style:k}=this.attribute.label;k=Ee(k)?lt({},rv.label.style,k(e,t,i,o)):k;return k=lt(this.getLabelAlign(g,a,k.angle),k),Ee(k.text)&&(k.text=k.text({label:e.label,value:e.rawValue,index:e.index,layer:o})),Object.assign(Object.assign(Object.assign({},this.getLabelPosition(u,g,f,k)),{text:null!=d?d:f,_originText:e.label,lineHeight:null==k?void 0:k.fontSize,type:h}),k)}getLabelPosition(e,t,i,o){return e}_transformItems(e){const t=[];return e.forEach(e=>{var i;t.push(Object.assign(Object.assign({},e),{point:this.getTickCoord(e.value),id:null!==(i=e.id)&&void 0!==i?i:e.label}))}),t}runAnimation(){const e=this.lastScale;if(this.attribute.scale){const e=this.attribute.scale;this.lastScale=e.clone(),this.lastScale.range([0,1])}if(this.attribute.animation&&this.applyAnimationState){const t=this.getInnerView(),i=this.getPrevInnerView();if(!i)return;const o=this._animationConfig;this._newElementAttrMap={},Wb(t,t=>{var l;if("group"!==t.type&&t.id){const n=i[t.id];if(t.setFinalAttributes(t.attribute),n){n.release();const i=n.attribute,r=t.getFinalAttribute(),a=function(e,t){const i={};for(const o in t)o in e&&at(e[o],t[o])||(i[o]=t[o]);return i}(i,r);let s=Object.keys(a).length>0;if("opacity"in i&&r.opacity!==i.opacity&&(a.opacity=null!==(l=r.opacity)&&void 0!==l?l:1,s=!0),o.update&&s){this._newElementAttrMap[t.id]={state:"update",node:t,attrs:t.attribute};const i=n.attribute;t.setAttributes(i),t.applyAnimationState(["update"],[{name:"update",animation:Object.assign(Object.assign({selfOnly:!0},o.update),{type:"axisUpdate",customParameters:{config:o.update,diffAttrs:a,lastScale:e}})}])}}else o.enter&&(this._newElementAttrMap[t.id]={state:"enter",node:t,attrs:t.attribute},t.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},o.enter),{type:"axisEnter",selfOnly:!0,customParameters:{config:o.enter,lastScale:e,getTickCoord:this.getTickCoord.bind(this)}})}]))}})}}release(){super.release(),this._prevInnerView=null,this._innerView=null}}const vv={parity:function(e){return e.filter((e,t)=>t%2?e.setAttribute("opacity",0):1)},greedy:function(e,t){let i;return e.filter((e,o)=>o&&gv(i,e,t)?e.setAttribute("opacity",0):(i=e,1))}};function Cv(e){let t;return t=e.OBBBounds.empty()?e.AABBBounds:e.OBBBounds,t.width()>1&&t.height()>1}function Sv(e,t,i,o,l=!1){if(i&&!e.attribute.opacity){const i=t.length;if(i>1){e.setAttribute("opacity",1);for(let e=0;e<i;e++){const n=l?t[i-1-e]:t[e];if(!o(n))break;n.setAttribute("opacity",0)}}}}function xv(e){for(let t=1;t<e.length;t++)if(sv(e[t-1],e[t]))return!0;return!1}function _v(e,t){"bottom"!==e&&"top"!==e||function(e,t){t.forEach(t=>{t.attribute.angle&&t.setAttributes(Object.assign(Object.assign({},Lv(e,t.attribute.angle)),{angle:wv(t.attribute.angle)}))})}(e,t),"left"!==e&&"right"!==e||function(e,t){t.forEach((t,i)=>{t.attribute.angle&&t.setAttributes(Object.assign(Object.assign({},Fv(e,t.attribute.angle)),{angle:wv(t.attribute.angle)}))})}(e,t),function(e){e.forEach(e=>{if(e.rotatedBounds||!e.attribute.angle)return;const t=function(e){const t=e.AABBBounds;return{x1:t.x1,x2:t.x2,y1:t.y1,y2:t.y2,centerX:e.attribute.x,centerY:e.attribute.y,angle:e.attribute.angle}}(e),i=ii({x:e.attribute.x,y:e.attribute.y},t.angle,{x:t.centerX,y:t.centerY}),o=i.x-t.centerX,l=i.y-t.centerY;t.x1+=o,t.x2+=o,t.y1+=l,t.y2+=l,t.centerX+=o,t.centerY+=l,e.rotatedBounds=t})}(t)}function wv(e=0){if(e<0)for(;e<0;)e+=2*Math.PI;if(e>0)for(;e>=2*Math.PI;)e-=2*Math.PI;return e}function Lv(e,t=0){let i=["center","left","left","left","center","right","right","right","left"],o=["top","top","middle","bottom","bottom","bottom","middle","top","top"];"top"===e&&(i=["center","right","right","right","center","left","left","left","right"],o=["bottom","bottom","middle","top","top","top","middle","bottom","bottom"]);const l=(t=wv(t))/(.5*Math.PI);let n;return n=l===Math.floor(l)?2*Math.floor(l):2*Math.floor(l)+1,{textAlign:i[n],textBaseline:o[n]}}function Fv(e,t=0){let i=["right","right","center","left","left","left","center","right","right"],o=["middle","middle","top","top","middle","middle","bottom","bottom","middle"];"right"===e&&(i=["left","left","center","right","right","right","center","left","left"],o=["middle","middle","bottom","bottom","middle","middle","top","middle","middle"]);const l=(t=wv(t))/(.5*Math.PI);let n;return n=l===Math.floor(l)?2*Math.floor(l):2*Math.floor(l)+1,{textAlign:i[n],textBaseline:o[n]}}function Tv(e,t){const{limitLength:i,verticalLimitLength:o,ellipsis:l="...",orient:n,axisLength:r}=t;if(qe(e)||!Xe(i))return;const a=function(e){return Xe(e)?{left:e,right:e}:je(e)?{left:e.left||0,right:e.right||0}:{left:0,right:0}}(t.overflowLimitLength),s=e[0],h=s.attribute.angle,d=!De(h),c=d?Math.cos(h):1,p=d?Math.sin(h):0,y=cv(h),u=dv(h),g="top"===n||"bottom"===n,f=s.attribute.direction,k=!y&&!u&&g&&(e.length<2||e.some(e=>Math.abs(e.AABBBounds.width()-s.AABBBounds.width())>=2))&&s.AABBBounds.width()>Math.abs(i/p);e.forEach(e=>{var t;if(g){if(u&&Math.floor(e.AABBBounds.height())<=i)return;if(y&&Math.floor(e.AABBBounds.width())<=o)return}if(!g){if("vertical"===f&&Math.floor(e.AABBBounds.height())<=o)return;if("vertical"!==f){if(y&&Math.floor(e.AABBBounds.width())<=i)return;if(u&&Math.floor(e.AABBBounds.height())<=o)return}}let n=null;if(y||u)n=g?y?o:i:"vertical"===f||u?o:i;else if(g){const{x1:t,x2:o}=e.AABBBounds,l=p/c,s=Math.abs(i/p);if(k&&l>0&&t<=r+a.right&&i/l+t>r+a.right){const e=(r-t+a.right)/Math.abs(c);n=Math.min(e,s)}else if(k&&l<0&&o>=-a.left&&i/l+o<-a.left){const e=(o+a.left)/Math.abs(c);n=Math.min(e,s)}else n=s}else n=Math.abs(i/c);Xe(e.attribute.maxLineWidth)&&(n=Xe(n)?Math.min(e.attribute.maxLineWidth,n):e.attribute.maxLineWidth),e.setAttributes({maxLineWidth:n,ellipsis:null!==(t=e.attribute.ellipsis)&&void 0!==t?t:l})})}function Av(e,t,i){let o;return Xe(t)&&(o=Math.abs(t-e)),Xe(i)&&(o=Xe(o)?Math.min(Math.abs(e-i),o):Math.abs(e-i)),o}class zv{isInValidValue(e){return e<0||e>1}getTickCoord(e){const{start:t}=this.attribute,i=this.getRelativeVector();return{x:t.x+i[0]*e,y:t.y+i[1]*e}}getRelativeVector(e){const{start:t,end:i}=this.attribute;return[i.x-t.x,i.y-t.y]}getVerticalVector(e,t=!1,i){const{verticalFactor:o=1}=this.attribute,l=jb(this.getRelativeVector());return function(e,t){return[e[0]*t,e[1]*t]}([l[1],-1*l[0]],e*(t?1:-1)*o)}}class Bv{constructor(){}static linear(e){return e}static none(){return this.linear}static get(e){return e<-1?e=-1:e>1&&(e=1),function(t){return 0===e?t:e<0?t*(t*-e+1+e):t*((2-t)*e+(1-e))}}static getPowIn(e){return function(t){return Math.pow(t,e)}}static getPowOut(e){return function(t){return 1-Math.pow(1-t,e)}}static getPowInOut(e){return function(t){return(t*=2)<1?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}}static getBackIn(e){return function(t){return t*t*((e+1)*t-e)}}static getBackOut(e){return function(t){return--t*t*((e+1)*t+e)+1}}static getBackInOut(e){return e*=1.525,function(t){return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}}static sineIn(e){return 1-Math.cos(e*Math.PI/2)}static sineOut(e){return Math.sin(e*Math.PI/2)}static sineInOut(e){return-(Math.cos(Math.PI*e)-1)/2}static expoIn(e){return 0===e?0:Math.pow(2,10*e-10)}static expoOut(e){return 1===e?1:1-Math.pow(2,-10*e)}static expoInOut(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}static circIn(e){return-(Math.sqrt(1-e*e)-1)}static circOut(e){return Math.sqrt(1- --e*e)}static circInOut(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}static bounceOut(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}static bounceIn(e){return 1-Bv.bounceOut(1-e)}static bounceInOut(e){return e<.5?.5*Bv.bounceIn(2*e):.5*Bv.bounceOut(2*e-1)+.5}static getElasticIn(e,t){return function(i){if(0===i||1===i)return i;const o=t/Bt*Math.asin(1/e);return-e*Math.pow(2,10*(i-=1))*Math.sin((i-o)*Bt/t)}}static getElasticOut(e,t){return function(i){if(0===i||1===i)return i;const o=t/Bt*Math.asin(1/e);return e*Math.pow(2,-10*i)*Math.sin((i-o)*Bt/t)+1}}static getElasticInOut(e,t){return function(i){const o=t/Bt*Math.asin(1/e);return(i*=2)<1?e*Math.pow(2,10*(i-=1))*Math.sin((i-o)*Bt/t)*-.5:e*Math.pow(2,-10*(i-=1))*Math.sin((i-o)*Bt/t)*.5+1}}static registerFunc(e,t){Bv[e]=t}}function Mv(e,t){const i=1/t;let o=1;for(;e>i;)e-=i,o*=-1;const l=o*e/i;return l>0?l:1+l}Bv.quadIn=Bv.getPowIn(2),Bv.quadOut=Bv.getPowOut(2),Bv.quadInOut=Bv.getPowInOut(2),Bv.cubicIn=Bv.getPowIn(3),Bv.cubicOut=Bv.getPowOut(3),Bv.cubicInOut=Bv.getPowInOut(3),Bv.quartIn=Bv.getPowIn(4),Bv.quartOut=Bv.getPowOut(4),Bv.quartInOut=Bv.getPowInOut(4),Bv.quintIn=Bv.getPowIn(5),Bv.quintOut=Bv.getPowOut(5),Bv.quintInOut=Bv.getPowInOut(5),Bv.backIn=Bv.getBackIn(1.7),Bv.backOut=Bv.getBackOut(1.7),Bv.backInOut=Bv.getBackInOut(1.7),Bv.elasticIn=Bv.getElasticIn(1,.3),Bv.elasticOut=Bv.getElasticOut(1,.3),Bv.elasticInOut=Bv.getElasticInOut(1,.3*1.5),Bv.easeInOutQuad=e=>(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2),Bv.easeOutElastic=e=>{const t=2*Math.PI/3;return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*t)+1},Bv.easeInOutElastic=e=>{const t=2*Math.PI/4.5;return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*t)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*t)/2+1};for(let aH=0;aH<10;aH++)Bv[`flicker${aH}`]=e=>Mv(e,aH);for(let aH=2;aH<10;aH++)Bv[`aIn${aH}`]=e=>aH*e*e+(1-aH)*e;function Ov(e,t,i){return e+(t-e)*i}const Wv=new class{constructor(){this.opacity=(e,t,i,o,l,n)=>{n.attribute.opacity=Ov(t,i,o)},this.baseOpacity=(e,t,i,o,l,n)=>{n.attribute.baseOpacity=Ov(t,i,o)},this.fillOpacity=(e,t,i,o,l,n)=>{n.attribute.fillOpacity=Ov(t,i,o)},this.strokeOpacity=(e,t,i,o,l,n)=>{n.attribute.strokeOpacity=Ov(t,i,o)},this.zIndex=(e,t,i,o,l,n)=>{n.attribute.zIndex=Ov(t,i,o)},this.backgroundOpacity=(e,t,i,o,l,n)=>{n.attribute.backgroundOpacity=Ov(t,i,o)},this.shadowOffsetX=(e,t,i,o,l,n)=>{n.attribute.shadowOffsetX=Ov(t,i,o)},this.shadowOffsetY=(e,t,i,o,l,n)=>{n.attribute.shadowOffsetY=Ov(t,i,o)},this.shadowBlur=(e,t,i,o,l,n)=>{n.attribute.shadowBlur=Ov(t,i,o)},this.fill=(e,t,i,o,l,n)=>{n.attribute.fill=ks(t,i,o,!1)},this.fillPure=(e,t,i,o,l,n)=>{n.attribute.fill=l.fromParsedProps.fill?bs(l.fromParsedProps.fill,l.toParsedProps.fill,o):l.toParsedProps.fill},this.stroke=(e,t,i,o,l,n)=>{n.attribute.stroke=ks(t,i,o,!1)},this.strokePure=(e,t,i,o,l,n)=>{n.attribute.stroke=l.fromParsedProps.stroke?bs(l.fromParsedProps.stroke,l.toParsedProps.stroke,o):l.toParsedProps.stroke},this.width=(e,t,i,o,l,n)=>{n.attribute.width=Ov(t,i,o),n.addUpdateBoundTag()},this.height=(e,t,i,o,l,n)=>{n.attribute.height=Ov(t,i,o),n.addUpdateBoundTag()},this.x=(e,t,i,o,l,n)=>{n.attribute.x=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.y=(e,t,i,o,l,n)=>{n.attribute.y=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.dx=(e,t,i,o,l,n)=>{n.attribute.dx=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.dy=(e,t,i,o,l,n)=>{n.attribute.dy=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.angle=(e,t,i,o,l,n)=>{n.attribute.angle=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.scaleX=(e,t,i,o,l,n)=>{n.attribute.scaleX=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.scaleY=(e,t,i,o,l,n)=>{n.attribute.scaleY=Ov(t,i,o),n.addUpdateBoundTag(),n.addUpdatePositionTag()},this.lineWidth=(e,t,i,o,l,n)=>{n.attribute.lineWidth=Ov(t,i,o),n.addUpdateBoundTag()},this.startAngle=(e,t,i,o,l,n)=>{n.attribute.startAngle=Ov(t,i,o),n.addUpdateBoundTag()},this.endAngle=(e,t,i,o,l,n)=>{n.attribute.endAngle=Ov(t,i,o),n.addUpdateBoundTag()},this.radius=(e,t,i,o,l,n)=>{n.attribute.radius=Ov(t,i,o),n.addUpdateBoundTag()},this.outerRadius=(e,t,i,o,l,n)=>{n.attribute.outerRadius=Ov(t,i,o),n.addUpdateBoundTag()},this.innerRadius=(e,t,i,o,l,n)=>{n.attribute.innerRadius=Ov(t,i,o),n.addUpdateBoundTag()},this.size=(e,t,i,o,l,n)=>{n.attribute.size=Ov(t,i,o),n.addUpdateBoundTag()},this.points=(e,t,i,o,l,n)=>{n.attribute.points=ar(t,i,o),n.addUpdateBoundTag()}}};function Rv(e,t,i,o,l,n){if(Number.isFinite(i)&&Number.isFinite(t))return n.attribute[e]=t+(i-t)*o,!0;if(Array.isArray(i)&&Array.isArray(t)&&i.length===t.length){const l=[];let r=!0;for(let e=0;e<i.length;e++){const n=t[e],a=n+(i[e]-n)*o;if(!Number.isFinite(a)){r=!1;break}l.push(a)}return r&&(n.attribute[e]=l),!0}return!1}function Hv(){}class Pv{constructor(e,t,i,o){var l;this._startTime=0,this._hasFirstRun=!1,this._syncAttributeUpdate=()=>{this.target.setAttributes(this.target.attribute)},this.type=e,this.props=t,this.duration=i,this.easing=o?"function"==typeof o?o:null!==(l=Bv[o])&&void 0!==l?l:Bv.linear:Bv.linear,"wait"===e&&(this.onUpdate=Hv),this.id=D.GenAutoIncrementId(),this.syncAttributeUpdate=Hv}bind(e,t){this.target=e,this.animate=t,this.onBind(),this.syncAttributeUpdate()}append(e){this.next=e,e.prev=this,e.setStartTime(this.getStartTime()+this.duration,!1)}updateDownstreamStartTimes(){let e=this.next,t=this._startTime+this.duration;for(;e;)e.setStartTime(t,!1),t+=e.duration,e=e.next;this.animate.updateDuration()}getLastProps(){return this.prev?this.prev.props||{}:this.animate.getStartProps()}setDuration(e,t=!0){this.duration=e,t&&this.updateDownstreamStartTimes()}getDuration(){return this.duration}determineInterpolateUpdateFunction(){if(!this.props)return;const e=[];this.propKeys.forEach(t=>{if("fill"===t||"stroke"===t){const i=this.fromProps[t],o=this.props[t];if(Ue(i)&&Ue(o)){const l=gs.Get(i,us.Color255),n=gs.Get(o,us.Color255);this.fromParsedProps||(this.fromParsedProps={}),this.toParsedProps||(this.toParsedProps={}),this.fromParsedProps[t]=l,this.toParsedProps[t]=n,e.push(Wv["fill"===t?"fillPure":"strokePure"])}else Wv[t]?e.push(Wv[t]):e.push(Rv)}else Wv[t]?e.push(Wv[t]):e.push(Rv)}),this.interpolateUpdateFunctions=e}setStartTime(e,t=!0){this._startTime=e,t&&this.updateDownstreamStartTimes()}getStartTime(){return this._startTime}onBind(){"glyph"===this.target.type&&(this.syncAttributeUpdate=this._syncAttributeUpdate)}onFirstRun(){}onStart(){if(!this._hasFirstRun){this._hasFirstRun=!0,this.fromProps=this.getLastProps();const e=this.animate.getStartProps();this.propKeys&&this.propKeys.forEach(t=>{var i;this.fromProps[t]=null!==(i=this.fromProps[t])&&void 0!==i?i:e[t]}),this.determineInterpolateUpdateFunction(),this.tryPreventConflict(),this.trySyncStartProps(),this.onFirstRun()}}tryPreventConflict(){const e=this.animate;this.target.animates.forEach(t=>{if(t===e||t.priority>e.priority||t.priority===1/0)return;const i=t.getStartProps();this.propKeys.forEach(e=>{null!=i[e]&&t.preventAttr(e)})})}deleteSelfAttr(e){var t;delete this.props[e],this.fromProps&&delete this.fromProps[e];const i=this.propKeys.indexOf(e);-1!==i&&(this.propKeys.splice(i,1),null===(t=this.interpolateUpdateFunctions)||void 0===t||t.splice(i,1))}trySyncStartProps(){this.propKeys.forEach(e=>{this.fromProps[e]=this.animate.target.getComputedAttribute(e)})}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const o=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.fromProps,this.props,o,this,this.target):this.interpolateUpdateFunctions.forEach((e,t)=>{if(!this.animate.validAttr(this.propKeys[t]))return;const i=this.propKeys[t];e(i,this.fromProps[i],this.props[i],o,this,this.target)}),this.onUpdate(e,o,i),this.syncAttributeUpdate()}onUpdate(e,t,i){}onEnd(e){this.target.setAttributes(this.props),e?this._endCb=e:this._endCb&&this._endCb(this.animate,this)}getEndProps(){return this.props}getFromProps(){return this.fromProps}getMergedEndProps(){return this.getEndProps()}stop(){}release(){}}class Ev extends Pv{constructor(e,t,i,o){super(e,t,i,o)}onStart(){super.onStart();const e=this.getFromProps();this.target.setAttributes(e)}update(e,t,i){this.onStart()}determineInterpolateUpdateFunction(){}}class Dv extends e{get animateCount(){return this._animateCount}constructor(){super(),this.head=null,this.tail=null,this.animateMap=new Map,this._animateCount=0,this._playSpeed=1,this._totalDuration=0,this._startTime=0,this._currentTime=0,this._animationEndFlag=!0,this.id=D.GenAutoIncrementId(),this.paused=!1}isRunning(){return!this.paused&&this._animateCount>0}forEachAccessAnimate(e){let t=this.head,i=0;for(;t;){const o=t.next;e(t.animate,i),i++,t=o}}addAnimate(e){const t={animate:e,next:null,prev:null};this.head?this.tail&&(this.tail.next=t,t.prev=this.tail,this.tail=t):(this.head=t,this.tail=t),this.animateMap.set(e,t),this._animateCount++,this._totalDuration=Math.max(this._totalDuration,e.getStartTime()+e.getDuration())}pause(){this.paused=!0}resume(){this.paused=!1}tick(e){if(this.paused)return;this._animationEndFlag&&(this._animationEndFlag=!1,this.emit("animationStart"));const t=e*this._playSpeed;this._currentTime+=t,this.forEachAccessAnimate((e,i)=>{e.status===Re.END?this.removeAnimate(e,!0):e.status!==Re.RUNNING&&e.status!==Re.INITIAL||e.advance(t)}),0===this._animateCount&&(this._animationEndFlag=!0,this.emit("animationEnd"))}clear(){this.forEachAccessAnimate(e=>{e.release()}),this.head=null,this.tail=null,this.animateMap.clear(),this._animateCount=0,this._totalDuration=0}removeAnimate(e,t=!0){const i=this.animateMap.get(e);i&&(t&&(e._onRemove&&e._onRemove.forEach(e=>e()),e.release()),i.prev?i.prev.next=i.next:this.head=i.next,i.next?i.next.prev=i.prev:this.tail=i.prev,this.animateMap.delete(e),this._animateCount--,e.getStartTime()+e.getDuration()>=this._totalDuration&&this.recalculateTotalDuration())}recalculateTotalDuration(){this._totalDuration=0,this.forEachAccessAnimate(e=>{this._totalDuration=Math.max(this._totalDuration,e.getStartTime()+e.getDuration())})}getTotalDuration(){return this._totalDuration}getPlaySpeed(){return this._playSpeed}setPlaySpeed(e){this._playSpeed=e}getPlayState(){return this.paused?"paused":0===this.animateCount?"stopped":"playing"}setStartTime(e){this._startTime=e}getStartTime(){return this._startTime}getCurrentTime(){return this._currentTime}setCurrentTime(e){this._currentTime=e}}const Iv=new Dv;Iv.isGlobal=!0;class jv{constructor(e=D.GenAutoIncrementId(),t=Iv,i){this.id=e,this.status=Re.INITIAL,this._timeline=t,t.addAnimate(this),this.slience=i,this._startTime=0,this._duration=0,this._totalDuration=0,this._loopCount=0,this._currentLoop=0,this._bounce=!1,this._firstStep=null,this._lastStep=null,this._startProps={},this._endProps={},this._preventAttrs=new Set,this.currentTime=0,this.interpolateUpdateFunction=null,this.priority=0}getStartProps(){return this._startProps}getEndProps(){return this._endProps}setTimeline(e){this._timeline=e}getTimeline(){return this._timeline}get timeline(){return this._timeline}bind(e){return this.target=e,this.target.animates||(this.target.animates=new Map),this.target.animates.set(this.id,this),this.onRemove(()=>{this.stop(),this.target.animates.delete(this.id)}),this.target.onAnimateBind&&!this.slience&&this.target.onAnimateBind(this),this.target.animationAttribute||(this.target.animationAttribute={}),this}to(e,t=300,i="linear"){const o=new Pv(We.to,e,t,i);return o.bind(this.target,this),this.updateStepAfterAppend(o),this}wait(e){const t=new Ev(We.wait,{},e,"linear");return t.bind(this.target,this),this.updateStepAfterAppend(t),this}updateStepAfterAppend(e){this._firstStep?(this._lastStep.append(e),this._lastStep=e):(this._firstStep=e,this._lastStep=e),this.parseStepProps(e),this.updateDuration()}parseStepProps(e){this._lastStep&&(e.propKeys=e.propKeys||Object.keys(e.props),Object.keys(this._endProps).forEach(t=>{var i;e.props[t]=null!==(i=e.props[t])&&void 0!==i?i:this._endProps[t]}),e.propKeys.forEach(t=>{this._endProps[t]=e.props[t]}))}reSyncProps(){if(!this._lastStep)return;this._endProps={};let e=this._firstStep;for(;e;)Object.keys(this._endProps).forEach(t=>{var i;e.props[t]=null!==(i=e.props[t])&&void 0!==i?i:this._endProps[t]}),e.propKeys.forEach(t=>{this._endProps[t]=e.props[t]}),e=e.next}from(e,t=300,i="linear"){const o=new Pv(We.from,e,t,i);return this._firstStep?(this._lastStep.append(o),this._lastStep=o):(this._firstStep=o,this._lastStep=o),this.updateDuration(),this}play(e){return e.bind(this.target,this),this.updateStepAfterAppend(e),this}pause(){this.status===Re.RUNNING&&(this.status=Re.PAUSED)}resume(){this.status===Re.PAUSED&&(this.status=Re.RUNNING)}onStart(e){var t;e?(this._onStart||(this._onStart=[]),this._onStart.push(e)):(null===(t=this._onStart)||void 0===t||t.forEach(e=>e()),Object.keys(this._endProps).forEach(e=>{this._startProps[e]=this.target.getComputedAttribute(e)}))}onEnd(e){var t;e?(this._onEnd||(this._onEnd=[]),this._onEnd.push(e)):null===(t=this._onEnd)||void 0===t||t.forEach(e=>e())}onFrame(e){e&&(this._onFrame||(this._onFrame=[]),this._onFrame.push(e))}onRemove(e){var t;e?(this._onRemove||(this._onRemove=[]),this._onRemove.push(e)):null===(t=this._onRemove)||void 0===t||t.forEach(e=>e())}preventAttr(e){this._preventAttrs.add(e),delete this._startProps[e],delete this._endProps[e];let t=this._firstStep;for(;t;)t.deleteSelfAttr(e),t=t.next}preventAttrs(e){e.forEach(e=>this._preventAttrs.add(e))}validAttr(e){return!this._preventAttrs.has(e)}runCb(e){var t;return null===(t=this._lastStep)||void 0===t||t.onEnd(e),this}startAt(e){return this._startTime=e,this}customInterpolate(e,t,i,o,l,n){return!1}getFromValue(){return this._startProps}getToValue(){return this._endProps}stop(e){let t=this._firstStep;for(;t;)t.stop(),t=t.next;this.status!==Re.END&&this.onEnd(),this.status=Re.END,this.target&&("start"===e?this.target.setAttributes(this._startProps):"end"===e?this.target.setAttributes(this._endProps):e&&this.target.setAttributes(e))}release(){this.status=Re.END,this._onRemove&&this._onRemove.forEach(e=>e()),this._onStart=[],this._onFrame=[],this._onEnd=[],this._onRemove=[],this.forEachStep(e=>{e.release()})}getDuration(){return this._duration}getStartTime(){return this._startTime}afterAll(e){if(!e||0===e.length)return this;let t=0;return e.forEach(e=>{const i=e.getStartTime()+e.getTotalDuration();t=Math.max(t,i)}),this.startAt(t)}after(e){if(!e)return this;const t=e.getStartTime()+e.getTotalDuration();return this.startAt(t)}parallel(e){return e?(this.startAt(e.getStartTime()),this):this}loop(e){return!0===e?e=1/0:!1===e&&(e=0),this._loopCount=e,this.updateDuration(),this}bounce(e){return this._bounce=e,this}advance(e){var t,i,o;if(this.status===Re.END)return void console.warn("aaa 动画已经结束，不能推进");const l=this.currentTime+e;if(l<this._startTime)return void(this.currentTime=l);if(l>=this._startTime+this._totalDuration)return null===(t=this._lastStep)||void 0===t||t.onUpdate(!0,1,{}),null===(i=this._lastStep)||void 0===i||i.onEnd(),this.onEnd(),void(this.status=Re.END);this.status=Re.RUNNING,this.currentTime<=this._startTime&&this.onStart(),this.currentTime=l;let n=l-this._startTime,r=!1,a=!1;if(this._loopCount>0){n=(l-this._startTime)%this._duration;const e=Math.floor((l-this._startTime)/this._duration);r=e>this._currentLoop,this._currentLoop=e,a=this._bounce&&e%2==1,a&&(n=this._duration-n)}r&&!a&&this.target.setAttributes(this._startProps);let s=null;if(this._lastStep===this._firstStep)s=this._firstStep;else{let e=this._firstStep;for(;e;){const t=e.getStartTime(),i=e.getDuration();if(n>=t&&n<=t+i){s=e;break}e=e.next}}if(!s)return;s!==this.lastRunStep&&(null===(o=this.lastRunStep)||void 0===o||o.onEnd()),this.lastRunStep=s;const h=(n-s.getStartTime())/s.getDuration(),d=h>=1;s.update(d,h,{}),d&&(s.onEnd(),this.lastRunStep=null)}updateDuration(){this._lastStep?(this._duration=this._lastStep.getStartTime()+this._lastStep.getDuration(),this._totalDuration=this._duration*(this._loopCount+1)):this._duration=0}getTotalDuration(){return this._totalDuration}getLoop(){return this._loopCount}forEachStep(e){let t=this._firstStep;for(;t;)e(t),t=t.next}}const Nv=new we;class Gv{constructor(){this.released=!1}tick(e,t){Nv.addAnimationFrameCb(()=>{if(!this.released)return t(this)})}release(){this.released=!0}getTime(){return Date.now()}}class Uv extends e{constructor(e){super(),this.timelines=[],this.frameTimeHistory=[],this.handleTick=(e,t)=>{const{once:i=!1}=null!=t?t:{};if(this.ifCanStop())return this.stop(),!1;const o=e.getTime();this._lastTickTime=o,this.lastFrameTime<0&&(this.lastFrameTime=o-this.interval+this.timeOffset,this.frameTimeHistory.push(this.lastFrameTime));const l=o-this.lastFrameTime,n=this.checkSkip(l);return n||(this._handlerTick(l),this.lastFrameTime=o,this.frameTimeHistory.push(this.lastFrameTime)),i||e.tick(this.interval,this.handleTick),!n},this._handlerTick=e=>{this.status===Oe.RUNNING&&(this.tickCounts++,this.timelines.forEach(t=>{t.tick(e)}),this.emit("tick",e))},this.init(),this.lastFrameTime=-1,this.tickCounts=0,this.stage=e,this.autoStop=!0,this.interval=16,this.computeTimeOffsetAndJitter()}bindStage(e){this.stage=e}computeTimeOffsetAndJitter(){this.timeOffset=Math.floor(Math.random()*this.interval),this._jitter=Math.min(Math.max(.2*this.interval,6),.7*this.interval)}init(){this.interval=16,this.status=Oe.INITIAL,xe.global.hooks.onSetEnv.tap("graph-ticker",()=>{this.initHandler(!1)}),xe.global.env&&this.initHandler(!1)}addTimeline(e){this.timelines.push(e)}remTimeline(e){this.timelines=this.timelines.filter(t=>t!==e)}getTimelines(){return this.timelines}initHandler(e=!1){this.setupTickHandler(e)}setupTickHandler(e=!1){if(!e&&this.tickerHandler)return!0;const t=new Gv;return this.tickerHandler&&this.tickerHandler.release(),this.tickerHandler=t,!0}setInterval(e){this.interval=e,this.computeTimeOffsetAndJitter()}getInterval(){return this.interval}setFPS(e){this.setInterval(Math.floor(1e3/e))}getFPS(){return 1e3/this.interval}tick(e){this.tickerHandler.tick(e,e=>this.handleTick(e,{once:!0}))}tickTo(e){this.tickerHandler.tickTo&&this.tickerHandler.tickTo(e,e=>{this.handleTick(e,{once:!0})})}pause(){return this.status!==Oe.INITIAL&&(this.status=Oe.PAUSE,!0)}resume(){return this.status!==Oe.INITIAL&&(this.status=Oe.RUNNING,!0)}ifCanStop(){if(this.autoStop){if(!this.timelines.length)return!0;if(this.timelines.every(e=>!e.isRunning()))return!0}return!1}start(e=!1){if(this.status===Oe.RUNNING)return!1;if(!this.tickerHandler)return!1;if(!e){if(this.status===Oe.PAUSE)return!1;if(this.ifCanStop())return!1}return this.status=Oe.RUNNING,this.tickerHandler.tick(0,this.handleTick),!0}stop(){this.status=Oe.INITIAL,this.setupTickHandler(!0),this.lastFrameTime=-1}trySyncTickStatus(){this.status===Oe.INITIAL&&this.timelines.some(e=>e.isRunning())?this.start():this.status===Oe.RUNNING&&this.timelines.every(e=>!e.isRunning())&&this.stop()}release(){var e;this.stop(),this.timelines=[],null===(e=this.tickerHandler)||void 0===e||e.release(),this.tickerHandler=null,this.lastFrameTime=-1}checkSkip(e){var t,i,o;return"performance"!==(null===(o=null===(i=null===(t=this.stage)||void 0===t?void 0:t.params)||void 0===i?void 0:i.optimize)||void 0===o?void 0:o.tickRenderMode)&&e<this.interval+2*(Math.random()-.5)*this._jitter}}class Vv{constructor(){this.transitions=new Map,this.registerDefaultTransitions()}static getInstance(){return Vv.instance||(Vv.instance=new Vv),Vv.instance}registerDefaultTransitions(){this.registerTransition("appear","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("appear","appear",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("appear","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("appear","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("normal","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("normal","normal",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("normal","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("normal","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("exit","*",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("exit","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("exit","enter",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("exit","exit",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("enter","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("enter","enter",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("enter","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("enter","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("disappear","*",()=>({allowTransition:!1,stopOriginalTransition:!1})),this.registerTransition("disappear","appear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("update","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("update","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("update","exit",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("state","*",()=>({allowTransition:!0,stopOriginalTransition:!1})),this.registerTransition("state","disappear",()=>({allowTransition:!0,stopOriginalTransition:!0})),this.registerTransition("state","exit",()=>({allowTransition:!0,stopOriginalTransition:!0}))}isTransitionAllowed(e,t,i){var o,l,n,r;let a=null===(o=this.transitions.get(e))||void 0===o?void 0:o.get(t);return a?a(i,e):(a=null===(l=this.transitions.get(e))||void 0===l?void 0:l.get("*"),a?a(i,e):(a=null===(n=this.transitions.get("*"))||void 0===n?void 0:n.get(t),a?a(i,e):(a=null===(r=this.transitions.get("*"))||void 0===r?void 0:r.get("*"),a?a(i,e):{allowTransition:!0,stopOriginalTransition:!0})))}registerTransition(e,t,i){let o=this.transitions.get(e);o||(o=new Map,this.transitions.set(e,o)),o.set(t,i)}}Vv.getInstance();class Yv{static registerBuiltInAnimate(e,t){Yv.builtInAnimateMap[e]=t}constructor(e){this._animates=[],this._startCallbacks=[],this._endCallbacks=[],this._started=!1,this._activeCount=0,this._target=e}get started(){return this._started}onStart(e){e?(this._startCallbacks.push(e),this._started&&this._activeCount>0&&e()):this._startCallbacks.forEach(e=>{e()})}onEnd(e){e?this._endCallbacks.push(e):this._endCallbacks.forEach(e=>{e()})}_trackAnimation(e){this._animates.push(e),this._activeCount++,1!==this._activeCount||this._started||(this._started=!0,this.onStart()),e.onEnd(()=>{this._activeCount--;const t=this._animates.indexOf(e);t>=0&&this._animates.splice(t,1),0===this._activeCount&&this._started&&(this._started=!1,this.onEnd())})}parseParams(e,t,i){var o,l;const n=this.resolveValue(e.totalTime,void 0,void 0),r=this.resolveValue(e.startTime,void 0,0),a=Object.assign({},e);a.oneByOneDelay=0,a.startTime=r,a.totalTime=n;const s=this.resolveValue(e.oneByOne,i,!1);if(t){const e=a.timeSlices;Ve(e)||(a.timeSlices=[e]);let t=0;a.timeSlices=a.timeSlices.map(e=>{const o=this.resolveValue(e.delay,i,0),l=this.resolveValue(e.delayAfter,i,0),n=this.resolveValue(e.duration,i,300);return t+=o+n+l,Object.assign(Object.assign({},e),{delay:o,delayAfter:l,duration:n})});let o=0;s&&(o="number"==typeof s?s:s?t:0),a.oneByOneDelay=o;let l=1;if(n){const e=t+o*(this._target.count-2);l=n?n/e:1}a.timeSlices=a.timeSlices.map(e=>{let t=e.effects;return Array.isArray(t)||(t=[t]),Object.assign(Object.assign({},e),{delay:e.delay*l,delayAfter:e.delayAfter*l,duration:e.duration*l,effects:t.map(e=>{var t,i;const o=null!==(t=e.custom)&&void 0!==t?t:Yv.builtInAnimateMap[null!==(i=e.type)&&void 0!==i?i:"fromTo"],l=o&&Ee(o)?/^class\s/.test(Function.prototype.toString.call(o))?1:2:0;return Object.assign(Object.assign({},e),{custom:o,customType:l})})})}),a.oneByOneDelay=o*l,a.startTime=r*l}else{const t=this.resolveValue(e.delay,i,0),h=this.resolveValue(e.delayAfter,i,0),d=this.resolveValue(e.duration,i,300);let c=0;s&&(c="number"==typeof s?s:s?t+h+d:0),a.oneByOneDelay=c,a.custom=null!==(o=e.custom)&&void 0!==o?o:Yv.builtInAnimateMap[null!==(l=e.type)&&void 0!==l?l:"fromTo"];const p=a.custom&&Ee(a.custom)?/^class\s/.test(Function.prototype.toString.call(a.custom))?1:2:0;if(a.customType=p,n){const e=t+h+d+c*(this._target.count-2),i=n?n/e:1;a.delay=t*i,a.delayAfter=h*i,a.duration=d*i,a.oneByOneDelay=c*i,a.startTime=r}}return a}execute(e){Array.isArray(e)?e.forEach(e=>this._execute(e)):this._execute(e)}_execute(e){if(e.selfOnly)return this._executeItem(e,this._target,0,1);const t="timeSlices"in e;let i;t&&e.partitioner&&(i=(null!=i?i:this._target.getChildren()).filter(t=>{var i,o;return e.partitioner(null===(o=null===(i=t.context)||void 0===i?void 0:i.data)||void 0===o?void 0:o[0],t,{})})),t&&e.sort&&(i=null!=i?i:this._target.getChildren(),i.sort((t,i)=>{var o,l,n,r;return e.sort(null===(l=null===(o=t.context)||void 0===o?void 0:o.data)||void 0===l?void 0:l[0],null===(r=null===(n=i.context)||void 0===n?void 0:n.data)||void 0===r?void 0:r[0],t,i,{})}));const o=t?(i,o,l)=>{const n=this.parseParams(e,t,i),r=this.executeTimelineItem(n,i,o,l);r&&this._trackAnimation(r)}:(i,o,l)=>{const n=this.parseParams(e,t,i),r=this.executeTypeConfigItem(n,i,o,l);r&&this._trackAnimation(r)};i?i.forEach((e,t)=>o(e,t,i.length)):this._target.count<=1?o(this._target,0,1):this._target.forEachChildren((e,t)=>o(e,t,this._target.count-1))}executeTypeConfigItem(e,t,i,o){var l,n,r,a,s,h,d,c;const{type:p="fromTo",channel:y,customParameters:u,easing:g="linear",delay:f=0,delayAfter:k=0,duration:m=300,startTime:b=0,oneByOneDelay:v=0,loop:C,bounce:S,priority:x=0,options:_,custom:w,customType:L,controlOptions:F}=e,T=t.animate();T.priority=x;const A=Ee(f)?f(null===(n=null===(l=t.context)||void 0===l?void 0:l.data)||void 0===n?void 0:n[0],t,{}):f,z=null===(a=null===(r=t.context)||void 0===r?void 0:r.data)||void 0===a?void 0:a[0],B=null===(s=t.context)||void 0===s?void 0:s.indexKey;z&&B&&(i=null!==(h=z[B])&&void 0!==h?h:i),T.startAt(b);const M=i*v+A;M>0&&T.wait(M);let O=null,W=e.to,R=e.from;W||(O||(O=this.createPropsFromChannel(y,t)),W=O.props),R||(O||(O=this.createPropsFromChannel(y,t)),R=O.from),this._handleRunAnimate(T,w,L,R,W,m,g,u,F,_,p,t);let H=0;v&&(H=v*(o-i-1));const P=Ee(k)?k(null===(c=null===(d=t.context)||void 0===d?void 0:d.data)||void 0===c?void 0:c[0],t,{}):k;return P>0&&(H+=P),H>0&&T.wait(H),C&&C>0&&T.loop(C),S&&T.bounce(!0),T}_handleRunAnimate(e,t,i,o,l,n,r,a,s,h,d,c){var p,y,u,g,f,k;if(t&&i){const d=Object.assign({width:(null===(p=c.stage)||void 0===p?void 0:p.width)||0,height:(null===(y=c.stage)||void 0===y?void 0:y.height)||0,group:this._target.parent},this.resolveValue(a,c)),m=Ee(h)?h.call(null,null!==(g=d&&(null===(u=d.data)||void 0===u?void 0:u[0]))&&void 0!==g?g:null===(k=null===(f=c.context)||void 0===f?void 0:f.data)||void 0===k?void 0:k[0],c,d):h;d.options=m,d.controlOptions=s,1===i?this.createCustomAnimation(e,t,o,l,n,r,d):2===i&&this.createCustomInterpolatorAnimation(e,t,l,n,r,d)}else"to"===d?e.to(l,n,r):"from"===d&&e.from(l,n,r)}executeTimelineItem(e,t,i,o){var l,n,r,a;const{timeSlices:s,startTime:h=0,loop:d,bounce:c,oneByOneDelay:p,priority:y,controlOptions:u}=e,g=null===(n=null===(l=t.context)||void 0===l?void 0:l.data)||void 0===n?void 0:n[0],f=null===(r=t.context)||void 0===r?void 0:r.indexKey;g&&f&&(i=null!==(a=g[f])&&void 0!==a?a:i);const k=t.animate();return k.priority=y,k.startAt(h),k.wait(i*p),d&&d>0&&k.loop(d),c&&k.bounce(!0),(Array.isArray(s)?s:[s]).forEach(e=>{this.applyTimeSliceToAnimate(e,k,t,u)}),p&&k.wait(p*(o-i-1)),k}applyTimeSliceToAnimate(e,t,i,o){var l,n,r,a;const{effects:s,duration:h=300,delay:d=0,delayAfter:c=0}=e,p=Ee(d)?d(null===(n=null===(l=i.context)||void 0===l?void 0:l.data)||void 0===n?void 0:n[0],i,{}):d,y=Ee(c)?c(null===(a=null===(r=i.context)||void 0===r?void 0:r.data)||void 0===a?void 0:a[0],i,{}):c;p>0&&t.wait(p),(Array.isArray(s)?s:[s]).forEach(e=>{var l;const{type:n="fromTo",channel:r,customParameters:a,easing:s="linear",options:d}=e;let c=null,p=e.to,y=e.from;p||(c||(c=this.createPropsFromChannel(r,i)),p=c.props),y||(c||(c=this.createPropsFromChannel(r,i)),y=c.from);const u=null!==(l=e.custom)&&void 0!==l?l:Yv.builtInAnimateMap[n],g=e.customType;this._handleRunAnimate(t,u,g,y,p,h,s,a,o,d,n,i)}),y>0&&t.wait(y)}createCustomInterpolatorAnimation(e,t,i,o,l,n){const r=i;Object.keys(r).forEach(t=>{e.target.getComputedAttribute(t)}),e.interpolateUpdateFunction=(i,o,l,r,a)=>{t(l,i,o,r,a,e.target,n)},e.to(i,o,l)}createCustomAnimation(e,t,i,o,l,n,r){const a=new t(i,o,l,n,r);e.play(a)}createPropsFromChannel(e,t){const i={};let o=null;return e?(Array.isArray(e)?e.forEach(e=>{var o,l;const n=null===(l=null===(o=t.context)||void 0===o?void 0:o.diffAttrs)||void 0===l?void 0:l[e];void 0!==n&&(i[e]=n)}):Object.keys(e).forEach(l=>{var n,r,a,s;const h=e[l];void 0!==h.to&&("function"==typeof h.to?i[l]=h.to(null===(r=null===(n=t.context)||void 0===n?void 0:n.data)||void 0===r?void 0:r[0],t,{}):i[l]=h.to),void 0!==h.from&&(o||(o={}),"function"==typeof h.from?o[l]=h.from(null===(s=null===(a=t.context)||void 0===a?void 0:a.data)||void 0===s?void 0:s[0],t,{}):o[l]=h.from)}),{from:o,props:i}):{from:o,props:i}}resolveValue(e,t,i){var o,l;return void 0===e?i:"function"==typeof e&&t?e(null===(l=null===(o=t.context)||void 0===o?void 0:o.data)||void 0===l?void 0:l[0],t,{}):e}executeItem(e,t,i=0,o=1){return Array.isArray(e)?e.map(e=>this._executeItem(e,t,i,o)).filter(Boolean):[this._executeItem(e,t,i,o)].filter(Boolean)}_executeItem(e,t,i=0,o=1){if(!t)return null;const l="timeSlices"in e;let n=null;const r=this.parseParams(e,l);return n=l?this.executeTimelineItem(r,t,i,o):this.executeTypeConfigItem(r,t,i,o),n&&this._trackAnimation(n),n}stop(e){for(;this._animates.length>0;){const t=this._animates.pop();null==t||t.stop(e)}this._animates=[],this._activeCount=0,this._started&&(this._started=!1,this.onEnd())}}Yv.builtInAnimateMap={};const Zv="appear",Xv="disappear",$v="update",Kv="highlight",qv="unhighlight";class Jv{constructor(e){this.graphic=e}registerState(e){this.states||(this.states=new Map),this.states.set(e.name,e)}clearStates(){var e;null===(e=this.states)||void 0===e||e.clear()}}class Qv{constructor(e){this.stateList=null,this.graphic=e}applyState(e,t,i){const o=Vv.getInstance(),l=[],n=[];if(this.stateList&&this.stateList.length?e.forEach((e,i)=>{const r={allowTransition:!0};this.stateList.forEach(t=>{const i=o.isTransitionAllowed(t.state,e,this.graphic);r.allowTransition=r.allowTransition&&i.allowTransition}),r.allowTransition&&(n.push({state:e,animationConfig:Ve(t[i])?t[i].map(e=>e.animation):t[i].animation,executor:new Yv(this.graphic)}),this.stateList.forEach(t=>{o.isTransitionAllowed(t.state,e,this.graphic).stopOriginalTransition&&l.push(t)}))}):e.forEach((e,i)=>{n.push({state:e,animationConfig:Ve(t[i])?t[i].map(e=>e.animation):t[i].animation,executor:new Yv(this.graphic)})}),l.forEach(e=>{e.executor.stop()}),n.length){n[0].executor.execute(n[0].animationConfig);for(let e=0;e<n.length;e++){const t=n[e+1],o=n[e];o.executor.onEnd(()=>{t&&t.executor.execute(t.animationConfig),this.stateList=this.stateList.filter(e=>e!==o),e===n.length-1&&i&&i(!1)})}}else i&&i(!0);this.stateList?this.stateList=this.stateList.filter(e=>!l.includes(e)):this.stateList=[],this.stateList.push(...n)}applyAppearState(e,t){this.applyState([Zv],[{name:Zv,animation:e}],t)}applyDisappearState(e,t){this.applyState([Xv],[{name:Xv,animation:e}],t)}applyUpdateState(e,t){this.applyState([$v],[{name:$v,animation:e}],t)}applyHighlightState(e,t){this.applyState([Kv],[{name:Kv,animation:e}],t)}applyUnhighlightState(e,t){this.applyState([qv],[{name:qv,animation:e}],t)}stopState(e,t){var i;const o=null===(i=this.stateList)||void 0===i?void 0:i.find(t=>t.state===e);o&&o.executor.stop(t)}clearState(){var e;null===(e=this.stateList)||void 0===e||e.forEach(e=>{e.executor.stop()}),this.stateList=null}reApplyState(e){var t;const i=null===(t=this.stateList)||void 0===t?void 0:t.find(t=>t.state===e);if(i&&i.executor.started){const e=this.stateList.slice();i.executor.stop(),this.stateList=e,i.executor.execute(i.animationConfig)}}}class eC{_getAnimationStateManager(e){return e._animationStateManager||(e._animationStateManager=new Qv(e)),e._animationStateManager}_getAnimationStateStore(e){return e._animationStateStore||(e._animationStateStore=new Jv(e)),e._animationStateStore}registerAnimationState(e){return this._getAnimationStateStore(this).registerState(e),this}applyAnimationState(e,t,i){return this._getAnimationStateManager(this).applyState(e,t,i),this}applyAppearState(e,t){return this._getAnimationStateManager(this).applyAppearState(e,t),this}applyDisappearState(e,t){return this._getAnimationStateManager(this).applyDisappearState(e,t),this}applyUpdateState(e,t){return this._getAnimationStateManager(this).applyUpdateState(e,t),this}applyHighlightState(e,t){return this._getAnimationStateManager(this).applyHighlightState(e,t),this}applyUnhighlightState(e,t){return this._getAnimationStateManager(this).applyUnhighlightState(e,t),this}stopAnimationState(e,t,i=!1){return this._getAnimationStateManager(this).stopState(e,t),i&&this.isContainer&&this.forEachChildren(o=>{o.stopAnimationState(e,t,i)}),this}clearAnimationStates(){const e=this._animationStateManager;return e&&e.clearState(),this}reApplyAnimationState(e,t=!1){const i=this._animationStateManager;return i&&i.reApplyState(e),t&&this.isContainer&&this.forEachChildren(i=>{i.reApplyAnimationState(e,t)}),this}static extend(e){return(new eC)._getAnimationStateManager(e),e}}class tC{getAttributes(e=!1){return e&&this.finalAttribute?this.finalAttribute:this.attribute}animate(e){var t,i,o;const l=new jv(null==e?void 0:e.id,null!==(i=null!==(t=null==e?void 0:e.timeline)&&void 0!==t?t:this.stage&&this.stage.getTimeline())&&void 0!==i?i:Iv,null==e?void 0:e.slience);if(l.bind(this),e){const{onStart:t,onEnd:i,onRemove:o}=e;null!=t&&l.onStart(t),null!=i&&l.onEnd(i),null!=o&&l.onRemove(o)}return null===(o=this.stage)||void 0===o||o.ticker.start(),l}createTimeline(){return new Dv}createTicker(e){return new Uv(e)}setFinalAttributes(e){this.finalAttribute||(this.finalAttribute={}),Object.assign(this.finalAttribute,e)}initFinalAttributes(e){this.finalAttribute=e}initAnimateExecutor(){this._animateExecutor||(this._animateExecutor=new Yv(this))}executeAnimation(e){return this.initAnimateExecutor(),this._animateExecutor.execute(e),this}executeAnimations(e){return this.initAnimateExecutor(),e.forEach(e=>{this._animateExecutor.execute(e)}),this}getFinalAttribute(){return this.finalAttribute}getGraphicAttribute(e,t=!1){return!t&&this.finalAttribute?this.finalAttribute[e]:this.attribute[e]}pauseAnimation(e=!1){this.animates&&this.animates.forEach(e=>e.pause()),e&&this.isContainer&&this.forEachChildren(t=>{t.pauseAnimation(e)})}resumeAnimation(e=!1){this.animates&&this.animates.forEach(e=>e.resume()),e&&this.isContainer&&this.forEachChildren(t=>{t.resumeAnimation(e)})}stopAnimation(e=!1){this.animates&&this.animates.forEach(e=>e.stop()),e&&this.isContainer&&this.forEachChildren(t=>{t.stopAnimation(e)})}}class iC extends Pv{constructor(e,t,i,o,l){super("customAnimate",t,i,o),this.type="customAnimate",this.customFrom=e,this.params=l,this.from=e,this.to=t}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const o=this.easing(t);this.onUpdate(e,o,i),this.syncAttributeUpdate()}setProps(e){this.props=e,this.propKeys=Object.keys(e),this.animate.reSyncProps()}}class oC extends iC{completeBind(e){this.setStartTime(0),this._animator&&this._animator.start(),this.setDuration(e.getDuration())}stop(){this._animator&&this._animator.stop()}}class lC{constructor(e){this.tasks=[],this.started=!1,this.completed=0,this.totalDuration=0,this.onStartCallbacks=[],this.onEndCallbacks=[],this.onUpdateCallbacks=[],this.component=e}animate(e,t){return this.started?(console.warn("Cannot add animations after animation has started"),this):(this.tasks.push({graphic:e,config:t}),this)}onStart(e){return this.onStartCallbacks.push(e),this}onEnd(e){return this.onEndCallbacks.push(e),this}onUpdate(e){return this.onUpdateCallbacks.push(e),this}start(){return this.started?(console.warn("Animation has already started"),this):(this.started=!0,this.completed=0,this.onStartCallbacks.forEach(e=>e()),0===this.tasks.length?(setTimeout(()=>{this.onEndCallbacks.forEach(e=>e())},0),this):(this.tasks.forEach(e=>{const t=new Yv(e.graphic);t.onEnd(()=>{this.completed++,this.completed===this.tasks.length&&this.onEndCallbacks.forEach(e=>e())});const i=t.executeItem(e.config,e.graphic);e.animate=i,i.forEach(e=>{this.totalDuration=Math.max(this.totalDuration,e.getStartTime()+e.getDuration())})}),this))}deleteSelfAttr(e){this.tasks.forEach(t=>{t.animate&&t.animate.forEach(t=>t.preventAttr(e))})}stop(e){return this.tasks.forEach(t=>{t.animate&&t.animate.forEach(t=>t.stop(e))}),this.started&&this.completed!==this.tasks.length&&(this.onEndCallbacks.forEach(e=>e()),this.completed=this.tasks.length),this}getDuration(){return this.totalDuration}}function nC(e){return new lC(e)}class rC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l),this.formatTemplate=null,this.decimalLength=null==l?void 0:l.decimalLength,(null==l?void 0:l.formatTemplate)&&l.formatTemplate.includes("{{var}}")&&(this.formatTemplate=l.formatTemplate)}onFirstRun(){var e,t,i;const o=this.getLastProps(),l=this.getEndProps(),n=null!==(e=o.text)&&void 0!==e?e:0,r=null!==(t=l.text)&&void 0!==t?t:0;this.valid=!0;let a=0,s=0,h="",d="",c=0;if("number"==typeof n){a=n;const e=n.toString().split(".")[1]||"";c=Math.max(c,e.length)}else{if("string"!=typeof n)return void(this.valid=!1);if(n.endsWith("%")){h="%";const e=n.substring(0,n.length-1).replace(/,/g,"");if(a=parseFloat(e)/100,isNaN(a))return void(this.valid=!1);const t=e.split(".")[1]||"";c=Math.max(c,t.length+2)}else{const e=n.replace(/,/g,"");if(a=parseFloat(e),isNaN(a))return void(this.valid=!1);n.includes(",")&&(h=",");const t=e.split(".")[1]||"";c=Math.max(c,t.length)}}if("number"==typeof r){s=r;const e=r.toString().split(".")[1]||"";c=Math.max(c,e.length)}else{if("string"!=typeof r)return void(this.valid=!1);if(r.endsWith("%")){d="%";const e=r.substring(0,r.length-1).replace(/,/g,"");if(s=parseFloat(e)/100,isNaN(s))return void(this.valid=!1);const t=e.split(".")[1]||"";c=Math.max(c,t.length+2)}else{const e=r.replace(/,/g,"");if(s=parseFloat(e),isNaN(s))return void(this.valid=!1);r.includes(",")&&(d=",");const t=e.split(".")[1]||"";c=Math.max(c,t.length)}}if(null===(i=this.params)||void 0===i?void 0:i.format){switch(this.params.format){case"percent":this.format="%";break;case"thousandth":this.format=",";break;case"none":this.format="";break;default:this.format=d||h}"%"===this.format&&"%"!==d&&"%"!==h&&void 0===this.decimalLength&&(this.decimalLength=2),"%"===this.format||"%"!==d&&"%"!==h||(a*=100,s*=100)}else this.format=d||h;this.fromNumber=a,this.toNumber=s,void 0===this.decimalLength&&(this.decimalLength=c)}onEnd(e){super.onEnd(e),e||this.props&&this.target.setAttributes(this.props)}onUpdate(e,t,i){if(!this.valid)return;const o=this.fromNumber+(this.toNumber-this.fromNumber)*t;let l="";const n=this.format,r=("%"===n?100*o:o).toFixed(this.decimalLength);let a,s=r;if(parseFloat(r)===Math.floor(parseFloat(r))&&(s=Math.floor(parseFloat(r))),"%"===n)a=`${s}%`;else if(","===n){const e=s.toString().split(".");e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),a=e.join(".")}else a=s;l=this.formatTemplate?this.formatTemplate.replace("{{var}}",a.toString()):a,this.target.setAttribute("text",l)}}const aC=1e3,sC="quadInOut",hC=["x","y","dx","dy","scaleX","scaleY","angle","anchor","postMatrix","scrollX","scrollY"],dC=(e,t,i)=>{e.forEach(e=>{if(Number.isFinite(e.to))t[e.key]=e.from+(e.to-e.from)*i;else if("fill"===e.key||"stroke"===e.key){const o=ks(e.from,e.to,i,!1);o&&(t[e.key]=o)}})},cC=(e,t,i)=>{const o=[],l=[];t.clear();for(let n=0;n<e.length;n++){const r=e[n],a=r.from,s=r.to,h=r.rotation*i,d=r.fromCp,c=r.toCp,p=Math.sin(h),y=Math.cos(h);l[0]=d[0]+(c[0]-d[0])*i,l[1]=d[1]+(c[1]-d[1])*i;for(let e=0;e<a.length;e+=2){const t=a[e],n=a[e+1],r=t*(1-i)+s[e]*i,h=n*(1-i)+s[e+1]*i;o[e]=r*y-h*p+l[0],o[e+1]=r*p+h*y+l[1]}let u=o[0],g=o[1];t.moveTo(u,g);for(let e=2;e<a.length;e+=6){const i=o[e],l=o[e+1],n=o[e+2],r=o[e+3],a=o[e+4],s=o[e+5];u===i&&g===l&&n===a&&r===s?t.lineTo(a,s):t.bezierCurveTo(i,l,n,r,a,s),u=a,g=s}}},pC=(e,t,i)=>{const o=e?Wy(e):[],l=Wy(t);i&&o&&(i.fromTransform&&Ry(o,i.fromTransform.clone().getInverse()),Ry(o,i.toTransfrom));const[n,r]=function(e,t){let i,o;const l=[],n=[];for(let r=0;r<Math.max(e.length,t.length);r++){const a=e[r],s=t[r];let h,d;a?s?([h,d]=Ay(a,s),i=h,o=d):(d=zy(o,a),h=a):(h=zy(i,s),d=s),l.push(h),n.push(d)}return[l,n]}(o,l);return e?function(e,t,i,o){const l=[];let n;for(let r=0;r<e.length;r++){let a=e[r];const s=t[r],h=My(a),d=My(s);null==n&&(n=h[2]<0!=d[2]<0);const c=[],p=[];let y=0,u=1/0;const g=[],f=a.length;n&&(a=By(a));const k=6*Oy(a,s,h,d),m=f-2;for(let e=0;e<m;e+=2){const t=(k+e)%m+2;c[e+2]=a[t]-h[0],c[e+3]=a[t+1]-h[1]}if(c[0]=a[k]-h[0],c[1]=a[k+1]-h[1],i>0){const e=o/i;for(let t=-o/2;t<=o/2;t+=e){const e=Math.sin(t),i=Math.cos(t);let o=0;for(let t=0;t<a.length;t+=2){const l=c[t],n=c[t+1],r=s[t]-d[0],a=s[t+1]-d[1],h=r*i-a*e,p=r*e+a*i;g[t]=h,g[t+1]=p;const y=h-l,u=p-n;o+=y*y+u*u}if(o<u){u=o,y=t;for(let e=0;e<g.length;e++)p[e]=g[e]}}}l.push({from:c,to:p,fromCp:h,toCp:d,rotation:-y})}return l}(n,r,10,Math.PI):r.map((e,t)=>({from:n[t],to:e,fromCp:[0,0],toCp:[0,0],rotation:0}))},yC=["fill","fillOpacity","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","stroke","strokeOpacity","lineDashOffset"],uC=(e,t)=>{if(!e||!t)return null;const i=[];let o=!1;return Object.keys(e).forEach(l=>{if(!yC.includes(l))return;const n=t[l];if(!De(n)&&!De(e[l])&&n!==e[l]){if("fill"===l||"stroke"===l){const t=e=>"string"==typeof e?gs.Get(e,us.Color255):e;i.push({from:Ve(e[l])?e[l].map(t):t(e[l]),to:Ve(n)?n.map(t):t(n),key:l})}else i.push({from:e[l],to:n,key:l});o=!0}}),o?i:null};class gC extends iC{constructor(e,t,i){super({},{},t,i),this.morphingData=e.morphingData,this.otherAttrs=e.otherAttrs,this.saveOnEnd=e.saveOnEnd}getEndProps(){return{}}onBind(){this.target.createPathProxy(),this.onUpdate(!1,0,this.target.attribute)}onEnd(){}onUpdate(e,t,i){const o=this.target,l="function"==typeof o.pathProxy?o.pathProxy(o.attribute):o.pathProxy;cC(this.morphingData,l,t),this.otherAttrs&&this.otherAttrs.length&&dC(this.otherAttrs,i,t),this.target.setAttributes(i),e&&!this.saveOnEnd&&(this.target.pathProxy=null)}}const fC=(e,t,i,o)=>{var l,n,r;if(e&&(!e.valid||!e.toCustomPath))return __DEV__&&console.error(e," is not validate"),null;if(!t.valid||!t.toCustomPath)return __DEV__&&console.error(t," is not validate"),null;let a=null==e?void 0:e.globalTransMatrix;o&&a&&(a=o.clone().multiply(a.a,a.b,a.c,a.d,a.e,a.f));const s=pC(null===(l=null==e?void 0:e.toCustomPath)||void 0===l?void 0:l.call(e),t.toCustomPath(),{fromTransform:a,toTransfrom:t.globalTransMatrix}),h=uC(null==e?void 0:e.attribute,t.attribute),d=t.animate(i);(null==i?void 0:i.delay)&&d.wait(i.delay);const c=new gC({morphingData:s,otherAttrs:h},null!==(n=null==i?void 0:i.duration)&&void 0!==n?n:aC,null!==(r=null==i?void 0:i.easing)&&void 0!==r?r:sC);return d.play(c),d};class kC extends iC{constructor(e,t,i){super({},{},t,i),this.morphingData=e.morphingData,this.otherAttrs=e.otherAttrs}getEndProps(){return{}}onBind(){this.addPathProxy()}addPathProxy(){this.target.shadowRoot.forEachChildren(e=>{e.createPathProxy()}),this.onUpdate(!1,0,this.target.attribute)}clearPathProxy(){this.target.shadowRoot.forEachChildren(e=>{e.pathProxy=null})}onEnd(){}onUpdate(e,t,i){this.target.shadowRoot.forEachChildren((e,i)=>{var o;cC(this.morphingData[i],"function"==typeof e.pathProxy?e.pathProxy(e.attribute):e.pathProxy,t),(null===(o=this.otherAttrs)||void 0===o?void 0:o[i])&&this.otherAttrs[i].length&&dC(this.otherAttrs[i],e.attribute,t)}),e&&(this.clearPathProxy(),this.morphingData=null)}}const mC=e=>{const t={};return Object.keys(e).forEach(i=>{(e=>hC.includes(e))(i)||(t[i]=e[i])}),t},bC=(e,t,i)=>{const o=mC(e.attribute),l=e.attachShadow();if(t.length)l.setTheme({[t[0].type]:o}),t.forEach(e=>{e.setAttributes({pickable:!1}),l.appendChild(e)});else{const n=e.AABBBounds,r=n.width(),a=n.height();l.setTheme({rect:o}),new Array(i).fill(0).forEach(e=>{const i=xe.graphicService.creator.rect({x:0,y:0,width:r,height:a,pickable:!1});l.appendChild(i),t.push(i)})}},vC=(e,t,i)=>{const o=[],l=i?null:mC(e.attribute),n=e.toCustomPath();for(let r=0;r<t;r++){const e={path:(new Zo).fromCustomPath2D(n)};o.push(xe.graphicService.creator.path(i?e:Object.assign({},l,e)))}return i&&bC(e,o,t),o},CC=(e,t,i)=>{const o=[],l=i?null:mC(e.attribute);if("rect"===e.type)((e,t)=>{const{width:i,height:o}=Mh(e.attribute),l=Py(i,o,t),n=[],r=o/l.length;for(let a=0,s=l.length;a<s;a++){const e=l[a],t=i/e;for(let i=0;i<e;i++)n.push({x:0+i*t,y:0+a*r,width:t,height:r})}return n})(e,t).forEach(e=>{o.push(xe.graphicService.creator.rect(i?e:Object.assign({},l,e)))});else if("arc"===e.type)((e,t)=>{const i=e.getParsedAngle(),o=i.startAngle,l=i.endAngle,n=e.getComputedAttribute("innerRadius"),r=e.getComputedAttribute("outerRadius"),a=Math.abs(o-l),s=Math.abs(r-n),h=Py(a*(n+r)/2,s,t),d=[],c=s/h.length,p=r>=n?1:-1,y=l>=o?1:-1;for(let u=0,g=h.length;u<g;u++){const e=h[u],t=a/e;for(let i=0;i<e;i++)d.push({innerRadius:r-c*u*p,outerRadius:r-c*(u+1)*p,startAngle:o+t*i*y,endAngle:o+t*(i+1)*y})}return d})(e,t).forEach(e=>{o.push(xe.graphicService.creator.arc(i?e:Object.assign({},l,e)))});else if("circle"===e.type)((e,t)=>{const i=e.getComputedAttribute("startAngle"),o=e.getComputedAttribute("endAngle"),l=e.getComputedAttribute("radius"),n=Math.abs(i-o),r=Py(n*l,l,t),a=[],s=n/r[0],h=l/r.length,d=o>=i?1:-1;for(let c=0,p=r.length;c<p;c++)for(let e=0,t=r[c];e<t;e++)a.push({innerRadius:h*c,outerRadius:h*(c+1),startAngle:i+s*e*d,endAngle:i+s*(e+1)*d});return a})(e,t).forEach(e=>{o.push(xe.graphicService.creator.arc(i?e:Object.assign({},l,e)))});else if("line"===e.type){const n=((e,t)=>{const i=e.attribute,o=i.points;if(o)return Ey(o,t);if(i.segments){const e=i.segments.reduce((e,t)=>{var i;return e.concat(null!==(i=t.points)&&void 0!==i?i:[])},[]);return Ey(e,t)}return[]})(e,t),r={size:10,symbolType:"circle"};n.forEach(e=>{o.push(xe.graphicService.creator.symbol(i?Object.assign({},e,r):Object.assign({},l,e,r)))})}else"polygon"===e.type?((e,t)=>{const i=e.attribute.points;if(!i||!i.length)return[];if(1===t)return[{points:Iy(i)}];const o=[];return Ny(i,t,o),o})(e,t).forEach(e=>{o.push(xe.graphicService.creator.polygon(i?e:Object.assign({},l,e)))}):"area"===e.type?((e,t)=>{var i,o;const l=e.attribute;let n=l.points;const r=l.segments;n||(n=r.reduce((e,t)=>{var i;return e.concat(null!==(i=t.points)&&void 0!==i?i:[])},[]));const a=n.filter(e=>!1!==e.defined&&Ze(e.x)&&Ze(e.y));if(!a.length)return[];const s=[];a.forEach(e=>{s.push({x:e.x,y:e.y})});for(let d=a.length-1;d>=0;d--){const e=a[d];s.push({x:null!==(i=e.x1)&&void 0!==i?i:e.x,y:null!==(o=e.y1)&&void 0!==o?o:e.y})}const h=[];return Ny(s,t,h),h})(e,t).forEach(e=>{o.push(xe.graphicService.creator.polygon(i?e:Object.assign({},l,e)))}):"path"===e.type&&((e,t)=>{const i=Wy(e.getParsedPathShape());if(!i.length||t<0)return[];const o=i.length;if(i.length>=t){const e=[],l=Math.floor(i.length/t);for(let n=0;n<t;n++){const r=i.slice(n*l,n===t-1?o:(n+1)*l);e.push({path:Hy(r)})}return e}const l=[],n=Math.floor(t/o);let r=t;for(let a=0;a<o;a++){const e=[];for(let t=2,o=i[a].length;t<o;t+=2)e.push({x:i[0][t],y:i[0][t+1]});Ny(e,a===o-1?r:n,l),r-=n}return l})(e,t).forEach(e=>{"path"in e?o.push(xe.graphicService.creator.path(i?e:Object.assign({},l,e))):o.push(xe.graphicService.creator.polygon(i?e:Object.assign({},l,e)))});return i&&bC(e,o,t),o};class SC extends iC{constructor(e,t,i,o,l){super(null,{},i,o,l),this.clipFromAttribute=e,this.clipToAttribute=t,this._group=null==l?void 0:l.group,this._clipGraphic=null==l?void 0:l.clipGraphic}onBind(){super.onBind(),this._group&&this._clipGraphic&&(this._lastClip=this._group.attribute.clip,this._lastPath=this._group.attribute.path,this._group.setAttributes({clip:!0,path:[this._clipGraphic]},!1,{type:Ji.ANIMATE_BIND}))}onEnd(){this._group&&this._group.setAttributes({clip:this._lastClip,path:this._lastPath},!1,{type:Ji.ANIMATE_END})}onUpdate(e,t,i){if(!this._clipGraphic)return;const o={};Object.keys(this.clipFromAttribute).forEach(e=>{o[e]=this.clipFromAttribute[e]+(this.clipToAttribute[e]-this.clipFromAttribute[e])*t}),this._clipGraphic.setAttributes(o,!1,{type:Ji.ANIMATE_UPDATE,animationState:{ratio:t,end:e}})}}class xC extends SC{constructor(e,t,i,o,l){var n,r,a,s,h,d,c,p,y;const u=null!==(r=null===(n=null==l?void 0:l.group)||void 0===n?void 0:n.attribute)&&void 0!==r?r:{},g=null!==(s=null!==(a=null==l?void 0:l.width)&&void 0!==a?a:u.width)&&void 0!==s?s:0,f=null!==(d=null!==(h=null==l?void 0:l.height)&&void 0!==h?h:u.height)&&void 0!==d?d:0,k=null!==(c=null==l?void 0:l.animationType)&&void 0!==c?c:"in",m=null!==(p=null==l?void 0:l.direction)&&void 0!==p?p:"x",b=null!==(y=null==l?void 0:l.orient)&&void 0!==y?y:"positive",v=xe.graphicService.creator.rect({x:0,y:0,width:"in"===k&&"x"===m?0:g,height:"in"===k&&"y"===m?0:f,fill:!0});let C={},S={};"y"===m?"negative"===b?(C={y:f,height:0},S={y:0,height:f}):(C={height:0},S={height:f}):"negative"===b?(C={x:g,width:0},S={x:0,width:g}):(C={width:0},S={width:g}),super("in"===k?C:S,"in"===k?S:C,i,o,{group:null==l?void 0:l.group,clipGraphic:v})}}class _C extends iC{constructor(e,t,i,o,l){var n,r;super(e,t,i,o,l),this.newPointAnimateType=null!==(n=null==l?void 0:l.newPointAnimateType)&&void 0!==n?n:"grow",this.clipRangeByDimension=null!==(r=null==l?void 0:l.clipRangeByDimension)&&void 0!==r?r:"x"}getPoints(e,t=!1){if(e.points)return e.points;if(e.segments){const i=[];return this.segmentsCache||(this.segmentsCache=[]),e.segments.map(e=>{var o,l;e.points&&i.push(...e.points),t&&this.segmentsCache.push(null!==(l=null===(o=e.points)||void 0===o?void 0:o.length)&&void 0!==l?l:0)}),i}return[]}onBind(){super.onBind();const{points:e,segments:t}=this.target.attribute,{points:i,segments:o}=this.target.getFinalAttribute();this.from={points:e,segments:t},this.to={points:i,segments:o},this.props=this.to;const l=this.getPoints(this.from),n=this.getPoints(this.to,!0);this.fromPoints=l?Array.isArray(l)?l:[l]:[],this.toPoints=n?Array.isArray(n)?n:[n]:[];const r=new Map;this.fromPoints.forEach(e=>{e.context&&r.set(e.context,e)});let a,s,h=1/0,d=-1/0;for(let p=0;p<this.toPoints.length;p+=1)if(r.has(this.toPoints[p].context)){h=p,a=r.get(this.toPoints[p].context);break}for(let p=this.toPoints.length-1;p>=0;p-=1)if(r.has(this.toPoints[p].context)){d=p,s=r.get(this.toPoints[p].context);break}"clip"===this.newPointAnimateType&&0!==this.toPoints.length&&(Number.isFinite(d)?(this.clipRange=this.toPoints[d][this.clipRangeByDimension]/this.toPoints[this.toPoints.length-1][this.clipRangeByDimension],1===this.clipRange&&(this.shrinkClipRange=this.toPoints[d][this.clipRangeByDimension]/this.fromPoints[this.fromPoints.length-1][this.clipRangeByDimension]),Xe(this.clipRange)?this.clipRange=St(this.clipRange,0,1):this.clipRange=0):this.clipRange=0);let c=this.toPoints[0];this.interpolatePoints=this.toPoints.map((e,t)=>{const i=r.get(e.context);return i?(c=i,[i,e]):"appear"===this.newPointAnimateType||"clip"===this.newPointAnimateType?[e,e]:t<h&&a?[a,e]:t>d&&s?[s,e]:[c,e]}),this.points=this.interpolatePoints.map(e=>{const t=e[0],i=e[1],o=new Gt(t.x,t.y,t.x1,t.y1);return o.defined=i.defined,o.context=i.context,o})}onFirstRun(){const e=this.target.attribute.clipRange;Xe(e*this.clipRange)&&(this.clipRange*=e)}onUpdate(e,t,i){if(e)return Object.keys(this.to).forEach(e=>{this.target.attribute[e]=this.to[e]}),this.target.addUpdatePositionTag(),void this.target.addUpdateShapeAndBoundsTag();if(this.points=this.points.map((e,i)=>{const o=rr(this.interpolatePoints[i][0],this.interpolatePoints[i][1],t);return o.context=e.context,o}),this.clipRange){if(this.shrinkClipRange)return void(e?(i.points=this.toPoints,i.clipRange=1):(i.points=this.fromPoints,i.clipRange=this.clipRange-(this.clipRange-this.shrinkClipRange)*t));this.target.setAttributes({clipRange:this.clipRange+(1-this.clipRange)*t})}if(this.segmentsCache&&this.to.segments){let e=0;const t=this.to.segments.map((t,i)=>{const o=e+this.segmentsCache[i],l=this.points.slice(e,o);return e=o,Object.assign(Object.assign({},t),{points:l})});this.target.attribute.segments=t}else this.target.attribute.points=this.points;this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class wC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t,i;super.onBind();const o=this.target.getFinalAttribute(),l=null!==(e=this.target.attribute)&&void 0!==e?e:{},n={},r=null!==(t=this.from)&&void 0!==t?t:{};this.keys.forEach(e=>{var t,i,a;n[e]=null!==(t=null==o?void 0:o[e])&&void 0!==t?t:1,r[e]=null!==(a=null!==(i=r[e])&&void 0!==i?i:l[e])&&void 0!==a?a:0});const a=this.target.getFinalAttribute();a&&this.target.setAttributes(a),this.props=n,this.propKeys=this.keys,this.from=r,this.to=n,!1!==(null===(i=this.params.controlOptions)||void 0===i?void 0:i.immediatelyApply)&&this.target.setAttributes(r)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class LC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){super.onBind();const e=this.target.attribute,t={},i={};this.keys.forEach(o=>{var l;t[o]=0,i[o]=null!==(l=e[o])&&void 0!==l?l:1}),this.props=t,this.propKeys=this.keys,this.from=i,this.to=t,Object.assign(this.target.attribute,i),this.target.addUpdatePositionTag(),this.target.addUpdateBoundTag()}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class FC extends wC{constructor(e,t,i,o,l){super(e,t,i,o,l),this.keys=["clipRange"],this.from={clipRange:0}}onFirstRun(){var e;super.onFirstRun();const{clipDimension:t}=(null===(e=this.params)||void 0===e?void 0:e.options)||{};t&&(this.target.attribute.clipRangeByDimension=t)}}class TC extends LC{constructor(e,t,i,o,l){super(e,t,i,o,l),this.keys=["clipRange"]}}class AC extends wC{constructor(e,t,i,o,l){super(e,t,i,o,l),this.keys=["opacity","fillOpacity","strokeOpacity"],this.from={opacity:0,fillOpacity:0,strokeOpacity:0}}}class zC extends LC{constructor(e,t,i,o,l){super(e,t,i,o,l),this.keys=["opacity","fillOpacity","strokeOpacity"]}}const BC=(e,t,i)=>{var o;return!1!==(null!==(o=null==t?void 0:t.overall)&&void 0!==o&&o)?((e,t)=>{const i=e.getFinalAttribute();if(t&&"anticlockwise"===t.orient){const e=Ze(t.overall)?t.overall:2*Math.PI;return{from:{startAngle:e,endAngle:e},to:{startAngle:null==i?void 0:i.startAngle,endAngle:null==i?void 0:i.endAngle}}}const o=Ze(null==t?void 0:t.overall)?t.overall:0;return{from:{startAngle:o,endAngle:o},to:{startAngle:null==i?void 0:i.startAngle,endAngle:null==i?void 0:i.endAngle}}})(e,t):((e,t)=>{const i=e.getFinalAttribute();return t&&"anticlockwise"===t.orient?{from:{startAngle:null==i?void 0:i.endAngle},to:{startAngle:null==i?void 0:i.startAngle}}:{from:{endAngle:null==i?void 0:i.startAngle},to:{endAngle:null==i?void 0:i.endAngle}}})(e,t)};class MC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}determineUpdateFunction(){this.propKeys?this.propKeys&&this.propKeys.length>1?this._updateFunction=this.updateAngle:"startAngle"===this.propKeys[0]?this._updateFunction=this.updateStartAngle:"endAngle"===this.propKeys[0]?this._updateFunction=this.updateEndAngle:this.valid=!1:this.valid=!1}deleteSelfAttr(e){delete this.props[e],this.fromProps&&delete this.fromProps[e];const t=this.propKeys.indexOf(e);-1!==t&&this.propKeys.splice(t,1),this.propKeys&&this.propKeys.length>1?this._updateFunction=this.updateAngle:"startAngle"===this.propKeys[0]?this._updateFunction=this.updateStartAngle:"endAngle"===this.propKeys[0]?this._updateFunction=this.updateEndAngle:this._updateFunction=null}updateStartAngle(e){this.target.attribute.startAngle=this.from.startAngle+(this.to.startAngle-this.from.startAngle)*e}updateEndAngle(e){this.target.attribute.endAngle=this.from.endAngle+(this.to.endAngle-this.from.endAngle)*e}updateAngle(e){this.updateStartAngle(e),this.updateEndAngle(e)}onUpdate(e,t,i){this._updateFunction&&(this._updateFunction(t),this.target.addUpdateShapeAndBoundsTag())}}class OC extends MC{onBind(){var e,t,i;super.onBind();const{from:o,to:l}=BC(this.target,this.params.options,this.params),n=null!==(t=null===(e=this.target.context)||void 0===e?void 0:e.lastAttrs)&&void 0!==t?t:o;this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=n,this.to=l;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),!1!==(null===(i=this.params.controlOptions)||void 0===i?void 0:i.immediatelyApply)&&this.target.setAttributes(n),this.determineUpdateFunction()}}class WC extends MC{onBind(){super.onBind();const{from:e,to:t}=(i=this.target,o=this.params.options,this.params,!1!==(null!==(l=null==o?void 0:o.overall)&&void 0!==l&&l)?((e,t)=>{const i=e.attribute;if(t&&"anticlockwise"===t.orient){const e=Ze(t.overall)?t.overall:2*Math.PI;return{from:{startAngle:i.startAngle,endAngle:i.endAngle},to:{startAngle:e,endAngle:e}}}const o=Ze(null==t?void 0:t.overall)?t.overall:0;return{from:{startAngle:i.startAngle,endAngle:i.endAngle},to:{startAngle:o,endAngle:o}}})(i,o):((e,t)=>{const i=e.attribute;return t&&"anticlockwise"===t.orient?{from:{startAngle:i.startAngle},to:{startAngle:null==i?void 0:i.endAngle}}:{from:{endAngle:i.endAngle},to:{endAngle:null==i?void 0:i.startAngle}}})(i,o));var i,o,l;const n=e;this.props=t,this.propKeys=Object.keys(t).filter(e=>null!=t[e]),this.from=null!=n?n:this.target.attribute,this.to=t,this.determineUpdateFunction()}}class RC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t,i;super.onBind();const{from:o,to:l}=((e,t)=>{const i=e.getFinalAttribute();switch(null==t?void 0:t.direction){case"x":{const e=i.x,t=i.x1,o=i.width;return{from:Ie(o)?{x:e+o/2,x1:void 0,width:0}:{x:(e+t)/2,x1:(e+t)/2,width:void 0},to:{x:e,x1:t,width:o}}}case"y":{const e=i.y,t=i.y1,o=i.height;return{from:Ie(o)?{y:e+o/2,y1:void 0,height:0}:{y:(e+t)/2,y1:(e+t)/2,height:void 0},to:{y:e,y1:t,height:o}}}default:{const e=i.x,t=i.x1,o=i.width,l=i.y,n=i.y1,r=i.height,a={};return Ie(o)?(a.x=e+o/2,a.width=0,a.x1=void 0):(a.x=(e+t)/2,a.x1=(e+t)/2,a.width=void 0),Ie(r)?(a.y=l+r/2,a.height=0,a.y1=void 0):(a.y=(l+n)/2,a.y1=(l+n)/2,a.height=void 0),{from:a,to:{x:e,y:l,x1:t,y1:n,width:o,height:r}}}}})(this.target,this.params.options,this.params),n=null!==(t=null===(e=this.target.context)||void 0===e?void 0:e.lastAttrs)&&void 0!==t?t:o;this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=n,this.to=l;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),!1!==(null===(i=this.params.controlOptions)||void 0===i?void 0:i.immediatelyApply)&&this.target.setAttributes(n)}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class HC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){super.onBind();const{from:e,to:t}=((e,t)=>{const i=e.attribute;switch(null==t?void 0:t.direction){case"x":{const e=i.x,t=i.x1,o=i.width;return{to:Ie(o)?{x:e+o/2,x1:void 0,width:0}:{x:(e+t)/2,x1:(e+t)/2,width:void 0}}}case"y":{const e=i.y,t=i.y1,o=i.height;return{to:Ie(o)?{y:e+o/2,y1:void 0,height:0}:{y:(e+t)/2,y1:(e+t)/2,height:void 0}}}default:{const e=i.x,t=i.y,o=i.x1,l=i.y1,n=i.width,r=i.height,a={};return Ie(n)?(a.x=e+n/2,a.width=0,a.x1=void 0):(a.x=(e+o)/2,a.x1=(e+o)/2,a.width=void 0),Ie(r)?(a.y=t+r/2,a.height=0,a.y1=void 0):(a.y=(t+l)/2,a.y1=(t+l)/2,a.height=void 0),{to:a}}}})(this.target,this.params.options,this.params);this.props=t,this.propKeys=Object.keys(t).filter(e=>null!=t[e]),this.from=null!=e?e:this.target.attribute,this.to=t}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}const PC=(e,t,i)=>{var o;return!1!==(null!==(o=null==t?void 0:t.overall)&&void 0!==o&&o)?function(e,t,i){var o,l,n;const r=e.getFinalAttribute(),a=r.y,s=r.y1,h=r.height;let d;return t&&"negative"===t.orient?Ze(t.overall)?d=t.overall:i.group?(d=null!==(n=null!==(o=i.groupHeight)&&void 0!==o?o:null===(l=t.layoutRect)||void 0===l?void 0:l.height)&&void 0!==n?n:i.group.getBounds().height(),i.groupHeight=d):d=i.height:d=Ze(null==t?void 0:t.overall)?t.overall:0,{from:{y:d,y1:De(s)?void 0:d,height:De(h)?void 0:0},to:{y:a,y1:s,height:h}}}(e,t,i):function(e,t){const i=e.getFinalAttribute(),o=i.y,l=i.y1,n=i.height;if(t&&"negative"===t.orient){const e=Ie(n)?Math.max(o,o+n):Math.max(o,l);return{from:{y:e,y1:De(l)?void 0:e,height:De(n)?void 0:0},to:{y:o,y1:l,height:n}}}const r=Ie(n)?Math.min(o,o+n):Math.min(o,l);return{from:{y:r,y1:De(l)?void 0:r,height:De(n)?void 0:0},to:{y:o,y1:l,height:n}}}(e,t)};class EC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t,i;super.onBind();const{from:o,to:l}=PC(this.target,this.params.options,this.params),n=null!==(t=null===(e=this.target.context)||void 0===e?void 0:e.lastAttrs)&&void 0!==t?t:o;this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=n,this.to=l;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),!1!==(null===(i=this.params.controlOptions)||void 0===i?void 0:i.immediatelyApply)&&this.target.setAttributes(n)}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class DC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){super.onBind();const{from:e,to:t}=(i=this.target,o=this.params.options,l=this.params,!1!==(null!==(n=null==o?void 0:o.overall)&&void 0!==n&&n)?function(e,t,i){var o,l,n;const r=e.getFinalAttribute(),a=r.y1,s=r.height;let h;return t&&"negative"===t.orient?Ze(t.overall)?h=t.overall:i.group?(h=null!==(n=null!==(o=i.groupHeight)&&void 0!==o?o:null===(l=t.layoutRect)||void 0===l?void 0:l.height)&&void 0!==n?n:i.group.getBounds().height(),i.groupHeight=h):h=i.height:h=Ze(null==t?void 0:t.overall)?t.overall:0,{to:{y:h,y1:De(a)?void 0:h,height:De(s)?void 0:0}}}(i,o,l):function(e,t){const i=e.getFinalAttribute(),o=i.y,l=i.y1,n=i.height;if(t&&"negative"===t.orient){const e=Ie(n)?Math.max(o,o+n):Math.max(o,l);return{to:{y:e,y1:De(l)?void 0:e,height:De(n)?void 0:0}}}const r=Ie(n)?Math.min(o,o+n):Math.min(o,l);return{to:{y:r,y1:De(l)?void 0:r,height:De(n)?void 0:0}}}(i,o));var i,o,l,n;this.props=t,this.propKeys=Object.keys(t).filter(e=>null!=t[e]),this.from=null!=e?e:this.target.attribute,this.to=t}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}const IC=(e,t,i)=>{const o=e.getFinalAttribute().points,l={x:0,y:0};return o.forEach(e=>{l.x+=e.x,l.y+=e.y}),l.x/=o.length,l.y/=o.length,t&&t.center&&(Xe(t.center.x)&&(l.x=t.center.x),Xe(t.center.y)&&(l.y=t.center.y)),"area"===e.type&&(l.x1=l.x,l.y1=l.y),o.map(e=>Object.assign({},e,l))};class jC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onUpdate(e,t,i){var o,l;const n=null===(o=this.from)||void 0===o?void 0:o.points,r=null===(l=this.to)||void 0===l?void 0:l.points;n&&r&&(this.target.attribute.points=n.map((e,i)=>rr(n[i],r[i],t)),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag())}}class NC extends jC{onBind(){var e;if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:t,to:i}=((e,t)=>{const i=e.getFinalAttribute();return{from:{points:IC(e,t)},to:{points:i.points}}})(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(e=>null!=i[e]),this.from=t,this.to=i;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),!1!==(null===(e=this.params.controlOptions)||void 0===e?void 0:e.immediatelyApply)&&this.target.setAttributes(t)}else this.valid=!1}}class GC extends jC{onBind(){if(super.onBind(),["area","line"].includes(this.target.type)){const i=this.target.getFinalAttribute(),{from:o,to:l}=(e=this.target,t=this.params.options,this.params,{from:{points:e.getFinalAttribute().points},to:{points:IC(e,t)}});this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=o||i,this.to=l}else this.valid=!1;var e,t}}const UC=(e,t,i)=>e.getFinalAttribute().points.map(i=>{if(t&&"negative"===t.orient){let t=e.stage.viewWidth;return e.parent.parent.parent&&(t=e.parent.parent.parent.AABBBounds.width()),Object.assign(Object.assign({},i),{x:t,y:i.y,x1:t,y1:i.y1,defined:!1!==i.defined})}return Object.assign(Object.assign({},i),{x:0,y:i.y,x1:0,y1:i.y1,defined:!1!==i.defined})});class VC extends jC{onBind(){var e;if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:t,to:i}=((e,t)=>{const i=e.getFinalAttribute();return{from:{points:UC(e,t)},to:{points:i.points}}})(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(e=>null!=i[e]),this.from=t,this.to=i;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),!1!==(null===(e=this.params.controlOptions)||void 0===e?void 0:e.immediatelyApply)&&this.target.setAttributes(t)}else this.valid=!1}}class YC extends jC{onBind(){if(super.onBind(),["area","line"].includes(this.target.type)){const i=this.target.getFinalAttribute(),{from:o,to:l}=(e=this.target,t=this.params.options,this.params,{from:{points:e.getFinalAttribute().points},to:{points:UC(e,t)}});this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=o||i,this.to=l}else this.valid=!1;var e,t}}const ZC=(e,t,i)=>e.getFinalAttribute().points.map(i=>{if(t&&"negative"===t.orient){let t=e.stage.viewHeight;return e.parent.parent.parent&&(t=e.parent.parent.parent.AABBBounds.height()),Object.assign(Object.assign({},i),{x:i.x,y:t,x1:i.x1,y1:t,defined:!1!==i.defined})}return Object.assign(Object.assign({},i),{x:i.x,y:0,x1:i.x1,y1:0,defined:!1!==i.defined})});class XC extends jC{onBind(){var e;if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:t,to:i}=((e,t)=>{const i=e.getFinalAttribute();return{from:{points:ZC(e,t)},to:{points:i.points}}})(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(e=>null!=i[e]),this.from=t,this.to=i;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),!1!==(null===(e=this.params.controlOptions)||void 0===e?void 0:e.immediatelyApply)&&this.target.setAttributes(t)}else this.valid=!1}}class $C extends jC{onBind(){if(super.onBind(),["area","line","polygon"].includes(this.target.type)){const{from:i,to:o}=(e=this.target,t=this.params.options,this.params,{from:{points:e.getFinalAttribute().points},to:{points:ZC(e,t)}});this.props=o,this.propKeys=Object.keys(o).filter(e=>null!=o[e]),this.from=null!=i?i:this.target.attribute,this.to=o}else this.valid=!1;var e,t}}const KC=(e,t,i)=>{var o;return!1!==(null!==(o=null==t?void 0:t.overall)&&void 0!==o&&o)?((e,t)=>{const i=e.getFinalAttribute(),o=Ze(null==t?void 0:t.overall)?t.overall:0;return{from:{innerRadius:o,outerRadius:o},to:{innerRadius:null==i?void 0:i.innerRadius,outerRadius:null==i?void 0:i.outerRadius}}})(e,t):((e,t)=>{const i=e.getFinalAttribute();return t&&"inside"===t.orient?{from:{innerRadius:null==i?void 0:i.outerRadius},to:{innerRadius:null==i?void 0:i.innerRadius}}:{from:{outerRadius:null==i?void 0:i.innerRadius},to:{outerRadius:null==i?void 0:i.outerRadius}}})(e,t)};class qC extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class JC extends qC{onBind(){var e,t,i;super.onBind();const{from:o,to:l}=KC(this.target,this.params.options,this.params),n=null!==(t=null===(e=this.target.context)||void 0===e?void 0:e.lastAttrs)&&void 0!==t?t:o;this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=n,this.to=l;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),!1!==(null===(i=this.params.controlOptions)||void 0===i?void 0:i.immediatelyApply)&&this.target.setAttributes(n)}}class QC extends qC{onBind(){super.onBind();const{to:e}=(t=this.target,i=this.params.options,this.params,!1!==(null!==(o=null==i?void 0:i.overall)&&void 0!==o&&o)?((e,t)=>{const i=e.getFinalAttribute(),o=Ze(null==t?void 0:t.overall)?t.overall:0;return{from:{innerRadius:null==i?void 0:i.innerRadius,outerRadius:null==i?void 0:i.outerRadius},to:{innerRadius:o,outerRadius:o}}})(t,i):((e,t)=>{const i=e.getFinalAttribute();return t&&"inside"===t.orient?{from:{innerRadius:null==i?void 0:i.innerRadius},to:{innerRadius:null==i?void 0:i.outerRadius}}:{from:{outerRadius:null==i?void 0:i.outerRadius},to:{outerRadius:null==i?void 0:i.innerRadius}}})(t,i));var t,i,o;this.props=e,this.propKeys=Object.keys(e).filter(t=>null!=e[t]),this.from=this.target.attribute,this.to=e}}const eS=(e,t,i)=>{var o;return!1!==(null!==(o=null==t?void 0:t.overall)&&void 0!==o&&o)?function(e,t,i){var o;const l=e.getFinalAttribute(),n=l.x,r=l.x1,a=l.width;let s;return t&&"negative"===t.orient?Ze(t.overall)?s=t.overall:i.group?(s=null!==(o=i.groupWidth)&&void 0!==o?o:i.group.getBounds().width(),i.groupWidth=s):s=i.width:s=Ze(null==t?void 0:t.overall)?null==t?void 0:t.overall:0,{from:{x:s,x1:De(r)?void 0:s,width:De(a)?void 0:0},to:{x:n,x1:r,width:a}}}(e,t,i):function(e,t){const i=e.getFinalAttribute(),o=i.x,l=i.x1,n=i.width;if(t&&"negative"===t.orient){const e=Ie(n)?Math.max(o,o+n):Math.max(o,l);return{from:{x:e,x1:De(l)?void 0:e,width:De(n)?void 0:0},to:{x:o,x1:l,width:n}}}const r=Ie(n)?Math.min(o,o+n):Math.min(o,l);return{from:{x:r,x1:De(l)?void 0:r,width:De(n)?void 0:0},to:{x:o,x1:l,width:n}}}(e,t)};class tS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t,i;super.onBind();const{from:o,to:l}=eS(this.target,this.params.options,this.params),n=null!==(t=null===(e=this.target.context)||void 0===e?void 0:e.lastAttrs)&&void 0!==t?t:o;this.props=l,this.propKeys=Object.keys(l).filter(e=>null!=l[e]),this.from=n,this.to=l;const r=this.target.getFinalAttribute();r&&this.target.setAttributes(r),!1!==(null===(i=this.params.controlOptions)||void 0===i?void 0:i.immediatelyApply)&&this.target.setAttributes(n)}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class iS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){super.onBind();const{from:e,to:t}=(i=this.target,o=this.params.options,l=this.params,!1!==(null!==(n=null==o?void 0:o.overall)&&void 0!==n&&n)?function(e,t,i){var o;const l=e.getFinalAttribute(),n=l.x1,r=l.width;let a;return t&&"negative"===t.orient?Ze(t.overall)?a=t.overall:i.group?(a=null!==(o=i.groupWidth)&&void 0!==o?o:i.group.getBounds().width(),i.groupWidth=a):a=i.width:a=Ze(null==t?void 0:t.overall)?t.overall:0,{to:{x:a,x1:De(n)?void 0:a,width:De(r)?void 0:0}}}(i,o,l):function(e,t){const i=e.getFinalAttribute(),o=i.x,l=i.x1,n=i.width;if(t&&"negative"===t.orient){const e=Ie(n)?Math.max(o,o+n):Math.max(o,l);return{to:{x:e,x1:De(l)?void 0:e,width:De(n)?void 0:0}}}const r=Ie(n)?Math.min(o,o+n):Math.min(o,l);return{to:{x:r,x1:De(l)?void 0:r,width:De(n)?void 0:0}}}(i,o));var i,o,l,n;this.props=t,this.propKeys=Object.keys(t).filter(e=>null!=t[e]),this.from=null!=e?e:this.target.attribute,this.to=t}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class oS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t,i,o,l,n,r,a,s,h,d;let c,p;super.onBind();const y=this.target.getFinalAttribute(),u=null!==(e=this.target.attribute)&&void 0!==e?e:{};switch(null===(t=this.params)||void 0===t?void 0:t.direction){case"x":c={scaleX:null!==(i=u.scaleX)&&void 0!==i?i:0},p={scaleX:null!==(o=null==y?void 0:y.scaleX)&&void 0!==o?o:1},this._updateFunction=this.updateX;break;case"y":c={scaleY:null!==(l=u.scaleY)&&void 0!==l?l:0},p={scaleY:null!==(n=null==y?void 0:y.scaleY)&&void 0!==n?n:1},this._updateFunction=this.updateY;break;default:c={scaleX:null!==(r=u.scaleX)&&void 0!==r?r:0,scaleY:null!==(a=u.scaleY)&&void 0!==a?a:0},p={scaleX:null!==(s=null==y?void 0:y.scaleX)&&void 0!==s?s:1,scaleY:null!==(h=null==y?void 0:y.scaleY)&&void 0!==h?h:1},this._updateFunction=this.updateXY}const g=this.target.getFinalAttribute();g&&this.target.setAttributes(g),this.props=p,this.from=c,this.to=p,!1!==(null===(d=this.params.controlOptions)||void 0===d?void 0:d.immediatelyApply)&&this.target.setAttributes(c)}onEnd(e){super.onEnd(e)}updateX(e){this.target.attribute.scaleX=this.from.scaleX+(this.to.scaleX-this.from.scaleX)*e}updateY(e){this.target.attribute.scaleY=this.from.scaleY+(this.to.scaleY-this.from.scaleY)*e}updateXY(e){this.updateX(e),this.updateY(e)}deleteSelfAttr(e){delete this.props[e],this.fromProps&&delete this.fromProps[e];const t=this.propKeys.indexOf(e);-1!==t&&this.propKeys.splice(t,1),this.propKeys&&this.propKeys.length>1?this._updateFunction=this.updateXY:"scaleX"===this.propKeys[0]?this._updateFunction=this.updateX:"scaleY"===this.propKeys[0]?this._updateFunction=this.updateY:this._updateFunction=null}onUpdate(e,t,i){this._updateFunction&&(this._updateFunction(t),this.target.addUpdatePositionTag(),this.target.addUpdateBoundTag())}}class lS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t,i,o,l;let n,r;super.onBind();const a=this.target.attribute;switch(null===(e=this.params)||void 0===e?void 0:e.direction){case"x":n={scaleX:null!==(t=null==a?void 0:a.scaleX)&&void 0!==t?t:1},r={scaleX:0};break;case"y":n={scaleY:null!==(i=null==a?void 0:a.scaleY)&&void 0!==i?i:1},r={scaleY:0};break;default:n={scaleX:null!==(o=null==a?void 0:a.scaleX)&&void 0!==o?o:1,scaleY:null!==(l=null==a?void 0:a.scaleY)&&void 0!==l?l:1},r={scaleX:0,scaleY:0}}this.props=r,this.from=n,this.to=r}onEnd(e){super.onEnd(e)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateBoundTag()}}class nS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const o=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.fromProps,this.props,o,this,this.target):this.interpolateUpdateFunctions.forEach((e,t)=>{if(!this.animate.validAttr(this.propKeys[t]))return;const i=this.propKeys[t];e(i,this.fromProps[i],this.props[i],o,this,this.target)}),this.onUpdate(e,o,i),this.syncAttributeUpdate()}}class rS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onBind(){var e,t;super.onBind();let{diffAttrs:i={}}=null!==(e=this.target.context)&&void 0!==e?e:{};const{options:o}=this.params;i=Object.assign({},i),(null===(t=null==o?void 0:o.excludeChannels)||void 0===t?void 0:t.length)&&o.excludeChannels.forEach(e=>{delete i[e]}),this.props=i}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const o=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.fromProps,this.props,o,this,this.target):this.interpolateUpdateFunctions.forEach((e,t)=>{if(!this.animate.validAttr(this.propKeys[t]))return;const i=this.propKeys[t];e(i,this.fromProps[i],this.props[i],o,this,this.target)}),this.onUpdate(e,o,i)}}class aS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class sS extends aS{onBind(){var e;super.onBind();const{from:t,to:i}=((e,t,i)=>{var o,l,n,r;const{offset:a=0,orient:s,direction:h,point:d,excludeChannels:c=[],layoutRect:p={}}=null!=t?t:{};let y=0,u=0;"negative"===s&&(y=null!==(o=p.width)&&void 0!==o?o:e.stage.viewWidth,u=null!==(l=p.height)&&void 0!==l?l:e.stage.viewHeight),y+=a,u+=a;const g=Ee(d)?d.call(null,null===(r=null===(n=e.context)||void 0===n?void 0:n.data)||void 0===r?void 0:r[0],e,i):d,f=e.getGraphicAttribute("x"),k=e.getGraphicAttribute("y"),m=c.includes("x")?f:g&&Xe(g.x)?g.x:y,b=c.includes("y")?k:g&&Xe(g.y)?g.y:u;switch(h){case"x":return{from:{x:c.includes("x")?f:m},to:{x:f}};case"y":return{from:{y:b},to:{y:k}};default:return{from:{x:m,y:b},to:{x:f,y:k}}}})(this.target,this.params.options,this.params);this.props=i,this.propKeys=Object.keys(i).filter(e=>null!=i[e]),this.from=t,this.to=i;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),!1!==(null===(e=this.params.controlOptions)||void 0===e?void 0:e.immediatelyApply)&&this.target.setAttributes(t)}}class hS extends aS{onBind(){super.onBind();const{from:e,to:t}=((e,t,i)=>{var o,l,n,r;const{offset:a=0,orient:s,direction:h,point:d}=null!=t?t:{},c=i.group?i.group.AABBBounds:null,p=null!==(o=c.width())&&void 0!==o?o:i.width,y=null!==(l=c.height())&&void 0!==l?l:i.height,u=("negative"===s?p:0)+a,g=("negative"===s?y:0)+a,f=Ee(d)?d.call(null,null===(r=null===(n=e.context)||void 0===n?void 0:n.data)||void 0===r?void 0:r[0],e,i):d,k=f&&Xe(f.x)?f.x:u,m=f&&Xe(f.y)?f.y:g;switch(h){case"x":return{from:{x:e.getGraphicAttribute("x")},to:{x:k}};case"y":return{from:{y:e.getGraphicAttribute("y")},to:{y:m}};default:return{from:{x:e.getGraphicAttribute("x"),y:e.getGraphicAttribute("y")},to:{x:k,y:m}}}})(this.target,this.params.options,this.params);this.props=t,this.propKeys=Object.keys(t).filter(e=>null!=t[e]),this.from=e,this.to=t}}class dS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l)}onUpdate(e,t,i){const o=this.target.attribute;this.propKeys.forEach(e=>{o[e]=this.from[e]+(this.to[e]-this.from[e])*t}),this.target.addUpdatePositionTag(),this.target.addUpdateShapeAndBoundsTag()}}class cS extends dS{onBind(){var e;super.onBind();const{from:t,to:i}=((e,t)=>{var i;const o=null!==(i=e.getFinalAttribute().angle)&&void 0!==i?i:0;let l=0;return l=bt(o/(2*Math.PI),0)?Math.round(o/(2*Math.PI))*Math.PI*2:Xe(null==t?void 0:t.angle)?t.angle:"anticlockwise"===(null==t?void 0:t.orient)?Math.ceil(o/(2*Math.PI))*Math.PI*2:Math.floor(o/(2*Math.PI))*Math.PI*2,{from:{angle:l},to:{angle:o}}})(this.target,this.params.options);this.props=i,this.propKeys=["angle"],this.from=t,this.to=i;const o=this.target.getFinalAttribute();o&&this.target.setAttributes(o),!1!==(null===(e=this.params.controlOptions)||void 0===e?void 0:e.immediatelyApply)&&this.target.setAttributes(t)}}class pS extends dS{onBind(){super.onBind();const{from:e,to:t}=((e,t)=>{var i;const o=null!==(i=e.getFinalAttribute().angle)&&void 0!==i?i:0;let l=0;return l=bt(o/(2*Math.PI),0)?Math.round(o/(2*Math.PI))*Math.PI*2:Xe(null==t?void 0:t.angle)?t.angle:"anticlockwise"===(null==t?void 0:t.orient)?Math.ceil(o/(2*Math.PI))*Math.PI*2:Math.floor(o/(2*Math.PI))*Math.PI*2,{from:{angle:o},to:{angle:l}}})(this.target,this.params.options);this.props=t,this.propKeys=["angle"],this.from=e,this.to=t}}class yS extends iC{constructor(e,t,i,o,l){super(e,t,i,o,l),this.from=null!=e?e:{}}onBind(){var e,t;super.onBind(),Object.keys(this.from).forEach(e=>{null==this.props[e]&&(this.props[e]=this.target.getGraphicAttribute(e))});const i=this.target.getFinalAttribute();"appear"===(null===(e=this.target.context)||void 0===e?void 0:e.animationState)&&i&&this.target.setAttributes(i),!1!==(null===(t=this.params.controlOptions)||void 0===t?void 0:t.immediatelyApply)&&this.target.setAttributes(this.from)}onFirstRun(){this.from=Object.assign(Object.assign({},this.getLastProps()),this.from);const e=this.animate.getStartProps();this.propKeys&&this.propKeys.forEach(t=>{var i;this.from[t]=null!==(i=this.from[t])&&void 0!==i?i:e[t]}),this.target.setAttributes(this.from)}deleteSelfAttr(e){super.deleteSelfAttr(e),delete this.from[e]}update(e,t,i){if(this.onStart(),!this.props||!this.propKeys)return;const o=this.easing(t);this.animate.interpolateUpdateFunction?this.animate.interpolateUpdateFunction(this.from,this.props,o,this,this.target):this.interpolateUpdateFunctions.forEach((e,t)=>{if(!this.animate.validAttr(this.propKeys[t]))return;const i=this.propKeys[t];e(i,this.from[i],this.props[i],o,this,this.target)}),this.onUpdate(e,o,i),this.syncAttributeUpdate()}}class uS extends oC{onBind(){var e;const t=nC(this.target);this._animator=t;const i=this.duration,o=this.easing,{config:l,lastScale:n,getTickCoord:r}=this.params;let a=1;const s=this.target.data;if(n&&r&&s){a=.7;const e=r(n.scale(s.rawValue)),l=this.target.attribute.x,h=this.target.attribute.y;this.target.setAttributes({x:e.x,y:e.y}),t.animate(this.target,{type:"to",to:{x:l,y:h},duration:i,easing:o})}t.animate(this.target,{type:null!==(e=l.type)&&void 0!==e?e:"fadeIn",to:l.to,duration:i*a,easing:o}),this.completeBind(t)}}class gS extends oC{onBind(){const e=nC(this.target);this._animator=e;const t=this.duration,i=this.easing,{config:o,diffAttrs:l}=this.params;e.animate(this.target,{type:"to",to:Object.assign({},l),duration:t,easing:i,customParameters:{diffAttrs:Object.assign({},l)}}),this.completeBind(e)}deleteSelfAttr(e){super.deleteSelfAttr(e),this._animator.deleteSelfAttr(e)}tryPreventConflict(){}}function fS(){sb(),db(),mb(),_b(),Yv.registerBuiltInAnimate("axisEnter",uS),Yv.registerBuiltInAnimate("axisUpdate",gS)}var kS=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};fS(),fb();class mS extends bv{constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},mS.defaultAttributes,e),t)}_renderInner(e){var t;if(this._breaks=null,this.attribute.breaks&&this.attribute.breaks.length){const e=[];for(let t=0;t<this.attribute.breaks.length;t++){const i=this.attribute.breaks[t],{range:o,breakSymbol:l,rawRange:n}=i;e.push({startPoint:this.getTickCoord(o[0]),endPoint:this.getTickCoord(o[1]),range:o,breakSymbol:l,rawRange:n})}this._breaks=e}super._renderInner(e),this._breaks&&this._breaks.length&&this._breaks.forEach((t,i)=>{const{startPoint:o,endPoint:l,breakSymbol:n,rawRange:r}=t;if(!1!==(null==n?void 0:n.visible)){const t=hd.group({zIndex:999});t.name=ov.axisBreak,t.id=this._getNodeId(`${ov.axisBreak}-${i}`),t.data=r;const a=function(e={}){var t,i;const{style:o={},angle:l=.5*Math.PI}=e,n=lt({},av,o),r=null!==(t=n.size)&&void 0!==t?t:av.size;return Object.assign(Object.assign({},n),{symbolType:null!==(i=n.symbolType)&&void 0!==i?i:`M ${-r/2} ${r*Math.sin(l)} L ${r/2} ${-r*Math.sin(l)}`,symbolSize:r})}(n),s=hd.symbol(Object.assign({x:o.x,y:o.y},a));s.name=ov.axisBreakSymbol;const h=hd.symbol(Object.assign({x:l.x,y:l.y},a));h.name=ov.axisBreakSymbol,t.add(s),t.add(h),e.add(t)}});const{panel:i}=this.attribute;if(i&&i.visible){const e=this.axisContainer,o=e.AABBBounds,l=hd.rect(Object.assign({x:o.x1,y:o.y1,width:o.width(),height:o.height()},i.style));l.name=ov.background,l.id=this._getNodeId("background"),l.states=lt({},nv,null!==(t=i.state)&&void 0!==t?t:{}),e.insertBefore(l,e.firstChild)}}renderLine(e){const{start:t,end:i,line:o}=this.attribute,l=o,{startSymbol:n,endSymbol:r,style:a,state:s}=l,h=kS(l,["startSymbol","endSymbol","style","state"]),d=Object.assign({startSymbol:n,endSymbol:r,lineStyle:a},h);if(this._breaks&&this._breaks.length){const e=[];let o=t;this._breaks.forEach(t=>{const{startPoint:i,endPoint:l}=t;e.push([o,i]),o=l}),e.push([o,i]),d.points=e,d.multiSegment=!0}else d.points=[t,i];qe(s)||(d.state={line:lt({},nv,s),symbol:lt({},nv,s)});const c=new iv(d);c.name=ov.line,c.id=this._getNodeId("line"),e.add(c)}getTextAlign(e){let t="center";return bt(e[0],0)?bt(e[1],0)?Object.is(e[1],-0)?t="start":Object.is(e[0],-0)&&(t="end"):t="center":e[0]>0?t="start":e[0]<0&&(t="end"),t}getTitleAttribute(){var e,t,i;const o=this.attribute.title,{position:l="middle",space:n=4,textStyle:r={},autoRotate:a=!0,shape:s,background:h,state:d={},maxWidth:c}=o,p=kS(o,["position","space","textStyle","autoRotate","shape","background","state","maxWidth"]);let y=.5;"start"===l?y=0:"end"===l&&(y=1);const{verticalFactor:u=1}=this.attribute,g=-1*u,f=this.getTickCoord(y),k=this.getRelativeVector();let m=0;if((null===(e=this.attribute.label)||void 0===e?void 0:e.visible)&&!1===this.attribute.label.inside){const e=+Je(this.attribute,"label.space",4);m+=e;const t=Object.keys(this.axisLabelLayerSize).length;if(0===k[1]){const i=this.axisLabelsContainer?this.axisLabelsContainer.AABBBounds.height():0;isFinite(i)?m+=i+(t-1)*e:m=0}else if(0===k[0])if(this.axisLabelsContainer&&this.axisLabelsContainer.AABBBounds&&!this.axisLabelsContainer.AABBBounds.empty()){const i=this.axisLabelLayerSize[0].labelPos,o=this.axisLabelsContainer.AABBBounds;m+=(1===g?o.x2>i?Math.min(o.x2-i,o.width()):0:o.x1<i?Math.min(i-o.x1,o.width()):0)+(t-1)*e}else m=0;else Object.keys(this.axisLabelLayerSize).forEach((t,i)=>{m+=this.axisLabelLayerSize[t].width+(i>0?e:0)})}let b=0;(null===(t=this.attribute.tick)||void 0===t?void 0:t.visible)&&!1===this.attribute.tick.inside&&(b=this.attribute.tick.length||4),(null===(i=this.attribute.subTick)||void 0===i?void 0:i.visible)&&!1===this.attribute.subTick.inside&&(b=Math.max(b,this.attribute.subTick.length||2));const v=b+m+n,C=this.getVerticalCoord(f,v,!1),S=this.getVerticalVector(v,!1,{x:0,y:0});let x,_,{angle:w}=p;if(x="start"===l?"start":"end"===l?"end":"center",De(w)&&a){w=Nb(k,[1,0],!0);const{verticalFactor:e=1}=this.attribute;_=1==-1*e?"bottom":"top"}else x=this.getTextAlign(S),_=this.getTextBaseline(S,!1);let L=c;if(De(L)){const{verticalLimitSize:e,verticalMinSize:t,orient:i}=this.attribute,o=Math.min(e||1/0,t||1/0);if(Xe(o))if("bottom"===i||"top"===i)if(w!==Math.PI/2){const e=Math.abs(Math.cos(null!=w?w:0));L=e<1e-6?1/0:this.attribute.end.x/e}else L=o-v;else if(w&&0!==w){const e=Math.abs(Math.sin(w));L=e<1e-6?1/0:this.attribute.end.y/e}else L=o-v}const F=Object.assign(Object.assign(Object.assign({},C),p),{maxWidth:L,textStyle:Object.assign({textAlign:x,textBaseline:_},r),state:{text:lt({},nv,d.text),shape:lt({},nv,d.shape),panel:lt({},nv,d.background)}});return F.angle=w,s&&s.visible&&(F.shape=Object.assign({visible:!0},s.style),s.space&&(F.space=s.space)),h&&h.visible&&(F.panel=Object.assign({visible:!0},h.style)),F}getTextBaseline(e,t){let i="middle";const{verticalFactor:o=1}=this.attribute,l=(t?1:-1)*o;return bt(e[1],0)?i=!bt(e[0],0)||Object.is(e[0],-0)||Object.is(e[1],-0)?"middle":1===l?"bottom":"top":e[1]>0?i="top":e[1]<0&&(i="bottom"),i}getLabelAlign(e,t,i){const o=this.attribute.orient;if(["top","bottom","right","left"].includes(o)||0===e[0]&&0===e[1]){if("top"===o||"bottom"===o)return Lv(t?"bottom"===o?"top":"bottom":o,i);if("left"===o||"right"===o)return Fv(t?"left"===o?"right":"left":o,i)}return{textAlign:this.getTextAlign(e),textBaseline:this.getTextBaseline(e,t)}}beforeLabelsOverlap(e,t,i,o,l){var n,r,a,s;const{flush:h=!1}=this.attribute.label||{};if(h&&e.length){const{orient:t,start:i,end:o}=this.attribute,l="bottom"===t||"top"===t,h=e[0],d=ct(e),c=l?h.attribute.x>d.attribute.x:h.attribute.y<d.attribute.y;if(l){const e=c?d:h,t=c?h:d,l=i.x,a=o.x,s=e.AABBBounds.x1,p=t.AABBBounds.x2;s<l&&(e.attribute.angle?e.setAttributes({dx:(null!==(n=e.attribute.dx)&&void 0!==n?n:0)+l-s}):e.setAttributes({x:l,textAlign:"left"})),p>a&&(t.attribute.angle?t.setAttributes({dx:(null!==(r=t.attribute.dx)&&void 0!==r?r:0)+a-p}):t.setAttributes({x:a,textAlign:"right"}))}else{const e=c?d:h,t=c?h:d,l=e.AABBBounds.y2,n=t.AABBBounds.y1,r=i.y,p=o.y;n<r&&(t.attribute.angle?t.setAttributes({dy:(null!==(a=t.attribute.dy)&&void 0!==a?a:0)+r-n}):t.setAttributes({y:r,textBaseline:"top"})),l>p&&(e.attribute.angle?e.setAttributes({dy:(null!==(s=e.attribute.dy)&&void 0!==s?s:0)+p-l}):e.setAttributes({y:p,textBaseline:"bottom"}))}}}handleLabelsOverlap(e,t,i,o,l){if(qe(e))return;const{verticalLimitSize:n,label:r,orient:a}=this.attribute,s=this._getAxisLabelLimitLength(n,l),{layoutFunc:h,autoRotate:d,autoRotateAngle:c,autoLimit:p,limitEllipsis:y,autoHide:u,autoHideMethod:g,autoHideSeparation:f,lastVisible:k,firstVisible:m,autoWrap:b,overflowLimitLength:v}=r;if(Ee(h))h(e,t,o,this);else{if(d)!function(e,t){if(qe(e))return;const{orient:i,labelRotateAngle:o=[0,45,90]}=t;if(0===o.length||e.some(e=>!!e.attribute.angle))return;let l=0,n=0;for(o&&o.length>0&&(n=o.length);l<n;){const t=o[l++];if(e.forEach(e=>{e.attribute.angle=Vt(t)}),_v(i,e),!xv(e))break}}(e,{labelRotateAngle:c,orient:a});else if(b){!function(e,t){const{limitLength:i,axisLength:o,ellipsis:l="...",orient:n}=t;if(qe(e)||!Xe(i))return;const r=e[0].attribute.angle,a=cv(r),s=dv(r),h="top"===n||"bottom"===n;let d=o/e.length;e.forEach((t,o)=>{var n,r,c,p,y;if(h){if(s&&Math.floor(t.AABBBounds.height())<=i)return;if(a){const i=Av(t.attribute.x,null===(n=e[o+1])||void 0===n?void 0:n.attribute.x,null===(r=e[o-1])||void 0===r?void 0:r.attribute.x);Xe(i)&&(d=Ht(d,i))}}else{if(s){const i=Av(t.attribute.y,null===(c=e[o+1])||void 0===c?void 0:c.attribute.y,null===(p=e[o-1])||void 0===p?void 0:p.attribute.y);Xe(i)&&(d=Ht(d,i))}if(a&&Math.floor(t.AABBBounds.width())<=i)return}let u=null,g=null;h?s?(u=i,g=d):(u=d,g=i):s?(u=d,g=i):(u=i,g=d),t.setAttributes({maxLineWidth:u,ellipsis:null!==(y=t.attribute.ellipsis)&&void 0!==y?y:l,whiteSpace:"normal",heightLimit:g})})}(e,{orient:a,limitLength:s,axisLength:"left"===a||"right"===a?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x),ellipsis:y})}if(!b&&p&&Xe(s)&&s>0){const t="left"===a||"right"===a,i=t?Math.abs(this.attribute.start.y-this.attribute.end.y):Math.abs(this.attribute.start.x-this.attribute.end.x);Tv(e,{limitLength:s,verticalLimitLength:t?i/e.length:u||d?1/0:i/e.length,ellipsis:y,orient:a,axisLength:i,overflowLimitLength:v})}u&&function(e,t){if(qe(e))return;const i=e.filter(Cv);if(qe(i))return;let o;o=function(e){return e.forEach(e=>e.setAttribute("opacity",1)),e}(i);const{method:l="parity",separation:n=0}=t,r=Ee(l)?l:vv[l]||vv.parity;if(o.length>=3&&fv(o,n)){do{o=r(o,n)}while(o.length>=3&&fv(o,n));const e=(e,t,i=!0)=>i&&e<3||t,l=e(o.length,t.firstVisible,!1);let a=e(o.length,t.lastVisible);const s=i[0],h=ct(i);gv(s,h,n)&&l&&a&&(h.setAttribute("opacity",0),a=!1),Sv(s,o,l,e=>gv(e,s,n)),Sv(h,o,a,e=>gv(e,h,n)||!(!l||e===s)&&gv(e,s,n),!0)}i.forEach(e=>{e.setAttribute("visible",!!e.attribute.opacity)})}(e,{method:g,separation:f,lastVisible:k,firstVisible:m})}}afterLabelsOverlap(e,t,i,o,l){const{verticalLimitSize:n,orient:r}=this.attribute,a="bottom"===r||"top"===r,s=i.AABBBounds;let h=a?s.height():s.width();const{verticalMinSize:d}=this.attribute;if(Xe(d)&&(!Xe(n)||d<=n)){const e=this._getAxisLabelLimitLength(d,l);let t,o;h=Math.max(h,e),"left"===r?(t=s.x2-h,o=s.y1):"right"===r?(t=s.x1,o=s.y1):"top"===r?(t=s.x1,o=s.y2-h):"bottom"===r&&(t=s.x1,o=s.y1);const n=hd.rect({x:t,y:o,width:a?s.width():h,height:a?h:s.height(),pickable:!1});n.name=ov.axisLabelBackground,n.id=this._getNodeId("axis-label-background"),i.insertBefore(n,i.firstChild)}if(Ie(this.attribute.label.containerAlign)){let t;"left"===r?t=s.x2-h:"right"===r?t=s.x1:"top"===r?t=s.y2-h:"bottom"===r&&(t=s.y1),function(e,t,i,o,l){"left"===o||"right"===o?"left"===l?e.forEach(e=>{var i;e.setAttributes({dx:(null!==(i=e.attribute.dx)&&void 0!==i?i:0)+t-e.AABBBounds.x1})}):"right"===l?e.forEach(e=>{var o;e.setAttributes({dx:(null!==(o=e.attribute.dx)&&void 0!==o?o:0)+t+i-e.AABBBounds.x2})}):"center"===l&&e.forEach(e=>{var o;e.setAttributes({dx:(null!==(o=e.attribute.dx)&&void 0!==o?o:0)+t+i/2-(e.AABBBounds.x1+e.AABBBounds.x2)/2})}):"bottom"!==o&&"top"!==o||("top"===l?e.forEach(e=>{var i;e.setAttributes({dy:(null!==(i=e.attribute.dy)&&void 0!==i?i:0)+t-e.AABBBounds.y1})}):"bottom"===l?e.forEach(e=>{var o;e.setAttributes({dy:(null!==(o=e.attribute.dy)&&void 0!==o?o:0)+t+i-e.AABBBounds.y2})}):"middle"===l&&e.forEach(e=>{var o;e.setAttributes({dy:(null!==(o=e.attribute.dy)&&void 0!==o?o:0)+t+i/2-(e.AABBBounds.y1+e.AABBBounds.y2)/2})}))}(e,t,h,r,this.attribute.label.containerAlign)}}_getAxisLabelLimitLength(e,t){var i,o,l,n,r;const{label:a,title:s,line:h,tick:d}=this.attribute,c=null!==(i=a.space)&&void 0!==i?i:4;let p=e,y=0,u=0;const g=h&&h.visible?null!==(o=h.style.lineWidth)&&void 0!==o?o:1:0,f=d&&d.visible?null!==(l=d.length)&&void 0!==l?l:4:0;if(s&&s.visible&&"string"==typeof s.text){y=Ub(s.text,s.textStyle,null===(r=null===(n=this.stage)||void 0===n?void 0:n.getTheme())||void 0===r?void 0:r.text).height;const e=Ai(s.padding);u=s.space+e[0]+e[2]}return p&&(p=(p-c-u-y-g-f)/t),p}release(){super.release(),this._breaks=null}}mS.defaultAttributes=rv,ht(mS,zv);const bS=e=>e.map((e,t)=>({index:t,value:e})),vS=(e,t,i,o)=>i<e?Math.max(e-t/2,i):i>e?Math.min(e-t/2,i-t):i<o?i:i-t,CS=(e,t,i)=>{var o,l,n;const{labelStyle:r,axisOrientType:a,labelFlush:s,labelFormatter:h,startAngle:d=0}=i;let c=null!==(o=r.angle)&&void 0!==o?o:0;"vertical"===r.direction&&(c+=Vt(90));const p=["bottom","top"].includes(a),y=["left","right"].includes(a);let u=1,g=0;p||(y?(u=0,g=1):d&&(u=Math.cos(d),g=-Math.sin(d)));const f=Gb(r),k=e.range();let m=[];for(let b=0;b<t.length;b++){const i=t[b],o=h?h(i):`${i}`;if(Ne(o)){m=void 0;break}const{width:a,height:d}=f.quickMeasure(o),v=Math.max(a,12),C=Math.max(d,12),S=e.scale(i),x=u*S,_=g*S;let w,L,F=x,T=_;s&&p&&0===b?F=vS(x,v,k[0],k[k.length-1]):s&&p&&b===t.length-1?F=vS(x,v,k[k.length-1],k[0]):w=null!==(l=r.textAlign)&&void 0!==l?l:"center","right"===w?F-=v:"center"===w&&(F-=v/2),s&&y&&0===b?T=vS(_,C,k[0],k[k.length-1]):s&&y&&b===t.length-1?T=vS(_,C,k[k.length-1],k[0]):L=null!==(n=r.textBaseline)&&void 0!==n?n:"middle","bottom"===L?T-=C:"middle"===L&&(T-=C/2);const A=(new yi).set(F,T,F+v,T+C);c&&A.rotate(c,x,_),m.push(A)}return m};var SS;function xS(e,t,i,o){let l;const{breakData:n}=e;if(n&&n()){const{breakDomains:e}=n(),r=t.domain();l=[];for(let t=0;t<r.length-1;t++)o(i,[r[t],r[t+1]]).forEach(t=>{e.some(e=>t>=e[0]&&t<=e[1])||l.push(t)});t.domain(r)}else l=o(i);return l}function _S(e,t,i,o,l=!1){if(i&&!t.includes(e)){let i=t.length;if(i>1){l?t.push(e):t.unshift(e);for(let e=0;e<i;e++){const n=l?i-1-e:e;if(!o(t[n]))break;t.splice(n,1),e--,i--}}}}!function(e){e.Identity="identity",e.Linear="linear",e.Log="log",e.Pow="pow",e.Sqrt="sqrt",e.Symlog="symlog",e.Time="time",e.Quantile="quantile",e.Quantize="quantize",e.Threshold="threshold",e.Ordinal="ordinal",e.Point="point",e.Band="band"}(SS||(SS={})),Object.values(SS).forEach(e=>{});const wS=(e,t)=>{var i,o,l,n;if(!function(e){switch(e){case SS.Linear:case SS.Log:case SS.Pow:case SS.Sqrt:case SS.Symlog:case SS.Time:return!0;default:return!1}}(e.type))return bS(e.domain());const r=e.range(),a=Math.abs(r[r.length-1]-r[0]);if(a<2)return bS([e.domain()[0]]);const{tickCount:s,forceTickCount:h,tickStep:d,noDecimals:c=!1,labelStyle:p,breakData:y}=t;let u;if(Ie(d))g=e.stepTicks(d),f=y&&y()?y().breakDomains:null,u=f&&f.length?g.filter(e=>f.every(t=>e<t[0]||e>t[1])):g;else if(Ie(h))u=xS(t,e,h,(t,i)=>i&&i.length?e.domain(i,!0).forceTicks(t):e.forceTicks(t));else if("d3"===t.tickMode){const o=null!==(i=Ee(s)?s({axisLength:a,labelStyle:p}):s)&&void 0!==i?i:5;u=xS(t,e,o,(t,i)=>i&&i.length?e.domain(i,!0).d3Ticks(t,{noDecimals:c}):e.d3Ticks(t,{noDecimals:c}))}else{const i=null!==(o=Ee(s)?s({axisLength:a,labelStyle:p}):s)&&void 0!==o?o:5,l=Ee(t.tickMode)?t.tickMode:void 0;u=xS(t,e,i,(t,i)=>i&&i.length?e.domain(i,!0).ticks(t,{noDecimals:c,customTicks:l}):e.ticks(t,{noDecimals:c,customTicks:l}))}var g,f;const k=e.domain();if(t.labelFirstVisible&&k[0]!==u[0]&&!u.includes(k[0])&&u.unshift(k[0]),t.labelLastVisible&&k[k.length-1]!==u[u.length-1]&&!u.includes(k[k.length-1])&&u.push(k[k.length-1]),t.sampling&&u.length>1&&("cartesian"===t.coordinateType||"polar"===t.coordinateType&&"radius"===t.axisOrientType)){const{labelGap:i=4,labelFlush:o}=t,r=6;let s;if(u.length*r>a){const i=[],o=Math.floor(u.length*r/a);u.forEach((e,t)=>{t%o!=0&&t!==u.length-1||i.push(e)}),s=null===(l=CS(e,i,t))||void 0===l?void 0:l.map((e,t)=>({AABBBounds:e,value:i[t]}))}else s=null===(n=CS(e,u,t))||void 0===n?void 0:n.map((e,t)=>({AABBBounds:e,value:u[t]}));if(s){const e=s[0],l=ct(s),n=y&&y()?LS.greedy:LS.parity;for(;s.length>=3&&fv(s,i);)s=n(s,i);const r=t.labelFirstVisible;let a=t.labelLastVisible;gv(e,l,i)&&s.includes(l)&&s.length>1&&r&&a&&(s.splice(s.indexOf(l),1),a=!1),_S(e,s,r,t=>gv(t,e,i)),_S(l,s,a,t=>gv(t,l,i)||!(!r||t===e)&&gv(t,e,i),!0);const h=s.map(e=>e.value);h.length<3&&o&&(h.length>1&&h.pop(),ct(h)!==ct(u)&&h.push(ct(u))),u=h}}return bS(u)},LS={parity:function(e){return e.filter((e,t)=>t%2==0)},greedy:function(e,t){let i;return e.filter((e,o)=>!(o&&gv(i,e,t)||(i=e,0)))}},FS=(e,t,i,o)=>{const l=CS(e,t,i);return l&&l.map(e=>o?[e.x1,e.x2,e.width()]:[e.y1,e.y2,e.height()])},TS=(e,t,i=0)=>Math.max(e[0],t[0])-i/2<=Math.min(e[1],t[1])+i/2,AS=(e,t)=>e[1]<t[0]?t[0]-e[1]:t[1]<e[0]?e[0]-t[1]:0,zS=(e,t)=>{var i;const o=e.domain();if(!o.length)return[];const{tickCount:l,forceTickCount:n,tickStep:r,labelGap:a=4,axisOrientType:s,labelStyle:h}=t,d=(e=>["bottom","top","z"].includes(e))(s),c=e.range(),p=e.calculateWholeRangeSize();if(p<2)return t.labelLastVisible?bS([o[o.length-1]]):bS([o[0]]);let y;if(Ie(r))y=e.stepTicks(r);else if(Ie(n))y=e.forceTicks(n);else if(Ie(l)){const t=Ee(l)?l({axisLength:p,labelStyle:h}):l;y=e.ticks(t)}else if(t.sampling){const l=(null!==(i=t.labelStyle.fontSize)&&void 0!==i?i:12)+2,n=pt(c),r=(e=>{if(0===e.length)return;let t=e[0];for(let i=1;i<e.length;i++){const o=e[i];o-t>0&&(t=o)}return t})(c);if(o.length<=p/l){const i=FS(e,o,t,d);if(i){const l=Math.min(...i.map(e=>e[2])),s=(r-n)/o.length,h=BS(o,i,a,t.labelLastVisible,Math.floor(l/s));y=e.stepTicks(h.step),t.labelLastVisible&&(h.delCount&&(y=y.slice(0,y.length-h.delCount)),y.push(o[o.length-1]))}}else{const i=[o[0],o[Math.floor(o.length/2)],o[o.length-1]],l=FS(e,i,t,d);if(l){let i=null;l.forEach(e=>{i?i[2]<e[2]&&(i=e):i=e});const s=r-n-a>0?Math.ceil(o.length*(a+i[2])/(r-n-a)):o.length-1;y=e.stepTicks(s),!t.labelLastVisible||y.length&&y[y.length-1]===o[o.length-1]||(y.length&&Math.abs(e.scale(y[y.length-1])-e.scale(o[o.length-1]))<i[2]&&(y=y.slice(0,-1)),y.push(o[o.length-1]))}}}return De(y)&&(y=e.domain()),bS(y)},BS=(e,t,i,o,l,n)=>{let r=0,a=0,s=-1,h=Number.MAX_VALUE;const d=o=>{let l=!0,n=0;do{n+o<e.length&&TS(t[n],t[n+o],i)&&(l=!1),n+=o}while(l&&n<e.length);return l},c=((e,t,i)=>{let o=e,l=t;for(;o<l;){const e=Math.floor((o+l)/2);i(e)>=0?l=e:o=e+1}return o})(l,e.length,e=>d(e)?1:-1);let p=c;do{if(p>c&&!d(p))p++;else{if(!o){a=p;break}{const o=e.length-1;let l,n=0;l=e.length%p>0?e.length-e.length%p+p:e.length;do{if(l-=p,l!==o&&!TS(t[l],t[o],i))break;n++}while(l>0);if(l===o){a=p,r=n;break}{const i=Math.floor(e.length/p)-n+1;if(i<s)break;{s=i;const e=AS(t[l],t[o]),d=l-p>=0?AS(t[l-p],t[l]):e,c=Math.abs(e-d);if(c<h&&(h=c,a=p,r=n),e<=d)break}}}p++}}while(p<=e.length);return{step:a,delCount:r}},MS=new Uint32Array(33),OS=new Uint32Array(33);OS[0]=0,MS[0]=~OS[0];for(let aH=1;aH<=32;++aH)OS[aH]=OS[aH-1]<<1|1,MS[aH]=~OS[aH];function WS(e,t,i={top:0,left:0,right:0,bottom:0}){const{top:o=0,left:l=0,right:n=0,bottom:r=0}=i,a=Math.max(1,Math.sqrt(e*t/1e6)),s=~~((e+l+n+a)/a),h=~~((t+o+r+a)/a),d=e=>~~(e/a);return d.bitmap=()=>function(e,t){const i=new Uint32Array(~~((e*t+32)/32));function o(e,t){i[e]|=t}function l(e,t){i[e]&=t}return{array:i,get:(t,o)=>{const l=o*e+t;return i[l>>>5]&1<<(31&l)},set:(t,i)=>{const l=i*e+t;o(l>>>5,1<<(31&l))},clear:(t,i)=>{const o=i*e+t;l(o>>>5,~(1<<(31&o)))},getRange:({x1:o,y1:l,x2:n,y2:r})=>{if(n<0||r<0||o>e||l>t)return!0;let a,s,h,d,c=r;for(;c>=l;--c)if(a=c*e+o,s=c*e+n,h=a>>>5,d=s>>>5,h===d){if(i[h]&MS[31&a]&OS[1+(31&s)])return!0}else{if(i[h]&MS[31&a])return!0;if(i[d]&OS[1+(31&s)])return!0;for(let e=h+1;e<d;++e)if(i[e])return!0}return!1},setRange:({x1:i,y1:l,x2:n,y2:r})=>{if(n<0||r<0||i>e||l>t)return;let a,s,h,d,c;for(;l<=r;++l)if(a=l*e+i,s=l*e+n,h=a>>>5,d=s>>>5,h===d)o(h,MS[31&a]&OS[1+(31&s)]);else for(o(h,MS[31&a]),o(d,OS[1+(31&s)]),c=h+1;c<d;++c)o(c,4294967295)},clearRange:({x1:t,y1:i,x2:o,y2:n})=>{let r,a,s,h,d;for(;i<=n;++i)if(r=i*e+t,a=i*e+o,s=r>>>5,h=a>>>5,s===h)l(s,OS[31&r]|MS[1+(31&a)]);else for(l(s,OS[31&r]),l(h,MS[1+(31&a)]),d=s+1;d<h;++d)l(d,0)},outOfBounds:({x1:i,y1:o,x2:l,y2:n})=>i<0||o<0||n>=t||l>=e,toImageData:o=>{const l=o.createImageData(e,t),n=l.data;for(let r=0;r<t;++r)for(let t=0;t<e;++t){const o=r*e+t,l=4*o,a=i[o>>>5]&1<<(31&o);n[l+0]=255*a,n[l+1]=255*a,n[l+2]=255*a,n[l+3]=31}return l}}}(s,h),d.x=e=>~~((e+l)/a),d.y=e=>~~((e+o)/a),d.ratio=a,d.padding=i,d.width=e,d.height=t,d}function RS(e,t){const{x1:i,x2:o,y1:l,y2:n}=t,{top:r=0,left:a=0,right:s=0,bottom:h=0}=e.padding,d=St(i,-a,e.width+s),c=St(o,-a,e.width+s),p=St(l,-r,e.height+h),y=St(n,-r,e.height+h);return{x1:e.x(d),x2:e.x(c),y1:e.y(p),y2:e.y(y)}}function HS(e,t,i=!1){return i?RS(e,t):{x1:e.x(t.x1),x2:e.x(t.x2),y1:e.y(t.y1),y2:e.y(t.y2)}}function PS(e,t,i,o=!0,l=0){let n=i;l>0&&(n={x1:i.x1-l,x2:i.x2+l,y1:i.y1-l,y2:i.y2+l}),n=HS(e,n);const r=t.outOfBounds(n);return!(o&&r||(r&&(n=RS(e,n)),t.getRange(n)))}function ES(e,t,i,o=[],l=!0,n=0,r=!1){const a=o.filter(e=>Ie(e));for(let s=0;s<a.length;s++){let o;if(o=r?i:i.clone(),o.setAttributes(a[s]),PS(e,t,o.AABBBounds,l,n))return t.setRange(HS(e,o.AABBBounds,!0)),a[s]}return!1}function DS(e,t,i,o,l,n,r){var a,s;const h=null===(a=o.overlap)||void 0===a?void 0:a.clampForce,d=null===(s=o.overlap)||void 0===s?void 0:s.overlapPadding;if("bound"===i.type||"position"===i.type){if(Ee(r)){const a=((Ee(i.position)?i.position(l.attribute):i.position)||function(e){return"rect"===e?jS:IS}(o.type)).map(e=>r(l.AABBBounds,n,e,o.offset)),s=!1===i.restorePosition;return ES(e,t,l,a,h,d,s)}return!1}if("moveY"===i.type){const o=(i.offset?Ee(i.offset)?i.offset(l.attribute):i.offset:[]).map(e=>({x:l.attribute.x,y:l.attribute.y+e}));return ES(e,t,l,o,h,d)}if("moveX"===i.type){const o=(i.offset?Ee(i.offset)?i.offset(l.attribute):i.offset:[]).map(e=>({x:l.attribute.x+e,y:l.attribute.y}));return ES(e,t,l,o,h,d)}return!1}const IS=["top","bottom","right","left","top-right","bottom-right","top-left","bottom-left"],jS=["top","inside-top","inside"];function NS(e,t,i,o={}){const{x1:l,x2:n,y1:r,y2:a}=e.AABBBounds,{top:s=0,left:h=0,right:d=0,bottom:c=0}=o,p=Math.min(l,n),y=Math.max(l,n),u=Math.min(r,a),g=Math.max(r,a),f=t+d,k=i+c;let m=0,b=0;return p<0-h?m=-p:y>f&&(m=f-y),u<0-s?b=-u:g>k&&(b=k-g),{dx:m,dy:b}}const GS={mode:"same-time",duration:300,easing:"linear"};function US(e){return 3===e||4===e}function VS(e,t){const{x1:i,y1:o,x2:l,y2:n}=e,{x1:r,y1:a,x2:s,y2:h}=t;return!(i<=r&&l<=r||i>=s&&l>=s||o<=a&&n<=a||o>=h&&n>=h)}const YS=e=>{if(!e||!e.attribute)return[];const{points:t,segments:i}=e.attribute;if(i&&i.length){const e=[];return i.forEach(t=>{t.points.forEach(t=>{e.push(t)})}),e}return t};function ZS(e,t,i,o,l,n){return Math.abs(t/e)<n/l?{x:i+(e>0?l:-l),y:o+t*l/Math.abs(e)}:{x:i+e*n/Math.abs(t),y:o+(t>0?n:-n)}}var XS=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class $S extends oC{onBind(){const e=nC(this.target);this._animator=e;const t=this.duration,i=this.easing,{prevText:o,curText:l,prevLabelLine:n,curLabelLine:r,increaseEffect:a=!0}=this.params,s={};for(const c in l.attribute)o.attribute[c]!==l.attribute[c]&&(s[c]=l.attribute[c]);const{text:h}=s,d=XS(s,["text"]);e.animate(o,{type:"to",to:d,duration:t,easing:i}),!1!==a&&e.animate(o,{type:"increaseCount",to:{text:l.attribute.text},duration:t,easing:i}),n&&e.animate(n,{type:"to",to:r.attribute,duration:t,easing:i}),this.completeBind(e)}tryPreventConflict(){}}class KS extends oC{onBind(){const e=nC(this.target);this._animator=e;const t=this.duration,i=this.easing,{relatedGraphic:o,relatedGraphics:l,config:n}=this.params,{mode:r,type:a="fadeIn"}=n,s=this.target;let h=0;"after"===r?o.animates&&o.animates.forEach(e=>{h=Math.max(h,e.getStartTime()+e.getTotalDuration())}):"after-all"===r?l&&l.forEach(e=>{e.animates&&e.animates.forEach(e=>{h=Math.max(h,e.getStartTime()+e.getTotalDuration())})}):o.animates&&o.animates.forEach(e=>{h=Math.max(h,e.getStartTime())}),e.animate(s,Object.assign(Object.assign({},n),{duration:t,easing:i,startTime:h,type:a})),this.completeBind(e)}tryPreventConflict(){}}const qS=(e,t)=>Math.ceil(e)>Math.floor(t),JS=([e,t],[i,o])=>o>e&&t>i;function QS(e,t){const[i,o]=e,[l,n]=t,r=Math.max(i,l),a=Math.min(o,n);return Math.max(0,a-r)}var ex=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};sb(),_b(),mb(),db(),Yv.registerBuiltInAnimate("increaseCount",rC),Yv.registerBuiltInAnimate("labelUpdate",$S),Yv.registerBuiltInAnimate("labelEnter",KS);class tx extends kv{setBitmap(e){this._bitmap=e}setBitmapTool(e){this._bmpTool=e}constructor(e,t){const{data:i}=e,o=ex(e,["data"]);super((null==t?void 0:t.skipDefault)?e:Object.assign({data:i},lt({},tx.defaultAttributes,o))),this.name="label",this._onHover=e=>{const t=e.target;t===this._lastHover||qe(t.states)||(t.addState(Ab.hover,!0),Wb(this,e=>{e===t||qe(e.states)||e.addState(Ab.hoverReverse,!0)}),this._lastHover=t)},this._onUnHover=e=>{this._lastHover&&(Wb(this,e=>{qe(e.states)||(e.removeState(Ab.hoverReverse),e.removeState(Ab.hover))}),this._lastHover=null)},this._onClick=e=>{const t=e.target;if(this._lastSelect===t&&t.hasState("selected"))return this._lastSelect=null,void Wb(this,e=>{qe(e.states)||(e.removeState(Ab.selectedReverse),e.removeState(Ab.selected))});qe(t.states)||(t.addState(Ab.selected,!0),Wb(this,e=>{e===t||qe(e.states)||e.addState(Ab.selectedReverse,!0)}),this._lastSelect=t)},this._handleRelatedGraphicSetState=e=>{var t,i,o,l,n;if((null===(t=e.detail)||void 0===t?void 0:t.type)===Ji.STATE||(null===(i=e.detail)||void 0===i?void 0:i.type)===Ji.ANIMATE_UPDATE&&(null===(o=e.detail.animationState)||void 0===o?void 0:o.isFirstFrameOfStep)){const t=null!==(n=null===(l=e.target)||void 0===l?void 0:l.currentStates)&&void 0!==n?n:[],i=this._isCollectionBase?[...this._graphicToText.values()]:[this._graphicToText.get(e.target)];this.updateStatesOfLabels(i,t)}}}labeling(e,t,i,o){}_getLabelLinePoints(e,t){return function(e,t){if(!e||!t)return;if(Qt(e,t,!0))return;const i=Math.min(e.x1,e.x2),o=Math.min(e.y1,e.y2),l=Math.min(t.x1,t.x2),n=Math.min(t.y1,t.y2),r=Math.abs(e.x2-i)/2,a=Math.abs(e.y2-o)/2,s=Math.abs(t.x2-l)/2,h=Math.abs(t.y2-n)/2,d=i+r,c=o+a,p=l+s,y=n+h,u=p-d,g=y-c;return[ZS(u,g,d,c,r,a),ZS(-u,-g,p,y,s,h)]}(e.AABBBounds,null==t?void 0:t.AABBBounds)}_createLabelLine(e,t){const i=this._getLabelLinePoints(e,t);if(i){const o=hd.line({points:i}),{line:l={}}=e.attribute;if(l.customShape){const i=l.customShape;o.pathProxy=o=>i({text:e,baseMark:t},o,new Zo)}return t&&t.getAttributes(!0).fill&&o.setAttribute("stroke",t.getAttributes(!0).fill),this.attribute.line&&!qe(this.attribute.line.style)&&o.setAttributes(this.attribute.line.style),this._setStatesOfLabelLine(o),o}}render(){if(this._prepare(),De(this._idToGraphic)||this._isCollectionBase&&De(this._idToPoint))return;const e=[];!1!==this._enableAnimation&&this._baseMarks.forEach(t=>{e.push(t.attribute),t.initAttributes(t.getAttributes(!0))});const{overlap:t,smartInvert:i,dataFilter:o,customLayoutFunc:l,customOverlapFunc:n}=this.attribute;let r=this.attribute.data;if(Ee(o)&&(r=o(r)),r&&r.length){const e=new Set;r=r.filter(t=>!e.has(t.id)&&e.add(t.id))}let a=this._initText(r);a=Ee(l)?l(r,a,this.getRelatedGraphic.bind(this),this._isCollectionBase?e=>this._idToPoint.get(e.id):null,this):this._layout(a),Ee(n)?a=n(a,this.getRelatedGraphic.bind(this),this._isCollectionBase?e=>this._idToPoint.get(e.id):null,this):!1!==t&&(a=this._overlapping(a)),Ee(this.attribute.onAfterOverlapping)&&this.attribute.onAfterOverlapping(a,this.getRelatedGraphic.bind(this),this._isCollectionBase?e=>this._idToPoint.get(e.id):null,this),a&&a.length&&a.forEach(e=>{this._bindEvent(e),this._setStatesOfText(e)}),!1!==i&&this._smartInvert(a),this._renderLabels(a),!1!==this._enableAnimation&&this._baseMarks.forEach((t,i)=>{t.initAttributes(e[i])})}_bindEvent(e){if(this.attribute.disableTriggerEvent)return;if(!e)return;const{hover:t,select:i}=this.attribute;t&&(e.addEventListener("pointermove",this._onHover),e.addEventListener("pointerout",this._onUnHover)),i&&e.addEventListener("pointerdown",this._onClick)}_setStatesOfText(e){if(!e)return;const t=this.attribute.state;t&&!qe(t)&&(e.states=t)}_setStatesOfLabelLine(e){if(!e)return;const t=this.attribute.labelLineState;t&&!qe(t)&&(e.states=t)}_createLabelText(e){var t,i;return Zb(Object.assign(Object.assign({},null===(i=null===(t=this.stage)||void 0===t?void 0:t.getTheme())||void 0===i?void 0:i.text),e),"textType")}_prepare(){var e,t;const i=[];let o;if(o=Ee(this.attribute.getBaseMarks)?this.attribute.getBaseMarks():function(e,t){if(!t)return[];const i=e.find(e=>e.name===t,!0);return i?i.getChildren():[]}(this.getRootNode(),this.attribute.baseMarkGroupName),o.forEach(e=>{"willRelease"!==e.releaseStatus&&i.push(e)}),null===(e=this._idToGraphic)||void 0===e||e.clear(),null===(t=this._idToPoint)||void 0===t||t.clear(),this._baseMarks=i,this._isCollectionBase="line-data"===this.attribute.type,!i||0===i.length)return;const{data:l}=this.attribute;if(l&&0!==l.length){if(this._idToGraphic||(this._idToGraphic=new Map),this._isCollectionBase){this._idToPoint||(this._idToPoint=new Map);let e=0;for(let t=0;t<i.length;t++){const o=i[t],n=YS(o);if(n&&n.length)for(let t=0;t<n.length;t++){const i=l[e];i&&n[t]&&(Ie(i.id)||(i.id=`vrender-component-${this.name}-${e}`),this._idToPoint.set(i.id,n[t]),this._idToGraphic.set(i.id,o)),e++}}}else for(let e=0;e<i.length;e++){const t=l[e],o=i[e];t&&o&&(Ie(t.id)||(t.id=`vrender-component-${this.name}-${e}`),this._idToGraphic.set(t.id,o))}this._prepareAnimate(GS)}}getRelatedGraphic(e){return this._idToGraphic.get(e.id)}_initText(e=[]){const{textStyle:t={}}=this.attribute,i=[];for(let o=0;o<e.length;o++){const l=e[o],n=this.getRelatedGraphic(l);if(!n)continue;const r=n.getAttributes(!0),a=Object.assign(Object.assign({fill:this._isCollectionBase?Ve(r.stroke)?r.stroke.find(e=>!!e&&!0!==e):r.stroke:r.fill},t),l),s=this._createLabelText(a);i.push(s)}return i}_layout(e){const{position:t,offset:i}=this.attribute;for(let o=0;o<e.length;o++){const l=e[o];if(!l)return;const n=l.attribute,r=this.getRelatedGraphic(n);if(!r)continue;l.attachedThemeGraphic=this;const a=this.getGraphicBounds(l);l.attachedThemeGraphic=null;const s=Ee(t)?t(n):t,h=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(n.id),s):this.getGraphicBounds(r,{x:n.x,y:n.y},s),d=this.labeling(a,h,s,i);d&&l.setAttributes(d)}return e}_overlapping(e){var t,i,o;if(0===e.length)return[];const l=je(this.attribute.overlap)?this.attribute.overlap:{},n=this.getBaseMarkGroup(),r=null!==(t=l.size)&&void 0!==t?t:{width:null!==(i=null==n?void 0:n.AABBBounds.width())&&void 0!==i?i:0,height:null!==(o=null==n?void 0:n.AABBBounds.height())&&void 0!==o?o:0};if(0===r.width||0===r.height)return e;const{strategy:a,priority:s}=l,h=this._bmpTool||WS(r.width,r.height),d=this._bitmap||h.bitmap();return s&&(e=e.sort((e,t)=>s(t.attribute.data)-s(e.attribute.data))),"shiftY"===(null==a?void 0:a.type)?this._overlapGlobal(e,l,h,d):this._overlapByStrategy(e,l,h,d)}_overlapGlobal(e,t,i,o){let l=e.filter(e=>e.attribute.visible&&0!==e.attribute.opacity&&this.isMarkInsideRect(this.getRelatedGraphic(e.attribute),i));const{clampForce:n=!0,hideOnHit:r=!0,hideOnOverflow:a=!1,overlapPadding:s,strategy:h}=t;if(n||a)for(let d=0;d<l.length;d++){const t=e[d],{dx:o=0,dy:l=0}=NS(t,i.width,i.height,i.padding);0===o&&0===l||(a?t.setAttributes({visible:!1}):(t.setAttributes({x:t.attribute.x+o,y:t.attribute.y+l}),t._isClamped=!0))}l=function(e,t){const{maxY:i=Number.MAX_VALUE,labelling:o,globalShiftY:l={enable:!0,maxIterations:10,maxError:.1,padding:1}}=t,n=e.length;if(n<=1)return e;const r=new Map,a=new Map,s=e=>a.get(e).y1Initial,h=e=>a.get(e).height,d=e=>a.get(e).y1,c=e=>a.get(e).x,p=e=>a.get(e).x1,y=e=>a.get(e).x2,u=e=>a.get(e).attempts,g=(e,t)=>{a.get(e).y1=t},f=(e,t)=>{a.get(e).attempts=t};function k(e){for(let l=e.length-1;l>=0;l--){const n=e[l],r=e[l-1],s=e[l+1];if(r&&qS(d(r)+h(r),d(n))||0===d(n)&&n._isClamped){const{y:e}=o(n);s&&qS(e+h(n)/2,d(s))||e+h(n)/2<=i&&g(n,d(n)+e-(t=n,a.get(t).y))}}var t}e.sort((e,t)=>e.attribute.x-t.attribute.x);for(const C of e){const{y1:e,y2:t,x1:i,x2:o}=C.AABBBounds,{x:l,y:n}=C.attribute;a.set(C,{y1Initial:e,y1:e,y2:t,y:n,height:t-e,x1:i,x2:o,x:l,attempts:0});let s=!1;for(const[a,h]of r){const{start:e,end:t}=a;if(i>=e&&o<=t)h.push(C),s=!0;else if(bt(l,c(h[0]),void 0,5)){const l={start:Math.min(e,i),end:Math.max(t,o)};h.push(C),r.set(l,h),r.delete(a),s=!0}else if(QS([e,t],[i,o])/(t-e)>.5){const l={start:Math.min(e,i),end:Math.max(t,o)};h.push(C),r.set(l,h),r.delete(a),s=!0}if(s)break}s||r.set({start:i,end:o},[C])}for(const C of r.values())C.sort((e,t)=>s(e)-s(t)),k(C);if(!1!==l.enable){const{maxIterations:t=10,maxError:o=.1,padding:r=1,maxAttempts:a=1e3,deltaYTolerance:c=Number.MAX_VALUE}=l;for(let l=0;l<t;l++){e.sort((e,t)=>s(e)-s(t));let t=0;for(let o=0;o<n-1;o++){const l=e[o];if(u(l)>=a)continue;let n,k=o+1;for(;(n=e[k])&&!JS([p(l),y(l)],[p(n),y(n)]);)k+=1;if(n){const e=d(l),o=h(l),a=d(n),p=a-(e+o);if(p<r){const o=(r-p)/2;if(t=Math.max(t,o),e+o+h(n)>i){const t=e-(r-p),i=s(l)-t;Math.abs(i)<=c&&(g(l,t),f(l,u(l)+1))}else if(e-o<0){const e=a+(r-p),t=s(n)-e;Math.abs(t)<=c&&(g(n,e),f(n,u(n)+1))}else{const t=e-o,i=s(l)-t,r=a+o,h=s(n)-r;Math.abs(i)<=c&&Math.abs(h)<=c&&(g(l,t),g(n,r),f(l,u(l)+1),f(n,u(n)+1))}}}}if(t<o)break}}for(const C of e){const e=C.attribute.y+d(C)-s(C);C.setAttribute("y",e)}const m=[];e.sort((e,t)=>e.attribute.x-t.attribute.x);let b=0,v=e.length-1;for(;b<=v;)b===v?m.push(e[b]):(m.push(e[b]),m.push(e[v])),b++,v--;return m}(l,Object.assign(Object.assign({maxY:i.height},h),{labelling:e=>{const t=this.getRelatedGraphic(e.attribute),i=this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(e.attribute.id)):this.getGraphicBounds(t,e);return this.labeling(e.AABBBounds,i,"bottom",this.attribute.offset)}}));for(let d=0;d<l.length;d++){const e=l[d],t=e.AABBBounds,h=HS(i,t,!0);if(PS(i,o,t,n,s))o.setRange(h);else{if(a){if(this._processHideOnOverflow(e,i))continue}else if(n&&this._processClampForce(e,i,o,s))continue;r?e.setAttributes({visible:!1}):o.setRange(h)}}return l}_processHideOnOverflow(e,t){const{dy:i=0,dx:o=0}=NS(e,t.width,t.height,t.padding);return 0===o&&0===i||(e.setAttributes({visible:!1}),!1)}_processClampForce(e,t,i,o=0){const{dy:l=0,dx:n=0}=NS(e,t.width,t.height,t.padding);if(0===n&&0===l){if(PS(t,i,e.AABBBounds,!1,o))return i.setRange(HS(t,e.AABBBounds,!0)),!0}else if(PS(t,i,{x1:e.AABBBounds.x1+n,x2:e.AABBBounds.x2+n,y1:e.AABBBounds.y1+l,y2:e.AABBBounds.y2+l}))return e.setAttributes({x:e.attribute.x+n,y:e.attribute.y+l}),i.setRange(HS(t,e.AABBBounds,!0)),!0;return!1}_overlapByStrategy(e,t,i,o){var l;const{avoidBaseMark:n,strategy:r=[],hideOnHit:a=!0,clampForce:s=!0,avoidMarks:h=[],overlapPadding:d,hideOnOverflow:c=!1}=t,p=[],y=r.some(e=>"bound"===e.type);n&&(null===(l=this._baseMarks)||void 0===l||l.forEach(e=>{e.AABBBounds&&o.setRange(HS(i,e.AABBBounds,!0))})),h.length>0&&h.forEach(e=>{Ue(e)?function(e,t){if(!t)return[];const i=e.find(e=>e.name===t,!0);return i?i.findAll(e=>"group"!==e.type,!0):[]}(this.getRootNode(),e).forEach(e=>{e.AABBBounds&&o.setRange(HS(i,e.AABBBounds,!0))}):e.AABBBounds&&o.setRange(HS(i,e.AABBBounds,!0))});for(let u=0;u<e.length;u++){if(!1===e[u].attribute.visible)continue;const t=e[u],l=this.getRelatedGraphic(t.attribute);if(t.update(),!this.isMarkInsideRect(l,i))continue;if(PS(i,o,t.AABBBounds,s,d)){if(!y){o.setRange(HS(i,t.AABBBounds,!0)),p.push(t);continue}if(y&&l&&l.AABBBounds&&this._canPlaceInside(t.AABBBounds,l.AABBBounds)){o.setRange(HS(i,t.AABBBounds,!0)),p.push(t);continue}}let n=!1;for(let a=0;a<r.length;a++)if(n=DS(i,o,r[a],this.attribute,t,this._isCollectionBase?this.getGraphicBounds(null,this._idToPoint.get(e[u].attribute.id)):this.getGraphicBounds(l,e[u].attribute),this.labeling),!1!==n&&(t.setAttributes({x:n.x,y:n.y}),!c||this._processHideOnOverflow(t,i))){p.push(t);break}if(!n){if(c&&!this._processHideOnOverflow(t,i))continue;if(s&&this._processClampForce(t,i,o,d)){p.push(t);continue}}!n&&!a&&p.push(t)}return p}isMarkInsideRect(e,t){const{left:i,right:o,top:l,bottom:n}=t.padding,r={x1:-i,x2:t.width+o,y1:-l,y2:t.height+n},a=e.AABBBounds;if(0!==a.width()&&0!==a.height())return Qt(e.AABBBounds,r,!0);const{attribute:s}=e;if("rect"===e.type){const{x:e,x1:t,y:i,y1:o}=s;return ei({x:null!=e?e:t,y:null!=i?i:o},r)}return"x"in s&&"y"in s&&ei({x:s.x,y:s.y},r)}getBaseMarkGroup(){const{baseMarkGroupName:e}=this.attribute;if(e)return this.getRootNode().find(t=>t.name===e,!0)}getGraphicBounds(e,t={},i){var o;if(e){if(!1!==e.attribute.visible){if(null===(o=e.context)||void 0===o?void 0:o.animationState){const t=e.clone();return Object.assign(t.attribute,e.getAttributes(!0)),t.AABBBounds}return e.AABBBounds}const{x:t,y:i}=e.attribute;return{x1:t,x2:t,y1:i,y2:i}}if(t&&i&&"inside-middle"===i){const{x:e,y:i,x1:o=e,y1:l=i}=t;return{x1:(e+o)/2,x2:(e+o)/2,y1:(i+l)/2,y2:(i+l)/2}}const{x:l,y:n}=t;return{x1:l,x2:l,y1:n,y2:n}}_renderLabels(e){var t;const{syncState:i}=this.attribute,o=new Map,l=this._graphicToText||new Map,n=[],r=[],{visible:a}=null!==(t=this.attribute.line)&&void 0!==t?t:{};e&&e.forEach((e,t)=>{var s;const h=this.getRelatedGraphic(e.attribute),d=this._isCollectionBase?e.attribute.id:h,c=(null==l?void 0:l.get(d))?"update":"enter";let p;a&&(p=this._createLabelLine(e,h));const y=p?{text:e,labelLine:p}:{text:e};if(i&&this.updateStatesOfLabels([y],null!==(s=h.currentStates)&&void 0!==s?s:[]),"enter"===c)n.push(e),o.set(d,y),this._addLabel(y,n,r,t);else if("update"===c){const e=l.get(d);l.delete(d),o.set(d,e),this._updateLabel(e,y)}}),this._removeLabel(l),this._graphicToText=o}runEnterAnimation(e,t){if(!1===this._enableAnimation||!this._animationConfig.enter)return;const i=this.getRelatedGraphic(e.attribute),{enter:o}=this._animationConfig;[e,t].filter(Boolean).forEach(t=>t.applyAnimationState(["enter"],[{name:"enter",animation:Object.assign(Object.assign({},o),{type:"labelEnter",selfOnly:!0,customParameters:{relatedGraphic:i,relatedGraphics:this._idToGraphic,config:Object.assign(Object.assign({},o),{type:t===e?o.type:"fadeIn"})}})}]))}_runUpdateAnimation(e,t){const{text:i,labelLine:o}=e,{text:l,labelLine:n}=t;i.applyAnimationState(["update"],[{name:"update",animation:{type:"labelUpdate",customParameters:Object.assign(Object.assign({},this._animationConfig.update),{prevText:i,curText:l,prevLabelLine:o,curLabelLine:n})}}])}_syncStateWithRelatedGraphic(e){this.attribute.syncState&&e&&e.on("afterStateUpdate",this._handleRelatedGraphicSetState)}_addLabel(e,t,i,o){const{text:l,labelLine:n}=e,r=this.getRelatedGraphic(l.attribute);this._syncStateWithRelatedGraphic(r),l&&this.add(l),n&&this.add(n),this.runEnterAnimation(l,n)}_updateLabel(e,t){const{text:i,labelLine:o}=e,{text:l,labelLine:n}=t;!1===this._enableAnimation||!1===this._animationConfig.update?(e.text.setAttributes(l.attribute),o&&n&&e.labelLine.setAttributes(n.attribute)):this._runUpdateAnimation(e,t)}_removeLabel(e){const t=e=>{this.removeChild(e.text),e.labelLine&&this.removeChild(e.labelLine)};!1!==this._enableAnimation&&!1!==this._animationConfig.exit?e.forEach(e=>{var i;e.text.applyAnimationState(["exit"],[{name:"exit",animation:Object.assign(Object.assign({},this._animationConfig.exit),{type:"fadeOut"})}],()=>{t(e)}),null===(i=e.labelLine)||void 0===i||i.applyAnimationState(["exit"],[{name:"exit",animation:Object.assign(Object.assign({},this._animationConfig.exit),{type:"fadeOut"})}],()=>{})}):e.forEach(e=>{t(e)})}updateStatesOfLabels(e,t){e.forEach(e=>{e&&(e.text&&e.text.useStates(t),e.labelLine&&e.labelLine.useStates(t))})}_smartInvert(e){var t,i,o,l,n,r,a;const s=je(this.attribute.smartInvert)?this.attribute.smartInvert:{},{textType:h,contrastRatiosThreshold:d,alternativeColors:c,mode:p,interactInvertType:y}=s,u=null!==(t=s.fillStrategy)&&void 0!==t?t:"invertBase",g=null!==(i=s.strokeStrategy)&&void 0!==i?i:"base",f=null!==(o=s.brightColor)&&void 0!==o?o:"#ffffff",k=null!==(l=s.darkColor)&&void 0!==l?l:"#000000",m=null!==(n=s.outsideEnable)&&void 0!==n&&n;if("null"!==u||"null"!==g)for(let b=0;b<e.length;b++){const t=e[b];if(!t)continue;const i=this.getRelatedGraphic(t.attribute);let o=i.getAttributes(!0).fill,l=t.attribute.fill;if(je(o)&&o.gradient){const e=null===(a=null===(r=o.stops)||void 0===r?void 0:r[0])||void 0===a?void 0:a.color;e&&(o=e,l=e)}const n=Hb(l,o,h,d,c,p),s=Pb(n,f)?f:k,v=this._canPlaceInside(t.AABBBounds,i.AABBBounds),C=!v&&t.AABBBounds&&i.AABBBounds&&i.AABBBounds.intersects(t.AABBBounds);if(v||m||C&&"inside"===y){const e=Ib(u,o,n,s);if(e&&t.setAttributes({fill:e}),0===t.attribute.lineWidth||0===t.attribute.strokeOpacity)continue;const i=Ib(g,o,n,s);i&&t.setAttributes({stroke:i})}else if(C&&"none"!==y){if(0===t.attribute.lineWidth||0===t.attribute.strokeOpacity)continue;if(t.attribute.stroke){t.setAttributes({fill:Hb(t.attribute.fill,t.attribute.stroke,h,d,c,p)});continue}const e=Ib(u,o,n,s);e&&t.setAttributes({fill:e});const i=Ib(g,o,n,s);i&&t.setAttributes({stroke:i})}}}_canPlaceInside(e,t){return!(!e||!t)&&t.encloses(e)}setLocation(e){this.translateTo(e.x,e.y)}disableAnimation(){this._enableAnimation=!1}enableAnimation(){this._enableAnimation=!0}}tx.defaultAttributes={textStyle:{fontSize:12,textAlign:"center",textBaseline:"middle",boundsPadding:[-2,-1,-2,-1]},offset:0,pickable:!1};const ix={},ox=(e,t)=>{ix[e]=t},lx=e=>ix[e];var nx=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class rx extends tx{constructor(e,t){const{data:i}=e,o=nx(e,["data"]);super((null==t?void 0:t.skipDefault)?e:Object.assign({data:i},lt({},rx.defaultAttributes,o))),this.name="symbol-label"}labeling(e,t,i="top",o=0){return((e,t,i="top",o=0)=>{if(!e)return;const{x1:l,y1:n,x2:r,y2:a}=e,s=Math.abs(r-l),h=Math.abs(a-n),d=(t.x1+t.x2)/2,c=(t.y1+t.y2)/2;let p=0,y=0,u=0,g=0;t&&(u=Math.abs(t.x1-t.x2)/2,g=Math.abs(t.y1-t.y2)/2);const f={"top-right":-235,"top-left":235,"bottom-right":45,"bottom-left":-45};switch(i){case"top":y=-1;break;case"bottom":y=1;break;case"left":p=-1;break;case"right":p=1;break;case"bottom-left":case"bottom-right":case"top-left":case"top-right":p=Math.sin(f[i]*(Math.PI/180)),y=Math.cos(f[i]*(Math.PI/180));break;case"center":p=0,y=0}return{x:d+p*(o+u)+Math.sign(p)*(s/2),y:c+y*(o+g)+Math.sign(y)*(h/2)}})(e,t,i,o)}}rx.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};const ax=()=>{ox("symbol",rx),ox("line-data",rx)};var sx=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class hx extends tx{constructor(e,t){const{data:i}=e,o=sx(e,["data"]);super((null==t?void 0:t.skipDefault)?e:Object.assign({data:i},lt({},hx.defaultAttributes,o)))}labeling(e,t,i="top",o=0){if(!e||!t)return;const{x1:l,y1:n,x2:r,y2:a}=e,s=Math.abs(r-l),h=Math.abs(a-n),{x:d,y:c}=((e,t)=>{const{x1:i,x2:o,y1:l,y2:n}=e,r=Math.abs(o-i),a=Math.abs(n-l);let s=(i+o)/2,h=(l+n)/2,d=0,c=0;switch(t){case"top":case"inside-top":c=-.5;break;case"bottom":case"inside-bottom":c=.5;break;case"left":case"inside-left":d=-.5;break;case"right":case"inside-right":d=.5;break;case"top-right":d=.5,c=-.5;break;case"top-left":d=-.5,c=-.5;break;case"bottom-right":d=.5,c=.5;break;case"bottom-left":d=-.5,c=.5}return s+=d*r,h+=c*a,{x:s,y:h}})(t,i);let p=0,y=0;const u=i.includes("inside");switch(i.includes("top")?y=u?1:-1:i.includes("bottom")?y=u?-1:1:i.includes("left")?p=u?1:-1:i.includes("right")&&(p=u?-1:1),i){case"top-right":case"bottom-right":p=-1;break;case"top-left":case"bottom-left":p=1}return{x:d+p*o+p*s/2,y:c+y*o+y*h/2}}}hx.tag="rect-label",hx.defaultAttributes={textStyle:{fill:"#000"},position:"top",offset:5};var dx=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};let cx=class e extends tx{constructor(t,i){const{data:o}=t,l=dx(t,["data"]);super((null==i?void 0:i.skipDefault)?t:Object.assign({data:o},lt({},e.defaultAttributes,l))),this.name="line-label"}getGraphicBounds(e,t={},i="end"){if(!e||"line"!==e.type&&"area"!==e.type)return super.getGraphicBounds(e,t);let o=e.attribute.points;const l=e.attribute.segments;!o&&l&&l.length&&(o=l.reduce((e,t)=>{var i;return e.concat(null!==(i=t.points)&&void 0!==i?i:[])},[])),o&&0!==o.length||(o=[t]);const n="start"===i?0:o.length-1;return o[n]?{x1:o[n].x,x2:o[n].x,y1:o[n].y,y2:o[n].y}:void 0}labeling(e,t,i="end",o=0){return function(e,t,i="end",o=0){if(!e||!t)return{x:1/0,y:1/0};const{x1:l,x2:n}=e,r=Math.abs(n-l),a=t.x1;let s=a;return"end"===i?s=a+r/2+o:"start"===i&&(s=a-r/2-o),{x:s,y:t.y1}}(e,t,i,o)}};cx.defaultAttributes={textStyle:{fill:"#000"},position:"end",offset:6};const px=()=>{ox("line",cx),ox("area",cx)};var yx=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class ux{constructor(e,t,i,o,l,n,r,a,s){this.refDatum=e,this.center=t,this.outerCenter=i,this.quadrant=o,this.radian=l,this.middleAngle=n,this.innerRadius=r,this.outerRadius=a,this.circleCenter=s,this.labelVisible=!0}getLabelBounds(){return this.labelPosition&&this.labelSize?{x1:this.labelPosition.x-this.labelSize.width/2,y1:this.labelPosition.y-this.labelSize.height/2,x2:this.labelPosition.x+this.labelSize.width/2,y2:this.labelPosition.y+this.labelSize.height/2}:{x1:0,x2:0,y1:0,y2:0}}}class gx extends tx{constructor(e,t){const{data:i}=e,o=yx(e,["data"]);super((null==t?void 0:t.skipDefault)?e:Object.assign({data:i},lt({},gx.defaultAttributes,o))),this.name="arc-label",this._ellipsisWidth=0,this._arcLeft=new Map,this._arcRight=new Map,this._line2MinLength=0,this._alignOffset=0}_overlapping(e){return["inside","inside-center"].includes(this.attribute.position)?super._overlapping(e):e}labeling(e,t,i="outside",o=0){if(e&&t)return{x:0,y:0}}_layout(e){var t,i,o;if(!e||!e.length)return;const l=super._layout(e),n=l.map(e=>this.getGraphicBounds(e)),r=Object.assign(Object.assign({},this.attribute.textStyle),{text:"…"});let a=1/0;if(!1!==r.ellipsis){const e=this._createLabelText(r),t=this.getGraphicBounds(e);a=t.x2-t.x1}const s=l.map(e=>e.attribute),h=Array.from(this._idToGraphic.values());this._line2MinLength=Ee(this.attribute.line.line2MinLength)?this.attribute.line.line2MinLength(e,h,this.attribute):this.attribute.line.line2MinLength,this._alignOffset=null!==(t=Ee(this.attribute.layout.alignOffset)?this.attribute.layout.alignOffset(e,h,this.attribute):this.attribute.layout.alignOffset)&&void 0!==t?t:0;const d=this.layoutArcLabels(this.attribute.position,this.attribute,h,s,n,a);for(let c=0;c<s.length;c++){const e=s[c],t=d.find(t=>{var i;return(null===(i=t.refDatum)||void 0===i?void 0:i.id)===e.id});if(t){const e={visible:t.labelVisible,x:t.labelPosition.x,y:t.labelPosition.y,angle:t.angle,points:t.pointA&&t.pointB&&t.pointC?[t.pointA,t.pointB,t.pointC]:void 0,line:t.labelLine};"richtext"===l[c].type?e.width=null!==(i=t.labelLimit)&&void 0!==i?i:l[c].attribute.width:e.maxLineWidth=null!==(o=t.labelLimit)&&void 0!==o?o:l[c].attribute.maxLineWidth,t.refArc&&"arc3d"===t.refArc.type&&(e.anchor3d=[t.circleCenter.x-e.x,t.circleCenter.y-e.y],e.beta=t.refArc.attribute.beta),l[c].setAttributes(e)}}return l}layoutArcLabels(e,t,i,o,l,n){this._arcLeft.clear(),this._arcRight.clear(),this._ellipsisWidth=n;let r=0;i.forEach(e=>{e.attribute.outerRadius>r&&(r=e.attribute.outerRadius)}),o.forEach((e,i)=>{var n,a;const s=this._idToGraphic.get(e.id),h=s.getAttributes(!0),d={x:null!==(n=null==h?void 0:h.x)&&void 0!==n?n:0,y:null!==(a=null==h?void 0:h.y)&&void 0!==a?a:0};if(!De(o[i])&&!De(l[i])){const e=o[i]?o[i]:null,n=l[i]?l[i]:{x1:0,x2:0,y1:0,y2:0},a=(h.startAngle+h.endAngle)/2,p=h.endAngle-h.startAngle,y=function(e){return(e=Xt(e))>0&&e<=Math.PI/2?2:e>Math.PI/2&&e<=Math.PI?3:e>Math.PI&&e<=3*Math.PI/2?4:1}(h.endAngle-p/2),u=Zt(d,h.outerRadius,a),g=Zt(d,r+t.line.line1MinLength,a),f=new ux(e,u,g,y,p,a,h.innerRadius,h.outerRadius,d);f.refArc=s,f.pointA=Zt(d,this.computeDatumRadius(2*d.x,2*d.y,h.outerRadius),f.middleAngle),f.labelSize={width:n.x2-n.x1,height:n.y2-n.y1},1===(c=f.quadrant)||2===c?this._arcRight.set(f.refDatum,f):US(f.quadrant)&&this._arcLeft.set(f.refDatum,f)}var c});const a=Array.from(this._arcLeft.values()),s=Array.from(this._arcRight.values()),h=[];switch(e){case"inside":case"inside-inner":case"inside-outer":case"inside-center":h.push(...this._layoutInsideLabels(s,t,i)),h.push(...this._layoutInsideLabels(a,t,i));break;default:h.push(...this._layoutOutsideLabels(s,t,i)),h.push(...this._layoutOutsideLabels(a,t,i))}return h}_layoutInsideLabels(e,t,i){var o,l;const n=t,r=n.spaceWidth,a=null!==(o=n.position)&&void 0!==o?o:"inside",s=null!==(l=n.offsetRadius)&&void 0!==l?l:-r;return e.forEach(e=>{var i,o,l;const{labelSize:h,radian:d}=e,c=e.innerRadius,p=e.outerRadius;let y;if(d<function(e,t){return t>2*e?NaN:2*Math.asin(t/2/e)}(p,h.height))y=0;else{let e;e=d>=Math.PI?c:Math.max(c,h.height/2/Math.tan(d/2)),y=p-e-r}!0!==n.rotate&&(y=p-r);const u=this._getFormatLabelText(e.refDatum,y);e.labelText=u;const g=Math.min(y,e.labelSize.width),f=this._computeAlign(e,t);let k,m=0;if("inside"===a&&(m="left"===f?g:"right"===f?0:g/2),k="inside-inner"===a?c-s+m:"inside-center"===a?c+(p-c)/2:p+s-m,e.labelPosition=Zt(e.circleCenter,k,e.middleAngle),e.labelLimit=g,vt(g,0)||(e.labelVisible=!1),!1!==n.rotate){e.angle=null!==(o=null===(i=t.textStyle)||void 0===i?void 0:i.angle)&&void 0!==o?o:e.middleAngle;let r=null!==(l=n.offsetAngle)&&void 0!==l?l:0;["inside-inner","inside-outer"].includes(a)&&(r+=Math.PI/2),e.angle+=r}}),e}_layoutOutsideLabels(e,t,i){var o,l,n;const r=null!==(o=i[0].attribute.x)&&void 0!==o?o:0,a=2*(null!==(l=i[0].attribute.y)&&void 0!==l?l:0),s=t.layout,h=t.spaceWidth;if(e.forEach(e=>{const t=US(e.quadrant)?-1:1;e.labelPosition={x:e.outerCenter.x+t*(e.labelSize.width/2+this._line2MinLength+h),y:e.outerCenter.y}}),e.sort((e,t)=>e.labelPosition.y-t.labelPosition.y),!1!==t.coverEnable||"none"===s.strategy){for(const o of e){const{labelPosition:e,labelSize:l}=o;o.labelLimit=l.width,o.pointB=US(o.quadrant)?{x:e.x+l.width/2+this._line2MinLength+h,y:e.y}:{x:e.x-l.width/2-this._line2MinLength-h,y:e.y},this._computeX(o,t,i)}!1===t.coverEnable&&"none"===s.strategy&&this._coverLabels(e)}else{const o=a/((null===(n=t.textStyle)||void 0===n?void 0:n.fontSize)||16);this._adjustY(e,o,t,i);const{minY:l,maxY:r}=e.reduce((e,t)=>{const{y1:i,y2:o}=t.getLabelBounds();return e.minY=Math.max(0,Math.min(i,e.minY)),e.maxY=Math.min(a,Math.max(o,e.maxY)),e},{minY:1/0,maxY:-1/0}),s=Math.max(Math.abs(a/2-l),Math.abs(r-a/2)),h=this._computeLayoutRadius(s,t,i);for(const n of e)this._computePointB(n,h,t,i),this._computeX(n,t,i)}const d=2*r;return e.forEach(e=>{var i,o;e.labelVisible&&(Ct(e.pointB.x,this._line2MinLength+h)||vt(e.pointB.x,d-this._line2MinLength-h))&&(e.labelVisible=!1),e.angle=null!==(o=null===(i=t.textStyle)||void 0===i?void 0:i.angle)&&void 0!==o?o:0,t.offsetAngle&&(e.angle+=t.offsetAngle),e.labelLine=Object.assign(Object.assign({},t.line),{visible:e.labelVisible})}),e}_computeX(e,t,i){var o;const l=e.circleCenter,n=this.attribute.width;this.attribute.height;let r=0;i.forEach(e=>{e.getAttributes(!0).outerRadius>r&&(r=e.getAttributes(!0).outerRadius)});const a=this.computeLayoutOuterRadius(r,t.width,t.height),s=t.line.line1MinLength,h=null===(o=t.layout)||void 0===o?void 0:o.align,d=t.spaceWidth,{labelPosition:c,quadrant:p,pointB:y}=e;Xe(y.x*y.y)||(e.pointC={x:NaN,y:NaN},c.x=NaN,e.labelLimit=0);const u=this.computeRadius(a,t.width,t.height),g=US(p)?-1:1;let f=0,k=(g>0?n-y.x:y.x-0)+this._alignOffset-this._line2MinLength-d;"labelLine"===h&&(f=(u+s+this._line2MinLength)*g+l.x,k=(g>0?n-f:f-0)-d);const m=this._getFormatLabelText(e.refDatum,k);e.labelText=m;let b=Math.min(k,e.labelSize.width);switch(h){case"labelLine":break;case"edge":f=g>0?n-b-d:0+b+d;break;default:f=y.x+g*this._line2MinLength}b=Math.max(this._ellipsisWidth,b);const v=b<e.labelSize.width-1;e.labelLimit=v?b:null,e.pointC={x:f,y:c.y};const C=function(e){return"left"===e?0:"right"===e?1:.5}(this._computeAlign(e,t))*(v?b:e.labelSize.width);"edge"===h?(c.x=(g>0?n:0)-g*C+g*this._alignOffset,e.pointC.x+=g*this._alignOffset):c.x=f+g*(this._alignOffset+d+C)}_computeAlign(e,t){var i,o,l,n,r,a;const s=t,h=null!==(o=null===(i=s.textStyle)||void 0===i?void 0:i.textAlign)&&void 0!==o?o:null===(l=s.textStyle)||void 0===l?void 0:l.align,d=null!==(r=null===(n=s.layout)||void 0===n?void 0:n.textAlign)&&void 0!==r?r:null===(a=s.layout)||void 0===a?void 0:a.align;return"inside"!==s.position?De(h)||"auto"===h?"edge"===d?US(e.quadrant)?"left":"right":US(e.quadrant)?"right":"left":h:De(h)||"auto"===h?"center":h}_getFormatLabelText(e,t){var i;return null!==(i=null==e?void 0:e.text)&&void 0!==i?i:""}_adjustY(e,t,i,o){var l;o[0].attribute.x;const n=2*(null!==(l=o[0].attribute.y)&&void 0!==l?l:0),r=i.layout;if("vertical"===r.strategy){let t,i=0;const o=e.length;if(o<=0)return;for(let n=0;n<o;n++){const{y1:l}=e[n].getLabelBounds();if(t=l-i,Ct(t,0)){const i=this._shiftY(e,n,o-1,-t);this._shiftY(e,i,0,t/2)}const{y2:r}=e[n].getLabelBounds();i=r}const{y1:l}=e[0].getLabelBounds();t=l-0,Ct(t,0)&&this._shiftY(e,0,o-1,-t);for(let r=e.length-1;r>=0&&e[r].getLabelBounds().y2>n;r--)e[r].labelVisible=!1}else if("none"!==r.strategy){const l=e.map((e,t)=>({arc:e,originIndex:t,priorityIndex:0}));l.sort((e,t)=>t.arc.radian-e.arc.radian),l.forEach((e,t)=>{e.priorityIndex=t,e.arc.labelVisible=!1});let a=1/0,s=-1/0;for(let h=0;h<t&&h<e.length;h++){this._storeY(e);const t=l[h].arc;this._computeYRange(t,i,o),t.labelVisible=!0;const d=t.labelPosition.y,{lastIndex:c,nextIndex:p}=this._findNeighborIndex(e,l[h]),y=e[c],u=e[p];if(-1===c&&-1!==p){const i=u.labelPosition.y;d>i?t.labelPosition.y=i-u.labelSize.height/2-t.labelSize.height/2:this._twoWayShift(e,t,u,p)}else if(-1!==c&&-1===p){const i=y.labelPosition.y;d<i?t.labelPosition.y=i+y.labelSize.height/2+t.labelSize.height/2:this._twoWayShift(e,y,t,l[h].originIndex)}else if(-1!==c&&-1!==p){const i=y.labelPosition.y,o=u.labelPosition.y;d>o?(t.labelPosition.y=o-u.labelSize.height/2-t.labelSize.height/2,this._twoWayShift(e,y,t,l[h].originIndex)):d<i?(t.labelPosition.y=i+y.labelSize.height/2+t.labelSize.height/2,this._twoWayShift(e,t,u,p)):(this._twoWayShift(e,y,t,l[h].originIndex),this._twoWayShift(e,t,u,p))}const g=Math.min(a,l[h].originIndex),f=Math.max(s,l[h].originIndex);let k;if(k=e[f].getLabelBounds().y2-n,vt(k,0)&&this._shiftY(e,f,0,-k),k=e[g].getLabelBounds().y1-0,Ct(k,0)&&this._shiftY(e,g,e.length-1,-k),k=e[f].getLabelBounds().y2-n,vt(k,0)){t.labelVisible=!1,this._restoreY(e);break}r.tangentConstraint&&!this._checkYRange(e)?(t.labelVisible=!1,this._restoreY(e)):(a=g,s=f)}}}_shiftY(e,t,i,o){const l=t<i?1:-1;let n=t;for(;-1!==n;){e[n].labelPosition.y+=o;const t=this._findNextVisibleIndex(e,n,i,l);if(t>=0&&t<e.length){const{y1:i,y2:o}=e[n].getLabelBounds(),{y1:r,y2:a}=e[t].getLabelBounds();if(l>0&&o<r||l<0&&i>a)return n}n=t}return i}_findNextVisibleIndex(e,t,i,o){const l=(i-t)*o;for(let n=1;n<=l;n++){const i=t+n*o;if(e[i].labelVisible)return i}return-1}_computePointB(e,t,i,o){const l=i;let n=0;o.forEach(e=>{e.getAttributes(!0).outerRadius>n&&(n=e.getAttributes(!0).outerRadius)});const r=this.computeLayoutOuterRadius(n,i.width,i.height),a=l.line.line1MinLength;if("none"===l.layout.strategy)e.pointB={x:e.outerCenter.x,y:e.outerCenter.y};else{const o=e.circleCenter,l=this.computeRadius(r,i.width,i.height),{labelPosition:n,quadrant:s}=e,h=t-Math.max(l+a,e.outerRadius),d=Math.sqrt(t**2-Math.abs(o.y-n.y)**2)-h;Xe(d)?e.pointB={x:o.x+d*(US(s)?-1:1),y:n.y}:e.pointB={x:NaN,y:NaN}}}_storeY(e){for(const t of e)t.labelVisible&&(t.lastLabelY=t.labelPosition.y)}_computeYRange(e,t,i){const o=e.circleCenter,l={width:2*o.x,height:2*o.y};let n=0;i.forEach(e=>{e.getAttributes(!0).outerRadius>n&&(n=e.getAttributes(!0).outerRadius)});const r=this.computeLayoutOuterRadius(n,t.width,t.height),a=t.line.line1MinLength,{width:s,height:h}=l,d=this.computeRadius(r,t.width,t.height),c=this._computeLayoutRadius(h/2,t,i),p=Math.abs(e.center.x-s/2),y=e.center.y-h/2;let u,g,f;if(bt(s/2,p))u=0,g=1,f=-y;else if(bt(h/2,y))u=1,g=0,f=-p;else{const e=-1/(y/p);u=e,g=-1,f=y-e*p}const k=function(e,t,i,o,l,n){if(0===e&&0===t||n<=0)return[];if(0===e){const e=-i/t,r=n**2-(e-l)**2;return r<0?[]:0===r?[{x:o,y:e}]:[{x:Math.sqrt(r)+o,y:e},{x:-Math.sqrt(r)+o,y:e}]}if(0===t){const t=-i/e,r=n**2-(t-o)**2;return r<0?[]:0===r?[{x:t,y:l}]:[{x:t,y:Math.sqrt(r)+l},{x:t,y:-Math.sqrt(r)+l}]}const r=(t/e)**2+1,a=2*((i/e+o)*(t/e)-l),s=a**2-4*r*((i/e+o)**2+l**2-n**2);if(s<0)return[];const h=(-a+Math.sqrt(s))/(2*r),d=(-a-Math.sqrt(s))/(2*r),c=-(t*h+i)/e;return 0===s?[{x:c,y:h}]:[{x:c,y:h},{x:-(t*d+i)/e,y:d}]}(u,g,f,a+d-c,0,c);if(k.length<2)return;let m,b;k[0].x>k[1].x&&k.reverse(),k[0].x<0?bt(k[0].y,k[1].y)?vt(e.middleAngle,-Math.PI)&&Ct(e.middleAngle,0)||vt(e.middleAngle,Math.PI)&&Ct(e.middleAngle,2*Math.PI)?(m=0,b=k[1].y+h/2):(m=k[1].y+h/2,b=h):k[0].y<k[1].y?(m=0,b=k[1].y+h/2):(m=k[1].y+h/2,b=l.height):(m=Math.min(k[0].y,k[1].y)+h/2,b=Math.max(k[0].y,k[1].y)+h/2),e.labelYRange=[m,b]}_computeLayoutRadius(e,t,i){const o=t,l=o.layoutArcGap,n=o.line.line1MinLength;let r=0;i.forEach(e=>{e.getAttributes(!0).outerRadius>r&&(r=e.getAttributes(!0).outerRadius)});const a=this.computeLayoutOuterRadius(r,t.width,t.height),s=this.computeRadius(a,t.width,t.height)+n,h=s-l;return Math.max((h**2+e**2)/(2*h),s)}_findNeighborIndex(e,t){const i=t.originIndex;let o=-1,l=-1;for(let n=i-1;n>=0;n--)if(e[n].labelVisible){o=n;break}for(let n=i+1;n<e.length;n++)if(e[n].labelVisible){l=n;break}return{lastIndex:o,nextIndex:l}}_twoWayShift(e,t,i,o){const l=i.getLabelBounds().y1-t.getLabelBounds().y2;if(Ct(l,0)){const t=this._shiftY(e,o,e.length-1,-l);this._shiftY(e,t,0,l/2)}}_restoreY(e){for(const t of e)t.labelVisible&&(t.labelPosition.y=t.lastLabelY)}_checkYRange(e){for(const t of e){const{labelYRange:e,labelPosition:i}=t;if(t.labelVisible&&e&&(Ct(i.y,e[0])||vt(i.y,e[1])))return!1}return!0}_coverLabels(e){if(e.length<=1)return;let t=e[0].getLabelBounds();for(let i=1;i<e.length;i++){const o=e[i].getLabelBounds();VS(t,o)?e[i].labelVisible=!1:t=o}}_getLabelLinePoints(e,t){return e.attribute.points}_createLabelLine(e,t){var i,o,l,n,r;const{line:a={},visible:s}=e.attribute,h=super._createLabelLine(e,t);if(h&&(h.setAttributes({visible:null===(l=null!==(i=a.visible&&s)&&void 0!==i?i:null===(o=e.attribute)||void 0===o?void 0:o.visible)||void 0===l||l,lineWidth:null!==(r=null===(n=a.style)||void 0===n?void 0:n.lineWidth)&&void 0!==r?r:1}),a.smooth&&h.setAttributes({curveType:"basis"}),"arc3d"===t.type&&t)){const{beta:e,x:i,y:o}=t.getAttributes(!0);h.setAttributes({beta:e,anchor3d:[i,o]})}return h}computeRadius(e,t,i,o){return this.computeLayoutRadius(t||0,i||0)*e*(De(o)?1:o)}computeLayoutRadius(e,t){return Math.min(e/2,t/2)}_canPlaceInside(e,t){return"inside"===this.attribute.position||"inside-center"===this.attribute.position}computeLayoutOuterRadius(e,t,i){return e/(Math.min(t,i)/2)}computeDatumRadius(e,t,i){const o=this.computeLayoutOuterRadius(i,e,t);return this.computeLayoutRadius(e||0,t||0)*o}}gx.defaultAttributes={coverEnable:!1,spaceWidth:5,layoutArcGap:6,textStyle:{visible:!0,fontSize:14,fontWeight:"normal",fillOpacity:1,boundsPadding:[-1,0,-1,0],ellipsis:!0},position:"outside",line:{visible:!0,line1MinLength:20,line2MinLength:10},layout:{align:"arc",strategy:"priority",tangentConstraint:!0}};var fx=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class kx extends Pg{constructor(e,t){const{dataLabels:i}=e,o=fx(e,["dataLabels"]);super((null==t?void 0:t.skipDefault)?e:Object.assign({dataLabels:i},lt({},kx.defaultAttributes,o))),this.name="data-label"}render(){var e;const{dataLabels:t,size:i}=this.attribute;if(!t||0===t.length)return;const{width:o=0,height:l=0,padding:n}=i||{};if(!o||!l||!Xe(l*o))return;this._componentMap||(this._componentMap=new Map);const r=WS(o,l,n),a=r.bitmap(),s=new Map,h=this._componentMap;for(let d=0;d<t.length;d++){const o=t[d],l=lx(o.type)||tx;if(l){const{baseMarkGroupName:t,type:n}=o,h=null!==(e=o.id)&&void 0!==e?e:`${t}-${n}-${d}`;"arc"===o.type&&(o.width=i.width,o.height=i.height);let c=this._componentMap.get(h);c?(c.setBitmapTool(r),c.setBitmap(a),c.setAttributes(o),s.set(h,c)):(c=new l(o),c.setBitmap(a),c.setBitmapTool(r),this.add(c),s.set(h,c))}}h.forEach((e,t)=>{s.get(t)||this.removeChild(e)}),this._componentMap=s}setLocation(e){this.translateTo(e.x,e.y)}disableAnimation(){this._componentMap.forEach(e=>{e.disableAnimation()})}enableAnimation(){this._componentMap.forEach(e=>{e.enableAnimation()})}}function mx(e,t,i,o){let l="";if(!e||0===t.length)return l;const n=t[0],r=Ut.distancePP(e,n),a=i?0:1;return o?l+=`M${e.x},${e.y-r}A${r},${r},0,0,${a},${e.x},${e.y+r}A${r},${r},0,0,${a},${e.x},${e.y-r}Z`:t.forEach((e,t)=>{0===t?l=`M${e.x},${e.y}`:l+=`A${r},${r},0,0,${a},${e.x},${e.y}`}),l}function bx(e,t,i){const{type:o,closed:l}=i,n=t.slice(0).reverse();let r="",a="";if("line"===o&&i.smoothLink&&i.center){const t=e[0],o=n[0],s=i.center;r=uv(e,!!l),a=uv(n,!!l);const h=Ut.distancePP(o,s),d=Ut.distancePP(t,s);r+=`A${h},${h},0,0,1,${o.x},${o.y}L${o.x},${o.y}`,a+=`A${d},${d},0,0,0,${t.x},${t.y}`}else if("circle"===o){const{center:t}=i;r=mx(t,e,!1,!!l),a=mx(t,n,!0,!!l)}else"line"!==o&&"polygon"!==o||(r=uv(e,!!l),a=uv(n,!!l));return l?r+=a:(a="L"+a.substring(1),r+=a,r+="Z"),r}kx.defaultAttributes={pickable:!1};class vx extends Pg{constructor(){super(...arguments),this.name="axis-grid",this.data=[]}getInnerView(){return this._innerView}getPrevInnerView(){return this._prevInnerView}render(){this._prevInnerView=this._innerView&&pv(this._innerView),this.removeAllChild(!0),this._innerView=hd.group({x:0,y:0,pickable:!1}),this.add(this._innerView);const{items:e,visible:t}=this.attribute;e&&e.length&&!1!==t&&(this.data=this._transformItems(e),this._renderGrid(this._innerView))}getVerticalCoord(e,t,i){return yv(e,this.getVerticalVector(t,i,e))}_transformItems(e){const t=[];return e.forEach(e=>{var i;t.push(Object.assign(Object.assign({},e),{point:this.getTickCoord(e.value),id:null!==(i=e.id)&&void 0!==i?i:e.label}))}),t}_renderGrid(e){const{visible:t}=this.attribute.subGrid||{};t&&this._renderGridByType(!0,e),this._renderGridByType(!1,e)}_renderGridByType(e,t){const i=lt({},this.attribute,this.getGridAttribute(e)),{type:o,items:l,style:n,closed:r,alternateColor:a,depth:s=0}=i,h=e?`${ov.grid}-sub`:`${ov.grid}`;if(l.forEach((e,i)=>{const{id:l,points:a}=e;let d="";if("line"===o||"polygon"===o)d=uv(a,!!r);else if("circle"===o){const{center:e}=this.attribute;d=mx(e,a,!1,!!r)}const c=hd.path(Object.assign({path:d,z:s},Ee(n)?lt({},this.skipDefault?null:vx.defaultAttributes.style,n(e,i)):n));c.name=`${h}-line`,c.id=this._getNodeId(`${h}-path-${l}`),t.add(c)}),s&&"line"===o&&l.forEach((e,i)=>{const{id:o,points:l}=e,a=[];a.push(l[0]);const d=l[1].x-l[0].x,c=l[1].y-l[0].y,p=Math.sqrt(d*d+c*c),y=s/p;a.push({x:l[0].x+d*y,y:l[0].y+c*y});const u=uv(a,!!r),g=Mt(a[0].x-a[1].x),f=Mt(a[0].y-a[1].y),k=hd.path(Object.assign({path:u,z:0,alpha:g>f?(l[1].x-l[0].x>0?-1:1)*Tt/2:0,beta:g<f?-Tt/2:0,anchor3d:g>f?[a[0].x,0]:[0,a[0].y]},Ee(n)?lt({},this.skipDefault?null:vx.defaultAttributes.style,n(e,i)):n));k.name=`${h}-line`,k.id=this._getNodeId(`${h}-path-${o}`),t.add(k)}),l.length>1&&a){const e=Ve(a)?a:[a,"transparent"],o=t=>e[t%e.length],n=this.attribute.items,r=n[0],s=n[n.length-1],d=!bt(r.value,0)&&!bt(s.value,0),c=!bt(r.value,1)&&!bt(s.value,1),p=[],y=r.value>s.value;(y&&c||!y&&d)&&p.push(this.getGridPointsByValue(y?1:0)),l.forEach(e=>{p.push(e.points)}),(y&&d||!y&&c)&&p.push(this.getGridPointsByValue(y?0:1));for(let l=0;l<p.length-1;l++){const e=bx(p[l],p[l+1],i),n=hd.path({path:e,fill:o(l)});n.name=`${h}-region`,n.id=this._getNodeId(`${h}-region-${l}`),t.add(n)}}}_getNodeId(e){return`${this.id}-${e}`}_parseTickSegment(){let e=1;return this.data.length>=2&&(e=this.data[1].value-this.data[0].value),e}_getPointsOfSubGrid(e,t){const i=this.data.length,o=[];return i>=2&&this.data.forEach(i=>{let l=i.value;if(!t){const t=i.value-e/2;if(this.isInValidValue(t))return;l=t}o.push({value:l})}),o}release(){super.release(),this._prevInnerView=null,this._innerView=null}}vx.defaultAttributes={style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]},subGrid:{visible:!1,style:{lineWidth:1,stroke:"#999",strokeOpacity:1,lineDash:[4,4]}}},sb(),pb();class Cx extends vx{constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},vx.defaultAttributes,e),t)}_getGridPoint(e,t){let i;if("line"===e){const{length:e}=this.attribute;i=[t,this.getVerticalCoord(t,e,!0)]}else if("circle"===e||"polygon"===e){const{center:e,sides:o=6,startAngle:l=Lb,endAngle:n=Fb}=this.attribute;i=function(e,t,i,o,l){const n=[],r=l-o;for(let a=0;a<t;a++){const l=o+a*r/t;n.push(Zt(e,i,l))}return n}(e,o,Ut.distancePP(e,t),l,n)}return i}getGridPointsByValue(e){const t=this.getTickCoord(e);return this._getGridPoint(this.attribute.type,t)}getGridAttribute(e){const{type:t,alignWithLabel:i=!0}=this.attribute,o=this._parseTickSegment();let l,n=[];if(e){l=lt({},this.attribute,this.attribute.subGrid);const e=[],{count:t=4}=l;if(this.data.length>=2){const l=this._getPointsOfSubGrid(o,i);for(let i=0;i<l.length-1;i++){const o=l[i],n=l[i+1];e.push({id:`sub-${i}-0`,points:this.getGridPointsByValue(o.value),datum:{}});for(let l=0;l<t;l++){const r=(l+1)/(t+1),a=(1-r)*o.value+r*n.value;e.push({id:`sub-${i}-${l+1}`,points:this.getGridPointsByValue(a),datum:{}})}i===l.length-2&&e.push({id:`sub-${i}-${t+1}`,points:this.getGridPointsByValue(n.value),datum:{}})}n=e}}else{l=this.attribute;const e=[];this.data.forEach(l=>{let{point:n}=l;if(!i){const e=l.value-o/2;if(this.isInValidValue(e))return;n=this.getTickCoord(e)}e.push({id:l.label,datum:l,points:this._getGridPoint(t,n)})}),n=e}return Object.assign(Object.assign({},l),{items:n})}}function Sx(){sb(),Sb(),_b()}ht(Cx,zv);const xx={space:8,style:{fill:"rgb(47, 69, 84)",cursor:"pointer",size:15},state:{disable:{fill:"rgb(170, 170, 170)",cursor:"not-allowed"},hover:{}}};Sx();class _x extends Pg{getCurrent(){return this._current}constructor(e,t){super((null==t?void 0:t.skipDefault)?e:lt({},_x.defaultAttributes,e)),this.name="pager",this._current=1,this._onHover=e=>{const t=e.target;t.hasState("disable")||t.addState("hover")},this._onUnHover=e=>{e.target.removeState("hover")},this._onClick=e=>{const t=e.target;if("preHandler"===t.name){if(1===this._current)return;this._current-=1,1===this._current?t.addState("disable"):t.removeState("disable"),this._dispatchEvent("toPrev",{current:this._current,total:this._total,direction:"pre",event:e})}if("nextHandler"===t.name){if(this._current===this._total)return;this._current+=1,this._current===this._total?t.addState("disable"):t.removeState("disable"),this._dispatchEvent("toNext",{current:this._current,total:this._total,direction:"next",event:e})}this._current>1&&this.preHandler.removeState("disable"),this._current<this._total&&this.nextHandler.removeState("disable"),this.text.setAttribute("text",this._getPageText(this._current))}}render(){var e,t,i;this._reset();const{layout:o="horizontal",handler:l=xx,total:n,defaultCurrent:r=1,textStyle:a,padding:s=0}=this.attribute;this._current=r;const h=Ai(s),d="horizontal"===o,c=hd.group({x:0,y:0}),p=l.style||{},y=p.size||15,u=null!==(e=l.space)&&void 0!==e?e:8,g=l.state||{};let{preShape:f,nextShape:k}=l;f||(f=d?"triangleLeft":"triangleUp"),k||(k=d?"triangleRight":"triangleDown");const m=hd.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},p),{x:0,y:0,symbolType:f,size:y}));m.states=g,m.name="preHandler",this.preHandler=m,c.add(m);const{width:b,height:v}=Ub(this._getPageText(n),Object.assign({textAlign:"center",textBaseline:"middle"},a),null===(i=null===(t=this.stage)||void 0===t?void 0:t.getTheme())||void 0===i?void 0:i.text),C=Ze(y)?y:y[0],S=Ze(y)?y:y[1],x=hd.text(Object.assign({x:d?C/2+u+b/2:0,y:d?0:S/2+u+v/2,text:this._getPageText(r),textAlign:"center",textBaseline:"middle",lineHeight:null==a?void 0:a.fontSize},a));this.text=x,c.add(x);const _=hd.symbol(Object.assign(Object.assign({strokeBoundsBuffer:0,pickMode:"imprecise"},p),{x:d?C+2*u+b:0,y:d?0:S+2*u+v,symbolType:k,size:y}));_.name="nextHandler",_.states=g,this.nextHandler=_,c.add(_),1===this._total?(m.addState("disable"),_.addState("disable")):1===this._current?m.addState("disable"):this._current===n&&_.addState("disable");const w=c.AABBBounds,L=w.width(),F=w.height();c.translateTo(0-w.x1+h[3],0-w.y1+h[0]),this.add(c),this.attribute.width=L+h[1]+h[3],this.attribute.height=F+h[0]+h[2],this._bindEvents()}_bindEvents(){this.attribute.disableTriggerEvent||(this.preHandler&&(this.preHandler.addEventListener("pointerenter",this._onHover),this.preHandler.addEventListener("pointerleave",this._onUnHover),this.preHandler.addEventListener("pointerdown",this._onClick)),this.nextHandler&&(this.nextHandler.addEventListener("pointerenter",this._onHover),this.nextHandler.addEventListener("pointerleave",this._onUnHover),this.nextHandler.addEventListener("pointerdown",this._onClick)))}_reset(){this.removeAllChild(!0),this._current=1,this._total=this.attribute.total,this.preHandler=this.nextHandler=this.text=null}_getPageText(e){const{pageFormatter:t}=this.attribute;return t?Ee(t)?t(e,this._total):`${t}`.replace("{current}",`${e}`).replace("{total}",`${this._total}`):`${e}/${this._total}`}setTotal(e){e!==this.attribute.total&&(this._total=e,1!==this._current&&this._current<=e?this.setAttributes({total:e,defaultCurrent:this._current}):this.setAttribute("total",e))}}_x.defaultAttributes={handler:xx,textStyle:{fill:"rgb(51, 51, 51)",fontSize:12}};const wx=16,Lx=8,Fx=12;var Tx,Ax,zx;!function(e){e.selected="selected",e.unSelected="unSelected",e.selectedHover="selectedHover",e.unSelectedHover="unSelectedHover",e.focus="focus"}(Tx||(Tx={})),function(e){e.legendItemHover="legendItemHover",e.legendItemUnHover="legendItemUnHover",e.legendItemClick="legendItemClick",e.legendItemAttributeUpdate="legendItemAttributeUpdate"}(Ax||(Ax={})),function(e){e.innerView="innerView",e.title="legendTitle",e.item="legendItem",e.itemShape="legendItemShape",e.itemLabel="legendItemLabel",e.itemValue="legendItemValue",e.focus="legendItemFocus"}(zx||(zx={}));class Bx extends Pg{constructor(){super(...arguments),this.name="legend",this._title=null}render(){this.removeAllChild(!0);const{interactive:e=!0,title:t,padding:i=0}=this.attribute;this._parsedPadding=Ai(i);const o=hd.group({x:this._parsedPadding[3],y:this._parsedPadding[0],pickable:e,childrenPickable:e});o.name=zx.innerView,this.add(o),this._innerView=o,(null==t?void 0:t.visible)&&this._renderTitle(t),this._renderContent(),this._adjustLayout(),e&&this._bindEvents();const l=this._innerView.AABBBounds;this.attribute.width=l.width()+this._parsedPadding[1]+this._parsedPadding[3],this.attribute.height=l.height()+this._parsedPadding[0]+this._parsedPadding[2]}_renderTitle(e){const{text:t="",textStyle:i,padding:o=0,background:l,minWidth:n,maxWidth:r,shape:a}=e,s={x:0,y:0,text:t,textStyle:i,padding:Ai(o),minWidth:n,maxWidth:r};a&&a.visible&&(s.shape=Object.assign({visible:!0},a.style),Ie(a.space)&&(s.space=a.space)),l&&l.visible&&(s.panel=Object.assign({visible:!0},l.style));const h=new Kb(s);h.name=zx.title,this._title=h,this._innerView.add(h)}_adjustLayout(){var e;if(this._title){const t=this._innerView.AABBBounds.width(),i=this._title.AABBBounds.width(),o=null===(e=this.attribute.title)||void 0===e?void 0:e.align;"center"===o?this._title.setAttribute("x",(t-i)/2):"end"===o&&this._title.setAttribute("x",t-i)}}}var Mx=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};const Ox={[Tx.focus]:{},[Tx.selected]:{},[Tx.selectedHover]:{},[Tx.unSelected]:{},[Tx.unSelectedHover]:{}};sb(),Xb(),Sx(),wb();let Wx=class e extends Bx{constructor(t,i){super((null==i?void 0:i.skipDefault)?t:lt({},e.defaultAttributes,t)),this.name="discreteLegend",this._itemsContainer=null,this._itemHeightByUser=void 0,this._itemHeight=0,this._itemMaxWidth=0,this._contentMaxHeight=0,this._onHover=e=>{const t=e.target;if(t&&t.name&&t.name.startsWith(zx.item)){const i=t.delegate;if(this._lastActiveItem){if(this._lastActiveItem.id===i.id)return;this._unHover(this._lastActiveItem,e)}this._hover(i,e)}else this._lastActiveItem&&(this._unHover(this._lastActiveItem,e),this._lastActiveItem=null)},this._onUnHover=e=>{this._lastActiveItem&&(this._unHover(this._lastActiveItem,e),this._lastActiveItem=null)},this._onClick=e=>{var t,i,o,l;const n=e.target;if(n&&n.name&&n.name.startsWith(zx.item)){const r=n.delegate,{selectMode:a="multiple"}=this.attribute;if(n.name===zx.focus||"focus"===a){const o=r.hasState(Tx.focus);r.toggleState(Tx.focus),o?null===(t=this._itemsContainer)||void 0===t||t.getChildren().forEach(t=>{this._removeLegendItemState(t,[Tx.unSelected,Tx.unSelectedHover,Tx.focus],e),this._setLegendItemState(t,Tx.selected,e)}):(this._setLegendItemState(r,Tx.selected,e),this._removeLegendItemState(r,[Tx.unSelected,Tx.unSelectedHover],e),null===(i=this._itemsContainer)||void 0===i||i.getChildren().forEach(t=>{r!==t&&(this._removeLegendItemState(t,[Tx.selected,Tx.selectedHover,Tx.focus],e),this._setLegendItemState(t,Tx.unSelected,e))}))}else{null===(o=this._itemsContainer)||void 0===o||o.getChildren().forEach(e=>{e.removeState(Tx.focus)});const{allowAllCanceled:t=!0}=this.attribute,i=r.hasState(Tx.selected),n=this._getSelectedLegends();if("multiple"===a){if(!1===t&&i&&1===n.length)return void this._dispatchLegendEvent(Ax.legendItemClick,r,e);i?(this._removeLegendItemState(r,[Tx.selected,Tx.selectedHover],e),this._setLegendItemState(r,Tx.unSelected,e)):(this._setLegendItemState(r,Tx.selected,e),this._removeLegendItemState(r,[Tx.unSelected,Tx.unSelectedHover],e))}else this._setLegendItemState(r,Tx.selected,e),this._removeLegendItemState(r,[Tx.unSelected,Tx.unSelectedHover],e),null===(l=this._itemsContainer)||void 0===l||l.getChildren().forEach(t=>{r!==t&&(this._removeLegendItemState(t,[Tx.selected,Tx.selectedHover],e),this._setLegendItemState(t,Tx.unSelected,e))})}this._dispatchLegendEvent(Ax.legendItemClick,r,e)}}}render(){super.render(),this._lastActiveItem=null}setSelected(e){var t;(null===(t=this._itemsContainer)||void 0===t?void 0:t.getChildren()).forEach(t=>{const i=t.data;e.includes(i.label)?(this._setLegendItemState(t,Tx.selected),this._removeLegendItemState(t,[Tx.unSelected,Tx.unSelectedHover])):(this._removeLegendItemState(t,[Tx.selected,Tx.selectedHover]),this._setLegendItemState(t,Tx.unSelected))})}_renderItems(){const{item:e={},maxCol:t=1,maxRow:i=2,maxWidth:o,defaultSelected:l,lazyload:n,autoPage:r}=this.attribute,{spaceCol:a=wx,spaceRow:s=Lx,verticalAlign:h="middle"}=e,d=this._itemsContainer,{items:c,isHorizontal:p,startIndex:y,isScrollbar:u}=this._itemContext,g=u?1:p?i:t,f=this._contentMaxHeight;let k,{doWrap:m,maxWidthInCol:b,startX:v,startY:C,pages:S}=this._itemContext,x=0,_=0;const w=[];for(let L=y,F=c.length;L<F&&!(n&&S>this._itemContext.currentPage*g);L++){n&&(this._itemContext.startIndex=L+1),k=c[L],k.id||(k.id=k.label),k.index=L;let e=!0;Ve(l)&&(e=l.includes(k.label));const t=this._renderEachItem(k,e,L,c),i=t.attribute.width,y=t.attribute.height;this._itemHeight=Math.max(this._itemHeight,y),b=Math.max(i,b),this._itemMaxWidth=Math.max(i,this._itemMaxWidth),p?(Ie(o)&&(u&&r?(S=Math.ceil((v+i)/o),m=S>1):v+i>o&&(m=!0,v>0&&("middle"!==h&&"bottom"!==h||w.forEach(e=>{e.setAttributes({y:e.attribute.y+(_-e.attribute.height)/("middle"===h?2:1)})}),S+=1,v=0,C+=_+s,_=0,w.length=0))),0===v&&0===C||t.setAttributes({x:v,y:C}),v+=a+i,_=Math.max(_,y),w.push(t)):(Ie(f)&&(u&&r?(S=Math.ceil((C+y)/f),m=S>1):f<=y?(S+=1,m=!0,C=0,L>0&&(v+=x+a)):f<C+y&&(S+=1,m=!0,C=0,v+=b+a,b=0)),0===v&&0===C||t.setAttributes({x:v,y:C}),C+=s+y),d.add(t),x=i}return!p||"middle"!==h&&"bottom"!==h||w.forEach(e=>{e.setAttributes({y:e.attribute.y+(_-e.attribute.height)/("middle"===h?2:1)})}),this._itemContext.doWrap=m,this._itemContext.startX=v,this._itemContext.startY=C,this._itemContext.maxWidthInCol=b,this._itemContext.pages=S,this._itemContext.maxPages=g,u&&(this._itemContext.totalPage=S),n||(this._itemContext.startIndex=c.length),this._itemContext}_renderContent(){const{item:e={},items:t,reversed:i,maxWidth:o,maxHeight:l}=this.attribute;if(!1===e.visible||qe(t))return;let n=t;i&&(n=null==t?void 0:t.reverse()),this._contentMaxHeight=Math.max(0,l-this._parsedPadding[0]-this._parsedPadding[2]);const r=hd.group({x:0,y:0});this._itemsContainer=r;const{layout:a,autoPage:s}=this.attribute,h="horizontal"===a,{maxWidth:d,width:c,height:p}=e,y=[];Ie(d)&&y.push(d),Ie(c)&&y.push(c),y.length&&(Ie(o)&&y.push(o),this._itemWidthByUser=pt(y)),Ie(p)&&(this._itemHeightByUser=p);const u=this.attribute.pager;this._itemContext={currentPage:u&&u.defaultCurrent||1,doWrap:!1,maxWidthInCol:0,maxPages:1,pages:1,startX:0,startY:0,startIndex:0,items:n,isHorizontal:h,totalPage:1/0,isScrollbar:u&&"scrollbar"===u.type,clipContainer:void 0},this._itemContext=this._renderItems();let g=!1;this._itemContext.doWrap&&s&&this._itemContext.pages>this._itemContext.maxPages&&(g=this._renderPagerComponent()),g||(r.setAttribute("y",this._title?this._title.AABBBounds.height()+Je(this.attribute,"title.space",8):0),this._innerView.add(r))}_bindEvents(){if(this.attribute.disableTriggerEvent)return;if(!this._itemsContainer)return;const{hover:e=!0,select:t=!0}=this.attribute;if(e){let t="pointermove",i="pointerleave";je(e)&&(e.trigger&&(t=e.trigger),e.triggerOff&&(i=e.triggerOff)),this._itemsContainer.addEventListener(t,this._onHover),this._itemsContainer.addEventListener(i,this._onUnHover)}if(t){let e="pointerdown";je(t)&&t.trigger&&(e=t.trigger),this._itemsContainer.addEventListener(e,this._onClick)}}_autoEllipsis(e,t,i,o){var l,n;const{label:r,value:a}=this.attribute.item,s=o.AABBBounds,h=i.AABBBounds,d=s.width(),c=h.width();let p=!1;"labelFirst"===e?c>t?p=!0:o.setAttribute("maxLineWidth",t-c):"valueFirst"===e?d>t?p=!0:i.setAttribute("maxLineWidth",t-d):d+c>t&&(p=!0),p&&(o.setAttribute("maxLineWidth",Math.max(t*(null!==(l=r.widthRatio)&&void 0!==l?l:.5),t-c)),i.setAttribute("maxLineWidth",Math.max(t*(null!==(n=a.widthRatio)&&void 0!==n?n:.5),t-d)))}_renderEachItem(e,t,i,o){var l,n;const{id:r,label:a,value:s,shape:h}=e,{padding:d=0,focus:c,focusIconStyle:p,align:y,autoEllipsisStrategy:u}=this.attribute.item,{shape:g,label:f,value:k,background:m}=this.attribute.item,b=this._handleStyle(g,e,t,i,o),v=this._handleStyle(f,e,t,i,o),C=this._handleStyle(k,e,t,i,o),S=this._handleStyle(m,e,t,i,o),x=Ai(d);let _;!1===m.visible?(_=hd.group({x:0,y:0,cursor:null===(l=S.style)||void 0===l?void 0:l.cursor}),this._appendDataToShape(_,zx.item,e,_)):(_=hd.group(Object.assign({x:0,y:0},S.style)),this._appendDataToShape(_,zx.item,e,_,S.state)),_.id=`${null!=r?r:a}-${i}`,_.addState(t?Tx.selected:Tx.unSelected);const w=hd.group({x:0,y:0,pickable:!1});_.add(w);let L,F=0,T=0,A=0;if(g&&!1!==g.visible){const i=Je(b,"style.size",10);T=Ve(i)?i[0]||0:i,A=Je(g,"space",8);const o=hd.symbol(Object.assign(Object.assign({x:0,y:0,symbolType:"circle",strokeBoundsBuffer:0},h),b.style));Object.keys(b.state||{}).forEach(e=>{const t=b.state[e].fill||b.state[e].stroke;h.fill&&De(b.state[e].fill)&&t&&(b.state[e].fill=t),h.stroke&&De(b.state[e].stroke)&&t&&(b.state[e].stroke=t)}),this._appendDataToShape(o,zx.itemShape,e,_,b.state),o.addState(t?Tx.selected:Tx.unSelected),w.add(o)}let z=0;if(c){const t=Je(p,"size",10);L=hd.symbol(Object.assign(Object.assign({x:0,y:-t/2-1,strokeBoundsBuffer:0,boundsPadding:x},p),{visible:!0,pickMode:"imprecise"})),this._appendDataToShape(L,zx.focus,e,_),z=t}const B=f.formatMethod?f.formatMethod(a,e,i):a,M=Zb(Object.assign(Object.assign({x:T/2+A,y:0,textAlign:"start",textBaseline:"middle",lineHeight:null===(n=v.style)||void 0===n?void 0:n.fontSize},v.style),{text:B,_originText:f.formatMethod?a:void 0}));this._appendDataToShape(M,zx.itemLabel,e,_,v.state),M.addState(t?Tx.selected:Tx.unSelected),w.add(M);const O=Je(f,"space",8);if(Ie(s)){const o=Je(k,"space",c?8:0),l=k.formatMethod?k.formatMethod(s,e,i):s,n=Zb(Object.assign(Object.assign({x:0,y:0,textAlign:"start",textBaseline:"middle",lineHeight:C.style.fontSize},C.style),{text:l,_originText:k.formatMethod?s:void 0}));if(this._appendDataToShape(n,zx.itemValue,e,_,C.state),n.addState(t?Tx.selected:Tx.unSelected),this._itemWidthByUser){const e=this._itemWidthByUser-x[1]-x[3]-T-A-O-z-o;this._autoEllipsis(u,e,M,n),k.alignRight?n.setAttributes({textAlign:"right",x:this._itemWidthByUser-T/2-x[1]-x[3]-z-o}):n.setAttribute("x",O+(M.AABBBounds.empty()?0:M.AABBBounds.x2))}else n.setAttribute("x",O+(M.AABBBounds.empty()?0:M.AABBBounds.x2));F=o+(n.AABBBounds.empty()?0:n.AABBBounds.x2),w.add(n)}else this._itemWidthByUser?(M.setAttribute("maxLineWidth",this._itemWidthByUser-x[1]-x[3]-T-A-z),F=O+(M.AABBBounds.empty()?0:M.AABBBounds.x2)):F=O+(M.AABBBounds.empty()?0:M.AABBBounds.x2);L&&(L.setAttribute("x",F),w.add(L));const W=w.AABBBounds,R=W.width();if("right"===y){const e=W.x2,t=W.x1;w.forEachChildren((i,o)=>{"symbol"!==i.type&&"right"!==i.attribute.textAlign||i===L?i.setAttribute("x",t+e-i.attribute.x-i.AABBBounds.width()):"symbol"!==i.type?i.setAttributes({x:t+e-i.attribute.x,textAlign:"left"}):i.setAttribute("x",t+e-i.attribute.x)})}const H=W.height(),P=Ie(this.attribute.item.width)?this.attribute.item.width:R+x[1]+x[3],E=this._itemHeightByUser||H+x[0]+x[2];return _.attribute.width=P,_.attribute.height=E,L&&L.setAttribute("visible",!1),w.translateTo(-W.x1+x[3],-W.y1+x[0]),_}_createPager(e){var t,i;const{disableTriggerEvent:o,maxRow:l}=this.attribute,n=e=>e<=99?99:e<=999?999:9999;return this._itemContext.isHorizontal?new _x(Object.assign(Object.assign({layout:1===l?"horizontal":"vertical",total:n(this._itemContext.pages)},lt({handler:{preShape:"triangleUp",nextShape:"triangleDown"}},e)),{defaultCurrent:null===(t=this.attribute.pager)||void 0===t?void 0:t.defaultCurrent,disableTriggerEvent:o})):new _x(Object.assign({layout:"horizontal",total:n(this._itemContext.pages),disableTriggerEvent:o,defaultCurrent:null===(i=this.attribute.pager)||void 0===i?void 0:i.defaultCurrent},e))}_createScrollbar(e,t){const{disableTriggerEvent:i}=this.attribute;return this._itemContext.isHorizontal?new Ob(Object.assign(Object.assign({direction:"horizontal",disableTriggerEvent:i,range:[0,.5],height:!1===e.visible?0:12},e),{width:t})):new Ob(Object.assign(Object.assign({direction:"vertical",width:!1===e.visible?0:12,range:[0,.5]},e),{height:t,disableTriggerEvent:i}))}_updatePositionOfPager(e,t,i){const{pager:o}=this.attribute,{totalPage:l,isHorizontal:n}=this._itemContext,r=o&&o.position||"middle";if(this._pagerComponent.setTotal(l),n){let o;o="start"===r?e:"end"===r?e+i-this._pagerComponent.AABBBounds.height()/2:e+i/2-this._pagerComponent.AABBBounds.height()/2,this._pagerComponent.setAttributes({x:t-this._pagerComponent.AABBBounds.width(),y:o})}else{let e;e="start"===r?0:"end"===r?t-this._pagerComponent.AABBBounds.width():(t-this._pagerComponent.AABBBounds.width())/2,this._pagerComponent.setAttributes({x:e,y:i-this._pagerComponent.AABBBounds.height()})}}_computeScrollbarDelta(){const{isHorizontal:e,clipContainer:t}=this._itemContext,i=this._itemsContainer.AABBBounds,o=t.AABBBounds;let l,n;return e?(n=o.width(),l=n/i.width()):(n=o.height(),l=n/i.height()),l}_updatePositionOfScrollbar(e,t,i){const{isHorizontal:o,currentPage:l,totalPage:n}=this._itemContext,r=(l-1)/n;this._pagerComponent.setScrollRange([r,r+this._computeScrollbarDelta()]),o?this._pagerComponent.setAttributes({x:0,y:i+t}):this._pagerComponent.setAttributes({x:e,y:i})}_bindEventsOfPager(e,t){const i=this.attribute.pager||{},{animation:o=!0,animationDuration:l=450,animationEasing:n="quadIn"}=i,r=this._itemContext.isScrollbar?e=>{const{value:t}=e.detail;let i;return i=0===t[0]?1:1===t[1]?this._itemContext.totalPage:t[0]*this._itemContext.totalPage+1,i}:e=>e.detail.current,a=e=>{const t=this._pagerComponent,i=t.getScrollRange(),{direction:o}=t.attribute,{width:l,height:n}=t.getSliderRenderBounds(),r="vertical"===o?e.deltaY/n:e.deltaX/l;t.setScrollRange([i[0]+r,i[1]+r],!0),this.updateScrollMask()},s=i=>{const a=r(i);if(a!==this._itemContext.currentPage){if(this._itemContext.currentPage=a,this._itemContext&&this._itemContext.startIndex<this._itemContext.items.length){this._renderItems();const e=Math.ceil(this._itemContext.pages/this._itemContext.maxPages);if(this._itemContext.totalPage=e,this._itemContext.isScrollbar&&this._pagerComponent){const e=this._computeScrollbarDelta(),[t]=this._pagerComponent.getScrollRange();this._pagerComponent.setScrollRange([t,t+e])}}if(this._itemContext.isScrollbar){const[e]=this._pagerComponent.getScrollRange();let i;i=this._itemContext.isHorizontal?this._itemsContainer.AABBBounds.width():this._itemsContainer.AABBBounds.height();const r=i*e;this.updateScrollMask(),o?this._itemsContainer.animate().to({[t]:-r},l,n):this._itemsContainer.setAttribute(t,-r)}else o?this._itemsContainer.animate().to({[t]:-(a-1)*e},l,n):this._itemsContainer.setAttribute(t,-(a-1)*e)}};if(this._itemContext.isScrollbar){if(this._pagerComponent.addEventListener("scrollDrag",s),this._pagerComponent.addEventListener("scrollUp",s),this.attribute.pager.roamScroll){const e=50;this.addEventListener("wheel",e=>e.nativeEvent.preventDefault()),this.addEventListener("wheel",Lt(a,e))}}else this._pagerComponent.addEventListener("toPrev",s),this._pagerComponent.addEventListener("toNext",s)}_renderPager(){const e=this._title?this._title.AABBBounds.height()+Je(this.attribute,"title.space",8):0,{maxWidth:t,maxCol:i=1,maxRow:o=2,item:l={},pager:n={}}=this.attribute,{spaceCol:r=wx,spaceRow:a=Lx}=l,s=this._itemsContainer,{space:h=Fx,defaultCurrent:d=1}=n,c=Mx(n,["space","defaultCurrent"]),{isHorizontal:p}=this._itemContext,y=this._contentMaxHeight;let u,g=0,f=0,k=0,m=0,b=0,v=0,C=1;if(p){if(f=(o-1)*a+this._itemHeight*o,g=t,u=this._createPager(c),this._pagerComponent=u,this._innerView.add(u),k=t-u.AABBBounds.width()-h,k<=0)return this._innerView.removeChild(u),!1;s.getChildren().forEach((e,t)=>{const{width:i,height:o}=e.attribute;k<b+i&&(b=0,v+=o+a,C+=1),t>0&&e.setAttributes({x:b,y:v}),b+=r+i}),this._itemContext.startX=b,this._itemContext.startY=v,this._itemContext.pages=C;const i=Math.ceil(C/o);this._itemContext.totalPage=i,this._updatePositionOfPager(e,g,f)}else{if(g=this._itemMaxWidth*i+(i-1)*r,f=y,k=g,u=this._createPager(c),this._pagerComponent=u,this._innerView.add(u),m=y-u.AABBBounds.height()-h-e,m<=0)return this._innerView.removeChild(u),!1;s.getChildren().forEach((e,t)=>{const{height:i}=e.attribute;m<v+i&&(v=0,b+=this._itemMaxWidth+r,C+=1),t>0&&e.setAttributes({x:b,y:v}),v+=a+i});const t=Math.ceil(C/i);this._itemContext.totalPage=t,this._updatePositionOfPager(e,g,f)}d>1&&(p?s.setAttribute("y",-(d-1)*(f+a)):s.setAttribute("x",-(d-1)*(g+r)));const S=hd.group({x:0,y:e,width:p?k:g,height:p?f:m,clip:!0,pickable:!1});return S.add(s),this._innerView.add(S),this._itemContext.clipContainer=S,this._bindEventsOfPager(p?f+a:g+r,p?"y":"x"),!0}_renderScrollbar(){var e;const t=this._title?this._title.AABBBounds.height()+Je(this.attribute,"title.space",8):0,{maxWidth:i,item:o={},pager:l={}}=this.attribute,{spaceCol:n=wx,spaceRow:r=Lx}=o,a=this._itemsContainer,{space:s=Fx,defaultCurrent:h=1}=l,d=Mx(l,["space","defaultCurrent"]),{isHorizontal:c}=this._itemContext,p=this._contentMaxHeight;let y,u=0,g=0,f=0,k=1;if(c)u=i,g=this._itemHeight,y=this._createScrollbar(d,u),this._pagerComponent=y,this._innerView.add(y);else{if(g=p-t,u=this._itemMaxWidth,y=this._createScrollbar(d,g),this._pagerComponent=y,this._innerView.add(y),g<=0)return this._innerView.removeChild(y),!1;const e=a.getChildren(),i=e.map(e=>e.attribute.height);if(1===i.length||i.every(e=>e===i[0])){const t=i[0],o=g,l=Math.floor(o/(r+t));g=l*(r+t),k=Math.ceil(e.length/l)}else e.forEach((e,t)=>{const{height:i}=e.attribute,o=k,l=f;k=Math.floor((f+i)/g)+1,f+=r+i,o!==k&&t===a.getChildren().length-1&&f-g>=1/3*i&&(g=l+i,k-=1)});this._itemContext.totalPage=k,this._itemContext.pages=k}if(h>1)if(c){const e=this._itemsContainer.AABBBounds.width()-u;a.setAttribute("x",-Math.min((h-1)*(u+n),e))}else{const e=this._itemsContainer.AABBBounds.height()-g;a.setAttribute("y",-Math.min((h-1)*(g+r),e))}const m=hd.group({x:0,y:t,width:u,height:g,clip:!0,pickable:!1});return m.add(a),this._innerView.add(m),this._itemContext.clipContainer=m,this._updatePositionOfScrollbar(u,g,t),(null===(e=l.scrollMask)||void 0===e?void 0:e.visible)&&this.renderScrollMask(m),this._bindEventsOfPager(c?u:g,c?"x":"y"),!0}renderScrollMask(e){const{scrollMask:t={}}=this.attribute.pager,{visible:i=!0,gradientLength:o=16,gradientStops:l}=t;if(!i||!l)return;const n=e.AABBBounds.width(),r=e.AABBBounds.height(),a=this._itemContext.isHorizontal?n:r,s=l.map(e=>({offset:o*e.offset/a,color:e.color})),h=l.map(e=>({offset:(a-o*e.offset)/a,color:e.color})),d=hd.rect({x:0,y:0,width:n,height:r});this._scrollMask=d,this._scrollMaskContext={startStops:s,endStops:h},this.updateScrollMask(),e.add(d)}updateScrollMask(){if(!this._scrollMask||!this._pagerComponent)return;if(!this._itemContext.isScrollbar)return;const[e,t]=this._pagerComponent.getScrollRange(),i=[];bt(St(t,0,1),1)||i.push(...this._scrollMaskContext.endStops),bt(St(e,0,1),0)||i.push(...this._scrollMaskContext.startStops),i.length&&(this._itemContext.isHorizontal?this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:1,y1:0,stops:i}}):this._scrollMask.setAttributes({fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:i}}))}_renderPagerComponent(){return this._itemContext.isScrollbar?this._renderScrollbar():this._renderPager(),!0}_hover(e,t){this._lastActiveItem=e,e.hasState(Tx.selected)?this._setLegendItemState(e,Tx.selectedHover,t):this._setLegendItemState(e,Tx.unSelectedHover,t);const i=e.getChildren()[0].find(e=>e.name===zx.focus,!1);i&&i.setAttribute("visible",!0),this._dispatchLegendEvent(Ax.legendItemHover,e,t)}_unHover(e,t){let i=!1;(e.hasState(Tx.unSelectedHover)||e.hasState(Tx.selectedHover))&&(i=!0),e.removeState(Tx.unSelectedHover),e.removeState(Tx.selectedHover),e.getChildren()[0].getChildren().forEach(e=>{i||!e.hasState(Tx.unSelectedHover)&&!e.hasState(Tx.selectedHover)||(i=!0),e.removeState(Tx.unSelectedHover),e.removeState(Tx.selectedHover)});const o=e.getChildren()[0].find(e=>e.name===zx.focus,!1);o&&o.setAttribute("visible",!1),i&&this._dispatchLegendEvent(Ax.legendItemAttributeUpdate,e,t),this._dispatchLegendEvent(Ax.legendItemUnHover,e,t)}_setLegendItemState(e,t,i){let o=!1;e.hasState(t)||(o=!0),e.addState(t,!0),e.getChildren()[0].getChildren().forEach(e=>{e.name!==zx.focus&&(o||e.hasState(t)||(o=!0),e.addState(t,!0))}),o&&this._dispatchLegendEvent(Ax.legendItemAttributeUpdate,e,i)}_removeLegendItemState(e,t,i){let o=!1;t.forEach(t=>{!o&&e.hasState(t)&&(o=!0),e.removeState(t)}),e.getChildren()[0].getChildren().forEach(e=>{e.name!==zx.focus&&t.forEach(t=>{!o&&e.hasState(t)&&(o=!0),e.removeState(t)})}),o&&this._dispatchLegendEvent(Ax.legendItemAttributeUpdate,e,i)}_getSelectedLegends(){var e;const t=[];return null===(e=this._itemsContainer)||void 0===e||e.getChildren().forEach(e=>{e.hasState(Tx.selected)&&t.push(e.data)}),t}_appendDataToShape(e,t,i,o,l={}){e.name=t,e.data=i,e.delegate=o,e.states=lt({},Ox,l)}_dispatchLegendEvent(e,t,i){const o=this._getSelectedLegends();o.sort((e,t)=>e.index-t.index);const l=o.map(e=>e.label);this._dispatchEvent(e,{item:t,data:t.data,selected:t.hasState(Tx.selected),currentSelectedItems:o,currentSelected:l,event:i})}_handleStyle(e,t,i,o,l){const n={};return e.style&&(Ee(e.style)?n.style=e.style(t,i,o,l):n.style=e.style),e.state&&(n.state={},Object.keys(e.state).forEach(r=>{e.state[r]&&(Ee(e.state[r])?n.state[r]=e.state[r](t,i,o,l):n.state[r]=e.state[r])})),n}release(){super.release(),this.removeAllEventListeners()}};function Rx(e,t){return e.reduce((e,i)=>{const o=t?+i[t]:+i;return Su(o)&&(e+=o),e},0)}function Hx(e,t,i){let o=!1;if(t&&pu(t))for(const l of e)for(const e of l.getSeries(i))if(o=!!t.call(null,e),o)return o;return o}Wx.defaultAttributes={layout:"horizontal",title:{align:"start",space:12,textStyle:{fontSize:12,fontWeight:"bold",fill:"#2C3542"}},item:{spaceCol:wx,spaceRow:Lx,shape:{space:8,style:{size:10,cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{opacity:.5}}},label:{space:8,style:{fontSize:12,fill:"#2C3542",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},value:{alignRight:!1,style:{fontSize:12,fill:"#ccc",cursor:"pointer"},state:{selectedHover:{opacity:.85},unSelected:{fill:"#D8D8D8"}}},background:{style:{cursor:"pointer"}},focus:!1,focusIconStyle:{size:10,symbolType:"M8 1C11.866 1 15 4.13401 15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1ZM8.75044 2.55077L8.75 3.75H7.25L7.25006 2.5507C4.81247 2.88304 2.88304 4.81247 2.5507 7.25006L3.75 7.25V8.75L2.55077 8.75044C2.8833 11.1878 4.81264 13.117 7.25006 13.4493L7.25 12.25H8.75L8.75044 13.4492C11.1876 13.1167 13.1167 11.1876 13.4492 8.75044L12.25 8.75V7.25L13.4493 7.25006C13.117 4.81264 11.1878 2.8833 8.75044 2.55077ZM8 5.5C9.38071 5.5 10.5 6.61929 10.5 8C10.5 9.38071 9.38071 10.5 8 10.5C6.61929 10.5 5.5 9.38071 5.5 8C5.5 6.61929 6.61929 5.5 8 5.5ZM8 7C7.44772 7 7 7.44772 7 8C7 8.55228 7.44772 9 8 9C8.55228 9 9 8.55228 9 8C9 7.44772 8.55228 7 8 7Z",fill:"#333",cursor:"pointer"}},autoPage:!0,pager:{space:Fx,handler:{style:{size:10},space:4}},hover:!0,select:!0,selectMode:"multiple",allowAllCanceled:!0};function Px(e){return function(t){let i;return i=bu(e)?e.reduce((e,t)=>null==e?void 0:e[t],t):null==t?void 0:t[e],i}}function Ex(e,t=!1){if(null===e||"object"!=typeof e)return e;for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(void 0===e[i]){delete e[i];continue}t&&Ex(e[i],t)}}const Dx=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,Ix=e=>null==e,jx=e=>null!=e,Nx=e=>Array.isArray?Array.isArray(e):Dx(e,"Array"),Gx=(e,t=!1)=>{const i=typeof e;return t?"number"===i:"number"===i||Dx(e,"Number")};function Ux(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Vx(e){return Number(e)}function Yx(e,t,i=0,o){for(Ix(o)&&(o=e.length);i<o;){const l=i+o>>>1;Ux(e[l],t)>0?o=l:i=l+1}return i}function Zx(e,t,i=1e-10,o=1e-10){const l=o,n=i*Math.max(e,t);return Math.abs(e-t)<=Math.max(l,n)}function Xx(e,t,i,o){return e>t&&!Zx(e,t,i,o)}function $x(e,t,i,o){return e<t&&!Zx(e,t,i,o)}const Kx=e=>{let t=null,i=null;return(...o)=>(t&&o.every((e,i)=>e===t[i])||(t=o,i=e(...o)),i)},qx=function(e,t,i){return e<t?t:e>i?i:e};function Jx(e,t){let i;return e>t&&(i=e,e=t,t=i),i=>Math.max(e,Math.min(t,i))}function Qx(e,t){return i=>e*(1-i)+t*i}function e_(e,t){return function(i){return Math.round(e*(1-i)+t*i)}}function t_(e,t,i){t/=100,i/=100;const o=(1-Math.abs(2*i-1))*t,l=o*(1-Math.abs(e/60%2-1)),n=i-o/2;let r=0,a=0,s=0;return 0<=e&&e<60?(r=o,a=l,s=0):60<=e&&e<120?(r=l,a=o,s=0):120<=e&&e<180?(r=0,a=o,s=l):180<=e&&e<240?(r=0,a=l,s=o):240<=e&&e<300?(r=l,a=0,s=o):300<=e&&e<360&&(r=o,a=0,s=l),r=Math.round(255*(r+n)),a=Math.round(255*(a+n)),s=Math.round(255*(s+n)),{r:r,g:a,b:s}}function i_(e,t,i){e/=255,t/=255,i/=255;const o=Math.min(e,t,i),l=Math.max(e,t,i),n=l-o;let r=0,a=0,s=0;return r=0===n?0:l===e?(t-i)/n%6:l===t?(i-e)/n+2:(e-t)/n+4,r=Math.round(60*r),r<0&&(r+=360),s=(l+o)/2,a=0===n?0:n/(1-Math.abs(2*s-1)),a=+(100*a).toFixed(1),s=+(100*s).toFixed(1),{h:r,s:a,l:s}}const o_=/^#([0-9a-f]{3,8})$/,l_={transparent:4294967040},n_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function r_(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function a_(e){return Gx(e)?new p_(e>>16,e>>8&255,255&e,1):Nx(e)?new p_(e[0],e[1],e[2]):new p_(255,255,255)}function s_(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function h_(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}const d_=(e,t)=>{const i=o_.exec(e);if(t||i){const e=parseInt(i[1],16),t=i[1].length;return 3===t?new p_((e>>8&15)+((e>>8&15)<<4),(e>>4&15)+((e>>4&15)<<4),(15&e)+((15&e)<<4),1):6===t?a_(e):8===t?new p_(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):null}};class c_{static Brighter(e,t=1){return 1===t?e:new c_(e).brighter(t).toRGBA()}static SetOpacity(e,t=1){return 1===t?e:new c_(e).setOpacity(t).toRGBA()}static getColorBrightness(e,t="hsl"){const i=e instanceof c_?e:new c_(e);switch(t){case"hsv":default:return i.getHSVBrightness();case"hsl":return i.getHSLBrightness();case"lum":return i.getLuminance();case"lum2":return i.getLuminance2();case"lum3":return i.getLuminance3();case"wcag":return i.getLuminanceWCAG()}}static parseColorString(e){if(jx(l_[e]))return function(e){return Gx(e)?new p_(e>>>24,e>>>16&255,e>>>8&255,255&e):Nx(e)?new p_(e[0],e[1],e[2],e[3]):new p_(255,255,255,1)}(l_[e]);if(jx(n_[e]))return a_(n_[e]);const t=`${e}`.trim().toLowerCase(),i=d_(t);if(void 0!==i)return i;if(/^(rgb|RGB|rgba|RGBA)/.test(t)){const e=t.replace(/(?:\(|\)|rgba|RGBA|rgb|RGB)*/g,"").split(",");return new p_(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10),parseFloat(e[3]))}if(/^(hsl|HSL|hsla|HSLA)/.test(t)){const e=t.replace(/(?:\(|\)|hsla|HSLA|hsl|HSL)*/g,"").split(","),i=t_(parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10));return new p_(i.r,i.g,i.b,parseFloat(e[3]))}}constructor(e){const t=c_.parseColorString(e);t?this.color=t:(console.warn(`Warn: 传入${e}无法解析为Color`),this.color=new p_(255,255,255))}toRGBA(){return this.color.formatRgb()}toString(){return this.color.formatRgb()}toHex(){return this.color.formatHex()}toHsl(){return this.color.formatHsl()}brighter(e){const{r:t,g:i,b:o}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e))),this.color.b=Math.max(0,Math.min(255,Math.floor(o*e))),this}add(e){const{r:t,g:i,b:o}=this.color;return this.color.r+=Math.min(255,t+e.color.r),this.color.g+=Math.min(255,i+e.color.g),this.color.b+=Math.min(255,o+e.color.b),this}sub(e){return this.color.r=Math.max(0,this.color.r-e.color.r),this.color.g=Math.max(0,this.color.g-e.color.g),this.color.b=Math.max(0,this.color.b-e.color.b),this}multiply(e){const{r:t,g:i,b:o}=this.color;return this.color.r=Math.max(0,Math.min(255,Math.floor(t*e.color.r))),this.color.g=Math.max(0,Math.min(255,Math.floor(i*e.color.g))),this.color.b=Math.max(0,Math.min(255,Math.floor(o*e.color.b))),this}getHSVBrightness(){return Math.max(this.color.r,this.color.g,this.color.b)/255}getHSLBrightness(){return.5*(Math.max(this.color.r,this.color.g,this.color.b)/255+Math.min(this.color.r,this.color.g,this.color.b)/255)}setHsl(e,t,i){const o=this.color.opacity,l=i_(this.color.r,this.color.g,this.color.b),n=t_(Ix(e)?l.h:qx(e,0,360),Ix(t)?l.s:t>=0&&t<=1?100*t:t,Ix(i)?l.l:i<=1&&i>=0?100*i:i);return this.color=new p_(n.r,n.g,n.b,o),this}setRGB(e,t,i){return!Ix(e)&&(this.color.r=e),!Ix(t)&&(this.color.g=t),!Ix(i)&&(this.color.b=i),this}setHex(e){const t=`${e}`.trim().toLowerCase(),i=d_(t,!0);return null!=i?i:this}setColorName(e){const t=n_[e.toLowerCase()];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}setScalar(e){return this.color.r=e,this.color.g=e,this.color.b=e,this}setOpacity(e=1){return this.color.opacity=e,this}getLuminance(){return(.2126*this.color.r+.7152*this.color.g+.0722*this.color.b)/255}getLuminance2(){return(.2627*this.color.r+.678*this.color.g+.0593*this.color.b)/255}getLuminance3(){return(.299*this.color.r+.587*this.color.g+.114*this.color.b)/255}getLuminanceWCAG(){const e=this.color.r/255,t=this.color.g/255,i=this.color.b/255;let o,l,n;return o=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4),l=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4),n=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*n}clone(){return new c_(this.color.toString())}copyGammaToLinear(e,t=2){return this.color.r=Math.pow(e.color.r,t),this.color.g=Math.pow(e.color.g,t),this.color.b=Math.pow(e.color.b,t),this}copyLinearToGamma(e,t=2){const i=t>0?1/t:1;return this.color.r=Math.pow(e.color.r,i),this.color.g=Math.pow(e.color.g,i),this.color.b=Math.pow(e.color.b,i),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.color.r=s_(e.color.r),this.color.g=s_(e.color.g),this.color.b=s_(e.color.b),this}copyLinearToSRGB(e){return this.color.r=h_(e.color.r),this.color.g=h_(e.color.g),this.color.b=h_(e.color.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}}class p_{constructor(e,t,i,o){this.r=isNaN(+e)?255:Math.max(0,Math.min(255,+e)),this.g=isNaN(+t)?255:Math.max(0,Math.min(255,+t)),this.b=isNaN(+i)?255:Math.max(0,Math.min(255,+i)),jx(o)?this.opacity=isNaN(+o)?1:Math.max(0,Math.min(1,+o)):this.opacity=1}formatHex(){return`#${r_(this.r)+r_(this.g)+r_(this.b)+(1===this.opacity?"":r_(255*this.opacity))}`}formatRgb(){const e=this.opacity;return`${1===e?"rgb(":"rgba("}${this.r},${this.g},${this.b}${1===e?")":`,${e})`}`}formatHsl(){const e=this.opacity,{h:t,s:i,l:o}=i_(this.r,this.g,this.b);return`${1===e?"hsl(":"hsla("}${t},${i}%,${o}%${1===e?")":`,${e})`}`}toString(){return this.formatHex()}}const y_=Object.freeze(Object.defineProperty({__proto__:null,Color:c_,DEFAULT_COLORS:n_,RGB:p_,hexToRgb:function(e){let t="",i="",o="";const l="#"===e[0]?1:0;for(let n=l;n<e.length;n++)"#"!==e[n]&&(n<l+2?t+=e[n]:n<l+4?i+=e[n]:n<l+6&&(o+=e[n]));return[parseInt(t,16),parseInt(i,16),parseInt(o,16)]},hslToRgb:t_,interpolateRgb:function(e,t){const i=e.r,o=t.r,l=e.g,n=t.g,r=e.b,a=t.b,s=e.opacity,h=t.opacity;return e=>{const t=Math.round(i*(1-e)+o*e),d=Math.round(l*(1-e)+n*e),c=Math.round(r*(1-e)+a*e);return new p_(t,d,c,s*(1-e)+h*e)}},rgbToHex:function(e,t,i){return Number((1<<24)+(e<<16)+(t<<8)+i).toString(16).slice(1)},rgbToHsl:i_},Symbol.toStringTag,{value:"Module"}));var u_;!function(e){e.Identity="identity",e.Linear="linear",e.Log="log",e.Pow="pow",e.Sqrt="sqrt",e.Symlog="symlog",e.Time="time",e.Quantile="quantile",e.Quantize="quantize",e.Threshold="threshold",e.Ordinal="ordinal",e.Point="point",e.Band="band"}(u_||(u_={}));const g_={};function f_(e){switch(e){case u_.Linear:case u_.Log:case u_.Pow:case u_.Sqrt:case u_.Symlog:case u_.Time:return!0;default:return!1}}function k_(e){return!!g_[e]}function m_(e){switch(e){case u_.Ordinal:case u_.Point:case u_.Band:return!0;default:return!1}}function b_(e){return e}function v_(e,t){if(e=Number(e),t=Number(t),t-=e)return i=>(i-e)/t;const i=Number.isNaN(t)?NaN:.5;return()=>i}function C_(e,t,i){const o=e[0],l=e[1],n=t[0],r=t[1];let a,s;return l<o?(a=v_(l,o),s=i(r,n)):(a=v_(o,l),s=i(n,r)),e=>s(a(e))}function S_(e,t,i){let o;return o=1===e?e+2*i:e-t+2*i,e?o>0?o:1:0}function x_(e,t,i,o){return 1===i&&(i=0),S_(e,i,o)*(t/(1-i))}function __(e,t){const i=(e[1]-e[0])/(t[1]-t[0]),o=e[0]-i*t[0];return[o,i+o]}function w_(e,t,i){const o=Math.min(e.length,t.length)-1,l=new Array(o),n=new Array(o);let r=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++r<o;)l[r]=v_(e[r],e[r+1]),n[r]=i(t[r],t[r+1]);return function(t){const i=Yx(e,t,1,o)-1;return n[i](l[i](t))}}Object.values(u_).forEach(e=>{g_[e]=!0});class L_{constructor(){this._rangeFactorStart=null,this._rangeFactorEnd=null}_calculateWholeRange(e){return this._wholeRange?this._wholeRange:jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)&&2===e.length?(this._wholeRange=__(e,[this._rangeFactorStart,this._rangeFactorEnd]),this._wholeRange):e}rangeFactor(e,t,i){return e?(2===e.length&&e.every(e=>e>=0&&e<=1)&&(this._wholeRange=null,0===e[0]&&1===e[1]?(this._rangeFactorStart=null,this._rangeFactorEnd=null):(this._rangeFactorStart=e[0],this._rangeFactorEnd=e[1])),this):i?(this._wholeRange=null,this._rangeFactorStart=null,this._rangeFactorEnd=null,this):jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)?[this._rangeFactorStart,this._rangeFactorEnd]:null}rangeFactorStart(e,t){var i;return Ix(e)?this._rangeFactorStart:(e>=0&&e<=1&&(this._wholeRange=null,0!==e||!Ix(this._rangeFactorEnd)&&1!==this._rangeFactorEnd?(this._rangeFactorStart=e,this._rangeFactorEnd=null!==(i=this._rangeFactorEnd)&&void 0!==i?i:1):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}rangeFactorEnd(e,t){var i;return Ix(e)?this._rangeFactorEnd:(e>=0&&e<=1&&(this._wholeRange=null,0!==e||!Ix(this._rangeFactorStart)&&0!==this._rangeFactorStart?(this._rangeFactorEnd=e,this._rangeFactorStart=null!==(i=this._rangeFactorStart)&&void 0!==i?i:0):(this._rangeFactorStart=null,this._rangeFactorEnd=null)),this)}generateFishEyeTransform(){var e;if(!this._fishEyeOptions)return void(this._fishEyeTransform=null);const{distortion:t=2,radiusRatio:i=.1,radius:o}=this._fishEyeOptions,l=this.range(),n=l[0],r=l[l.length-1],a=Math.min(n,r),s=Math.max(n,r),h=qx(null!==(e=this._fishEyeOptions.focus)&&void 0!==e?e:0,a,s),d=Ix(o)?(s-a)*i:o;let c=Math.exp(t);c=c/(c-1)*d;const p=t/d;this._fishEyeTransform=e=>{const t=Math.abs(e-h);if(t>=d)return e;if(t<=1e-6)return h;const i=c*(1-Math.exp(-t*p))/t*.75+.25;return h+(e-h)*i}}unknown(e){return arguments.length?(this._unknown=e,this):this._unknown}get(e,t){var i;return null!==(i=null==this?void 0:this[e])&&void 0!==i?i:t}}const F_=Symbol("implicit");class T_ extends L_{specified(e){var t;return e?(this._specified=Object.assign(null!==(t=this._specified)&&void 0!==t?t:{},e),this):Object.assign({},this._specified)}_getSpecifiedValue(e){if(this._specified)return this._specified[e]}constructor(){super(),this.type=u_.Ordinal,this._index=new Map,this._domain=[],this._ordinalRange=[],this._unknown=F_}clone(){const e=(new T_).domain(this._domain).range(this._ordinalRange).unknown(this._unknown);return this._specified&&e.specified(this._specified),e}calculateVisibleDomain(e){return jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)&&2===e.length?[this.invert(e[0]),this.invert(e[1])]:this._domain}scale(e){const t=`${e}`,i=this._getSpecifiedValue(t);if(void 0!==i)return i;let o=this._index.get(t);if(!o){if(this._unknown!==F_)return this._unknown;o=this._domain.push(e),this._index.set(t,o)}const l=this._ordinalRange[(o-1)%this._ordinalRange.length];return this._fishEyeTransform?this._fishEyeTransform(l):l}invert(e){let t=0;for(;t<this._ordinalRange.length&&this._ordinalRange[t]!==e;)t++;return this._domain[(t-1)%this._domain.length]}domain(e){if(!e)return this._domain.slice();this._domain=[],this._index=new Map;for(const t of e){const e=`${t}`;this._index.has(e)||this._index.set(e,this._domain.push(t))}return this}range(e){if(!e)return this._ordinalRange.slice();const t=Array.from(e);return this._ordinalRange=t,this}index(e){var t;return this._index&&null!==(t=this._index.get(`${e}`))&&void 0!==t?t:-1}}function A_(e,t,i,o){const l=[];let n=e;for(;n<=t;)l.push(n),n+=i;return o&&l.reverse(),l}function z_(e,t,i,o){let l,n;if(t=Math.floor(+t),e=Math.floor(+e),!(i=Math.floor(+i)))return[];if(e===t)return[e];if(l=t<e){const i=e;e=t,t=i}let r=Jx(1,t-e+1)(i);if(n=Math.floor((t-e+1)/r),!o)for(;Math.ceil((t-e+1)/n)>i&&r>1;)r-=1,n=Math.floor((t-e)/r);return A_(e,t,n,l)}class B_ extends T_{constructor(e){super(),this.type=u_.Band,this._range=[0,1],this._step=void 0,this._bandwidth=void 0,this._isFixed=!1,this._round=!1,this._paddingInner=0,this._paddingOuter=0,this._align=.5,this._unknown=void 0,delete this.unknown,this.rescale(e)}rescale(e,t){if(e)return this;this._wholeRange=null;const i=this._calculateWholeRange(this._range,t),o=super.domain().length,l=i[1]<i[0];let n=i[Number(l)-0];const r=i[1-Number(l)],a=S_(o,this._paddingInner,this._paddingOuter);return this._step=(r-n)/Math.max(1,a||1),this._round&&(this._step=Math.floor(this._step)),n+=(r-n-this._step*(o-this._paddingInner))*this._align,this.isBandwidthFixed()||(this._bandwidth=this._step*(1-this._paddingInner)),this._round&&(n=Math.round(n),this.isBandwidthFixed()||(this._bandwidth=Math.round(this._bandwidth))),this._bandRangeState={reverse:l,start:l?qx(n+this._step*(o-1),i[1],i[0]):qx(n,i[0],i[1]),min:l?i[1]:i[0],max:r,count:o},this.generateFishEyeTransform(),this}scale(e){if(!this._bandRangeState)return;const t=`${e}`,i=this._getSpecifiedValue(t);if(void 0!==i)return i;let o=this._index.get(t);if(!o){if(this._unknown!==F_)return this._unknown;o=this._domain.push(e),this._index.set(t,o)}const{count:l,start:n,reverse:r,min:a,max:s}=this._bandRangeState,h=n+(o-1)%l*(r?-1:1)*this._step;return qx(this._fishEyeTransform?this._fishEyeTransform(h):h,a,s)}_calculateWholeRange(e,t){if(this._wholeRange)return this._wholeRange;if((this._minBandwidth||this._maxBandwidth)&&!this._isBandwidthFixedByUser()){let t;if(jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)&&2===e.length){const i=__(e,[this._rangeFactorStart,this._rangeFactorEnd]);t=Math.abs(i[1]-i[0])}else t=Math.abs(e[1]-e[0]);const i=function(e,t,i,o,l){const n=S_(e,i,o);let r=t/Math.max(1,n||1);l&&(r=Math.floor(r));let a=r*(1-i);return l&&(a=Math.round(a)),a}(super.domain().length,t,this._paddingInner,this._paddingOuter,this._round);i<this._minBandwidth?(this._bandwidth=this._minBandwidth,this._isFixed=!0):i>this._maxBandwidth?(this._bandwidth=this._maxBandwidth,this._isFixed=!0):(this._bandwidth=i,this._isFixed=!1)}if(this.isBandwidthFixed()){const i=x_(super.domain().length,this._bandwidth,this._paddingInner,this._paddingOuter)*Math.sign(e[1]-e[0]),o=Math.min((e[1]-e[0])/i,1);if(jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)){const l=this._rangeFactorStart+o<=1,n=this._rangeFactorEnd-o>=0;if("rangeFactorStart"===t&&l?this._rangeFactorEnd=this._rangeFactorStart+o:"rangeFactorEnd"===t&&n?this._rangeFactorStart=this._rangeFactorEnd-o:e[0]<=e[1]?l?this._rangeFactorEnd=this._rangeFactorStart+o:n?this._rangeFactorStart=this._rangeFactorEnd-o:(this._rangeFactorStart=0,this._rangeFactorEnd=o):n?this._rangeFactorStart=this._rangeFactorEnd-o:l?this._rangeFactorEnd=this._rangeFactorStart+o:(this._rangeFactorStart=1-o,this._rangeFactorEnd=1),i>0){const t=e[0]-i*this._rangeFactorStart,o=t+i;this._wholeRange=[t,o]}else{const t=e[1]+i*(1-this._rangeFactorEnd),o=t-i;this._wholeRange=[o,t]}}else this._rangeFactorStart=0,this._rangeFactorEnd=o,this._wholeRange=[e[0],e[0]+i];return this._wholeRange}return super._calculateWholeRange(e)}calculateWholeRangeSize(){const e=this._calculateWholeRange(this._range);return Math.abs(e[1]-e[0])}calculateVisibleDomain(e){const t=this._domain;if(jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)&&t.length){const i=this._getInvertIndex(e[0]),o=this._getInvertIndex(e[1]);return t.slice(Math.min(i,o),Math.max(i,o)+1)}return t}domain(e,t){return e?(super.domain(e),this.rescale(t)):super.domain()}range(e,t){return e?(this._range=[Vx(e[0]),Vx(e[1])],this.rescale(t)):this._range}rangeRound(e,t){return this._range=[Vx(e[0]),Vx(e[1])],this._round=!0,this.rescale(t)}ticks(e=10){const t=this.calculateVisibleDomain(this._range);return-1===e?t:z_(0,t.length-1,e,!1).map(e=>t[e])}tickData(e=10){return this.ticks(e).map((e,t)=>({index:t,tick:e,value:(this.scale(e)-this._range[0]+this._bandwidth/2)/(this._range[1]-this._range[0])}))}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return z_(0,t.length-1,e,!0).filter(e=>e<t.length).map(e=>t[e])}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return function(e,t,i){let o;if(i=Jx(1,(t=Math.floor(+t))-(e=Math.floor(+e))+1)(Math.floor(+i)),o=t<e){const i=e;e=t,t=i}return A_(e,t,i,o)}(0,t.length-1,e).map(e=>t[e])}_getInvertIndex(e){let t=0;const i=this.step()/2,o=this.bandwidth()/2,l=this._domain.length,n=this.range(),r=n[0]>n[n.length-1];for(t=0;t<l;t++){const n=this.scale(this._domain[t])+o;if(0===t&&(!r&&!Xx(e,n+i)||r&&!$x(e,n-i)))break;if(t===l-1)break;if(!$x(e,n-i)&&!Xx(e,n+i))break}return t>=0&&t<=l-1?t:l-1}invert(e){return this._domain[this._getInvertIndex(e)]}padding(e,t){return void 0!==e?(this._paddingOuter=Math.max(0,Math.min(Array.isArray(e)?Math.min.apply(null,e):e)),this._paddingInner=this._paddingOuter,this.rescale(t)):this._paddingInner}paddingInner(e,t){return void 0!==e?(this._paddingInner=Math.max(0,Math.min(1,e)),this.rescale(t)):this._paddingInner}paddingOuter(e,t){return void 0!==e?(this._paddingOuter=Math.max(0,Math.min(1,e)),this.rescale(t)):this._paddingOuter}step(){return this._step}round(e,t){return void 0!==e?(this._round=e,this.rescale(t)):this._round}align(e,t){return void 0!==e?(this._align=Math.max(0,Math.min(1,e)),this.rescale(t)):this._align}rangeFactor(e,t){return e?(super.rangeFactor(e),this.rescale(t)):super.rangeFactor()}rangeFactorStart(e,t){return Ix(e)?super.rangeFactorStart():(super.rangeFactorStart(e),this.rescale(t,"rangeFactorStart"))}rangeFactorEnd(e,t){return Ix(e)?super.rangeFactorEnd():(super.rangeFactorEnd(e),this.rescale(t,"rangeFactorEnd"))}bandwidth(e,t){return e?("auto"===e?(this._bandwidth=void 0,this._isFixed=!1):(this._bandwidth=e,this._isFixed=!0),this._userBandwidth=e,this.rescale(t)):this._bandwidth}maxBandwidth(e,t){return e?(this._maxBandwidth="auto"===e?void 0:e,this.rescale(t)):this._maxBandwidth}minBandwidth(e,t){return e?(this._minBandwidth="auto"===e?void 0:e,this.rescale(t)):this._minBandwidth}fishEye(e,t,i){return e||i?(this._fishEyeOptions=e,this._fishEyeTransform=null,this.rescale(t)):this._fishEyeOptions}isBandwidthFixed(){return this._isFixed&&!!this._bandwidth}_isBandwidthFixedByUser(){return this._isFixed&&this._userBandwidth&&Gx(this._userBandwidth)}clone(){var e,t,i;return new B_(!0).domain(this._domain,!0).range(this._range,!0).round(this._round,!0).paddingInner(this._paddingInner,!0).paddingOuter(this._paddingOuter,!0).align(this._align,!0).bandwidth(null!==(e=this._userBandwidth)&&void 0!==e?e:"auto",!0).maxBandwidth(null!==(t=this._maxBandwidth)&&void 0!==t?t:"auto",!0).minBandwidth(null!==(i=this._maxBandwidth)&&void 0!==i?i:"auto")}}const{interpolateRgb:M_}=y_;function O_(e,t){const i=typeof t;let o;if(Ix(t)||"boolean"===i)return()=>t;if("number"===i)return Qx(e,t);if("string"===i){if(o=c_.parseColorString(t)){const t=M_(c_.parseColorString(e),o);return e=>t(e).formatRgb()}return Qx(Number(e),Number(t))}return t instanceof p_?M_(e,t):t instanceof c_?M_(e.color,t.color):t instanceof Date?function(e,t){const i=e.valueOf(),o=t.valueOf(),l=new Date;return e=>(l.setTime(i*(1-e)+o*e),l)}(e,t):Qx(Number(e),Number(t))}class W_ extends L_{constructor(e=b_,t=b_){super(),this._unknown=void 0,this.transformer=e,this.untransformer=t,this._forceAlign=!0,this._domain=[0,1],this._range=[0,1],this._clamp=b_,this._piecewise=C_,this._interpolate=O_}calculateVisibleDomain(e){var t;return jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)&&2===e.length?[this.invert(e[0]),this.invert(e[1])]:null!==(t=this._niceDomain)&&void 0!==t?t:this._domain}fishEye(e,t,i){return e||i?(this._fishEyeOptions=e,this._fishEyeTransform=null,this.rescale(t)):this._fishEyeOptions}scale(e){var t;if(e=Number(e),Number.isNaN(e)||this._domainValidator&&!this._domainValidator(e))return this._unknown;this._output||(this._output=this._piecewise((null!==(t=this._niceDomain)&&void 0!==t?t:this._domain).map(this.transformer),this._calculateWholeRange(this._range),this._interpolate));const i=this._output(this.transformer(this._clamp(e)));return this._fishEyeTransform?this._fishEyeTransform(i):i}invert(e){var t;return this._input||(this._input=this._piecewise(this._calculateWholeRange(this._range),(null!==(t=this._niceDomain)&&void 0!==t?t:this._domain).map(this.transformer),Qx)),this._clamp(this.untransformer(this._input(e)))}domain(e,t){var i;if(!e)return(null!==(i=this._niceDomain)&&void 0!==i?i:this._domain).slice();this._domainValidator=null,this._niceType=null,this._niceDomain=null;const o=Array.from(e,Vx);return this._domain=o,this.rescale(t)}range(e,t){if(!e)return this._range.slice();const i=Array.from(e);return this._range=i,this.rescale(t)}rangeRound(e,t){const i=Array.from(e);return this._range=i,this._interpolate=e_,this.rescale(t)}rescale(e){var t;if(e)return this;const i=null!==(t=this._niceDomain)&&void 0!==t?t:this._domain,o=i.length,l=this._range.length;let n=Math.min(o,l);if(o&&o<l&&this._forceAlign){const e=l-o+1,t=i[o-1],r=o>=2?(t-i[o-2])/e:0;for(let l=1;l<=e;l++)i[o-2+l]=t-r*(e-l);n=l}return this._autoClamp&&(this._clamp=Jx(i[0],i[n-1])),this._piecewise=n>2?w_:C_,this._output=this._input=null,this._wholeRange=null,this.generateFishEyeTransform(),this}clamp(e,t,i){return arguments.length?(t?(this._autoClamp=!1,this._clamp=t):(this._autoClamp=!!e,this._clamp=e?void 0:b_),this.rescale(i)):this._clamp!==b_}interpolate(e,t){return arguments.length?(this._interpolate=e,this.rescale(t)):this._interpolate}ticks(e=10){return[]}tickData(e=10){const t=this.ticks(e);return(null!=t?t:[]).map((e,t)=>({index:t,tick:e,value:(this.scale(e)-this._range[0])/(this._range[1]-this._range[0])}))}rangeFactor(e,t){return e?(super.rangeFactor(e),this._output=this._input=null,this):super.rangeFactor()}rangeFactorStart(e,t){return Ix(e)?super.rangeFactorStart():(super.rangeFactorStart(e),this._output=this._input=null,this)}rangeFactorEnd(e,t){return Ix(e)?super.rangeFactorEnd():(super.rangeFactorEnd(e),this._output=this._input=null,this)}forceAlignDomainRange(e){return arguments.length?(this._forceAlign=e,this):this._forceAlign}}const R_=Math.sqrt(50),H_=Math.sqrt(10),P_=Math.sqrt(2),E_=[1,2,5,10],D_=(e,t,i)=>{let o=1,l=e;const n=Math.floor((t-1)/2),r=Math.abs(e);return e>=0&&e<=Number.MIN_VALUE?l=0:e<0&&e>=-Number.MIN_VALUE?l=-(t-1):!i&&r<1?o=G_(r).step:(i||r>1)&&(l=Math.floor(e)-n*o),o>0?(e>0?l=Math.max(l,0):e<0&&(l=Math.min(l,-(t-1)*o)),function(e,t,i){jx(t)||(t=e,e=0),jx(i)||(i=1);let o=-1;const l=0|Math.max(0,Math.ceil((t-e)/i)),n=new Array(l);for(;++o<l;)n[o]=e+o*i;return n}(0,t).map(e=>l+e*o)):e>0?j_(0,-(t-1)/o,o):j_((t-1)/o,0,o)},I_=Kx((e,t,i,o)=>{let l,n,r,a,s=-1;if(i=+i,(e=+e)===(t=+t))return[e];if(Math.abs(e-t)<=Number.MIN_VALUE&&i>0)return[e];if((l=t<e)&&(n=e,e=t,t=n),a=U_(e,t,i).step,!isFinite(a))return[];if(a>0){let i=Math.round(e/a),o=Math.round(t/a);for(i*a<e&&++i,o*a>t&&--o,r=new Array(n=o-i+1);++s<n;)r[s]=(i+s)*a}else if(a<0&&(null==o?void 0:o.noDecimals)){a=1;const i=Math.ceil(e),o=Math.floor(t);if(!(i<=o))return[];for(r=new Array(n=o-i+1);++s<n;)r[s]=i+s}else{a=-a;let i=Math.round(e*a),o=Math.round(t*a);for(i/a<e&&++i,o/a>t&&--o,r=new Array(n=o-i+1);++s<n;)r[s]=(i+s)/a}return l&&r.reverse(),r}),j_=(e,t,i)=>{let o,l,n=-1;if(i>0){let r=Math.floor(e/i),a=Math.ceil(t/i);for((r+1)*i<e&&++r,(a-1)*i>t&&--a,l=new Array(o=a-r+1);++n<o;)l[n]=(r+n)*i}else{i=-i;let r=Math.floor(e*i),a=Math.ceil(t*i);for((r+1)/i<e&&++r,(a-1)/i>t&&--a,l=new Array(o=a-r+1);++n<o;)l[n]=(r+n)/i}return l},N_=Kx((e,t,i,o)=>{let l,n,r;if(i=+i,(e=+e)===(t=+t))return D_(e,i,null==o?void 0:o.noDecimals);if(Math.abs(e-t)<=Number.MIN_VALUE&&i>0)return D_(e,i,null==o?void 0:o.noDecimals);(l=t<e)&&(r=e,e=t,t=r);const a=U_(e,t,i);let s=a.step;if(!isFinite(s))return[];if(s>0){let o=1;const{power:l,gap:r}=a,h=10===r?2*10**l:1*10**l;for(;o<=5&&(n=j_(e,t,s),n.length>i+1)&&i>2;)s+=h,o+=1;i>2&&n.length<i-1&&(n=((e,t,i)=>{let o;const l=e[0],n=e[e.length-1],r=t-e.length;if(n<=0){const t=[];for(o=r;o>=1;o--)t.push(l-o*i);return t.concat(e)}if(l>=0){for(o=1;o<=r;o++)e.push(n+o*i);return e}let a=[];const s=[];for(o=1;o<=r;o++)o%2==0?a=[l-Math.floor(o/2)*i].concat(a):s.push(n+Math.ceil(o/2)*i);return a.concat(e).concat(s)})(n,i,s))}else(null==o?void 0:o.noDecimals)&&s<0&&(s=1),n=j_(e,t,s);return l&&n.reverse(),n}),G_=e=>{const t=Math.floor(Math.log(e)/Math.LN10),i=e/10**t;let o=E_[0];return i>=R_?o=E_[3]:i>=H_?o=E_[2]:i>=P_&&(o=E_[1]),t>=0?{step:o*10**t,gap:o,power:t}:{step:-(10**-t)/o,gap:o,power:t}};function U_(e,t,i){const o=(t-e)/Math.max(0,i);return G_(o)}function V_(e,t,i){let o;if(i=+i,(e=+e)===(t=+t)&&i>0)return[e];if(i<=0||0===(o=function(e,t,i){return(t-e)/Math.max(1,i-1)}(e,t,i))||!isFinite(o))return[];const l=new Array(i);for(let n=0;n<i;n++)l[n]=e+n*o;return l}function Y_(e,t=10){let i,o,l=0,n=e.length-1,r=e[l],a=e[n],s=10;for(a<r&&(o=r,r=a,a=o,o=l,l=n,n=o);s-- >0;){if(o=U_(r,a,t).step,o===i)return e[l]=r,e[n]=a,e;if(o>0)r=Math.floor(r/o)*o,a=Math.ceil(a/o)*o;else{if(!(o<0))break;r=Math.ceil(r*o)/o,a=Math.floor(a*o)/o}i=o}}class Z_ extends W_{constructor(){super(...arguments),this.type=u_.Linear}clone(){var e;const t=new Z_;return t.domain(this._domain,!0).range(this._range,!0).unknown(this._unknown).clamp(this.clamp(),null,!0).interpolate(this._interpolate),this._niceType&&(t._niceType=this._niceType,t._domainValidator=this._domainValidator,t._niceDomain=null===(e=this._niceDomain)||void 0===e?void 0:e.slice()),t}tickFormat(){return()=>{}}d3Ticks(e=10,t){const i=this.calculateVisibleDomain(this._range);return I_(i[0],i[i.length-1],e,t)}ticks(e=10,t){var i;if("function"==typeof(null==t?void 0:t.customTicks))return t.customTicks(this,e);if(jx(this._rangeFactorStart)&&jx(this._rangeFactorEnd)&&(this._rangeFactorStart>0||this._rangeFactorEnd<1)&&2===this._range.length||!this._niceType)return this.d3Ticks(e,t);const o=null!==(i=this._niceDomain)&&void 0!==i?i:this._domain,l=this._domain,n=o[0],r=o[o.length-1];let a=N_(l[0],l[l.length-1],e,t);if(!a.length)return a;if(this._domainValidator)a=a.filter(this._domainValidator);else if((a[0]!==n||a[a.length-1]!==r)&&this._niceType){const e=o.slice();if("all"===this._niceType?(e[0]=a[0],e[e.length-1]=a[a.length-1],this._niceDomain=e,this.rescale()):"min"===this._niceType&&a[0]!==n?(e[0]=a[0],this._niceDomain=e,this.rescale()):"max"===this._niceType&&a[a.length-1]!==r&&(e[e.length-1]=a[a.length-1],this._niceDomain=e,this.rescale()),"all"!==this._niceType){const t=Math.min(e[0],e[e.length-1]),i=Math.max(e[0],e[e.length-1]);a=a.filter(e=>e>=t&&e<=i)}}return a}forceTicks(e=10){const t=this.calculateVisibleDomain(this._range);return V_(t[0],t[t.length-1],e)}stepTicks(e){const t=this.calculateVisibleDomain(this._range);return function(e,t,i){let o,l,n=-1;if(i=+i,(l=(t=+t)<(e=+e))&&(o=e,e=t,t=o),!isFinite(i)||t-e<=i)return[e];const r=Math.floor((t-e)/i+1),a=new Array(r);for(;++n<r;)a[n]=e+n*i;return l&&a.reverse(),a}(t[0],t[t.length-1],e)}nice(e=10,t){var i,o;const l=this._domain;let n=[];if(t){const e=function(e,t){const i=Gx(t.forceMin),o=Gx(t.forceMax);let l=null;const n=[];let r=null;const a=i&&o?e=>e>=t.forceMin&&e<=t.forceMax:i?e=>e>=t.forceMin:o?e=>e<=t.forceMax:null;return i?n[0]=t.forceMin:Gx(t.min)&&t.min<=Math.min(e[0],e[e.length-1])&&(n[0]=t.min),o?n[1]=t.forceMax:Gx(t.max)&&t.max>=Math.max(e[0],e[e.length-1])&&(n[1]=t.max),Gx(n[0])&&Gx(n[1])?(r=e.slice(),r[0]=n[0],r[r.length-1]=n[1]):l=Gx(n[0])||Gx(n[1])?Gx(n[0])?"max":"min":"all",{niceType:l,niceDomain:r,niceMinMax:n,domainValidator:a}}(l,t);if(n=e.niceMinMax,this._domainValidator=e.domainValidator,this._niceType=e.niceType,e.niceDomain)return this._niceDomain=e.niceDomain,this.rescale(),this}else this._niceType="all";if(this._niceType){const t=Y_(l.slice(),e);"min"===this._niceType?t[t.length-1]=null!==(i=n[1])&&void 0!==i?i:t[t.length-1]:"max"===this._niceType&&(t[0]=null!==(o=n[0])&&void 0!==o?o:t[0]),this._niceDomain=t,this.rescale()}return this}niceMin(e=10){this._niceType="min";const t=this._domain[this._domain.length-1],i=Y_(this.domain(),e);return i&&(i[i.length-1]=t,this._niceDomain=i,this.rescale()),this}niceMax(e=10){this._niceType="max";const t=this._domain[0],i=Y_(this._domain.slice(),e);return i&&(i[0]=t,this._niceDomain=i,this.rescale()),this}}class X_{constructor(){this.type=u_.Threshold,this._range=[0,1],this._domain=[.5],this.n=1}unknown(e){return arguments.length?(this._unknown=e,this):this._unknown}scale(e){return!Ix(e)&&(Gx(t=+e)&&Number.isFinite(t))?this._range[Yx(this._domain,e,0,this.n)]:this._unknown;var t}invertExtent(e){const t=this._range.indexOf(e);return[this._domain[t-1],this._domain[t]]}domain(e){return e?(this._domain=Array.from(e),this.n=Math.min(this._domain.length,this._range.length-1),this):this._domain.slice()}range(e){return e?(this._range=Array.from(e),this.n=Math.min(this._domain.length,this._range.length-1),this):this._range.slice()}clone(){return(new X_).domain(this._domain).range(this._range).unknown(this._unknown)}}var $_,K_;function q_(e){var t,i;const{type:o}=e;return o===$_.sankey?null!==(t=e.direction)&&void 0!==t?t:"horizontal":null!==(i=e.direction)&&void 0!==i?i:"vertical"}!function(e){e.area="area",e.line="line",e.bar="bar",e.rangeColumn="rangeColumn",e.rangeArea="rangeArea",e.dot="dot",e.geo="geo",e.link="link",e.map="map",e.pie="pie",e.radar="radar",e.rose="rose",e.scatter="scatter",e.circularProgress="circularProgress",e.wordCloud="wordCloud",e.funnel="funnel",e.linearProgress="linearProgress",e.boxPlot="boxPlot",e.sankey="sankey",e.gaugePointer="gaugePointer",e.gauge="gauge",e.treemap="treemap",e.sunburst="sunburst",e.circlePacking="circlePacking",e.waterfall="waterfall",e.heatmap="heatmap",e.correlation="correlation",e.liquid="liquid",e.venn="venn",e.mosaic="mosaic",e.pictogram="pictogram"}($_||($_={})),function(e){e.label="label",e.point="point",e.line="line",e.area="area",e.bar="bar",e.boxPlot="boxPlot",e.outlier="outlier",e.circlePacking="circlePacking",e.group="group",e.gridBackground="gridBackground",e.grid="grid",e.dot="dot",e.title="title",e.subTitle="subTitle",e.symbol="symbol",e.funnel="funnel",e.transform="transform",e.transformLabel="transformLabel",e.outerLabel="outerLabel",e.outerLabelLine="outerLabelLine",e.pin="pin",e.pinBackground="pinBackground",e.pointer="pointer",e.segment="segment",e.track="track",e.cell="cell",e.cellBackground="cellBackground",e.link="link",e.arrow="arrow",e.pie="pie",e.labelLine="labelLine",e.progress="progress",e.minLabel="minLabel",e.maxLabel="maxLabel",e.rose="rose",e.node="node",e.sunburst="sunburst",e.nonLeaf="nonLeaf",e.leaf="leaf",e.nonLeafLabel="nonLeafLabel",e.leaderLine="leaderLine",e.stackLabel="stackLabel",e.word="word",e.fillingWord="fillingWord",e.wordMask="wordMask",e.nodePoint="nodePoint",e.ripplePoint="ripplePoint",e.centerPoint="centerPoint",e.centerLabel="centerLabel",e.barBackground="barBackground",e.lineLabel="lineLabel",e.areaLabel="areaLabel",e.liquidGroup="liquidGroup",e.liquid="liquid",e.liquidBackground="liquidBackground",e.liquidOutline="liquidOutline",e.circle="circle",e.overlap="overlap",e.overlapLabel="overlapLabel"}(K_||(K_={}));const J_={primaryFontColor:"titleFontColor",tertiaryFontColor:"labelFontColor",axisLabelFontColor:"axisFontColor",axisMarkerFontColor:"labelReverseFontColor",dataZoomHandleStrokeColor:"dataZoomHandlerStrokeColor",sliderHandleColor:"dataZoomHandlerFillColor",sliderRailColor:"dataZoomBackgroundColor",sliderTrackColor:"dataZoomSelectedColor",playerControllerColor:"dataZoomSelectedColor",popupBackgroundColor:"tooltipBackgroundColor",hoverBackgroundColor:"axisGridColor"},Q_={titleFontColor:"primaryFontColor",labelFontColor:"tertiaryFontColor",axisFontColor:"axisLabelFontColor",labelReverseFontColor:"axisMarkerFontColor",dataZoomHandlerStrokeColor:"dataZoomHandleStrokeColor",dataZoomHandlerFillColor:"sliderHandleColor",dataZoomBackgroundColor:"sliderRailColor",dataZoomSelectedColor:"sliderTrackColor",tooltipBackgroundColor:"popupBackgroundColor"};function ew(e,t){var i;if(!e)return[];const o=rw(e,t);if(!o||bu(o))return null!==(i=o)&&void 0!==i?i:[];if(gu(o)){const{dataScheme:i}=o;return i?nw(i)?i.map(i=>Object.assign(Object.assign({},i),{scheme:i.scheme.map(i=>lw(i)?iw(e,i,t):i).filter(uu)})):i.map(i=>lw(i)?iw(e,i,t):i).filter(uu):[]}return[]}function tw(e,t){var i,o;return nw(e)?null!==(o=null===(i=e.find(e=>uu(e.isAvailable)?pu(e.isAvailable)?e.isAvailable(t):!!e.isAvailable:!uu(e.maxDomainLength)||(null==t?void 0:t.length)<=e.maxDomainLength))||void 0===i?void 0:i.scheme)&&void 0!==o?o:e[e.length-1].scheme:e}function iw(e,t,i){var o;const l=rw(e,i);if(!l)return;let n;const{palette:r}=l;if(gu(r)&&(n=null!==(o=function(e,t){const i=J_[t];if(i&&e[i])return e[i];if(e[t])return e[t];const o=Q_[t];return o?e[o]:void 0}(r,t.key))&&void 0!==o?o:t.default),!n)return;if(yu(t.a)&&yu(t.l)||!mu(n))return n;let a=new kg(n);if(uu(t.l)){const{r:e,g:i,b:o}=a.color,{h:l,s:n}=sg(e,i,o),r=ag(l,n,t.l),s=new kg(`rgb(${r.r}, ${r.g}, ${r.b})`);s.setOpacity(a.color.opacity),a=s}return uu(t.a)&&a.setOpacity(t.a),a.toRGBA()}const ow=(e,t)=>{if(t&&lw(e)){const i=iw(t,e);if(i)return i}return e};function lw(e){return e&&"palette"===e.type&&!!e.key}function nw(e){return!(!bu(e)||0===e.length)&&e.every(e=>uu(e.scheme))}function rw(e,t){var i,o;const{type:l}=null!=t?t:{};let n;if(!t||yu(l))n=null==e?void 0:e.default;else{const r=q_(t);n=null!==(o=null!==(i=null==e?void 0:e[`${l}_${r}`])&&void 0!==i?i:null==e?void 0:e[l])&&void 0!==o?o:null==e?void 0:e.default}return n}class aw extends T_{range(e){return e?(this._range=e,this._resetRange(),this):super.range()}domain(e){return e?(super.domain(e),this._resetRange(),this):super.domain()}_resetRange(){if(!nw(this._range))return void super.range(this._range);const e=tw(this._range,this._domain);super.range(e)}}const sw={linear:Z_,band:B_,point:class extends B_{constructor(e){super(!1),this.type=u_.Point,this._padding=0,this.paddingInner(1,e),this.padding=this.paddingOuter,this.paddingInner=void 0,this.paddingOuter=void 0}},ordinal:T_,threshold:X_,colorOrdinal:aw};function hw(e){const t=sw[e];return t?new t:null}function dw(e,t,i){if(!t)return e;const o=t.range(),l=i&&t._calculateWholeRange?t._calculateWholeRange(o):t.range(),n=Math.min(l[0],l[l.length-1]),r=Math.max(l[0],l[l.length-1]);return Math.min(Math.max(n,e),r)}function cw(e){return uu(null==e?void 0:e.field)&&uu(null==e?void 0:e.scale)}function pw(e){switch(e){case"left":case"right":case"top":case"bottom":return!0;default:return!1}}function yw(e){return!!mu(e)&&!!e.endsWith("%")&&Wg(e.substring(0,e.length-1))}function uw(e,t,i,o=0){var l,n;return Cu(e)?e:yw(e)?Number(e.substring(0,e.length-1))*t/100:pu(e)?e(i):gu(e)?t*(null!==(l=e.percent)&&void 0!==l?l:0)+(null!==(n=e.offset)&&void 0!==n?n:0):o}function gw(e,t,i){var o,l,n,r;const a={top:0,bottom:0,left:0,right:0};return Object.values(e).every(e=>Cu(e))?(a.top=null!==(o=e.top)&&void 0!==o?o:0,a.right=null!==(l=e.right)&&void 0!==l?l:0,a.bottom=null!==(n=e.bottom)&&void 0!==n?n:0,a.left=null!==(r=e.left)&&void 0!==r?r:0,a):([{orients:["left","right"],size:t.width},{orients:["top","bottom"],size:t.height}].forEach(t=>{t.orients.forEach(o=>{a[o]=uw(e[o],t.size,i)})}),a)}function fw(e){let t={};return bu(e)?(yu(e[0])||(t.top=t.left=t.bottom=t.right=e[0]),yu(e[1])||(t.left=t.right=e[1]),yu(e[2])||(t.bottom=e[2]),yu(e[3])||(t.left=e[3]),t):Cu(e)||yw(e)||pu(e)||gu(i=e)&&("percent"in i||"offset"in i)?(t.top=t.left=t.bottom=t.right=e,t):gu(e)?(t=Object.assign({},e),t):t;var i}function kw(e,t,i){return i?{x:e.x+t.x,y:e.y+t.y}:e}const mw=(e,t)=>{const i=Number(e),o=e.toString();return isNaN(i)&&"%"===o[o.length-1]?t*(Number(o.slice(0,o.length-1))/100):i},bw=[{maxDomainLength:10,scheme:["#1664FF","#1AC6FF","#FF8A00","#3CC780","#7442D4","#FFC400","#304D77","#B48DEB","#009488","#FF7DDA"]},{scheme:["#1664FF","#B2CFFF","#1AC6FF","#94EFFF","#FF8A00","#FFCE7A","#3CC780","#B9EDCD","#7442D4","#DDC5FA","#FFC400","#FAE878","#304D77","#8B959E","#B48DEB","#EFE3FF","#009488","#59BAA8","#FF7DDA","#FFCFEE"]}];const vw={fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},Cw={name:"light",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},colorScheme:{default:{dataScheme:bw,palette:{backgroundColor:"#ffffff",borderColor:"#e3e5e8",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"#f1f2f5",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"#ffffff",primaryFontColor:"#21252c",secondaryFontColor:"#606773",tertiaryFontColor:"#89909d",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"#ffffff",axisGridColor:"#f1f2f5",axisDomainColor:"#d9dde4",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"#606773",dangerColor:"#e33232",warningColor:"#ffc528",successColor:"#07a35a",infoColor:"#3073f2",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8",linearProgressTrackColor:"#E7EBED"}}},token:vw,component:{poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}}},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontWeight:null,fontSize:null}},fillingWord:{style:{fontWeight:null,fontSize:null}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},animationThreshold:2e3},Sw={name:"dark",colorScheme:{default:{dataScheme:bw,palette:{backgroundColor:"#202226",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"#888c93",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"#404349",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3",linearProgressTrackColor:"#404349"}}},component:{dataZoom:{selectedBackground:{style:{fillOpacity:.4,outerBorder:{strokeOpacity:.4}}}}}},xw=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,_w=e=>null==e,ww=e=>null!=e,Lw=e=>Array.isArray?Array.isArray(e):xw(e,"Array"),Fw=(e,t,i)=>{const o=((e,t=!1)=>{const i=typeof e;return t?"string"===i:"string"===i||xw(e,"String")})(t)?t.split("."):t;for(let l=0;l<o.length;l++)e=e?e[o[l]]:void 0;return void 0===e?i:e};function Tw(e,t,i=!1,o=!1){if(t){if(e===t)return;if(ww(t)&&"object"==typeof t){const l=Object(t),n=[];for(const e in l)n.push(e);let{length:r}=n,a=-1;for(;r--;){const r=n[++a];!ww(l[r])||"object"!=typeof l[r]||o&&Lw(e[r])?zw(e,r,l[r]):Aw(e,t,r,i,o)}}}}function Aw(e,t,i,o=!1,l=!1){const n=e[i],r=t[i];let a=t[i],s=!0;if(Lw(r)){if(o)a=[];else if(Lw(n))a=n;else if(null!==(h=n)&&"function"!=typeof h&&Number.isFinite(h.length)){a=new Array(n.length);let e=-1;const t=n.length;for(;++e<t;)a[e]=n[e]}}else!function(e){if(!(e=>"object"==typeof e&&null!==e)(e)||!xw(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r)?s=!1:(a=null!=n?n:{},"function"!=typeof n&&"object"==typeof n||(a={}));var h;s&&Tw(a,r,o,l),zw(e,i,a)}function zw(e,t,i){(void 0!==i&&!function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e[t],i)||void 0===i&&!(t in e))&&(e[t]=i)}const Bw=(e,t,i)=>{if(_w(t))return e;const o=t[0];return _w(o)?e:1===t.length?(e[o]=i,e):(_w(e[o])&&("number"==typeof t[1]?e[o]=[]:e[o]={}),Bw(e[o],t.slice(1),i))};function Mw(e,...t){let i=-1;const o=t.length;for(;++i<o;){Tw(e,t[i],!0,!0)}return e}class Ow{static registerChart(e,t){Ow._charts[e]=t}static registerSeries(e,t){Ow._series[e]=t}static registerComponent(e,t,i,o){Ow._components[e]={cmp:t,alwaysCheck:i,createOrder:null!=o?o:0}}static registerGraphicComponent(e,t){Ow._graphicComponents[e]=t}static createGraphicComponent(e,t,i){const o=Ow._graphicComponents[e];return o?o(t,i):null}static registerMark(e,t){Ow._marks[e]=t}static registerRegion(e,t){Ow._regions[e]=t}static registerTransform(e,t){Ow.transforms[e]=t}static registerGrammarTransform(e,t){Ow._grammarTransforms[e]=t}static getGrammarTransform(e){return Ow._grammarTransforms[e]}static registerLayout(e,t){Ow._layout[e]=t}static registerAnimation(e,t){Ow._animations[e]=t}static registerImplement(e,t){Ow._implements[e]=t}static registerChartPlugin(e,t){Ow._chartPlugin[e]=t}static registerVChartPlugin(e,t){Ow._vChartPlugin[e]=t}static registerComponentPlugin(e,t){Ow._componentPlugin[e]=t}static createChart(e,t,i){return Ow._charts[e]?new Ow._charts[e](t,i):null}static getChart(e){return Ow._charts[e]}static createChartSpecTransformer(e,t){if(!Ow._charts[e])return null;const i=Ow._charts[e];return new i.transformerConstructor(Object.assign({seriesType:i.seriesType},t))}static createRegion(e,t,i){return Ow._regions[e]?new Ow._regions[e](t,i):null}static createRegionSpecTransformer(e,t){return Ow._regions[e]?new Ow._regions[e].transformerConstructor(t):null}static createSeries(e,t,i){return Ow._series[e]?new Ow._series[e](t,i):null}static createSeriesSpecTransformer(e,t){return Ow._series[e]?new Ow._series[e].transformerConstructor(t):null}static createMark(e,t,i){if(!Ow._marks[e])return null;const o=new Ow._marks[e](t,i);return"group"===o.type&&o.setMarkConfig({interactive:!1}),o}static getComponents(){return Object.values(Ow._components)}static getComponentInKey(e){return Ow._components[e].cmp}static getLayout(){return Object.values(Ow._layout)}static getLayoutInKey(e){return Ow._layout[e]}static getSeries(){return Object.values(Ow._series)}static getSeriesInType(e){return Ow._series[e]}static getRegionInType(e){return Ow._regions[e]}static getAnimationInKey(e){return Ow._animations[e]}static getImplementInKey(e){return Ow._implements[e]}static getSeriesMarkMap(e){return Ow._series[e]?Ow._series[e].mark:{}}static getSeriesBuiltInTheme(e){for(const t in Ow._series){const i=Ow._series[t];if(i&&i.builtInTheme&&i.builtInTheme[e])return i.builtInTheme[e]}return null}static getComponentBuiltInTheme(e){for(const t in Ow._components){const i=Ow._components[t];if(i&&i.cmp&&i.cmp.builtInTheme&&i.cmp.builtInTheme[e])return i.cmp.builtInTheme[e]}return null}static getChartPlugins(){return Object.values(Ow._chartPlugin)}static getVChartPlugins(){return Object.values(Ow._vChartPlugin)}static getComponentPlugins(){return Object.values(Ow._componentPlugin)}static getComponentPluginInType(e){return Ow._componentPlugin[e]}static registerFormatter(e){this._formatter=e}static getFormatter(){return this._formatter}static createInteractionTrigger(e,t){const i=Ow._interactionTriggers[e];return i?new i(t):null}static hasInteractionTrigger(e){return!!Ow._interactionTriggers[e]}static getComposedEvent(e){return Ow._composedEventMap[e]}}function Ww(e,...t){return Mw(Rw(e),...t.map(Rw))}function Rw(e){var t;if(!e)return e;const i=function(e){return e&&(e=Object.keys(e).reduce((t,i)=>{const o=e[i];return t[i]=function(e){return bu(e)?{dataScheme:e}:e}(o),t},{})),e}(e.colorScheme);return Object.assign({},e,{colorScheme:i,token:null!==(t=e.token)&&void 0!==t?t:{},series:Object.assign({},e.series)})}Ow._charts={},Ow._series={},Ow._components={},Ow._graphicComponents={},Ow._marks={},Ow._regions={},Ow._animations={},Ow._implements={},Ow._chartPlugin={},Ow._vChartPlugin={},Ow._componentPlugin={},Ow.transforms={fields:M,filter:(e,t)=>{const{callback:i}=t;return i&&(e=e.filter(i)),e},fold:(e,t)=>{const{fields:i,key:o,value:l,retains:n}=t,r=[];for(let a=0;a<e.length;a++)i.forEach(t=>{const s={};if(s[o]=t,s[l]=e[a][t],n)n.forEach(t=>{s[t]=e[a][t]});else for(const o in e[a])-1===i.indexOf(o)&&(s[o]=e[a][o]);r.push(s)});return r}},Ow.dataParser={csv:(e,t={},o)=>(o.type=B.DSV,i(e)),dsv:(e,t={},i)=>{i.type=B.DSV;const l=T(O,t),{delimiter:n}=l;if(!y(n))throw new TypeError("Invalid delimiter: must be a string!");return o(n).parse(e)},tsv:(e,i={},o)=>(o.type=B.DSV,t(e))},Ow._layout={},Ow._grammarTransforms={},Ow._stageEventPlugins={},Ow.registerStageEventPlugin=(e,t)=>{Ow._stageEventPlugins[e]=t},Ow.getStageEventPlugin=e=>Ow._stageEventPlugins[e],Ow._interactionTriggers={},Ow.registerInteractionTrigger=(e,t)=>{Ow._interactionTriggers[e]=t},Ow._composedEventMap={},Ow.registerComposedEvent=(e,t)=>{Ow._composedEventMap[e]=t},Ow._tooltipProcessors={},Ow.registerTooltipProcessor=(e,t)=>{Ow._tooltipProcessors[e]=t},Ow.createTooltipProcessor=(e,t)=>{const i=Ow._tooltipProcessors[e];return i?new i(t):null};const Hw=(()=>{const e={label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}};return e})(),Pw={[Cw.name]:Cw},Ew=Cw.name,Dw=new Map(Object.keys(Pw).map(e=>[e,Pw[e]])),Iw=new Map,jw=new Map(Object.keys(Pw).map(e=>[e,e===Ew])),Nw=(e,t)=>{if(!e)return;const i=Uw(t);Dw.set(e,i),jw.set(e,!0)},Gw=(e=Ew)=>(jw.has(e)&&!jw.get(e)&&Nw(e,Dw.get(e)),Dw.get(e)),Uw=e=>{var t;const i=null!==(t=e.type)&&void 0!==t?t:Ew;return Ww({},Gw(i),e)};class Vw{static registerInstance(e){Vw.instances.set(e.id,e)}static unregisterInstance(e){Vw.instances.delete(e.id)}static getInstance(e){return Vw.instances.get(e)}static instanceExist(e){return Vw.instances.has(e)}static forEach(e,t=[],i){const o=Eu(t);return Vw.instances.forEach((t,i,l)=>{o.includes(i)||e(t,i,l)},i)}}Vw.instances=new Map;class Yw{static registerTheme(e,t){Nw(e,t)}static getTheme(e,t=!1){return Gw(e)}static removeTheme(e){return(e=>Dw.delete(e)&&Iw.delete(e)&&jw.delete(e))(e)}static themeExist(e){return(e=>!!mu(e)&&Dw.has(e))(e)}static getDefaultTheme(){return Yw.themes.get(Ew)}static setCurrentTheme(e){Yw.themeExist(e)&&(Yw._currentThemeName=e,Vw.forEach(t=>null==t?void 0:t.setCurrentTheme(e)))}static getCurrentTheme(e=!1){return Yw.getTheme(Yw._currentThemeName,e)}static getCurrentThemeName(){return Yw._currentThemeName}}function Zw(e){return mu(e)?Yw.themeExist(e)?Yw.getTheme(e):{}:gu(e)?e:{}}Yw.themes=Dw,Yw._currentThemeName=Ew;const Xw=["animationThreshold","colorScheme","name","padding"];function $w(e,t,i){if(!e)return e;t||(t=e.colorScheme),i||(i=e.token);const o={};return Object.keys(e).forEach(l=>{const n=e[l];Xw.includes(l)?o[l]=n:fu(n)?lw(n)?o[l]=ow(n,t):function(e){return e&&"token"===e.type&&!!e.key}(n)?o[l]=function(e,t){return e&&t.key in e?e[t.key]:t.default}(i,n):o[l]=$w(n,t,i):o[l]=n}),o}function Kw(e,t={data:e=>e}){if(!e)return e;if(e.constructor===Object){const i={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t[o]){i[o]=t[o](e[o]);continue}i[o]=Kw(e[o],t)}return i}return bu(e)?e.map(e=>Kw(e,t)):e}function qw(e,t){if(!e)return e;if(fu(e)){const i={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(mu(e[o])&&t.getFunction(e[o])){i[o]=t.getFunction(e[o]);continue}i[o]=qw(e[o],t)}return i}return bu(e)?e.map(e=>qw(e,t)):e}const Jw="__VCHART",Qw=500,eL=500,tL=`${Jw}_DEFAULT_DATA_INDEX`,iL=`${Jw}_DEFAULT_DATA_KEY`,oL=`${Jw}_DEFAULT_DATA_SERIES_FIELD`,lL=`${Jw}_DEFAULT_SERIES_STYLE_NAME`,nL=`${Jw}_STACK_KEY`,rL=`${Jw}_STACK_START`,aL=`${Jw}_STACK_END`,sL=`${Jw}_STACK_START_PERCENT`,hL=`${Jw}_STACK_END_PERCENT`,dL=`${Jw}_STACK_START_OffsetSilhouette`,cL=`${Jw}_STACK_END_OffsetSilhouette`,pL=`${Jw}_STACK_TOTAL`,yL=`${Jw}_STACK_TOTAL_PERCENT`,uL=`${Jw}_STACK_TOTAL_TOP`,gL=`${Jw}_STACK_TOTAL_BOTTOM`,fL=`${Jw}_KEY`;function kL(e,t){for(let i=0;i<t.length;i++){const o=t[i],l=mL(e,o.key);l?l.operations=[...new Set(l.operations.concat(o.operations))]:e.push(o)}return e}function mL(e,t){return e.find(e=>e.key===t)}function bL(e,t){var i;if(!e)return null!=t?t:null;const o=e.getFields();return o&&o[t]?null!==(i=o[t].alias)&&void 0!==i?i:t:null!=t?t:null}function vL(e,t,i){const o=e.getStackSort(),l={};let n=null;return o&&(n={},e.getSeries().forEach(e=>{const t=e.getSeriesField();if(t){const i=e.getRawDataStatisticsByField(t);i.values&&(n[t]||(n[t]={lastIndex:0,sort:{}}),i.values.forEach((e,i)=>{e in n[t].sort||(n[t].sort[e]=n[t].lastIndex,n[t].lastIndex++)}))}})),e.getSeries().forEach(e=>{var o;const r=e.getStackData(),a=e.getStackValue(),s=e.getStackValueField(),h=!i||i(e);r&&s&&h&&(l[a]=null!==(o=l[a])&&void 0!==o?o:{groupField:r.groupField,nodes:{}},wL(e,r,l[a],s,t,n))}),o?CL(l):l}function CL(e,t){var i;for(const o in e)(null===(i=e[o].sortDatums)||void 0===i?void 0:i.length)?(e[o].sortDatums.sort((e,t)=>e.index-t.index),e[o].values=e[o].sortDatums.map(e=>e.datum)):CL(e[o].nodes);return e}function SL(e,t){if("values"in e&&e.values.length){const i=Rx(e.values,t),o=function(e,t){const i=[];return e.forEach(e=>{const o=+e[t];Su(o)&&i.push(o)}),0===i.length?null:Iu(i)}(e.values,hL);e.values.forEach(e=>{e[pL]=i,e[yL]=o})}else for(const i in e.nodes)SL(e.nodes[i],t)}function xL(e){if(!e.values.length)return;const t=e.values[e.values.length-1][aL]/2;for(let i=0;i<e.values.length;i++)e.values[i][dL]=e.values[i][rL]-t,e.values[i][cL]=e.values[i][aL]-t}function _L(e,t,i,o,l={key:nL,start:rL,end:aL,startPercent:sL,endPercent:hL,max:uL,min:gL}){const n=o&&uu(l.min),r=o&&uu(l.max);if(e.values.length>0){let o=0,a=0,s=1,h=0,d=null,c=null;const p=e.values.length;for(let i=0;i<p;i++){const s=e.values[t?p-1-i:i];h=s[l.end],h>=0?(s[l.start]=o,o+=s[l.end],s[l.end]=o):(s[l.start]=a,a+=s[l.end],s[l.end]=a),s[l.key]=e.key,r&&(delete s[l.max],(!c||s[l.end]>c[l.end])&&(c=s)),n&&(delete s[l.min],(!d||s[l.start]<d[l.start])&&(d=s))}if(r&&c&&(c[l.max]=!0),n&&d&&(d[l.min]=!0),i)for(let i=0;i<p;i++){const n=e.values[t?p-1-i:i];h=n[l.end];const r=h>=0?o:a;s=h>=0?1:-1,n[l.startPercent]=0===r?0:Math.min(1,n[l.start]/r)*s,n[l.endPercent]=0===r?0:Math.min(1,n[l.end]/r)*s}}for(const a in e.nodes)_L(e.nodes[a],t,i,o,l)}function wL(e,t,i,o,l,n,r){var a;if("values"in t)if(l&&t.values.forEach(e=>e[aL]=function(e){if(Su(e))return e;const t=+e;return Su(t)?t:0}(e[o])),i.series.push({s:e,values:t.values}),n){const o=e.getSeriesField();t.values.forEach(t=>{i.sortDatums.push({series:e,datum:t,index:o?n[o].sort[t[o]]:0})})}else i.values.push(...t.values);else for(const s in t.nodes){const h=r?`${r}_${s}`:s;i.nodes[s]||(i.nodes[s]={values:[],series:[],nodes:{},sortDatums:[],key:h},uu(null===(a=t.nodes[s])||void 0===a?void 0:a.groupField)&&(i.nodes[s].groupField=t.nodes[s].groupField)),wL(e,t.nodes[s],i.nodes[s],o,l,n,h)}}function LL(e={}){const t=Object.assign({},e);if(pu(e.style)?t.style=(t,i,o,l)=>TL(e.style(t,i,o,l)):wu(e.style)||(t.style=TL(e.style)),!wu(e.state)){const i={};Object.keys(e.state).forEach(t=>{pu(e.state[t])?i[t]=(i,o,l,n)=>TL(e.state[t](i,o,l,n)):wu(e.state[t])||(i[t]=TL(e.state[t]))}),t.state=i}return t}function FL(e){if(wu(e))return null;const t={};return Object.keys(e).forEach(i=>{pu(e[i])?t[i]=(t,o,l,n)=>TL(e[i](t,o,l,n)):wu(e[i])||(t[i]=TL(e[i]))}),t}function TL(e){return(null==e?void 0:e.angle)?Object.assign(Object.assign({},e),{angle:ig(e.angle)}):e}const AL=e=>{if(!e||!e.context)return null;const{data:t,markType:i}=e.context;return"line"===(o=i)||"area"===o?t:null==t?void 0:t[0];var o},zL=(e,t)=>{const i=e.getAttributes(!0),o={};return Object.keys(t).forEach(e=>{i[e]!==t[e]&&(o[e]=t[e])}),o};let BL=class{getComposedEventMap(){return this._composedEventMap}constructor(e,t){this._composedEventMap=new Map,this._eventDispatcher=e,this._mode=t}on(e,t,i){const o="function"==typeof t?{query:null,callback:t}:{query:t,callback:i},l=Ow.getComposedEvent(e);if(l){const t=new l(this._eventDispatcher,this._mode);t.register(e,o),this._composedEventMap.set(i,{eventType:e,event:t})}else this._eventDispatcher.register(e,o);return this}off(e,t,i){var o,l;const n=null!=i?i:t;if(Ow.getComposedEvent(e))if(n)null===(o=this._composedEventMap.get(n))||void 0===o||o.event.unregister(),this._composedEventMap.delete(n);else for(const r of this._composedEventMap.entries())r[1].eventType===e&&(null===(l=this._composedEventMap.get(r[0]))||void 0===l||l.event.unregister(),this._composedEventMap.delete(r[0]));else if(n){const i={callback:n,query:null,filter:{nodeName:null,type:e,level:null,source:t.source,markName:null,filter:null,userId:null}};this._eventDispatcher.unregister(e,i)}else this._eventDispatcher.unregister(e);return this}emit(e,t,i){return this._eventDispatcher.dispatch(e,t,i),this}prevent(e,t){return this._eventDispatcher.prevent(e,t),this}allow(e){return this._eventDispatcher.allow(e),this}release(){this._eventDispatcher.clear(),this._composedEventMap.clear()}};var ML;!function(e){e.BEFORE_EVALUATE_DATA="beforeEvaluateData",e.AFTER_EVALUATE_DATA="afterEvaluateData",e.BEFORE_EVALUATE_SCALE="beforeEvaluateScale",e.AFTER_EVALUATE_SCALE="afterEvaluateScale",e.BEFORE_PARSE_VIEW="beforeParseView",e.AFTER_PARSE_VIEW="afterParseView",e.BEFORE_TRANSFORM="beforeTransform",e.AFTER_TRANSFORM="afterTransform",e.BEFORE_CREATE_VRENDER_STAGE="beforeCreateVRenderStage",e.AFTER_CREATE_VRENDER_STAGE="afterCreateVRenderStage",e.BEFORE_CREATE_VRENDER_LAYER="beforeCreateVRenderLayer",e.AFTER_CREATE_VRENDER_LAYER="afterCreateVRenderLayer",e.BEFORE_STAGE_RESIZE="beforeStageResize",e.AFTER_STAGE_RESIZE="afterStageResize",e.BEFORE_VRENDER_DRAW="beforeVRenderDraw",e.AFTER_VRENDER_DRAW="afterVRenderDraw",e.BEFORE_MARK_JOIN="beforeMarkJoin",e.AFTER_MARK_JOIN="afterMarkJoin",e.BEFORE_MARK_UPDATE="beforeMarkUpdate",e.AFTER_MARK_UPDATE="afterMarkUpdate",e.BEFORE_MARK_STATE="beforeMarkState",e.AFTER_MARK_STATE="afterMarkState",e.BEFORE_MARK_ENCODE="beforeMarkEncode",e.AFTER_MARK_ENCODE="afterMarkEncode",e.BEFORE_DO_LAYOUT="beforeDoLayout",e.AFTER_DO_LAYOUT="afterDoLayout",e.BEFORE_MARK_LAYOUT_END="beforeMarkLayoutEnd",e.AFTER_MARK_LAYOUT_END="afterMarkLayoutEnd",e.BEFORE_DO_RENDER="beforeDoRender",e.AFTER_DO_RENDER="afterDoRender",e.BEFORE_MARK_RENDER_END="beforeMarkRenderEnd",e.AFTER_MARK_RENDER_END="afterMarkRenderEnd",e.BEFORE_CREATE_VRENDER_MARK="beforeCreateVRenderMark",e.AFTER_CREATE_VRENDER_MARK="afterCreateVRenderMark",e.BEFORE_ADD_VRENDER_MARK="beforeAddVRenderMark",e.AFTER_ADD_VRENDER_MARK="afterAddVRenderMark",e.AFTER_VRENDER_NEXT_RENDER="afterVRenderNextRender",e.BEFORE_ELEMENT_UPDATE_DATA="beforeElementUpdateData",e.AFTER_ELEMENT_UPDATE_DATA="afterElementUpdateData",e.BEFORE_ELEMENT_STATE="beforeElementState",e.AFTER_ELEMENT_STATE="afterElementState",e.BEFORE_ELEMENT_ENCODE="beforeElementEncode",e.AFTER_ELEMENT_ENCODE="afterElementEncode",e.ANIMATION_START="animationStart",e.ANIMATION_END="animationEnd",e.ELEMENT_ANIMATION_START="elementAnimationStart",e.ELEMENT_ANIMATION_END="elementAnimationEnd",e.ALL_ANIMATION_START="allAnimationStart",e.ALL_ANIMATION_END="allAnimationEnd"}(ML||(ML={}));const OL=["pointerdown","pointerup","pointerupoutside","pointertap","pointerover","pointermove","pointerenter","pointerleave","pointerout","mousedown","mouseup","mouseupoutside","rightdown","rightup","rightupoutside","click","dblclick","mousemove","mouseover","mouseout","mouseenter","mouseleave","wheel","touchstart","touchend","touchendoutside","touchmove","touchcancel","tap","dragstart","drag","dragenter","dragleave","dragover","dragend","drop","pan","panstart","panend","press","pressup","pressend","pinch","pinchstart","pinchend","swipe"];var WL,RL,HL;!function(e){e.initialized="initialized",e.rendered="rendered",e.renderFinished="renderFinished",e.animationFinished="animationFinished",e.regionSeriesDataFilterOver="regionSeriesDataFilterOver",e.afterInitData="afterInitData",e.afterInitEvent="afterInitEvent",e.afterInitMark="afterInitMark",e.rawDataUpdate="rawDataUpdate",e.viewDataFilterOver="viewDataFilterOver",e.viewDataUpdate="viewDataUpdate",e.viewDataStatisticsUpdate="viewDataStatisticsUpdate",e.markDeltaYUpdate="markDeltaYUpdate",e.viewDataLabelUpdate="viewDataLabelUpdate",e.scaleDomainUpdate="scaleDomainUpdate",e.scaleUpdate="scaleUpdate",e.dataZoomChange="dataZoomChange",e.drill="drill",e.layoutStart="layoutStart",e.layoutEnd="layoutEnd",e.layoutRectUpdate="layoutRectUpdate",e.playerPlay="playerPlay",e.playerPause="playerPause",e.playerEnd="playerEnd",e.playerChange="playerChange",e.playerForward="playerForward",e.playerBackward="playerBackward",e.scrollBarChange="scrollBarChange",e.brushStart="brushStart",e.brushChange="brushChange",e.brushEnd="brushEnd",e.brushClear="brushClear",e.brushActive="brushActive",e.legendSelectedDataChange="legendSelectedDataChange",e.legendFilter="legendFilter",e.legendItemClick="legendItemClick",e.legendItemHover="legendItemHover",e.legendItemUnHover="legendItemUnHover",e.tooltipShow="tooltipShow",e.tooltipHide="tooltipHide",e.tooltipRelease="tooltipRelease",e.afterResize="afterResize",e.afterRender="afterRender",e.afterLayout="afterLayout",e.afterMarkLayoutEnd="afterMarkLayoutEnd",e.afterWordcloudShapeDraw="afterWordcloudShapeDraw"}(WL||(WL={})),function(e){e.chart="chart",e.window="window",e.canvas="canvas"}(RL||(RL={})),function(e){e.vchart="vchart",e.chart="chart",e.model="model",e.mark="mark"}(HL||(HL={}));const PL=[HL.mark,HL.model,HL.chart,HL.vchart];class EL{constructor(){this._map=new Map,this._levelNodes=new Map,this._levelNodes.set(HL.vchart,[]),this._levelNodes.set(HL.chart,[]),this._levelNodes.set(HL.model,[]),this._levelNodes.set(HL.mark,[])}addHandler(e,t){var i;const o={level:t,handler:e};return null===(i=this._levelNodes.get(t))||void 0===i||i.push(o),this._map.set(e.callback,o),this}removeHandler(e){const t=this._map.get(e.callback);if(!t)return this;this._map.delete(e.callback);const i=this._levelNodes.get(t.level),o=null==i?void 0:i.findIndex(t=>t.handler.callback===e.callback);return void 0!==o&&o>=0&&(null==i||i.splice(o,1)),this}preventHandler(e){return e&&(e.prevented=!0),this}allowHandler(e){return e&&(e.prevented=!1),this}getHandlers(e){var t;return(null===(t=this._levelNodes.get(e))||void 0===t?void 0:t.map(e=>e.handler))||[]}getAllHandlers(){return Array.from(this._map.values()).map(e=>e.handler)||[]}getCount(){return this._map.size}release(){this._map.clear(),this._levelNodes.clear()}}const DL={cartesianAxis:"axis","cartesianAxis-band":"axis","cartesianAxis-linear":"axis","cartesianAxis-time":"axis",polarAxis:"axis","polarAxis-band":"axis","polarAxis-linear":"axis",discreteLegend:"legend",continuousLegend:"legend",colorLegend:"legend",sizeLegend:"legend"};class IL{constructor(e,t){this._viewBubbles=new Map,this._windowBubbles=new Map,this._canvasBubbles=new Map,this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this._onDelegate=e=>{var t;const i=this.globalInstance.getChart(),o=uu(e.modelId)&&(null==i?void 0:i.getModelById(e.modelId))||void 0,l=uu(e.markId)&&(null==i?void 0:i.getMarkById(e.markId))||null,n=Lu(e.event,"target");let r=e.datum;o&&"component"===o.modelType&&(r=null!==(t=o.getDatum(n))&&void 0!==t?t:r);const a={event:e.event,item:e.item,source:e.source,datum:r,chart:i,model:o,mark:null!=l?l:void 0,node:n};this.dispatch(e.type,a)},this._onDelegateInteractionEvent=e=>{const t=this.globalInstance.getChart(),i=e.event;let o=null;i.graphics&&(o=i.graphics);const l={event:e.event,chart:t,graphics:o,datums:o&&o.map(e=>AL(e))};this.dispatch(e.type,l)},this.globalInstance=e,this._compiler=t}register(e,t){var i,o,l,n,r;this._parseQuery(t);const a=this.getEventBubble((null===(i=t.filter)||void 0===i?void 0:i.source)||RL.chart),s=this.getEventListeners((null===(o=t.filter)||void 0===o?void 0:o.source)||RL.chart);if(a.get(e)||a.set(e,new EL),a.get(e).addHandler(t,null===(l=t.filter)||void 0===l?void 0:l.level),this._isValidEvent(e)&&!s.has(e)){const i=this._onDelegate.bind(this);this._compiler.addEventListener(null===(n=t.filter)||void 0===n?void 0:n.source,e,i),s.set(e,i)}else if(this._isInteractionEvent(e)&&!s.has(e)){const i=this._onDelegateInteractionEvent.bind(this);this._compiler.addEventListener(null===(r=t.filter)||void 0===r?void 0:r.source,e,i),s.set(e,i)}return this}unregister(e,t){var i,o,l,n;let r=!1;const a=this.getEventBubble((null===(i=null==t?void 0:t.filter)||void 0===i?void 0:i.source)||RL.chart),s=this.getEventListeners((null===(o=null==t?void 0:t.filter)||void 0===o?void 0:o.source)||RL.chart);if(t){const i=a.get(e);null==i||i.removeHandler(t),0===(null==i?void 0:i.getCount())&&(null==i||i.release(),a.delete(e),r=!0),(null===(l=null==t?void 0:t.wrappedCallback)||void 0===l?void 0:l.cancel)&&t.wrappedCallback.cancel()}else{const t=a.get(e);null==t||t.release(),a.delete(e),r=!0}if(r&&this._isValidEvent(e)){const i=s.get(e);this._compiler.removeEventListener((null===(n=null==t?void 0:t.filter)||void 0===n?void 0:n.source)||RL.chart,e,i),s.delete(e)}return this}dispatch(e,t,i){const o=this.getEventBubble(t.source||RL.chart).get(e);if(!o)return this;let l=!1;if(i){const n=o.getHandlers(i);l=this._invoke(n,e,t)}else{let i=0;for(;!l&&i<PL.length;)l=this._invoke(o.getHandlers(PL[i]),e,t),i++}return this}prevent(e,t){return["canvas","chart","window"].forEach(i=>{const o=this.getEventBubble(i).get(e);o&&o.getAllHandlers().forEach(e=>{t?PL.indexOf(e.filter.level)<PL.indexOf(t.level)&&e.callback!==t.handler&&o.preventHandler(e):o.preventHandler(e)})}),this}allow(e){return["canvas","chart","window"].forEach(t=>{const i=this.getEventBubble(t).get(e);i&&i.getAllHandlers().forEach(e=>i.allowHandler(e))}),this}clear(){[RL.chart,RL.window,RL.canvas].forEach(e=>{const t=this.getEventListeners(e);for(const i of t.entries())this._compiler.removeEventListener(e,i[0],i[1]);t.clear()}),[this._viewBubbles,this._windowBubbles,this._canvasBubbles].forEach(e=>{for(const t of e.values())t.release();e.clear()})}release(){this.clear(),this.globalInstance=null,this._compiler=null}_filter(e,t,i){var o,l,n;if(pu(e.filter)&&!e.filter(i))return!1;if(e.nodeName&&Lu(i,"node.name")!==e.nodeName)return!1;if(e.markName&&(null===(o=null==i?void 0:i.mark)||void 0===o?void 0:o.name)!==e.markName)return!1;let r=null===(l=i.model)||void 0===l?void 0:l.type;return DL[r]&&(r=DL[r]),!(e.type&&r!==e.type||"mark"===e.level&&!e.type&&!(null==i?void 0:i.mark)||"model"===e.level&&!e.type&&!(null==i?void 0:i.model)||uu(e.userId)&&(null===(n=i.model)||void 0===n?void 0:n.userId)!==e.userId)}_invoke(e,t,i){return e.map(e=>{var o,l,n;const r=e.filter;if(!e.prevented&&(!e.query||this._filter(r,t,i))){const t=(e.wrappedCallback||e.callback).call(null,Object.assign({},i)),r=null!=t?t:null===(o=e.query)||void 0===o?void 0:o.consume;return r&&(null===(l=i.event)||void 0===l||l.stopPropagation(),null===(n=i.event)||void 0===n||n.preventDefault()),!!r}}).some(e=>!0===e)}_getQueryLevel(e){return e?e.level?e.level:uu(e.id)?HL.model:HL.vchart:HL.vchart}_parseQuery(e){var t;const i=e.query;(null==i?void 0:i.throttle)?e.wrappedCallback=$u(e.callback,i.throttle):(null==i?void 0:i.debounce)&&(e.wrappedCallback=Xu(e.callback,i.debounce));let o=this._getQueryLevel(i),l=null,n=RL.chart,r=null,a=null,s=null;return(null==i?void 0:i.nodeName)&&(r=i.nodeName),(null==i?void 0:i.markName)&&(a=i.markName),!(null==i?void 0:i.type)||o!==HL.model&&o!==HL.mark||(l=i.type),(null==i?void 0:i.source)&&(n=i.source),uu(null==i?void 0:i.id)&&(s=null==i?void 0:i.id,o=HL.model),e.filter={level:o,markName:a,type:l,source:n,nodeName:r,userId:s,filter:null!==(t=null==i?void 0:i.filter)&&void 0!==t?t:null},e}getEventBubble(e){switch(e){case RL.chart:return this._viewBubbles;case RL.window:return this._windowBubbles;case RL.canvas:return this._canvasBubbles;default:return this._viewBubbles}}getEventListeners(e){switch(e){case RL.chart:return this._viewListeners;case RL.window:return this._windowListeners;case RL.canvas:return this._canvasListeners;default:return this._viewListeners}}_isValidEvent(e){return OL.includes(e)||Object.values(ML).includes(e)}_isInteractionEvent(e){let t;return e&&(t=e.split(":")[0],t)&&Ow.hasInteractionTrigger(t)}}function jL(e,t,i){e.getTransform(t)||e.registerTransform(t,i)}function NL(e,t,i){e.getParser(t)||e.registerParser(t,i)}const GL=new Map;function UL(e,t=!1){let i=t;return e.latestData instanceof E&&(i=!1),i?Fu(e.latestData):e.latestData&&e.latestData.slice()}const VL=(e,t)=>0===e.length?[]:1===e.length?UL(e[0],null==t?void 0:t.deep):e.map(e=>UL(e,null==t?void 0:t.deep));function YL(e,t,i){jL(t=t instanceof P?t:e.dataSet,"copyDataView",VL);const o=new E(t,i);return o.parse([e],{type:"dataview"}),o.transform({type:"copyDataView",level:$L.copyDataView}),o}function ZL(e,t,i=[]){var o;if(e instanceof E)return e;const{id:l,values:n=[],fromDataIndex:r,fromDataId:a,transforms:s=[]}=e,h=e.parser?Fu(e.parser):{clone:!0},d=Fu(e.fields);let c;h.clone=!(!1===h.clone);const p=i.find(e=>e.name===l);if(p)c=p;else{const e={name:l};if(d&&(e.fields=d),c=new E(t,e),"string"==typeof a){const e=i.find(e=>e.name===a);if(!e)return _g(`no data matches fromDataId ${a}`),null;c.parse([e],{type:"dataview"}),c.transform({type:"copyDataView"})}else if("number"==typeof r){const e=i[r];if(!e)return _g(`no data matches fromDataIndex ${r}`),null;c.parse([e],{type:"dataview"}),c.transform({type:"copyDataView"})}else Array.isArray(n)?c.parse(n,h):!mu(n)||h&&!["csv","dsv","tsv"].includes(h.type)?(c.parse([]),_g("values should be array")):c.parse(n,null!==(o=h)&&void 0!==o?o:{type:"csv"});s&&s.length&&s.forEach(e=>{t.getTransform(e.type)&&c.transform(e)})}return c}function XL(e,t,i){e&&(t.fields&&e.setFields(t.fields,i),e.parseNewData(t.values,t.parser))}var $L,KL,qL;!function(e){e[e.copyDataView=-10]="copyDataView",e[e.treemapFilter=-8]="treemapFilter",e[e.treemapFlatten=-7]="treemapFlatten",e[e.dotObjFlat=-7]="dotObjFlat",e[e.linkDotInfo=-7]="linkDotInfo",e[e.sankeyLayout=-7]="sankeyLayout",e[e.dataZoomFilter=-6]="dataZoomFilter",e[e.legendFilter=-5]="legendFilter"}($L||($L={})),function(e){e.appear="appear",e.disappear="disappear",e.enter="enter",e.update="update",e.state="state",e.exit="exit",e.normal="normal",e.none="none"}(KL||(KL={})),function(e){e.before="before",e.layouting="layouting",e.reevaluate="reevaluate",e.after="after"}(qL||(qL={}));const JL=["line","area","trail"];function QL(e,t,i){const o=new Map;if(!e||0===e.length)return{keys:[],data:o};if(!t)return o.set(fL,e.slice()),{keys:[fL],data:o};if(1===e.length){const i=t(e[0],0);return o.set(i,[e[0]]),{keys:[i],data:o}}const l=new Set;return e.forEach((e,i)=>{var n;const r=t(e,i),a=null!==(n=o.get(r))&&void 0!==n?n:[];a.push(e),o.set(r,a),l.add(r)}),{keys:Array.from(l),data:o}}const eF=(e,t,i={})=>(e&&Object.keys(e).forEach(o=>{i[o]=e[o](t)}),i);function tF(e,t,i,o,l){const n=e=>{if(!o&&e&&(!i||i(e))){const i=t.call(null,e);if(l&&i)return i}if("group"===e.type){const t=e.getMarks();if(t)for(let e=0;e<t.length;e++){const i=n(t[e]);if(i&&l)return i}}if(o&&e&&(!i||i(e))){const i=t.call(null,e);if(i&&l)return i}};return n(e)}function iF(e){const t=[];return e.forEach(e=>{tF(e,e=>{"group"!==e.type&&"component"!==e.type&&t.push(e)})}),t}function oF(e,t,i,o){const l=QL(e,e=>i(e)),n=QL(t,e=>o(e));let r=e,a=t;const s=[];return n.keys.forEach(e=>{if(!yu(e)){const t=l.data.get(e),i=n.data.get(e);t&&i&&(s.push({prev:t,next:i}),r=r.filter(e=>!t.includes(e)),a=a.filter(e=>!i.includes(e)))}}),{prev:r,next:a,update:s}}class lF{getRootGroup(){return this._rootGroup}constructor(e,t){this._count=0,this._rootMarks=[],this._viewListeners=new Map,this._windowListeners=new Map,this._canvasListeners=new Map,this.isInited=!1,this._released=!1,this._compileChart=null,this.handleLayoutEnd=()=>{var e,t;null===(t=null===(e=this._compileChart)||void 0===e?void 0:e.getEvent())||void 0===t||t.emit(WL.afterMarkLayoutEnd,{chart:this._compileChart})},this.handleStageRender=()=>{var e,t;null===(t=null===(e=this._compileChart)||void 0===e?void 0:e.getEvent())||void 0===t||t.emit(WL.afterRender,{chart:this._compileChart})},this._handleAfterNextRender=()=>{var e,t,i,o;this._stage&&!this._option.disableDirtyBounds&&this._stage.enableDirtyBounds(),this._compileChart&&(null===(e=this._compileChart.getEvent())||void 0===e||e.emit(WL.renderFinished,{chart:this._compileChart,vchart:null===(t=this._compileChart.getOption())||void 0===t?void 0:t.globalInstance})),null===(o=null===(i=this._option.performanceHook)||void 0===i?void 0:i.afterVRenderDraw)||void 0===o||o.call(i,this._compileChart.getOption().globalInstance)},this.handleProgressiveFrame=()=>{this._progressiveMarks.length&&this._progressiveMarks.forEach(e=>{e.isDoingProgressive()&&e.renderProgressive()}),this.doPreProgressive()},this._container=e,this._option=t}getChart(){return this._compileChart}getCanvas(){var e;return null===(e=this._stage)||void 0===e?void 0:e.window.getNativeHandler().nativeCanvas}getStage(){return this._stage}initView(){var e,t,i,o;if(this._released)return;if(this.isInited=!0,this._stage)return;const{autoRefreshDpr:l,dpr:r,mode:a,modeParams:s,gestureConfig:h,interactive:d,clickInterval:c,autoPreventDefault:p,background:y}=this._option;iy.setEnv(function(e){switch(e){case n["desktop-browser"]:case n["mobile-browser"]:return"browser";case n.node:case n.worker:return"node";case n.miniApp:case n["desktop-miniApp"]:return"feishu";case n.lynx:return"lynx";case n.wx:return"wx";case n.tt:return"tt";case n.harmony:return"harmony"}return"browser"}(a),null!=s?s:{}),this._stage=null!==(e=this._option.stage)&&void 0!==e?e:new ky(Object.assign({background:y,width:this._width,height:this._height,container:null!==(t=this._container.dom)&&void 0!==t?t:null,canvas:null!==(i=this._container.canvas)&&void 0!==i?i:null,dpr:r,viewBox:this._option.viewBox,canvasControled:this._option.canvasControled,beforeRender:e=>{var t,i,o;null===(t=this._compileChart)||void 0===t||t.onBeforeRender(),null===(o=(i=this._option).beforeRender)||void 0===o||o.call(i,e)},afterRender:this._option.afterRender,disableDirtyBounds:!0,autoRender:!0,ticker:this._option.ticker,pluginList:this._option.pluginList,enableHtmlAttribute:this._option.enableHtmlAttribute,optimize:this._option.optimize,supportsTouchEvents:this._option.supportsTouchEvents,supportsPointerEvents:this._option.supportsPointerEvents,event:{clickInterval:c,autoPreventDefault:p},ReactDOM:this._option.ReactDOM,autoRefresh:uu(l)?l:!uu(r)},null!==(o=this._option.renderHooks)&&void 0!==o?o:{})),this._stage.enableIncrementalAutoRender(),this._stage.setTheme({symbol:{shape:"circle",size:8},text:{fontSize:14,fill:"#000000"}});const u=Ps({x:0,y:0,width:this._width,height:this._height});u.name="root",this._stage.defaultLayer.appendChild(u),this._rootGroup=u;const g=(uu(h)?h:zg(a))&&!1!==d&&Ow.getStageEventPlugin("gesture");g&&(this._gestureController=new g(this._stage,gu(h)?h:{})),this._setCanvasStyle(),this.getStage().hooks.afterRender.tap("chart-event",this.handleStageRender),!1!==d&&this._viewListeners.forEach(e=>{})}getLayoutState(){return this._layoutState}updateLayoutTag(){this._layoutState=qL.before}_setCanvasStyle(){if(this._stage&&this._container.dom&&!mu(this._container.dom)){this._container.dom.style.display="block",this._container.dom.style.position="relative";const e=this.getCanvas();e&&(e.style.display="block")}}compile(e,t){if(this._released)return;const{chart:i}=e;this._compileChart=i,this.initView(),this._stage&&("render"!==(null==t?void 0:t.actionSource)&&this._cachedMarks&&(this.reuseOrMorphing(t.morphConfig),this._cachedMarks=null),i.compile(),i.afterCompile())}clearNextRender(){return!!this._nextRafId&&(iy.getSpecifiedCancelAnimationFrame(10)(this._nextRafId),this._nextRafId=null,!0)}clear(e){const{chart:t}=e;this.clearNextRender(),t.clear()}renderNextTick(e){this._released||(this._nextRafId&&this.clearNextRender(),this._nextRafId=iy.getSpecifiedRequestAnimationFrame(10)(()=>{this._nextRafId=null,this.render(e)}))}_commitedAll(){return this._rootMarks.some(e=>tF(e,e=>e.commit()))}_hasCommitedMark(){return this._rootMarks.some(e=>tF(e,e=>e.isCommited(),null,null,!0))}_doRender(e){var t,i,o,l,n,r;null===(i=null===(t=this._option.performanceHook)||void 0===t?void 0:t.beforeDoRender)||void 0===i||i.call(t,this._compileChart.getOption().globalInstance),this._stage&&(this._rootMarks.forEach(e=>{tF(e,e=>{e.needClear&&(this._progressiveMarks||e.runAnimation(),e.clearExitGraphics(),e.needClear=!1)},null,!0)}),null===(l=null===(o=this._option.performanceHook)||void 0===o?void 0:o.beforeVRenderDraw)||void 0===l||l.call(o,this._compileChart.getOption().globalInstance),this._stage.disableDirtyBounds(),this._stage.afterNextRender(this._handleAfterNextRender),e&&(this._stage.render(),null===(r=null===(n=this._option.performanceHook)||void 0===n?void 0:n.afterVRenderDraw)||void 0===r||r.call(n,this._compileChart.getOption().globalInstance)))}renderMarks(){var e;this._hasCommitedMark()&&(xg(`--- start of renderMarks(${this._count}) ---`),this.clearProgressive(),this._rootMarks.forEach(e=>{e.render()}),this._layoutState===qL.before&&(this._layoutState=qL.layouting,null===(e=this._compileChart)||void 0===e||e.onLayout(),this._layoutState=qL.reevaluate,this._hasCommitedMark()&&this._rootMarks.forEach(e=>{e.render()}),this.handleLayoutEnd()),this.findProgressiveMarks(),this._doRender(!0),this.doPreProgressive(),xg(`--- start of renderMarks(${this._count}) ---`),this._count++)}reuseOrMorphing(e={}){const{reuse:t=!0,morph:i=!0,morphAll:o=!1,animation:l={},enableExitAnimation:n=!1}=e,r=iF(this._rootMarks),{update:a,exit:s}=function(e,t,i){const o={enter:[],exit:[],update:[]};let l=[],n=[];e.forEach(e=>{i.morph&&e.getMarkConfig().morph||i.morphAll||i.reuse?l.push(e):o.exit.push({prev:[e]})}),t.forEach(e=>{i.morph&&e.getMarkConfig().morph||i.morphAll||i.reuse?n.push(e):o.enter.push({next:[e]})});const r=oF(l,n,e=>e.getMarkConfig().morphKey,e=>e.getMarkConfig().morphKey);l=r.prev,n=r.next,o.update=o.update.concat(r.update);const a=oF(l,n,e=>`${e.getUserId()}`,e=>`${e.getUserId()}`);l=a.prev,n=a.next,o.update=o.update.concat(a.update);const s=QL(l,e=>{var t,i;return null===(i=null===(t=e.group)||void 0===t?void 0:t.id)||void 0===i?void 0:i.call(t)}),h=QL(n,e=>{var t,i;return null===(i=null===(t=e.group)||void 0===t?void 0:t.id)||void 0===i?void 0:i.call(t)});return Object.keys(h).forEach(e=>{const t=s.data.get(e),i=h.data.get(e);if(t&&i){for(let e=0;e<Math.max(t.length,i.length);e+=1){const l=t[e],n=i[e];l&&n?o.update.push({prev:[l],next:[n]}):l?o.exit.push({prev:[l]}):n&&o.enter.push({next:[n]})}l=l.filter(e=>!t.includes(e)),n=n.filter(e=>!i.includes(e))}}),l.forEach(e=>o.exit.push({prev:[e]})),n.forEach(e=>o.enter.push({next:[e]})),o}(this._cachedMarks,r,{morph:i,morphAll:o,reuse:t});a.forEach(({prev:e,next:i})=>{if(t&&1===e.length&&1===i.length&&e[0].type===i[0].type)i[0].reuse(e[0]);else{const t=e.filter(e=>e.getMarkConfig().morph)[0];t&&i.forEach(e=>{e.getMarkConfig().morph&&e.prepareMorph(t)})}}),s.forEach(({prev:e})=>{e.forEach(e=>{e.removeProduct()})})}render(e){if(this._released)return;if(this.clearNextRender(),this.initView(),!this._stage)return;const{width:t,height:i}=this._rootGroup.attribute;this._width===t&&this._height===i||this._rootGroup.setAttributes({width:this._width,height:this._height}),this.renderMarks(),this.clearNextRender()&&this.renderMarks()}updateViewBox(e,t=!0){if(!this._stage)return;const i=this._stage.viewBox;!e||i&&i.x1===e.x1&&i.y1===e.y1&&i.x2===e.x2&&i.y2===e.y2||this._stage.setViewBox(e,t)}resize(e,t,i=!0){if(!this._stage)return;const o=this._width!==e||this._height!==t;this._width=e,this._height=t,o&&(this._stage.resize(e,t),this._commitedAll(),i&&this.render({morph:!1}))}setBackground(e){this._stage&&(this._stage.background=e)}setSize(e,t){this._width=e,this._height=t,this._stage}setViewBox(e,t=!0){this.updateViewBox(e,t)}addEventListener(e,t,i){var o,l;if(!1!==this._option.interactive)if(e===RL.chart){const l=this.getRootGroup(),n=function(o){var n;const r=o.target;let a=null;r&&(a=uu(r.context)?r:((e,t)=>{let i=t;for(;(null==i?void 0:i.parent)&&i.parent!==e;)if(i=i.parent,i.context)return i;return null})(l,r));const s=null!==(n=null==a?void 0:a.context)&&void 0!==n?n:{},h=uu(s.markId)?s.markId:null,d=uu(s.modelId)?s.modelId:null,c=uu(s.modelUserId)?s.modelUserId:null,p=uu(s.markUserId)?s.markUserId:null,y={event:o,type:t,source:e,item:a,datum:AL(a),markId:h,modelId:d,markUserId:p,modelUserId:c};i.call(null,y)}.bind(this);this._viewListeners.set(i,{type:t,callback:n}),null===(o=this._stage)||void 0===o||o.addEventListener(t,n)}else if(e===RL.window){const o=function(o){const l={event:o,type:t,source:e,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};i.call(null,l)}.bind(this);this._windowListeners.set(i,{type:t,callback:o});const l=this._getGlobalThis();null==l||l.addEventListener(t,o)}else if(e===RL.canvas){const o=function(o){const l={event:o,type:t,source:e,item:null,datum:null,markId:null,modelId:null,markUserId:null,modelUserId:null};i.call(null,l)}.bind(this);this._canvasListeners.set(i,{type:t,callback:o});const n=null===(l=this.getStage())||void 0===l?void 0:l.window;null==n||n.addEventListener(t,o)}}removeEventListener(e,t,i){var o,l,n,r,a;if(!1!==this._option.interactive)if(e===RL.chart){const e=null===(o=this._viewListeners.get(i))||void 0===o?void 0:o.callback;e&&(null===(l=this._stage)||void 0===l||l.removeEventListener(t,e)),this._viewListeners.delete(i)}else if(e===RL.window){const e=this._getGlobalThis(),o=null===(n=this._windowListeners.get(i))||void 0===n?void 0:n.callback;o&&(null==e||e.removeEventListener(t,o)),this._windowListeners.delete(i)}else if(e===RL.canvas){const e=null===(r=this.getStage())||void 0===r?void 0:r.window,o=null===(a=this._canvasListeners.get(i))||void 0===a?void 0:a.callback;e&&o&&(null==e||e.removeEventListener(t,o)),this._canvasListeners.delete(i)}}releaseEvent(){const e=this.getStage();e&&e.hooks.afterRender.unTap("chart-event",this.handleStageRender),this._viewListeners.clear(),this._windowListeners.clear(),this._canvasListeners.clear()}release(){var e;this.clearNextRender(),this.releaseEvent(),this._option=this._container=null,this.releaseGrammar(!0),this._stage!==(null===(e=this._option)||void 0===e?void 0:e.stage)&&this._stage.release(),this._stage=null,this.isInited=!1,this._compileChart=null,this._released=!0}releaseGrammar(e=!1){e?this._rootMarks.forEach(e=>{tF(e,e=>{e.removeProduct()},null,!0)}):this._cachedMarks=iF(this._rootMarks),this._rootMarks=[]}addRootMark(e){this._rootMarks.includes(e)||this._rootMarks.push(e)}getRootMarks(){return this._rootMarks}removeRootMark(e){const t=this._rootMarks.findIndex(t=>t===e);return t>=0&&(this._rootMarks.splice(t,1),!0)}_getGlobalThis(){var e;return Ag(this._option.mode)?globalThis:null===(e=this.getStage())||void 0===e?void 0:e.window}_combineIncrementalLayers(){this._stage&&function(e){return Ta(this,void 0,void 0,function*(){const t=[],i=e.getChildren();yield new Promise(e=>{xe.global.getRequestAnimationFrame()(()=>{e(null)})}),i.forEach(e=>{e.subLayers.size&&e.subLayers.forEach(e=>{e.drawContribution&&e.drawContribution.hooks&&e.drawContribution.rendering&&t.push(new Promise(t=>{e.drawContribution.hooks.completeDraw.tap("outWait",()=>{e.drawContribution.hooks.completeDraw.taps=e.drawContribution.hooks.completeDraw.taps.filter(e=>"outWait"!==e.name),t(null)})}))})}),yield Promise.all(t)})}(this._stage).then(()=>{this._stage&&this._stage.defaultLayer.combineSubLayer()})}findProgressiveMarks(){const e=[];return this._rootMarks.forEach(t=>{tF(t,t=>{t.isProgressive()&&e.push(t)})}),e.length?(this._progressiveMarks=e,this._combineIncrementalLayers(),e):(this._progressiveMarks=null,null)}doPreProgressive(){if(this._progressiveMarks&&this._progressiveMarks.some(e=>e.isDoingProgressive())){const e=iy.getSpecifiedRequestAnimationFrame(10);this._progressiveRafId=e(this.handleProgressiveFrame)}else this._progressiveMarks&&this._progressiveMarks.every(e=>e.canAnimateAfterProgressive())?this._progressiveMarks.forEach(e=>{e.runAnimation()}):this._progressiveMarks&&(this._progressiveMarks=null)}clearProgressive(){this._progressiveRafId&&iy.getSpecifiedCancelAnimationFrame(10)(this._progressiveRafId),this._progressiveMarks&&this._progressiveMarks.length&&(this._progressiveMarks.forEach(e=>{e.clearProgressive()}),this._progressiveMarks=null)}}var nF=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(rH){n(rH)}}function a(e){try{s(o.throw(e))}catch(rH){n(rH)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})};function rF(e,t){var i;return nF(this,void 0,void 0,function*(){if(!e)return"";try{if(void 0!==OffscreenCanvas&&e instanceof OffscreenCanvas)return function(e){return new Promise(t=>{e.convertToBlob().then(e=>{const i=new FileReader;i.readAsDataURL(e),i.onload=()=>{t(i.result)}})})}(e)}catch(o){(null!==(i=null==t?void 0:t.onError)&&void 0!==i?i:wg)(`getCanvasDataURL error : ${o.toString()}`)}return e.toDataURL()})}function aF(e){e.crosshair=Eu(e.crosshair||{}).map(t=>Mw({["horizontal"===e.direction?"yField":"xField"]:{visible:!0,line:{visible:!0,type:"rect"}}},t))}function sF(e,t,i){var o;const{width:l,height:n}=e;if(uu(l)&&uu(n))return{width:l,height:n};let r=i.width,a=i.height;const s=t.container,h=t.canvas;if(s){const{width:e,height:t}=bg(s,i.width,i.height);r=e,a=t}else if(h&&Ag(t.mode)){let e;e=mu(h)?iy.getElementById(h):h;const{width:t,height:o}=bg(e,i.width,i.height);r=t,a=o}else if(Bg(t.mode)&&(null===(o=t.modeParams)||void 0===o?void 0:o.domref)){const e=t.modeParams.domref;r=e.width,a=e.height}return r=null!=l?l:r,a=null!=n?n:a,{width:r,height:a}}function hF(e,...t){const i=i=>t.reduce((e,t)=>e||(null==t?void 0:t[i]),e[i]);return Object.assign(e,{change:i("change"),reCompile:i("reCompile"),reMake:i("reMake"),reRender:i("reRender"),reSize:i("reSize"),reTransformSpec:i("reTransformSpec"),changeTheme:i("changeTheme"),changeBackground:i("changeBackground")}),e}var dF,cF,pF;!function(e){e[e.SeriesGroup=0]="SeriesGroup",e[e.Axis_Grid=50]="Axis_Grid",e[e.CrossHair_Grid=100]="CrossHair_Grid",e[e.Region=450]="Region",e[e.Mark=300]="Mark",e[e.Node=400]="Node",e[e.Axis=100]="Axis",e[e.MarkLine=500]="MarkLine",e[e.MarkArea=100]="MarkArea",e[e.MarkPoint=500]="MarkPoint",e[e.DataZoom=500]="DataZoom",e[e.ScrollBar=500]="ScrollBar",e[e.Player=500]="Player",e[e.Legend=500]="Legend",e[e.CrossHair=500]="CrossHair",e[e.Indicator=500]="Indicator",e[e.Title=500]="Title",e[e.Label=500]="Label",e[e.Brush=500]="Brush",e[e.CustomMark=500]="CustomMark",e[e.Interaction=700]="Interaction"}(dF||(dF={})),function(e){e[e.Indicator=10]="Indicator",e[e.Region=20]="Region",e[e.Axis=30]="Axis",e[e.DataZoom=40]="DataZoom",e[e.Player=40]="Player",e[e.ScrollBar=40]="ScrollBar",e[e.Legend=50]="Legend",e[e.Title=70]="Title",e[e.CustomMark=70]="CustomMark"}(cF||(cF={})),function(e){e[e.Default=0]="Default",e[e.Theme=1]="Theme",e[e.Chart=2]="Chart",e[e.Base_Series=3]="Base_Series",e[e.Series=4]="Series",e[e.Mark=5]="Mark",e[e.User_Chart=6]="User_Chart",e[e.User_Series=7]="User_Series",e[e.User_Mark=8]="User_Mark",e[e.User_SeriesStyle=9]="User_SeriesStyle",e[e.Built_In=99]="Built_In"}(pF||(pF={}));class yF{constructor(){this._children=[],this._markNameMap={},this._infoMap=new Map}getMarkNameMap(){return this._markNameMap}addMark(e,t){yu(e)||(this._children.push(e),this._markNameMap[e.name]=e,this._infoMap.set(e,Bu({},yF.defaultMarkInfo,t)))}removeMark(e){const t=this._children.findIndex(t=>t.name===e);t>=0&&(this._infoMap.delete(this._children[t]),delete this._markNameMap[e],this._children.splice(t,1))}clear(){this._children=[],this._markNameMap={},this._infoMap.clear()}forEach(e){this._children.forEach(e)}includes(e,t){return this._children.includes(e,t)}get(e){return isNaN(Number(e))?this._markNameMap[e]:this._children[e]}getMarks(){return this._children.slice()}getMarksInType(e){const t=Eu(e);return this._children.filter(e=>t.includes(e.type))}getMarkInId(e){return this._children.find(t=>t.id===e)}getMarkWithInfo(e){return this._children.find(t=>Object.keys(e).every(i=>e[i]===this._infoMap.get(t)[i]))}}yF.defaultMarkInfo={};class uF{getOption(){return this._option}constructor(e){this._option=e,this.getCompiler=this._option.getCompiler}getStage(){var e;return null===(e=this.getCompiler())||void 0===e?void 0:e.getStage()}release(){this._option=null,this.getCompiler=null}}class gF{constructor(e){this._option=e,this.type=e.type}_initTheme(e,t){return this._theme=this.getTheme(e,t),this._mergeThemeToSpec(e,t)}getTheme(e,t){}transformSpec(e,t,i){this._transformSpecBeforeMergingTheme(e,t,i);const o=this._initTheme(e,t);return this._transformSpecAfterMergingTheme(o.spec,t,i),o}_transformSpecBeforeMergingTheme(e,t,i){}_transformSpecAfterMergingTheme(e,t,i){}_mergeThemeToSpec(e,t){const i=this._theme;if(this._shouldMergeThemeToSpec()){const o=this._getDefaultSpecFromChart(t),l=e=>Mw({},i,o,e);return bu(e)?{spec:e.map(e=>l(e)),theme:i}:{spec:l(e),theme:i}}return{spec:e,theme:i}}_shouldMergeThemeToSpec(){return!0}_getDefaultSpecFromChart(e){}}var fF,kF,mF,bF=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class vF extends uF{getSpec(){return this._spec||{}}getSpecPath(){var e;return null===(e=this._option)||void 0===e?void 0:e.specPath}getSpecInfoPath(){var e,t,i;return null!==(t=null===(e=this._option)||void 0===e?void 0:e.specInfoPath)&&void 0!==t?t:null===(i=this._option)||void 0===i?void 0:i.specPath}getData(){return this._data}get layout(){return this._layout}getOption(){return this._option}getMarks(){var e,t;return null!==(t=null===(e=this._marks)||void 0===e?void 0:e.getMarks())&&void 0!==t?t:[]}getMarkNameMap(){var e;return null===(e=this._marks)||void 0===e?void 0:e.getMarkNameMap()}getMarkSet(){return this._marks}getChart(){return this._option.getChart()}get _theme(){var e;return null===(e=this.getSpecInfo())||void 0===e?void 0:e.theme}constructor(e,t){var i;super(t),this.transformerConstructor=gF,this.type="null",this.modelType="null",this.userId=void 0,this._data=null,this._layout=null,this.specKey="",this._marks=new yF,this._lastLayoutRect=null,this.id=Og(),this.userId=e.id,this._spec=e,this.effect={},this.event=new BL(t.eventDispatcher,t.mode),null===(i=t.map)||void 0===i||i.set(this.id,this)}_releaseEvent(){this.event.release()}created(){this.setAttrFromSpec()}init(e){}afterInit(){}getVisible(){var e;return!1!==(null===(e=this._spec)||void 0===e?void 0:e.visible)}onLayoutStart(e,t){var i;null===(i=this._layout)||void 0===i||i.onLayoutStart(e,t)}onLayoutEnd(){var e;null===(e=this._layout)||void 0===e||e.onLayoutEnd(),this.getMarks().forEach(e=>e.commit(!1,!0))}onEvaluateEnd(e){}onBeforeRender(){}onDataUpdate(){}beforeRelease(){}clear(){this.getMarks().forEach(e=>{var t;return null===(t=e.clear)||void 0===t?void 0:t.call(e)})}release(){var e;this._releaseEvent(),this._spec=void 0,this.getMarks().forEach(e=>e.release()),null===(e=this._data)||void 0===e||e.release(),this._data=null,this._marks.clear(),super.release()}updateSpec(e){var t;const i=this._compareSpec(e,this._spec);return(i.reRender||i.reMake||i.reCompile)&&(null===(t=this._layout)||void 0===t||t.setWillLayoutTag()),this._spec=e,i}_compareSpec(e,t){return{change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1}}reInit(e){e&&(this._spec=e),this.setAttrFromSpec()}updateLayoutAttribute(){}setAttrFromSpec(){var e;null===(e=this._layout)||void 0===e||e.setAttrFromSpec(this._spec,this._option.getChartViewRect())}_convertMarkStyle(e){return Object.assign({},e)}setMarkStyle(e,t,i,o){uu(e)&&uu(t)&&e.setStyle(this._convertMarkStyle(t),i,o)}initMarkStyleWithSpec(e,t){if(!uu(e)||!uu(t))return;const{style:i,state:o}=t,l=Object.assign({},t);i&&(l.style=this._convertMarkStyle(i)),o&&(l.state={},Object.keys(o).forEach(e=>{l.state[e]=this._convertMarkStyle(o[e])})),e.initStyleWithSpec(l)}stateKeyToSignalName(e,t){let i=`${Jw}_${this.modelType}_${this.type}_${this.id}_${e}`;return t&&(i+=`_${t}`),i}compileData(){var e;null===(e=this._data)||void 0===e||e.compile()}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e})})}_createMark(e,t={},i){const{type:o,name:l}=e,{parent:n}=t,r=bF(t,["parent"]),a=Ow.createMark(o,l,Object.assign({model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._option.globalScale},r));return n?n.addMark(a):this.getCompiler().addRootMark(a),a&&(a.created(),i&&a.setMarkConfig(i)),a}_getDataIdKey(){}getColorScheme(){var e,t;return null===(t=(e=this._option).getTheme)||void 0===t?void 0:t.call(e,"colorScheme")}getSpecInfo(){var e,t,i;return((e,t,i)=>{if(!_w(t))return Fw(e,t,i)})(null!==(i=null===(t=(e=this._option).getSpecInfo)||void 0===t?void 0:t.call(e))&&void 0!==i?i:{},this.getSpecInfoPath())}getSpecIndex(){const e=this.getSpecPath();if(!(null==e?void 0:e.length))return 0;const t=Number(e[e.length-1]);return isNaN(t)?0:t}updateAnimateStateCallback(e){this._aniamtionStateCallback=e}getAnimationStateCallback(){return this._aniamtionStateCallback}}class CF{getSpec(){return this._spec||{}}getLayoutStartPoint(){return this._layoutStartPoint}get layoutRectLevelMap(){return this._layoutRectLevelMap}get minWidth(){return this._minWidth}set minWidth(e){this._minWidth=e}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=e}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=e}get maxHeight(){return this._maxHeight}set maxHeight(e){this._maxHeight=e}get lastComputeRect(){return this._lastComputeRect}getLastComputeOutBounds(){return this._lastComputeOutBounds}get layoutOrient(){return this._layoutOrient}set layoutOrient(e){this._layoutOrient=e}get model(){return this._model}get type(){return this._model.type}get willLayoutTag(){return this._willLayoutTag}constructor(e,t){var i;this.layoutClip=!1,this.autoIndent=!1,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:0,height:0},this._layoutRectLevelMap={width:0,height:0},this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._lastComputeRect=null,this._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0},this.getLayoutRect=()=>this._layoutRect,this.layoutType="normal",this._layoutOrient="left",this.layoutPaddingLeft=0,this.layoutPaddingTop=0,this.layoutPaddingRight=0,this.layoutPaddingBottom=0,this.layoutOffsetX=0,this.layoutOffsetY=0,this.layoutLevel=cF.Region,this._willLayoutTag=!0,this._model=e,this._option=t,this.layoutLevel=t.layoutLevel,this.layoutType=t.layoutType,t.layoutOrient&&(this.layoutOrient=t.layoutOrient),this._spec=null===(i=null==e?void 0:e.getSpec)||void 0===i?void 0:i.call(e)}_setLayoutAttributeFromSpec(e,t){var i,o,l,n;if(this._spec&&!1!==this._spec.visible){let r=gw(fw(e.padding),t,t);this._option.transformLayoutPadding&&(r=this._option.transformLayoutPadding(r)),this.layoutPaddingLeft=r.left,this.layoutPaddingRight=r.right,this.layoutPaddingTop=r.top,this.layoutPaddingBottom=r.bottom,this._minHeight=yu(e.minHeight)?null!==(i=this._minHeight)&&void 0!==i?i:null:uw(e.minHeight,t.height,t),this._maxHeight=yu(e.maxHeight)?null!==(o=this._maxHeight)&&void 0!==o?o:null:uw(e.maxHeight,t.height,t),this._minWidth=yu(e.minWidth)?null!==(l=this._minWidth)&&void 0!==l?l:null:uw(e.minWidth,t.width,t),this._maxWidth=yu(e.maxWidth)?null!==(n=this._maxWidth)&&void 0!==n?n:null:uw(e.maxWidth,t.width,t),e.width&&this.setLayoutRect({width:uw(e.width,t.width,t)},{width:9}),e.height&&this.setLayoutRect({height:uw(e.height,t.height,t)},{height:9}),yu(e.offsetX)||(this.layoutOffsetX=uw(e.offsetX,t.width,t)),yu(e.offsetY)||(this.layoutOffsetY=uw(e.offsetY,t.height,t)),e.alignSelf&&(this.alignSelf=e.alignSelf)}}setAttrFromSpec(e,t){var i,o,l,n;this._spec=e,this.layoutType=null!==(i=e.layoutType)&&void 0!==i?i:this.layoutType,this.layoutLevel=null!==(o=e.layoutLevel)&&void 0!==o?o:this.layoutLevel,this.layoutOrient=null!==(l=e.orient)&&void 0!==l?l:this.layoutOrient,this._setLayoutAttributeFromSpec(e,t),this.layoutClip=null!==(n=e.clip)&&void 0!==n?n:this.layoutClip}onLayoutStart(e,t){this._setLayoutAttributeFromSpec(this._spec,t)}onLayoutEnd(){}_getAbsoluteSpecValue(e){const t={top:null,bottom:null,left:null,right:null};return["top","bottom","left","right"].forEach(i=>{yu(this._spec[i])||(t[i]=uw(this._spec[i],"top"===i||"bottom"===i?e.height:e.width,e))}),t}absoluteLayoutInRect(e){const{top:t,bottom:i,left:o,right:l}=this._getAbsoluteSpecValue(e),n={width:e.width-this.layoutPaddingLeft-this.layoutPaddingRight,height:e.height-this.layoutPaddingTop-this.layoutPaddingBottom};yu(o)||(n.width-=o),yu(l)||(n.width-=l),yu(t)||(n.height-=t),yu(i)||(n.height-=i),this.setLayoutRect(n);const{width:r,height:a}=this.computeBoundsInRect(this.getLayoutRect());this.setLayoutRect({width:r,height:a});const s={x:e.x,y:e.y};!0===this._spec.center?(s.x=e.x+.5*e.width-.5*r,s.y=e.y+.5*e.height-.5*a):(yu(o)?yu(l)||(s.x=e.x+e.width-this.layoutPaddingRight-l-r):s.x=e.x+o+this.layoutPaddingLeft,yu(t)?yu(i)||(s.y=e.y+e.height-this.layoutPaddingBottom-i-a):s.y=e.y+t+this.layoutPaddingTop),this.setLayoutStartPosition(s)}setLayoutStartPosition(e){var t,i;this._option.transformLayoutPosition&&(e=this._option.transformLayoutPosition(e)),Su(e.x)&&(this._layoutStartPoint.x=e.x),Su(e.y)&&(this._layoutStartPoint.y=e.y),null===(i=(t=this._model).afterSetLayoutStartPoint)||void 0===i||i.call(t,this._layoutStartPoint)}setLayoutRect({width:e,height:t},i){var o,l,n,r;Su(e)&&(null!==(o=null==i?void 0:i.width)&&void 0!==o?o:0)>=this._layoutRectLevelMap.width&&(this._layoutRect.width=e,this._layoutRectLevelMap.width=null!==(l=null==i?void 0:i.width)&&void 0!==l?l:0),Su(t)&&(null!==(n=null==i?void 0:i.height)&&void 0!==n?n:0)>=this._layoutRectLevelMap.height&&(this._layoutRect.height=t,this._layoutRectLevelMap.height=null!==(r=null==i?void 0:i.height)&&void 0!==r?r:0),this.setRectInSpec(this._layoutRect)}getLayout(){return{x:this._layoutStartPoint.x,y:this._layoutStartPoint.y,width:this._layoutRect.width,height:this._layoutRect.height}}mergeLayoutRect({width:e,height:t}){const i={width:e,height:t};return this._layoutRectLevelMap.width>0&&(i.width=this._layoutRect.width),this._layoutRectLevelMap.height>0&&(i.height=this._layoutRect.height),i}getOrientPosAttribute(){return"bottom"===this._layoutOrient||"top"===this._layoutOrient?"x":"y"}getOrientSizeAttribute(){return"bottom"===this._layoutOrient||"top"===this._layoutOrient?"width":"height"}changeBoundsBySetting(e){return this._layoutRectLevelMap.width>0&&(e.x2=e.x1+this._layoutRect.width),this._layoutRectLevelMap.height>0&&(e.y2=e.y1+this._layoutRect.height),e.x1-=this._layoutStartPoint.x,e.x2-=this._layoutStartPoint.x,e.y1-=this._layoutStartPoint.y,e.y2-=this._layoutStartPoint.y,e}setRectInSpec(e){const t=Object.assign({},e);return this._layoutRectLevelMap.width<9?(yu(this._minWidth)||(t.width=Math.max(t.width,this._minWidth)),yu(this._maxWidth)||(t.width=Math.min(t.width,this._maxWidth))):t.width=this._layoutRect.width,this._layoutRectLevelMap.height<9?(yu(this._minHeight)||(t.height=Math.max(t.height,this._minHeight)),yu(this._maxHeight)||(t.height=Math.min(t.height,this._maxHeight))):t.height=this._layoutRect.height,t}computeBoundsInRect(e){if(this._lastComputeRect=e,!("region-relative"!==this.layoutType&&"region-relative-overlap"!==this.layoutType||(9!==this._layoutRectLevelMap.width||"left"!==this.layoutOrient&&"right"!==this.layoutOrient)&&(9!==this._layoutRectLevelMap.height||"bottom"!==this.layoutOrient&&"top"!==this.layoutOrient)))return this._layoutRect;const t=Object.assign({},this._model.getBoundsInRect(this.setRectInSpec(e),e));this.changeBoundsBySetting(t),this.autoIndent&&t.x2-t.x1>0&&t.y2-t.y1>0&&(this._lastComputeOutBounds.x1=Math.ceil(-t.x1),this._lastComputeOutBounds.x2=Math.ceil(t.x2-e.width),this._lastComputeOutBounds.y1=Math.ceil(-t.y1),this._lastComputeOutBounds.y2=Math.ceil(t.y2-e.height));let i=this.setRectInSpec(function(e,t){return e?{width:Math.ceil(Math.min(e.x2-e.x1,t.width)),height:Math.ceil(Math.min(e.y2-e.y1,t.height))}:{width:0,height:0}}(t,e));return this._option.transformLayoutRect&&(i=this._option.transformLayoutRect(i)),i}getModelId(){return this._model.id}getModelVisible(){return this._model.getVisible()}setWillLayoutTag(){this._willLayoutTag=!0}clearWillLayoutTag(){this._willLayoutTag=!1}}class SF extends vF{constructor(){super(...arguments),this.layoutType="normal",this.layoutLevel=0,this.layoutZIndex=0,this._forceLayoutTag=!1,this._layout=null,this._orient=null,this._layoutRect={width:0,height:0},this._layoutStartPos={x:0,y:0},this._isLayout=!0,this.getGraphicBounds=()=>this._layout?{x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}:{x1:0,x2:0,y1:0,y2:0},this._transformLayoutRect=null,this._transformLayoutPosition=null,this._transformLayoutPadding=null}get layoutOrient(){return this._orient}set layoutOrient(e){this._orient=e,this._layout&&(this._layout.layoutOrient=e)}initLayout(){"none"!==this.layoutType&&(this._layout=new CF(this,{layoutType:this.layoutType,layoutLevel:this.layoutLevel,layoutOrient:this._orient,transformLayoutRect:this._transformLayoutRect,transformLayoutPosition:this._transformLayoutPosition,transformLayoutPadding:this._transformLayoutPadding}),this._orient&&"radius"!==this._orient&&"angle"!==this._orient&&this._layout&&(this._layout.layoutOrient=this._orient))}onLayoutStart(e,t){this._isLayout=!0,super.onLayoutStart(e,t)}onLayoutEnd(){super.onLayoutEnd(),this.updateLayoutAttribute();const e=this.getLayoutRect();!this._forceLayoutTag&&Ru(this._lastLayoutRect,e)||(this._lastLayoutRect=Object.assign({},e)),this._forceLayoutTag=!1,this._isLayout=!1}afterSetLayoutStartPoint(e){}_forceLayout(){var e,t;this._isLayout||(null===(e=this._layout)||void 0===e||e.setWillLayoutTag(),this._forceLayoutTag=!0,null===(t=this._option.globalInstance.getChart())||void 0===t||t.setLayoutTag(!0))}getLayoutStartPoint(){return this._layout?this._layout.getLayoutStartPoint():this._layoutStartPos}setLayoutStartPosition(e){return this._layout?this._layout.setLayoutStartPosition(e):this._layoutStartPos=Bu(this._layoutStartPos,e)}getLayoutRect(){return this._layout?this._layout.getLayoutRect():this._layoutRect}setLayoutRect(e,t){return this._layout?this._layout.setLayoutRect(e):this._lastLayoutRect=Bu(this._layoutRect,e)}getLastComputeOutBounds(){var e;return null===(e=this._layout)||void 0===e?void 0:e.getLastComputeOutBounds()}setAttrFromSpec(){var e,t,i,o,l;super.setAttrFromSpec(),this.layoutClip=null!==(e=this._spec.clip)&&void 0!==e?e:this.layoutClip,this.layoutZIndex=null!==(t=this._spec.zIndex)&&void 0!==t?t:this.layoutZIndex,this.layoutType=null!==(i=this._spec.layoutType)&&void 0!==i?i:this.layoutType,this._orient=null!==(o=this._spec.orient)&&void 0!==o?o:this._orient,this.layoutLevel=null!==(l=this._spec.layoutLevel)&&void 0!==l?l:this.layoutLevel}}class xF extends gF{_initTheme(e,t){return{spec:e,theme:this._theme}}}class _F extends SF{getMaxWidth(){return this._layout.maxWidth}setMaxWidth(e){this._layout.maxWidth=e}getMaxHeight(){return this._layout.maxHeight}setMaxHeight(e){this._layout.maxHeight=e}getGroupMark(){return this._groupMark}getInteractionMark(){return this._interactionMark}getStackInverse(){return!0===this._spec.stackInverse}getStackSort(){return!0===this._spec.stackSort}constructor(e,t){var i;super(e,t),this.transformerConstructor=xF,this.modelType="region",this.specKey="region",this.type=_F.type,this._series=[],this.layoutType="region",this.layoutZIndex=dF.Region,this.seriesDataFilterOver=()=>{this.event.emit(WL.regionSeriesDataFilterOver,{model:this,chart:this.getChart()}),this._series.forEach(e=>{e.getViewDataFilter()&&e.reTransformViewData()})},this.getBoundsInRect=()=>({x1:this._layout.getLayoutStartPoint().x,y1:this._layout.getLayoutStartPoint().y,x2:this._layout.getLayoutStartPoint().x+this._layout.getLayoutRect().width,y2:this._layout.getLayoutStartPoint().y+this._layout.getLayoutRect().height}),this.userId=e.id,this.coordinate=null!==(i=e.coordinate)&&void 0!==i?i:"cartesian"}_getClipDefaultValue(){var e,t,i,o;const l=this._option.getChart().getSpec(),n=null===(t=null===(e=l.dataZoom)||void 0===e?void 0:e.some)||void 0===t?void 0:t.call(e,e=>{var t;return"axis"===(null!==(t=e.filterMode)&&void 0!==t?t:"filter")}),r=null===(o=null===(i=l.scrollBar)||void 0===i?void 0:i.some)||void 0===o?void 0:o.call(i,e=>{var t;return"axis"===(null!==(t=e.filterMode)&&void 0!==t?t:"axis")});return!(!n&&!r)||this._layout.layoutClip}created(){var e,t;this.initLayout(),super.created();const i=null!==(e=this._spec.clip)&&void 0!==e?e:this._getClipDefaultValue();this._groupMark=this._createGroupMark("regionGroup",this.userId,this.layoutZIndex),this._spec.roam&&this._groupMark.setMarkConfig({interactive:!0}),this._interactionMark=this._createGroupMark("regionInteractionGroup",(null!==(t=this.userId)&&void 0!==t?t:this.type)+"_interaction",dF.Interaction),wu(this._spec.style)||(this._backgroundMark=this._createMark({type:"rect",name:"regionBackground"},{parent:this._groupMark}),i&&(this._foregroundMark=this._createMark({type:"rect",name:"regionForeground"},{parent:this._groupMark})),[this._backgroundMark,this._foregroundMark].forEach(e=>{e&&(e.created(),this.setMarkStyle(e,{width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height},"normal",pF.Built_In),this._groupMark.addMark(e))}),this._backgroundMark&&this._backgroundMark.setMarkConfig({zIndex:dF.SeriesGroup-1}),this._foregroundMark&&this._foregroundMark.setMarkConfig({zIndex:dF.Mark+1}))}_createGroupMark(e,t,i){var o,l;const n=this._createMark({type:"group",name:e});n.setUserId(t),n.setMarkConfig({zIndex:i});const r=null!==(o=this._spec.clip)&&void 0!==o?o:this._getClipDefaultValue();return this.setMarkStyle(n,{x:()=>this.getLayoutStartPoint().x,y:()=>this.getLayoutStartPoint().y,width:()=>this.getLayoutRect().width,height:()=>this.getLayoutRect().height,clip:r},"normal",pF.Built_In),this.setMarkStyle(n,{cornerRadius:null===(l=this._spec.style)||void 0===l?void 0:l.cornerRadius},"normal",pF.User_Mark),this._marks.addMark(n),n}init(e){super.init(e),this.initMark(),this.initSeriesDataflow()}initMark(){this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}_initBackgroundMarkStyle(){var e,t;this._backgroundMark&&(this.setMarkStyle(this._backgroundMark,Object.assign({fillOpacity:(null===(e=this._spec.style)||void 0===e?void 0:e.fill)?1:0},this._spec.style),"normal",pF.User_Mark),(null!==(t=this._spec.clip)&&void 0!==t?t:this._getClipDefaultValue())&&this.setMarkStyle(this._backgroundMark,{strokeOpacity:0},"normal",pF.Built_In))}_initForegroundMarkStyle(){this._foregroundMark&&this.setMarkStyle(this._foregroundMark,Object.assign(Object.assign({},this._spec.style),{fillOpacity:0,pickable:!1}),"normal",pF.User_Mark)}_compareSpec(e,t){const i=super._compareSpec(e,t);return Ru(null==t?void 0:t.style,null==e?void 0:e.style)||(i.reMake=!0),i}reInit(e){super.reInit(e),this._initBackgroundMarkStyle(),this._initForegroundMarkStyle()}addSeries(e){e&&(this._series.includes(e)||this._series.push(e))}removeSeries(e){if(!e)return;const t=this._series.findIndex(t=>t===e);t>=0&&this._series.splice(t,1)}getSeries(e={}){return this._series.filter(t=>{var i,o;return(!e.name||(null==t?void 0:t.name)===e.name)&&(!e.userId||Eu(e.userId).includes(t.userId))&&(!uu(e.specIndex)||Eu(e.specIndex).includes(t.getSpecIndex()))&&(!e.id||t.id===e.id)&&(!e.type||t.type===e.type)&&(!e.coordinateType||t.coordinate===e.coordinateType)&&(!e.dataName||(null===(o=null===(i=t.getRawData)||void 0===i?void 0:i.call(t))||void 0===o?void 0:o.name)===e.dataName)})}getSeriesInName(e){return this.getSeries({name:e})[0]}getSeriesInUserId(e){return this.getSeries({userId:e})[0]}getSeriesInId(e){return this.getSeries({id:e})[0]}getSeriesInType(e){return this.getSeries({type:e})}getSeriesInCoordinateType(e){return this.getSeries({coordinateType:e})}getSeriesInDataName(e){return this.getSeries({dataName:e})}initSeriesDataflow(){const e=this._series.map(e=>{var t;return null!==(t=e.getViewDataFilter())&&void 0!==t?t:e.getViewData()}).filter(e=>!!e);this._option.dataSet.multipleDataViewAddListener(e,"change",this.seriesDataFilterOver)}release(){super.release(),this._series=[]}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e,context:{model:this}})})}compile(){this.compileMarks()}onLayoutEnd(){this._series.forEach(e=>e.onLayoutEnd()),super.onLayoutEnd()}}function wF(e){const t=[],i=[],o=[];return e.forEach(e=>{yu(e.getSpec().position)||"start"===e.getSpec().position?t.push(e):"middle"===e.getSpec().position?i.push(e):"end"===e.getSpec().position&&o.push(e)}),{startItems:t,endItems:o,middleItems:i}}function LF(e,t,i){t?e.forEach(e=>{const t=Du(e),o=t.getLayoutStartPoint().y+t.getLayoutRect().height-e[0].getLayoutStartPoint().y,l=(i-o)/2;e.forEach(e=>{e.setLayoutStartPosition({x:e.getLayoutStartPoint().x,y:e.getLayoutStartPoint().y+l})})}):e.forEach(e=>{const t=Du(e),o=t.getLayoutStartPoint().x+t.getLayoutRect().width-e[0].getLayoutStartPoint().x,l=(i-o)/2;e.forEach(e=>{e.setLayoutStartPosition({x:e.getLayoutStartPoint().x+l,y:e.getLayoutStartPoint().y})})})}function FF(e,t,i,o){let l;e.forEach((e,n)=>{e.length>1&&(l=i[n],e.forEach(e=>{if(!e.alignSelf||"start"===e.alignSelf)return;const i=e.getLayoutStartPoint(),n="middle"===e.alignSelf?.5:1,r=t?l-(e.getLayoutRect().width+e.layoutPaddingLeft+e.layoutPaddingRight):l-(e.getLayoutRect().height+e.layoutPaddingTop+e.layoutPaddingBottom);t?e.setLayoutStartPosition({x:i.x+o*r*n,y:i.y}):e.setLayoutStartPosition({x:i.x,y:i.y+o*r*n})}))})}function TF(e,t,i,o,l,n){if(e.length){let r=0;const a="right"===l,s=a?-1:1;let h=a?t.rightCurrent:t.leftCurrent,d=t.topCurrent;const c=[];let p=[];const y=[];e.forEach(e=>{const{rect:o}=MF(e,t,n),l=o.height+e.layoutPaddingTop+e.layoutPaddingBottom,u=o.width+e.layoutPaddingLeft+e.layoutPaddingRight,g=a?-o.width-e.layoutPaddingRight:e.layoutPaddingLeft;e.setLayoutStartPosition({x:h+e.layoutOffsetX+g,y:d+e.layoutOffsetY+e.layoutPaddingTop}),d+=l,d>i&&p.length?(y.push(r),h+=s*r,r=u,d=t.topCurrent+l,e.setLayoutStartPosition({x:h+e.layoutOffsetX+g,y:t.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),c.push(p),p=[e]):(r=Math.max(r,u),p.push(e))}),y.push(r),c.push(p),FF(c,!0,y,s),o&&LF(c,!0,i),a?t.rightCurrent=h+s*r:t.leftCurrent=h+s*r}}function AF(e,t,i,o,l){if(e.length){let i=0;const n="right"===o,r=n?-1:1;let a=n?t.rightCurrent:t.leftCurrent,s=t.bottomCurrent;const h=[];let d=[];const c=[];e.forEach(e=>{const{rect:o}=MF(e,t,l),p=o.height+e.layoutPaddingTop+e.layoutPaddingBottom,y=o.width+e.layoutPaddingLeft+e.layoutPaddingRight,u=n?-o.width-e.layoutPaddingRight:e.layoutPaddingLeft;s<p&&d.length?(c.push(i),a+=r*i,i=y,s=t.bottomCurrent,e.setLayoutStartPosition({x:a+e.layoutOffsetX+u,y:s+e.layoutOffsetY-o.height-e.layoutPaddingBottom}),h.push(d),d=[e]):(e.setLayoutStartPosition({x:a+e.layoutOffsetX+u,y:s+e.layoutOffsetY-o.height-e.layoutPaddingBottom}),i=Math.max(i,y),s-=p,d.push(e))}),c.push(i),h.push(d),FF(h,!0,c,r),n?t.rightCurrent=a+r*i:t.leftCurrent=a+r*i}}function zF(e,t,i,o,l,n){if(e.length){const r="top"===l,a=r?1:-1;let s=0,h=t.leftCurrent,d=r?t.topCurrent:t.bottomCurrent;const c=[];let p=[];const y=[];e.forEach(e=>{const{rect:o}=MF(e,t,n),l=o.height+e.layoutPaddingTop+e.layoutPaddingBottom,u=o.width+e.layoutPaddingLeft+e.layoutPaddingRight,g=r?e.layoutPaddingTop:-o.height-e.layoutPaddingBottom;e.setLayoutStartPosition({x:h+e.layoutOffsetX+e.layoutPaddingLeft,y:d+e.layoutOffsetY+g}),h+=u,h>i&&p.length?(y.push(s),h=t.leftCurrent+u,d+=a*s,s=l,e.setLayoutStartPosition({x:t.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft,y:d+e.layoutOffsetY+g}),c.push(p),p=[e]):(s=Math.max(s,l),p.push(e))}),y.push(s),c.push(p),FF(c,!1,y,a),o&&LF(c,!1,i),r?t.topCurrent=d+a*s:t.bottomCurrent=d+a*s}}function BF(e,t,i,o,l){if(e.length){const i="top"===o,n=i?1:-1;let r=0,a=t.rightCurrent,s=i?t.topCurrent:t.bottomCurrent;const h=[];let d=[];const c=[];e.forEach(e=>{const{rect:o}=MF(e,t,l),c=o.height+e.layoutPaddingTop+e.layoutPaddingBottom,p=o.width+e.layoutPaddingLeft+e.layoutPaddingRight,y=i?e.layoutPaddingTop:-o.height-e.layoutPaddingBottom;a<p&&d.length?(a=t.rightCurrent,s+=n*r,r=c,e.setLayoutStartPosition({x:t.rightCurrent+e.layoutOffsetX-o.width-e.layoutPaddingRight,y:s+e.layoutOffsetY+y}),h.push(d),d=[e]):(d.push(e),e.setLayoutStartPosition({x:a+e.layoutOffsetX-o.width-e.layoutPaddingRight,y:s+e.layoutOffsetY+y}),r=Math.max(r,c),a-=p)}),c.push(r),h.push(d),FF(h,!1,c,n),i?t.topCurrent=s+n*r:t.bottomCurrent=s+n*r}}function MF(e,t,i,o=!0){let l,n,r="recomputeHeight",a="recomputeWidth",s="width";"top"!==e.layoutOrient&&"bottom"!==e.layoutOrient||(r="recomputeWidth",a="recomputeHeight",s="height");let h=!(!e.willLayoutTag&&!1===i[r]);if(h){const r=Object.assign({},e.getLayoutRect()),d=e.lastComputeRect;l=t.getItemComputeLayoutRect(e),!e.willLayoutTag&&Ru(l,d)?(h=!1,n=e.getLayoutRect()):(n=e.computeBoundsInRect(l),Ru(r[s],n[s])?h=!1:(o&&e.setLayoutRect(n),i[a]=!0))}else l=e.getLastComputeOutBounds(),n=e.getLayoutRect();return{layoutRect:l,rect:n,layoutTag:h}}_F.type="region",_F.transformerConstructor=xF,_F.specKey="region";class OF{constructor(e,t){this.leftCurrent=0,this.topCurrent=0,this.rightCurrent=0,this.bottomCurrent=0,this.recomputeWidth=!1,this.recomputeHeight=!1,this._onError=null==t?void 0:t.onError}_layoutInit(e,t,i,o){this._chartLayoutRect=i,this._chartViewBox=o,this.leftCurrent=i.x,this.topCurrent=i.y,this.rightCurrent=i.x+i.width,this.bottomCurrent=i.height+i.y,this.recomputeWidth=!1,this.recomputeHeight=!1,t.sort((e,t)=>t.layoutLevel-e.layoutLevel)}_layoutNormalItems(e,t){this.layoutNormalInlineItems(e.filter(e=>"normal-inline"===e.layoutType),t),this.layoutNormalItems(e.filter(e=>"normal"===e.layoutType),t)}_groupItems(e){const t=e.filter(e=>"region"===e.layoutType),i=e.filter(e=>"region-relative"===e.layoutType),o=e.filter(e=>"region-relative-overlap"===e.layoutType),l=i.concat(o),n={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}};return o.forEach(e=>{n[e.layoutOrient].items.push(e)}),{regionItems:t,relativeItems:i,relativeOverlapItems:o,allRelatives:l,overlapItems:n}}layoutItems(e,t,i,o){this._layoutInit(e,t,i,o);const l={recomputeWidth:this.recomputeWidth,recomputeHeight:this.recomputeHeight};this._layoutNormalItems(t,l);const n={left:this.leftCurrent,top:this.topCurrent,right:this.rightCurrent,bottom:this.bottomCurrent},{regionItems:r,relativeItems:a,relativeOverlapItems:s,allRelatives:h,overlapItems:d}=this._groupItems(t);this.layoutRegionItems(r,a,s,d,l),this._processAutoIndent(r,a,s,d,h,n,l),this.layoutAbsoluteItems(t.filter(e=>"absolute"===e.layoutType)),t.forEach(e=>{e.clearWillLayoutTag()})}_processAutoIndent(e,t,i,o={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},l,n,r){if(l.some(e=>e.autoIndent)){const{top:a,bottom:s,left:h,right:d}=this._checkAutoIndent(l,n);(a||s||h||d)&&(this.topCurrent=n.top+a,this.bottomCurrent=n.bottom-s,this.leftCurrent=n.left+h,this.rightCurrent=n.right-d,this.layoutRegionItems(e,t,i,o,r))}}layoutNormalItems(e,t){e.forEach(e=>{const{rect:i}=MF(e,this,t);"left"===e.layoutOrient?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.leftCurrent+=i.width+e.layoutPaddingLeft+e.layoutPaddingRight):"top"===e.layoutOrient?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.topCurrent+=i.height+e.layoutPaddingTop+e.layoutPaddingBottom):"right"===e.layoutOrient?(e.setLayoutStartPosition({x:this.rightCurrent+e.layoutOffsetX-i.width-e.layoutPaddingRight,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.rightCurrent-=i.width+e.layoutPaddingLeft+e.layoutPaddingRight):"bottom"===e.layoutOrient&&(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingRight,y:this.bottomCurrent+e.layoutOffsetY-i.height-e.layoutPaddingBottom}),this.bottomCurrent-=i.height+e.layoutPaddingTop+e.layoutPaddingBottom)})}layoutNormalInlineItems(e,t){const i=e.filter(e=>"left"===e.layoutOrient),o=e.filter(e=>"right"===e.layoutOrient),l=e.filter(e=>"top"===e.layoutOrient),n=e.filter(e=>"bottom"===e.layoutOrient),r=this._chartLayoutRect.width+this._chartLayoutRect.x,a=this._chartLayoutRect.height+this._chartLayoutRect.y;return i.length&&function(e,t,i,o){const{startItems:l,middleItems:n,endItems:r}=wF(e);l.length&&TF(l,t,i,!1,"left",o),n.length&&TF(n,t,i,!0,"left",o),r.length&&AF(r,t,0,"left",o)}(i,this,a,t),l.length&&function(e,t,i,o){const{startItems:l,middleItems:n,endItems:r}=wF(e);l.length&&zF(l,t,i,!1,"top",o),n.length&&zF(n,t,i,!0,"top",o),r.length&&BF(r,t,0,"top",o)}(l,this,r,t),o.length&&function(e,t,i,o){const{startItems:l,middleItems:n,endItems:r}=wF(e);l.length&&TF(l,t,i,!1,"right",o),n.length&&TF(n,t,i,!0,"right",o),r.length&&AF(r,t,0,"right",o)}(o,this,a,t),n.length&&function(e,t,i,o){const{startItems:l,middleItems:n,endItems:r}=wF(e);l.length&&zF(l,t,i,!1,"bottom",o),n.length&&zF(n,t,i,!0,"bottom",o),r.length&&BF(r,t,0,"bottom",o)}(n,this,r,t),!0}_layoutRelativeOverlap(e,t,i){t.items.forEach(e=>{const{rect:o}=MF(e,this,i);t.rect.width=Math.max(o.width+e.layoutPaddingLeft+e.layoutPaddingRight,t.rect.width),t.rect.height=Math.max(o.height+e.layoutPaddingTop+e.layoutPaddingBottom,t.rect.height)}),t.items.forEach(i=>{Ru(i.getLayoutRect(),t.rect)||i.setLayoutRect(t.rect),"left"===e?i.setLayoutStartPosition({x:this.leftCurrent+i.layoutOffsetX}):"right"===e?i.setLayoutStartPosition({x:this.rightCurrent-t.rect.width+i.layoutOffsetX}):"top"===e?i.setLayoutStartPosition({x:this.topCurrent+i.layoutOffsetY}):i.setLayoutStartPosition({x:this.bottomCurrent-t.rect.height+i.layoutOffsetY})}),"left"===e?this.leftCurrent+=t.rect.width:"right"===e?this.rightCurrent-=t.rect.width:"top"===e?this.topCurrent+=t.rect.height:this.bottomCurrent-=t.rect.height}_layoutRelativeItem(e,t){const{rect:i}=MF(e,this,t,!1);"left"===e.layoutOrient||"right"===e.layoutOrient?e.setLayoutRect({width:i.width}):e.setLayoutRect({height:i.height}),"left"===e.layoutOrient?(e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft}),this.leftCurrent+=i.width+e.layoutPaddingLeft+e.layoutPaddingRight):"right"===e.layoutOrient?(this.rightCurrent-=i.width+e.layoutPaddingLeft+e.layoutPaddingRight,e.setLayoutStartPosition({x:this.rightCurrent+e.layoutOffsetX+e.layoutPaddingLeft})):"top"===e.layoutOrient?(e.setLayoutStartPosition({y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop}),this.topCurrent+=i.height+e.layoutPaddingTop+e.layoutPaddingBottom):"bottom"===e.layoutOrient&&(this.bottomCurrent-=i.height+e.layoutPaddingTop+e.layoutPaddingBottom,e.setLayoutStartPosition({y:this.bottomCurrent+e.layoutOffsetY+e.layoutPaddingTop}))}_layoutRegionItem(e,t,i){const o=Math.max(Math.min(t,...e.map(e=>{var t;return null!==(t=e.maxWidth)&&void 0!==t?t:Number.MAX_VALUE})),0),l=Math.max(Math.min(i,...e.map(e=>{var t;return null!==(t=e.maxHeight)&&void 0!==t?t:Number.MAX_VALUE})),0);return e.forEach(e=>{const t=o-e.layoutPaddingLeft-e.layoutPaddingRight,i=l-e.layoutPaddingTop-e.layoutPaddingBottom;e.setLayoutRect({width:t,height:i}),e.setLayoutStartPosition({x:this.leftCurrent+e.layoutOffsetX+e.layoutPaddingLeft,y:this.topCurrent+e.layoutOffsetY+e.layoutPaddingTop})}),{regionHeight:l,regionWidth:o}}layoutRegionItems(e,t,i,o={left:{items:[],rect:{width:0,height:0}},right:{items:[],rect:{width:0,height:0}},top:{items:[],rect:{width:0,height:0}},bottom:{items:[],rect:{width:0,height:0}},z:{items:[],rect:{width:0,height:0}}},l){let n=this.rightCurrent-this.leftCurrent,r=this.bottomCurrent-this.topCurrent;t.filter(e=>"left"===e.layoutOrient||"right"===e.layoutOrient).forEach(e=>{this._layoutRelativeItem(e,l)}),this._layoutRelativeOverlap("left",o.left,l),this._layoutRelativeOverlap("right",o.right,l),n=this.rightCurrent-this.leftCurrent,t.filter(e=>"top"===e.layoutOrient||"bottom"===e.layoutOrient).forEach(e=>{this._layoutRelativeItem(e,l)}),this._layoutRelativeOverlap("top",o.top,l),this._layoutRelativeOverlap("bottom",o.bottom,l),r=this.bottomCurrent-this.topCurrent;const{regionWidth:a,regionHeight:s}=this._layoutRegionItem(e,n,r);t.concat(i).forEach(t=>{if(["left","right"].includes(t.layoutOrient)){const i=this.filterRegionsWithID(e,t.layoutBindRegionID[0]);t.setLayoutRect({height:i.getLayoutRect().height}),t.setLayoutStartPosition({y:i.getLayoutStartPoint().y+t.layoutOffsetY+t.layoutPaddingTop}),"right"===t.layoutOrient&&t.setLayoutStartPosition({x:t.getLayoutStartPoint().x+a-n})}else if(["top","bottom"].includes(t.layoutOrient)){const i=this.filterRegionsWithID(e,t.layoutBindRegionID[0]);t.setLayoutRect({width:i.getLayoutRect().width}),t.setLayoutStartPosition({x:i.getLayoutStartPoint().x+t.layoutOffsetX+t.layoutPaddingLeft}),"bottom"===t.layoutOrient&&t.setLayoutStartPosition({y:t.getLayoutStartPoint().y+s-r})}})}layoutAbsoluteItems(e){e.forEach(e=>{e.willLayoutTag&&e.absoluteLayoutInRect(this._chartLayoutRect)})}filterRegionsWithID(e,t){var i;const o=e.find(e=>e.getModelId()===t);return o||(null!==(i=this._onError)&&void 0!==i?i:wg)("can not find target region item, invalid id"),o}getItemComputeLayoutRect(e){return{width:this.rightCurrent-this.leftCurrent-e.layoutPaddingLeft-e.layoutPaddingRight,height:this.bottomCurrent-this.topCurrent-e.layoutPaddingTop-e.layoutPaddingBottom}}_checkAutoIndent(e,t){const i={top:0,left:0,bottom:0,right:0};return e.forEach(e=>{if(!e.getModelVisible()||!e.autoIndent)return;const o="left"===e.layoutOrient||"right"===e.layoutOrient,l=e.getLastComputeOutBounds(),n=this._getOutInLayout(l,e,t);o?(i.top=Math.max(i.top,n.top),i.bottom=Math.max(i.bottom,n.bottom)):(i.left=Math.max(i.left,n.left),i.right=Math.max(i.right,n.right))}),i}_getOutInLayout(e,t,i){const{x:o,y:l}=t.getLayoutStartPoint(),{width:n,height:r}=t.getLayoutRect();return{left:i.left-(o-e.x1),right:o+n+e.x2-i.right,top:i.top-(l-e.y1),bottom:l+r+e.y2-i.bottom}}}OF.type="base",function(e){e.enter="enter",e.update="update",e.exit="exit",e.unChange="unChange"}(fF||(fF={})),function(e){e.STATE_NORMAL="normal",e.STATE_HOVER="hover",e.STATE_HOVER_REVERSE="hover_reverse",e.STATE_DIMENSION_HOVER="dimension_hover",e.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",e.STATE_SELECTED="selected",e.STATE_SELECTED_REVERSE="selected_reverse",e.STATE_SANKEY_EMPHASIS="selected",e.STATE_SANKEY_EMPHASIS_REVERSE="blur",e.STATE_HIGHLIGHT="highlight",e.STATE_BLUR="blur",e.STATE_ACTIVE="active"}(kF||(kF={})),function(e){e.STATE_HOVER_REVERSE="hover_reverse",e.STATE_DIMENSION_HOVER_REVERSE="dimension_hover_reverse",e.STATE_SELECTED_REVERSE="selected_reverse"}(mF||(mF={}));const WF=["linear","radial","conical"],RF={linear:{x0:0,y0:0,x1:1,y1:1},radial:{x0:0,y0:0,x1:1,y1:1,r0:0,r1:1},conical:{x:.5,y:.5,startAngle:0,endAngle:2*Math.PI}};const HF={};Object.values(kF).forEach(e=>{HF[e]=!0}),kF.STATE_HOVER,kF.STATE_HOVER_REVERSE,kF.STATE_SELECTED,kF.STATE_SELECTED_REVERSE,kF.STATE_DIMENSION_HOVER,kF.STATE_DIMENSION_HOVER_REVERSE;class PF extends uF{compile(){}getStateMap(){return this._stateMap}_getDefaultStateMap(){return{}}constructor(e){super(e),this.initStateMap()}initStateMap(e){this._stateMap=null!=e?e:this._getDefaultStateMap()}updateState(e,t){if(e&&(Bu(this._stateMap,e),!t))return this.getCompiler().renderNextTick()}}class EF extends PF{getStateInfoList(){return this._stateInfoList}constructor(e,t){super(e),this._stateInfoList=[],this._mark=t}_getDefaultStateMap(){return{markUpdateRank:1}}getStateInfo(e){return this._stateInfoList.find(t=>t.stateValue===e)}addStateInfo(e){if(this.getStateInfo(e.stateValue))return;e.level=e.level||0;let t=!0;for(let i=0;i<this._stateInfoList.length;i++){const o=this._stateInfoList[i].level;if(o&&o>e.level){this._stateInfoList.splice(i,0,e),t=!1;break}}t&&this._stateInfoList.push(e)}_clearStateBeforeSet(e){e.datums=null,e.items=null,e.fields=null,e.filter=null}changeStateInfo(e){const t=this.getStateInfo(e.stateValue);if(t){if(void 0!==e.datums&&(this._clearStateBeforeSet(t),t.datums=e.datums,t.datumKeys=e.datumKeys),void 0!==e.items&&(this._clearStateBeforeSet(t),t.items=e.items),void 0!==e.fields)if(this._clearStateBeforeSet(t),null===e.fields)t.fields=e.fields;else{t.fields=t.fields||{};for(const i in e.fields){const o=e.fields[i];t.fields[i]=t.fields[i]||{};const l=t.fields[i];uu(o.domain)&&(l.domain=o.domain),uu(o.type)&&(l.type=o.type)}}e.filter&&(this._clearStateBeforeSet(t),t.filter=e.filter)}else this.addStateInfo(e)}clearStateInfo(e){e.forEach(e=>{this.getStateInfo(e)&&this.changeStateInfo({stateValue:e,datumKeys:null,datums:null,fields:null,items:null,filter:null,cache:{}})})}_isMultiMark(){return!this._mark||function(e){return JL.includes(e)}(this._mark.type)}checkOneState(e,t,i){var o;let l=!1,n=!1;if(uu(i.datums)&&i.datums.length>0)l=this.checkDatumState(i,t),n=!0;else if(i.items)l=null!==(o=this.checkItemsState(i,e))&&void 0!==o&&o,n=!0;else if(i.fields)l=this.checkFieldsState(i,t,e),n=!0;else if(!l&&i.filter){const o={mark:this._mark,renderNode:e,type:this._mark.type};l=i.filter(null==t?void 0:t[0],o),n=!0}return n?l?"in":"out":"skip"}checkState(e,t){var i;const o=(null!==(i=e.context.states)&&void 0!==i?i:[]).filter(e=>!!HF[e]).map(e=>[e,10]);for(let l=0;l<this._stateInfoList.length;l++){const i=this._stateInfoList[l],n=this.checkOneState(e,t,i);"skip"!==n&&"in"===n&&o.push([i.stateValue,i.level])}return o.map(e=>e[0])}checkDatumState(e,t){let i=!1;const o=t[0];if(bu(e.datums)){const t=this._isMultiMark(),l=e.datumKeys||Object.keys(e.datums[0]).filter(e=>!e.startsWith(Jw));i=e.datums.some(e=>t&&bu(null==e?void 0:e.items)?l.every(t=>{var i,l;return(null===(l=null===(i=null==e?void 0:e.items)||void 0===i?void 0:i[0])||void 0===l?void 0:l[t])===(null==o?void 0:o[t])}):l.every(t=>(null==e?void 0:e[t])===(null==o?void 0:o[t])))}else if(gu(e.datums)){const t=e.datumKeys||Object.keys(e.datums).filter(e=>!e.startsWith(Jw)),l=this._isMultiMark();i=t.every(t=>{var i,n;return l?(null===(i=e.datums.items)||void 0===i?void 0:i[0][t])===o[t]:(null===(n=e.datums)||void 0===n?void 0:n[t])===o[t]})}else i=t===e.datums;return i}checkItemsState(e,t){var i;return null===(i=e.items)||void 0===i?void 0:i.includes(t)}checkFieldsState(e,t,i){var o;let l=!0;for(const n in e.fields){const r=e.fields[n],a=r.type,s=r.domain,h=null===(o=t[0])||void 0===o?void 0:o[n];if(f_(a)&&s.length>1){if(this.checkLinearFieldState(s,n,t,i)){l=!1;break}l=!0}else{if(!s.some(e=>e===h)){l=!1;break}l=!0}}return l}checkLinearFieldState(e,t,i,o){var l;const n=this._isMultiMark()?null===(l=i[0])||void 0===l?void 0:l[t]:i[t];return n<e[0]||n>e[e.length-1]}release(){}}class DF extends uF{constructor(){super(...arguments),this.id=Og(),this._compiledProductId=null}getProductId(){var e;return null!==(e=this._compiledProductId)&&void 0!==e?e:this.generateProductId()}compile(e){this._compileProduct(e)}setTransform(e){this._transform=e}runTransforms(e,t){if(!e||!e.length)return t;let i=t;return e.forEach(e=>{var t;i=null===(t=Ow.getGrammarTransform(e.type))||void 0===t?void 0:t.transform(e,i)}),i}}class IF extends DF{getProduct(){return this._product||(this._product=this.runTransforms(this._transform,this.getLatestData())),this._product}getDataView(){return this._data}setDataView(e){this._data=e}getLatestData(){var e;return null===(e=this._data)||void 0===e?void 0:e.latestData}constructor(e,t){super(e),this._data=null,this._data=t}removeProduct(){this._product=null,this._prevProduct=null,this._compiledProductId=null}release(){this.removeProduct(),super.release(),this._data=null}addRelatedMark(e){this._relatedMarks||(this._relatedMarks={}),this._relatedMarks[e.id]=e}updateData(e){if(this._compileProduct(),this._relatedMarks){let t=!1;if(Object.keys(this._relatedMarks).forEach(e=>{this._relatedMarks[e]&&(t=!0,this._relatedMarks[e].commit())}),!e&&t)return this.getCompiler().renderNextTick()}}_compileProduct(){this._prevProduct=this._product,this._product=null}generateProductId(){var e;return`${null===(e=this.getDataView())||void 0===e?void 0:e.name}`}}const jF=(e,t,i,o)=>"function"==typeof e?e(t,i,o):e,NF=(e,t,i,o,l)=>{var n;const r={prev:e.map(e=>{var t,i;return null===(i=null===(t=e.context)||void 0===t?void 0:t.data)||void 0===i?void 0:i[0]}),next:t.map(e=>{var t,i;return null===(i=null===(t=e.context)||void 0===t?void 0:t.data)||void 0===i?void 0:i[0]})},a={prev:e.slice(),next:t.slice()},s=null!==(n=i.animation)&&void 0!==n?n:{},h=s.easing,d=jF(s.delay,l,r,a),c=jF(s.duration,l,r,a),p=jF(s.oneByOne,l,r,a),y=jF(s.splitPath,l,r,a),u=Su(p)&&p>0?e=>Cu(p)?e*p:!0===p?e*c:0:void 0;1!==e.length&&0!==e.length||1!==t.length?1===e.length&&t.length>1?((e,t,i)=>{var o;const l=t.filter(e=>e&&e.toCustomPath&&e.valid);l.length||__DEV__&&console.error(l," is not validate"),e.valid&&e.toCustomPath||__DEV__&&console.error(e," is not validate");const n=("clone"===(null==i?void 0:i.splitPath)?vC:null!==(o=null==i?void 0:i.splitPath)&&void 0!==o?o:CC)(e,l.length,!1),r=null==i?void 0:i.onEnd;let a=l.length;const s=()=>{a--,0===a&&r&&r()};l.forEach((t,o)=>{var r;const a=n[o],h=(null!==(r=null==i?void 0:i.delay)&&void 0!==r?r:0)+((null==i?void 0:i.individualDelay)?i.individualDelay(o,l.length,a,t):0);fC(a,t,Object.assign({},i,{onEnd:s,delay:h}),e.globalTransMatrix)})})(e[0],t,{delay:d,duration:c,easing:h,onEnd:o,individualDelay:u,splitPath:y}):e.length>1&&1===t.length&&((e,t,i)=>{var o,l,n;const r=e.filter(e=>e.toCustomPath&&e.valid);r.length||__DEV__&&console.error(e," is not validate"),t.valid&&t.toCustomPath||__DEV__&&console.error(t," is not validate");const a=("clone"===(null==i?void 0:i.splitPath)?vC:null!==(o=null==i?void 0:i.splitPath)&&void 0!==o?o:CC)(t,r.length,!0),s=t.attribute;t.setAttribute("visible",!1);const h=r.map((e,t)=>pC(e.toCustomPath(),a[t].toCustomPath(),{fromTransform:e.globalTransMatrix,toTransfrom:a[t].globalTransMatrix})),d=r.map((e,t)=>uC(e.attribute,s));if(null==i?void 0:i.individualDelay){const o=i.onEnd;let l=r.length;const n=()=>{l--,0===l&&(t.setAttributes({visible:!0,ratio:null},!1,{type:Ji.ANIMATE_END}),t.detachShadow(),o&&o())};a.forEach((t,o)=>{var l,a,s;const c=(null!==(l=i.delay)&&void 0!==l?l:0)+i.individualDelay(o,r.length,e[o],t),p=t.animate(Object.assign({},i,{onEnd:n}));p.wait(c),p.play(new gC({morphingData:h[o],saveOnEnd:!0,otherAttrs:d[o]},null!==(a=i.duration)&&void 0!==a?a:aC,null!==(s=i.easing)&&void 0!==s?s:sC))})}else{const e=null==i?void 0:i.onEnd,o=i?Object.assign({},i):{};o.onEnd=()=>{t.setAttribute("visible",!0,!1,{type:Ji.ANIMATE_END}),t.detachShadow(),e&&e()};const r=t.animate(o);(null==i?void 0:i.delay)&&r.wait(i.delay),r.play(new kC({morphingData:h,otherAttrs:d},null!==(l=null==i?void 0:i.duration)&&void 0!==l?l:aC,null!==(n=null==i?void 0:i.easing)&&void 0!==n?n:sC))}})(e,t[0],{delay:d,duration:c,easing:h,onEnd:o,individualDelay:u,splitPath:y}):fC(e[0],t[0],{delay:d,duration:c,easing:h,onEnd:o})},GF=(e,t)=>{const i=Math.floor(e.length/t);return new Array(t).fill(0).map((o,l)=>e.slice(i*l,l===t-1?e.length:i*(l+1)))},UF=e=>{const t=e.getMarkConfig();uu(t.morphElementKey)&&e.getGraphics().forEach(e=>{var i,o;const l=null===(o=null===(i=e.context)||void 0===i?void 0:i.data)||void 0===o?void 0:o[0];l&&(e.context.morphKey=l[t.morphElementKey])})};var VF=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class YF extends DF{commit(e,t){t&&this.getMarks().length>0&&this.getMarks().forEach(e=>e.commit(!1,t)),this._isCommited=!0,e&&this.getCompiler().renderNextTick()}uncommit(){this._isCommited=!1}isCommited(){return this._isCommited}getMarkConfig(){return this._markConfig}setMarkConfig(e){Object.keys(e).forEach(t=>{this._markConfig[t]=e[t]})}getVisible(){return this._visible}setVisible(e){this._visible=e}getUserId(){return this._userId}setUserId(e){uu(e)&&(this._userId=e)}getDataView(){var e;return null===(e=this._data)||void 0===e?void 0:e.getDataView()}setDataView(e){yu(this._data)&&this.initMarkData(this._option),this._data.setDataView(e)}getData(){return this._data}setData(e){this._data=e,e&&e.addRelatedMark(this)}hasState(e){return e in this.state.getStateMap()}getState(e){return this.state.getStateMap()[e]}getAnimationConfig(){return this._animationConfig}setAnimationConfig(e){const t="group"===this.type?{selfOnly:!0}:{},i=e=>{var i;const o=null!==(i=e.options)&&void 0!==i?i:{};return Object.assign(Object.assign(Object.assign({},t),e),{options:(e,t,i)=>{var l,n;const r="function"==typeof o?o(e,t,i):o;if(t&&t.context&&t.context.compiler&&uu(t.context.modelId)){const e=null===(l=t.context.compiler.getChart())||void 0===l?void 0:l.getModelById(t.context.modelId);return Object.assign(Object.assign({},r),{layoutRect:null===(n=null==e?void 0:e.getLayoutRect)||void 0===n?void 0:n.call(e)})}return Object.assign({},r)}})},o={};Object.keys(e).forEach(t=>{const l=e[t];bu(l)?o[t]=l.map(i):uu(l)&&(o[t]=i(l))}),this._animationConfig=o}disableAnimationByState(e){const t=Eu(e);this._disabledAnimationStates=[...new Set([...this._disabledAnimationStates,...t])]}enableAnimationByState(e){const t=Eu(e);this._disabledAnimationStates=this._disabledAnimationStates.filter(e=>!t.includes(e))}setSkipBeforeLayouted(e){this._skipBeforeLayouted=e}setGroupKey(e){this._groupKey=e}getProduct(){return this._product}initMarkData(e){this._data=new IF(e),this._data.addRelatedMark(this)}_compileProduct(e){this.commit(),this._context=null==e?void 0:e.context;const t=this.getProduct();if(this._visible){if(uu(t))e.group&&t.parent!==e.group&&e.group.appendChild(t);else{if(!this.getCompiler().isInited)return;this._initProduct(null==e?void 0:e.group)}yu(this._product)||(this.compileData(),this.compileState(),this.compileEncode())}else uu(t)&&this.removeProduct()}_initProduct(e){var t;if(!this.getStage())return;const i=this.getProductId();this._product=Ps("group"!==this.type?{pickable:!1,zIndex:this._markConfig.zIndex,overflow:this._markConfig.overflow}:{}),this._product.name=i,this._product.mark=this,(null!=e?e:null===(t=this.getCompiler())||void 0===t?void 0:t.getRootGroup()).appendChild(this._product),this._compiledProductId=i}generateProductId(){return this._userId?`${this._userId}`:`${this.name}_${this.id}`}layout(e){}compileData(){yu(this._data)||this._data.compile()}compileEncode(){}compileState(){}compileAnimation(){}compileContext(e){this._context=Object.assign({markId:this.id,modelId:this.model.id,markUserId:this._userId,modelUserId:this.model.userId},e)}getContext(){return this._context}compileTransform(){}updateState(e,t){return this.commit(),this.state.updateState(e,t)}getMarks(){return[]}runAnimationByState(e){}stopAnimationByState(e){}pauseAnimationByState(e){}resumeAnimationByState(e){}removeProduct(){this._product&&this._product.parent&&this._product.parent.removeChild(this._product),this._product=null,this._compiledProductId=null}release(){this.state.release(),super.release(),this._lastMark=null}setSimpleStyle(e){this._simpleStyle=e}getSimpleStyle(){return this._simpleStyle}constructor(e,t){var i;super(t),this.type=void 0,this.name="mark",this._markConfig={zIndex:dF.Mark,morph:!1},this._visible=!0,this.stateStyle={},this._unCompileChannel={},this._disabledAnimationStates=[],this._skipBeforeLayouted=!1,this._extensionChannel={},this._computeExChannel={},this._graphicMap=new Map,this._graphics=[],this._getEncoderOfStyle=(e,t)=>{if(t&&e){const i={};return Object.keys(t).forEach(t=>{this._unCompileChannel[t]||(i[t]=this._computeAttribute(t,e))}),i}return null},this._setGraphicFromMarkConfig=e=>{const{setCustomizedShape:t,graphicName:i}=this._markConfig;t&&(e.pathProxy=i=>t(e.context.data,i,new Zo)),i&&(pu(i)?e.name=i(e):e.name=i)},this._setStateOfGraphic=e=>{e.clearStates(),e.stateProxy=null,e.context.diffState!==fF.enter&&e.context.diffState!==fF.update||(e.stateProxy=(t,i)=>{var o;return this._runEncoderOfGraphic(null===(o=this._encoderOfState)||void 0===o?void 0:o[t],e)},e.context.states&&e.useStates(e.context.states))},this.name=e,this.model=t.model,this.key=t.key,this.state=new EF(t,this),this._attributeContext=t.attributeContext,null===(i=t.map)||void 0===i||i.set(this.id,this)}created(){this._initStyle()}initStyleWithSpec(e){e&&(uu(e.id)&&(this._userId=e.id),cu(e.interactive)&&(this._markConfig.interactive=e.interactive),uu(e.zIndex)&&(this._markConfig.zIndex=e.zIndex),cu(e.visible)&&this.setVisible(e.visible),this._markConfig.setCustomizedShape=e.customShape,this._stateSort=e.stateSort,this._initSpecStyle(e))}_transformStyleValue(e,t){if(e.scale){const i=e.scale,o=i.range();return i.range(o.map(t)),e}return"function"==typeof e?(...i)=>t(e(...i)):t(e)}convertAngleToRadian(e){return this._transformStyleValue(e,ig)}isUserLevel(e){return[pF.User_Mark,pF.User_Series,pF.User_Chart,pF.User_SeriesStyle].includes(e)}setStyle(e,t="normal",i=0){if(yu(e))return;void 0===this.stateStyle[t]&&(this.stateStyle[t]={});const o=this.isUserLevel(i);Object.keys(e).forEach(l=>{let n=e[l];yu(n)||(n=this._filterAttribute(l,n,t,i,o),this.setAttribute(l,n,t,i))})}getStyle(e,t="normal"){var i;return null===(i=this.stateStyle[t][e])||void 0===i?void 0:i.style}_filterAttribute(e,t,i,o,l){let n=this._styleConvert(t);if(l)switch(e){case"angle":n=this.convertAngleToRadian(n);break;case"innerPadding":case"outerPadding":n=this._transformStyleValue(n,e=>-e);break;case"curveType":n=this._transformStyleValue(n,e=>function(e,t){return"monotone"===e?"horizontal"===t?"monotoneY":"monotoneX":e}(e,this._option.model.direction))}return n}setReferer(e,t,i){var o;if(e)if(t&&i){const l=null!==(o=this.stateStyle[i])&&void 0!==o?o:{[t]:{}};this.stateStyle[i][t]=Object.assign(Object.assign({},l[t]),{referer:e})}else Object.entries(this.stateStyle).forEach(([t,i])=>{Object.entries(i).forEach(([i,o])=>{this.stateStyle[t][i].referer=e})})}setPostProcess(e,t,i="normal"){var o;(null===(o=this.stateStyle[i])||void 0===o?void 0:o[e])&&(this.stateStyle[i][e].postProcess=t)}getAttribute(e,t,i="normal"){return this._computeAttribute(e,i)(t)}getAttributesOfState(e,t="normal"){const i=this.stateStyle[t];if(i){const o={};return Object.keys(i).forEach(i=>{this._unCompileChannel[i]||(o[i]=this._computeAttribute(i,t)(e))}),o}}setAttribute(e,t,i="normal",o=0){var l;void 0===this.stateStyle[i]&&(this.stateStyle[i]={}),void 0===this.stateStyle[i][e]&&(this.stateStyle[i][e]={level:o,style:t,referer:void 0});const n=null===(l=this.stateStyle[i][e])||void 0===l?void 0:l.level;uu(n)&&n<=o&&Mw(this.stateStyle[i][e],{style:t,level:o}),"normal"!==i&&e in this._extensionChannel&&this._extensionChannel[e].forEach(e=>{void 0===this.stateStyle[i][e]&&(this.stateStyle[i][e]=this.stateStyle.normal[e])})}_getDefaultStyle(){return{visible:!0,x:0,y:0}}_styleConvert(e){if(!e)return e;if(k_(e.type)||e.scale){const t=function(e,t){if("scale"in e&&e.scale)return mu(e.scale)&&(null==t?void 0:t.globalScale)?t.globalScale.registerMarkAttributeScale(e,t.seriesId):e.scale;const i=hw(e.type);return i&&function(e,t){e&&t&&(t.domain&&e.domain(t.domain),t.range&&e.range(t.range),t.specified&&e.specified&&e.specified(t.specified),t.clamp&&e.clamp&&e.clamp(t.clamp))}(i,e),i}(e,{globalScale:this._option.globalScale,seriesId:this._option.seriesId});if(t)return{scale:t,field:e.field,changeDomain:e.changeDomain}}return e}_computeAttribute(e,t){var i;let o=null===(i=this.stateStyle[t])||void 0===i?void 0:i[e];o||(o=this.stateStyle.normal[e]);const l=this._computeStateAttribute(o,e,t),n=pu(null==o?void 0:o.postProcess),r=e in this._computeExChannel;if(n&&r){const i=this._computeExChannel[e];return n=>{let r=l(n);return r=o.postProcess(r,n,this._attributeContext,this.getDataView()),i(e,n,t,r)}}if(n)return e=>o.postProcess(l(e),e,this._attributeContext,this.getDataView());if(r){const i=this._computeExChannel[e];return o=>i(e,o,t,l(o))}return l}_computeStateAttribute(e,t,i){var o;return e?e.referer?e.referer._computeAttribute(t,i):e.style?"function"==typeof e.style?t=>e.style(t,this._attributeContext,{mark:this},this.getDataView()):WF.includes(e.style.gradient)?this._computeGradientAttr(e.style):["outerBorder","innerBorder"].includes(t)?this._computeBorderAttr(e.style):k_(null===(o=e.style.scale)||void 0===o?void 0:o.type)?t=>{let i=t;return"series"===this.model.modelType&&this.model.getMarkData&&(i=this.model.getMarkData(t)),e.style.scale.scale(i[e.style.field])}:t=>e.style:t=>e.style:e=>{}}_initStyle(){const e=this._getDefaultStyle();this.setStyle(e,"normal",0)}_initSpecStyle(e){e.style&&this.setStyle(e.style,"normal",pF.User_Mark);const t=e.state;t&&Object.keys(t).forEach(e=>{const i=t[e];if("style"in i){const t=i.style;let o={stateValue:e};"level"in i&&(o.level=i.level),"filter"in i&&(o=pu(i.filter)?Object.assign({filter:i.filter},o):Object.assign(Object.assign({},i.filter),o)),this.state.addStateInfo(o),this.setStyle(t,e,pF.User_Mark)}else this.setStyle(i,e,pF.User_Mark)})}_computeGradientAttr(e){var t,i;const{gradient:o,scale:l,field:n}=e,r=VF(e,["gradient","scale","field"]);let a=l,s=n;if(!(l&&n||"series"!==this.model.modelType)){const{scale:e,field:t}=this.model.getColorAttribute();l||(a=e),s||(s=t)}const h=tw(ew(this.model.getColorScheme(),"series"===this.model.modelType?null===(i=(t=this.model).getSpec)||void 0===i?void 0:i.call(t):void 0),this.model.getDefaultColorDomain()),d=Object.assign(Object.assign({},RF[o]),r);return e=>{const t={},i=this.getDataView();return Object.keys(d).forEach(o=>{const l=d[o];"stops"===o?t.stops=l.map(t=>{const{opacity:o,color:l,offset:n}=t;let r=null!=l?l:null==a?void 0:a.scale(e[s]);return pu(l)&&(r=l(e,this._attributeContext,i)),uu(o)&&(r=kg.SetOpacity(r,o)),{offset:pu(n)?n(e,this._attributeContext,i):n,color:r||h[0]}}):pu(l)?t[o]=l(e,this._attributeContext,i):t[o]=l}),t.gradient=o,t}}_computeBorderAttr(e){const{scale:t,field:i}=e,o=VF(e,["scale","field"]);return e=>{var l,n,r;const a={};if(Object.keys(o).forEach(t=>{const i=o[t];pu(i)?a[t]=i(e,this._attributeContext,this.getDataView()):a[t]=i}),"stroke"in a)WF.includes(null===(r=o.stroke)||void 0===r?void 0:r.gradient)&&(a.stroke=this._computeGradientAttr(o.stroke)(e));else{const o=tw(ew(this.model.getColorScheme(),"series"===this.model.modelType?null===(n=(l=this.model).getSpec)||void 0===n?void 0:n.call(l):void 0),this.model.getDefaultColorDomain());let r=t,s=i;if(!(t&&i||"series"!==this.model.modelType)){const{scale:i,field:l}=this.model.getColorAttribute();t||(r=i),s||(s=l),a.stroke=(null==r?void 0:r.scale(e[s]))||o[0]}}return a}}_getDataByKey(e){return QL(e,(e,t)=>{var i;return`${this._groupKeyGetter(e)}_${null!==(i=this._keyGetter(e))&&void 0!==i?i:t}`})}_getCommonContext(){return{compiler:this.getCompiler(),markType:this.type,markId:this.id,modelId:this.model.id,markUserId:this._userId,modelUserId:this.model.userId}}prepareMorph(e){this._lastMark=e}reuse(e){this.type===e.type&&(this._product=e.getProduct(),this._graphics=e.getGraphics(),this._graphicMap=e._graphicMap,this._graphicMap.forEach(e=>{e.context=Object.assign(Object.assign({},e.context),this._getCommonContext())}),this._dataByKey=e._dataByKey,this._prevDataByKey=e._prevDataByKey,this.needClear=e.needClear)}_parseProgressiveContext(e){const t=this._markConfig.progressiveStep>0&&this._markConfig.progressiveThreshold>0&&this._markConfig.progressiveStep<this._markConfig.progressiveThreshold,i=this._markConfig.large&&this._markConfig.largeThreshold>0&&e.length>=this._markConfig.largeThreshold;if(t){const t=this._dataByGroup;return t&&t.keys&&t.keys.some(e=>t.data.get(e).length>this._markConfig.progressiveThreshold)?{large:i,progressive:{data:e,step:this._markConfig.progressiveStep,currentIndex:0,totalStep:t.keys.reduce((e,i)=>Math.max(Math.ceil(t.data.get(i).length/this._markConfig.progressiveStep),e),1),groupedData:t.data}}:{large:i}}return{large:i}}getGraphics(){return this._graphics}_createGraphic(e={}){return Ow.createGraphicComponent(this.type,e)}_runGroupData(e){this._keyGetter=pu(this.key)?this.key:uu(this.key)?e=>null==e?void 0:e[this.key]:e=>null==e?void 0:e[iL],this._groupKeyGetter=uu(this._groupKey)?e=>`${null==e?void 0:e[this._groupKey]}`:()=>"key",this._dataByGroup=QL(e,this._groupKeyGetter)}createAnimationStateList(e,t){var i;let o=t[e];return o&&Array.isArray(o)&&(o=1===o.length?o[0]:o),Array.isArray(o)?o.map((e,t)=>{var i;return Object.assign(Object.assign({},e),{priority:null!==(i=e.priority)&&void 0!==i?i:1/0})}):o?Object.assign(Object.assign({},o),{priority:"normal"===e?null!==(i=o.priority)&&void 0!==i?i:1/0:o.priority}):o}tryRunMorphing(e){if(this._lastMark){e.forEach(e=>{"appear"!==e.context.animationState&&"enter"!==e.context.animationState||e.setAttributes(e.getAttributes(!0))});const t=((e,t,i={})=>{const o=[],l=[];e.forEach(e=>{UF(e),o.push(...e.getGraphics())}),t.forEach(e=>{UF(e),l.push(...e.getGraphics())});const n=e=>{var t,i,o;return null!==(i=null===(t=e.context)||void 0===t?void 0:t.morphKey)&&void 0!==i?i:null===(o=e.context)||void 0===o?void 0:o.key},r=new Map,a=new Map;if(o.forEach(e=>{const t=n(e);t&&(r.has(t)||r.set(t,[]),r.get(t).push(e))}),l.forEach(e=>{const t=n(e);t&&(a.has(t)||a.set(t,[]),a.get(t).push(e))}),r.size!==a.size||!Array.from(r.keys()).every(e=>a.has(e)))return!1;const s=[...new Set([...r.keys()].filter(e=>a.has(e)))],h=[...a.keys()].filter(e=>!r.has(e)),d=()=>{};return h.forEach(e=>{const t=a.get(e);NF([],t,i,d,{})}),s.forEach(e=>{const t=r.get(e),o=a.get(e),l=Math.min(t.length,o.length);if(l>0){const e=GF(t,l),n=GF(o,l);for(let t=0;t<l;t++)NF(e[t],n[t],i,d,{})}}),!0})([this._lastMark],[this],{});return this._lastMark=null,t}return!1}_runStateAnimation(e){var t,i;if(!this._animationConfig||0===e.length)return;if(this.tryRunMorphing(e))return;const o=this.getAnimationConfig();if(null!==(t=this._markConfig.useSequentialAnimation)&&void 0!==t&&t&&this._runSequentialAnimations)return void this._runSequentialAnimations(e);const l=e.every(e=>"appear"===e.context.animationState),n=this.createAnimationStateList("appear",o);if(l&&this._product){const e=n?["appear"]:[],t=n?[{name:"appear",animation:n}]:[];if(o.normal){e.push("normal");const i={name:"normal",animation:this.createAnimationStateList("normal",o)};t.push(i)}this._product.applyAnimationState(e,t)}let r=!1;if(e.forEach(e=>{const t=e.context.animationState;if("appear"===t)return;const i=o[t];if(i&&i.length>0){const o=i.map((e,i)=>({name:`${t}_${i}`,animation:e}));o.forEach(t=>{t.animation.customParameters=e.context});const l=[t];e.applyAnimationState(l,[1===o.length?o[0]:o])}"enter"===t&&o.normal&&(r=!0)}),r&&this._product&&(null===(i=o.normal)||void 0===i?void 0:i.length)){this._product.stopAnimationState("normal","start");const e={name:"normal",animation:this.createAnimationStateList("normal",o)};this._product.applyAnimationState(["normal"],[e])}}_setAnimationState(e){var t,i,o;const l=("component"===this.type?this.model.getAnimationStateCallback():null===(o=null===(i=(t=this.model).getRegion)||void 0===i?void 0:i.call(t))||void 0===o?void 0:o.getAnimationStateCallback())||(e=>{var t;const i=null===(t=e.context)||void 0===t?void 0:t.diffState;return i===KL.exit?KL.exit:i===KL.update?KL.update:KL.appear}),n=l(e);e.context.animationState=null!=n?n:e.context.diffState,e.context.animationState===fF.exit&&(e.context.reusing=!0,e.animates&&e.animates.forEach(e=>e.stop()))}_runJoin(e){const t=this._getDataByKey(e),i=this._prevDataByKey,o=[],l=new Set(this._graphics.filter(e=>e.context.diffState===fF.enter)),n=(e,t,i)=>{var n,r,a,s,h,d,c,p,y;let u,g;return yu(t)?(u=this._graphicMap.get(e),u&&(g=fF.exit)):yu(i)?(u=this._graphicMap.has(e)?this._graphicMap.get(e):{},g=fF.enter,u.isExiting=!1,this._graphicMap.set(e,u),o.push(u)):(u=this._graphicMap.get(e),u&&(g=fF.update,o.push(u))),u&&(l.delete(u),u.context=Object.assign(Object.assign({},this._getCommonContext()),{diffState:g,reusing:null===(n=u.context)||void 0===n?void 0:n.reusing,originalFieldX:null===(r=u.context)||void 0===r?void 0:r.originalFieldX,originalFieldY:null===(a=u.context)||void 0===a?void 0:a.originalFieldY,fieldX:null===(s=u.context)||void 0===s?void 0:s.fieldX,fieldY:null===(h=u.context)||void 0===h?void 0:h.fieldY,data:null!=t?t:null===(d=u.context)||void 0===d?void 0:d.data,uniqueKey:e,key:t?this._keyGetter(t[0]):null===(c=u.context)||void 0===c?void 0:c.key,groupKey:t?this._groupKeyGetter(t[0]):null===(p=u.context)||void 0===p?void 0:p.groupKey,indexKey:"__VCHART_DEFAULT_DATA_INDEX",stateAnimateConfig:null===(y=this.getAnimationConfig())||void 0===y?void 0:y.state}),this._setAnimationState(u)),u};if(i&&t){const e=new Map(i.data);t.keys.forEach(i=>{n(i,t.data.get(i),e.get(i)),e.delete(i)}),i.keys.forEach(t=>{e.has(t)&&n(t,null,e.get(t))})}else t?t.keys.forEach(e=>{const i=n(e,t.data.get(e),null);i&&(i.context.animationState=KL.appear)}):i&&i.keys.forEach(e=>{n(e,null,i.data.get(e)).context.animationState=KL.disappear});l.forEach(e=>{this._graphicMap.delete(e.context.uniqueKey),e.parent&&e.parent.removeChild(e),e.release()});const r=o.length;o.forEach((e,t)=>{e.context.graphicCount=r,e.context.graphicIndex=t}),this._dataByKey=t,this._graphics=o,this.needClear=!0}_runEncoderOfGraphic(e,t,i={}){return eF(e,t.context.data[0],i)}_runGroupEncoder(e){if(!this._dataByGroup)return null;const t={};return this._dataByGroup.keys.forEach(i=>{t[i]=eF(e,this._dataByGroup.data.get(i)[0])}),this._attrsByGroup=t,t}_transformGraphicAttributes(e,t,i){return Object.assign(Object.assign({},i),t)}_separateNormalStyle(e){const t={},i={};return Object.keys(e).forEach(o=>{this._unCompileChannel[o]||(this._option.noSeparateStyle||function(e,t,i){var o;const l=null===(o=t[e])||void 0===o?void 0:o.style;return!!function(e,t){return("fill"===e||"stroke"===e)&&(null==t?void 0:t.gradient)&&(null==t?void 0:t.stops)}(e,l)||!!pu(l)||!(!(null==l?void 0:l.scale)||l.field===i)}(o,e,this._groupKey)?t[o]=e[o]:i[o]=e[o])}),{updateStyles:t,groupStyles:i}}_addProgressiveGraphic(e,t){e.incrementalAppendChild(t)}_runEncoder(e,t){var i;const o=t?null:this._runGroupEncoder(null===(i=this._encoderOfState)||void 0===i?void 0:i.group);e.forEach((e,t)=>{var i;const l=this._runEncoderOfGraphic(null===(i=this._encoderOfState)||void 0===i?void 0:i.update,e);yu(this._markConfig.interactive)||(l.pickable=this._markConfig.interactive);const n=this._transformGraphicAttributes(e,l,null==o?void 0:o[e.context.groupKey]);e.context.finalAttrs=n})}_runApplyGraphic(e){const t=this.hasAnimation();e.forEach((i,o)=>{var l;const n=i.context.finalAttrs,r=this.hasAnimationByState(i.context.animationState);if(i.setAttributes){const e=zL(i,n);i.context.diffAttrs=e,i.context.reusing?(i.context.lastAttrs=i.attribute,i.initAttributes({}),i.context.reusing=!1):r||(t?i.setAttributesAndPreventAnimate(e):i.setAttributes(e)),t&&i.setFinalAttributes(n)}else{const r=i;i=this._createGraphic(n),t&&i.setFinalAttributes(n),i.context=r.context,i.context.diffAttrs=n;const a=this._graphics===e?o:o+this._graphics.length-e.length;if(a>=0&&(this._graphics[a]=i),null===(l=this.renderContext)||void 0===l?void 0:l.progressive){const e=this._dataByGroup?this._dataByGroup.keys.indexOf(i.context.groupKey):0,t=e>=0?this._product.getChildAt(e):null;t&&this._addProgressiveGraphic(t,i)}else this._product.appendChild(i),this._graphicMap.set(i.context.uniqueKey,i)}this._setStateOfGraphic(i),this._setGraphicFromMarkConfig(i)})}_updateEncoderByState(){const e={};Object.keys(this.stateStyle).forEach(t=>{if(t===kF.STATE_NORMAL){const{groupStyles:i,updateStyles:o}=this._separateNormalStyle(this.stateStyle[t]);e.group=this._getEncoderOfStyle(t,i),e.update=this._getEncoderOfStyle(t,o)}else e[t]=this._getEncoderOfStyle(t,this.stateStyle[t])}),this._encoderOfState=e}_runState(e){e.forEach(e=>{var t;const i=[...(null!==(t=e.currentStates)&&void 0!==t?t:[]).filter(e=>!this.state.getStateInfo(e)),...this.state.checkState(e,e.context.data)];this._stateSort&&i.length&&i.sort(this._stateSort),e.context.states=i})}_getAttrsFromConfig(e={}){const{zIndex:t,clip:i,clipPath:o,overflow:l}=this._markConfig;if(yu(t)||(e.zIndex=t),yu(i)||(e.clip=i),!yu(o)){const t=bu(o)?o:o(this._graphics);t&&t.length||(e.clip=!1),e.path=t}return yu(l)||(e.overflow=l),e}_updateAttrsOfGroup(){var e;const t=this._getAttrsFromConfig();null===(e=this._product)||void 0===e||e.setAttributes(t),this._markConfig.support3d&&this._product&&this._product.setMode("3d")}_runBeforeTransform(e){var t;const i=null===(t=this._transform)||void 0===t?void 0:t.filter(e=>{if(e.type){const t=Ow.getGrammarTransform(e.type);return t&&(!t.runType||"beforeJoin"===t.runType)}return!1});return this.runTransforms(i,e)}_runEncoderTransform(e,t){var i;const o=null===(i=this._transform)||void 0===i?void 0:i.filter(e=>{if(e.type){const i=Ow.getGrammarTransform(e.type);return i&&"afterEncode"===i.runType&&!!i.canProgressive===t}return!1});return this.runTransforms(o,e)}renderInner(){var e,t,i;this._updateEncoderByState();const o=null!==(t=null===(e=this._data)||void 0===e?void 0:e.getProduct())&&void 0!==t?t:[{}],l=this._runBeforeTransform(o);let n;if(null==l?void 0:l.progressive){this.renderContext={beforeTransformProgressive:l.progressive};const e=l.progressive;if(e.canAnimate&&e.canAnimate()&&e.unfinished())return void this._updateAttrsOfGroup();n=e.output()}else n=Eu(l),this._runGroupData(n),this.renderContext=this._parseProgressiveContext(n);(null===(i=this.renderContext)||void 0===i?void 0:i.progressive)?(this._graphicMap.clear(),this._runProgressiveStep()):(this._runJoin(n),this._runState(this._graphics),this._runEncoder(this._graphics),this._runEncoderTransform(this._graphics,!1),this._runApplyGraphic(this._graphics)),this._updateAttrsOfGroup()}render(){this.isCommited()&&(!this.getVisible()||this._skipBeforeLayouted&&this.getCompiler().getLayoutState()===qL.before||(xg(`render mark: ${this.getProductId()}, type is ${this.type}`),this.renderInner()),this.uncommit())}updateMarkState(e){if(!this._product)return;const t=this.state.getStateInfo(e);this._graphics.forEach(i=>{"in"===this.state.checkOneState(i,i.context.data,t)?i.addState(e,!0,this.hasAnimationByState("state")):i.removeState(e,this.hasAnimationByState("state"))})}clearExitGraphics(){this._prevDataByKey=this._dataByKey;const e=(e,t)=>{this._graphicMap.delete(t),e.parent&&e.parent.removeChild(e),e.release&&e.release()};this._graphicMap.forEach((t,i)=>{if(t.context.diffState===fF.exit&&!t.isExiting)if(t.context.animationState===fF.exit&&this.hasAnimationByState("exit")){t.isExiting=!0;const o=this.getAnimationConfig();if(o.exit&&o.exit.length){const l=o.exit.map((e,i)=>({name:`exit_${i}`,animation:Object.assign(Object.assign({},e),{customParameters:t.context})}));t.applyAnimationState(["exit"],[1===l.length?l[0]:l],()=>{e(t,i)})}}else e(t,i)})}isProgressive(){return this.renderContext&&(!!this.renderContext.progressive||!!this.renderContext.beforeTransformProgressive)}canAnimateAfterProgressive(){var e,t;return this.renderContext&&this.renderContext.beforeTransformProgressive&&(null===(t=(e=this.renderContext.beforeTransformProgressive).canAnimate)||void 0===t?void 0:t.call(e))}isDoingProgressive(){return this.renderContext&&(this.renderContext.progressive&&this.renderContext.progressive.currentIndex<this.renderContext.progressive.totalStep||this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.unfinished())}clearProgressive(){this.renderContext&&this.renderContext.progressive&&(this._graphics=[],this._product.children.forEach(e=>{e.incrementalClearChild()}),this._product.removeAllChild()),this.renderContext&&this.renderContext.beforeTransformProgressive&&this.renderContext.beforeTransformProgressive.release(),this.renderContext=null}restartProgressive(){this.renderContext&&this.renderContext.progressive&&(this.renderContext.progressive.currentIndex=0)}_runBeforeProgressive(){var e;const t=this.renderContext.beforeTransformProgressive;t.progressiveRun();const i=t.output();if(null===(e=t.canAnimate)||void 0===e?void 0:e.call(t)){if(t.unfinished())return;this._runGroupData(i),this._runJoin(i),this._runState(this._graphics),this._runEncoder(this._graphics),this._runApplyGraphic(this._graphics)}}_runProgressiveJoin(){const e=this.renderContext.progressive.currentIndex,t=[],i={};return this._dataByGroup.keys.forEach(o=>{const l=this.renderContext.progressive.groupedData.get(o),n=this.renderContext.progressive.step,r=l.slice(e*n,(e+1)*n),a=[];r.forEach((i,l)=>{const r=this._keyGetter(i),s={context:Object.assign(Object.assign({},this._getCommonContext()),{diffState:fF.enter,data:[i],uniqueKey:`${o}_${null!=r?r:e*n+l}`,key:r,groupKey:o})};a.push(s),t.push(s)}),i[o]=a}),{graphicsByGroup:i,graphics:t,needUpdate:!0}}_createIncrementalGraphics(){this._product.removeAllChild(),this._dataByGroup.keys.forEach(e=>{const t=Ps({pickable:!1,zIndex:this._markConfig.zIndex});t.incremental=this.renderContext.progressive.step,this._product.appendChild(t)})}_setCommonAttributesToTheme(e){var t,i,o;if(this._attrsByGroup&&e){const l=e.parent;l&&(null===(t=this._attrsByGroup)||void 0===t?void 0:t[null===(i=e.context)||void 0===i?void 0:i.groupKey])&&l.setTheme({common:this._attrsByGroup[null===(o=e.context)||void 0===o?void 0:o.groupKey]})}}_runProgressiveEncoder(e){0===this.renderContext.progressive.currentIndex?this._runEncoder(e):this._runEncoder(e,!0)}_runProgressiveApplyGraphic(e){0===this.renderContext.progressive.currentIndex?(this._runApplyGraphic(e),this._setCommonAttributesToTheme(e[0])):this._runApplyGraphic(e)}_runProgressiveStep(){const{graphics:e,graphicsByGroup:t,needUpdate:i}=this._runProgressiveJoin();0===this.renderContext.progressive.currentIndex?(this._createIncrementalGraphics(),this._graphics=e):i&&e.forEach(e=>{this._graphics.push(e)}),this._runState(e),Object.keys(t).forEach(e=>{this._runProgressiveEncoder(t[e])}),this._runEncoderTransform(this._graphics,!0),Object.keys(t).forEach(e=>{this._runProgressiveApplyGraphic(t[e])}),this.renderContext.progressive.currentIndex+=1}renderProgressive(){var e;(null===(e=this.renderContext)||void 0===e?void 0:e.beforeTransformProgressive)?this._runBeforeProgressive():this.renderContext.progressive&&this._runProgressiveStep()}hasAnimationByState(e){if(!e||!this._animationConfig||!this._animationConfig[e]||this._disabledAnimationStates.includes(e))return!1;const t=this._animationConfig[e];return t.length>0||gu(t)}hasAnimation(){return!!this._animationConfig&&Object.keys(this._animationConfig).length>0}runAnimation(){this._runStateAnimation(this.getGraphics())}}class ZF extends YF{constructor(){super(...arguments),this.type=ZF.type,this._marks=[],this._diffState=fF.enter}getMarks(){return this._marks}isMarkExist(e){return void 0!==this._marks.find(t=>t.id===e.id)}addMark(e){return this.isMarkExist(e)?(_g("Mark already exists, add mark failed."),!1):(this._marks.push(e),!0)}removeMark(e){const t=this._marks.findIndex(t=>t.id===e.id||t.name===e.name);return-1===t?(_g("Mark does not exists, removeMark failed."),!1):(this._marks.splice(t,1),!0)}getMarkInType(e){return this._marks.filter(t=>t.type===e)}getMarkInId(e){return this._marks.find(t=>t.id===e)}getMarkInUserId(e){let t;return tF(this,e=>{t=e},t=>t.getUserId()===e,null,!0),t}getMarkInName(e){return this._marks.filter(t=>t.name===e)}_compileProduct(e){super._compileProduct(e),this.getMarks().forEach(e=>{e.compile({group:this._product})})}_getAttrsFromConfig(e={}){const t=super._getAttrsFromConfig(e);return yu(this._markConfig.interactive)||(t.pickable=this._markConfig.interactive),e}getGraphics(){return[this._product]}renderInner(){var e;if(!this._product)return;const t=null!==(e=this._simpleStyle)&&void 0!==e?e:this.getAttributesOfState({});this._product.context=Object.assign(Object.assign(Object.assign({},this._product.context),this._getCommonContext()),{diffState:this._diffState}),this._setAnimationState(this._product);const i=this._getAttrsFromConfig(t);if(this._product.context.diffState===fF.update){const e=this.hasAnimation(),t=zL(this._product,i);this._product.context.diffAttrs=t,this.hasAnimationByState(this._product.context.animationState)||(e?this._product.setAttributesAndPreventAnimate(t):this._product.setAttributes(t)),e&&this._product.setFinalAttributes(i)}else this._product.setAttributes(i);this.needClear=!0}clearExitGraphics(){this._diffState=fF.update}render(){this._isCommited&&(xg(`render mark: ${this.getProductId()}, type is ${this.type}`),this.renderInner(),this.uncommit()),this.getMarks().forEach(e=>{e.render()})}release(){super.release(),this.removeProduct()}}ZF.type="group";const XF={measureText:(e,t,i,o)=>((e,t,i)=>Gb(e,t,i,{fontFamily:vw.fontFamily,fontSize:vw.fontSize}))(t,i,o).measure(e)};class $F{static instance(){return $F.instance_||($F.instance_=new $F),$F.instance_}constructor(){this.functions={}}registerFunction(e,t){e&&t&&(this.functions[e]=t)}unregisterFunction(e){e&&delete this.functions[e]}getFunction(e){return this.functions[e]||null}getFunctionNameList(){return Object.keys(this.functions)}}class KF{constructor(){this.id=Og(),this._plugins=[]}add(e){if(!e||0===e.length)return null;const t=[];return e.forEach(e=>{this._plugins.find(t=>t.id===e.id)?_g("不要重复添加相同的plugin"):(this._plugins.push(e),t.push(e),e.onAdd&&e.onAdd(this))}),t}load(e){const t=this.add(e);t&&t.length&&this.activate(e)}activate(e){e.length&&e.forEach(e=>{e.init&&e.init()})}get(e){return this._plugins.find(t=>t.id===e)}getAll(){return this._plugins.slice()}release(e){const t=this.get(e);t&&(t.release(this),this._plugins=this._plugins.filter(e=>e!==t))}releaseAll(){this._plugins.forEach(e=>{e.release(this)}),this._plugins=[]}clear(e){const t=this.get(e);t&&t.clear(this)}clearAll(){this._plugins.forEach(e=>{var t;null===(t=e.clear)||void 0===t||t.call(e,this)})}}class qF extends KF{constructor(e){super(),this.globalInstance=e}onInit(e){this._plugins.forEach(t=>{t.onInit&&t.onInit(this,e)})}onBeforeResize(e,t){this._plugins.forEach(i=>{i.onBeforeResize&&i.onBeforeResize(this,e,t)})}onAfterChartSpecTransform(e,t){this._plugins.forEach(i=>{i.onAfterChartSpecTransform&&i.onAfterChartSpecTransform(this,e,t)})}onAfterModelSpecTransform(e,t,i){this._plugins.forEach(o=>{o.onAfterModelSpecTransform&&o.onAfterModelSpecTransform(this,e,t,i)})}onBeforeInitChart(e,t){this._plugins.forEach(i=>{i.onBeforeInitChart&&i.onBeforeInitChart(this,e,t)})}releaseAll(){super.releaseAll(),this.globalInstance=null}}const JF={type:"fadeIn"};function QF(e,t){switch(t){case"grow":return(e=>({type:"horizontal"===e.direction?"growPointsXIn":"growPointsYIn",options:{orient:"horizontal"===e.direction?"positive":"negative"}}))(e);case"fadeIn":return JF;default:return(e=>({type:"clipIn",options:{clipDimension:"horizontal"===e.direction?"y":"x"}}))(e)}}const eT={appear:{duration:1e3,easing:"cubicOut"},update:{type:"update",duration:300,easing:"linear"},enter:{duration:300,easing:"linear"},exit:{duration:300,easing:"linear"},disappear:{duration:500,easing:"cubicIn"},state:{duration:300,easing:"linear"}},tT={appear:{type:"scaleIn"},enter:{type:"scaleIn"},exit:{type:"scaleOut"},disappear:{type:"scaleOut"}},iT={appear:{type:"fadeIn"},enter:{type:"fadeIn"},exit:{type:"fadeOut"},disappear:{type:"fadeOut"}},oT=()=>{Ow.registerAnimation("scaleInOut",()=>tT)},lT=(e,t)=>({appear:QF(e,t),enter:{type:"fadeIn"},exit:{type:"fadeOut"},update:[{type:"update",options:{excludeChannels:["points","defined","segments"]}},{channel:["points","segments"],custom:_C,duration:eT.update.duration,easing:eT.update.easing,customParameters:{clipRangeByDimension:"horizontal"===e.direction?"y":"x"}}],disappear:{type:"clipOut"}}),nT=()=>{Ow.registerAnimation("line",lT)},rT=()=>{Yv.registerBuiltInAnimate("growPointsIn",NC),Yv.registerBuiltInAnimate("growPointsOut",GC),Yv.registerBuiltInAnimate("growPointsXIn",VC),Yv.registerBuiltInAnimate("growPointsXOut",YC),Yv.registerBuiltInAnimate("growPointsYIn",XC),Yv.registerBuiltInAnimate("growPointsYOut",$C),Yv.registerBuiltInAnimate("clipIn",FC),Yv.registerBuiltInAnimate("clipOut",TC)},aT=()=>{ht(Ws,eC),ht(Ws,tC),Yv.registerBuiltInAnimate("scaleIn",oS),Yv.registerBuiltInAnimate("scaleOut",lS),Yv.registerBuiltInAnimate("fadeIn",AC),Yv.registerBuiltInAnimate("fadeOut",zC),Yv.registerBuiltInAnimate("moveIn",sS),Yv.registerBuiltInAnimate("moveOut",hS),Yv.registerBuiltInAnimate("rotateIn",cS),Yv.registerBuiltInAnimate("rotateOut",pS),Yv.registerBuiltInAnimate("update",rS),Yv.registerBuiltInAnimate("state",nS),Yv.registerBuiltInAnimate("fromTo",yS)},sT=(e,t)=>{if(!t||!t.length)return[];const i=[];return e.markIds?t.filter(t=>{e.markIds.includes(t.getProductId())&&i.push(t)}):e.markNames?t.forEach(t=>{e.markNames.includes(t.name)&&i.push(t)}):t.forEach(e=>{i.push(e)}),i};kF.STATE_HIGHLIGHT,kF.STATE_BLUR;class hT{constructor(e){this._markSet=new yF,this.options=e,e.marks&&e.marks.length&&e.marks.forEach(e=>{this.registerMark(e)})}getMarks(){return this._markSet.getMarks()}getMarksByState(e){if(this._markIdByState&&this._markSet){const t=this._markIdByState[e];return t?this.getMarks().filter(e=>e&&t.includes(e.id)):[]}return[]}registerMark(e){bu(e)?e.forEach(e=>{this._markSet.addMark(e)}):this._markSet.addMark(e)}updateMarkIdByState(e){this._markIdByState=((e,t)=>{if(!t||!e)return null;const i={};return e.forEach(e=>{const o=e.stateStyle;o&&t.forEach(t=>{t&&o[t]&&(i[t]||(i[t]=[]),i[t].push(e.id))})}),i})(this.getMarks(),e)}getMarkIdByState(){var e;return null!==(e=this._markIdByState)&&void 0!==e?e:{}}isGraphicInStateMark(e,t){var i;const o=this.getMarkIdByState();return o&&o[t]&&o[t].includes(null===(i=e.context)||void 0===i?void 0:i.markId)}isGraphicInMark(e){var t;return!!this._markSet.getMarkInId(null===(t=e.context)||void 0===t?void 0:t.markId)}getStartState(){return null}getResetState(){return null}init(){const e=this.getEvents();e&&this.options.event&&e.forEach(e=>{e.type&&e.handler&&(bu(e.type)?e.type.forEach(t=>{t&&"none"!==t&&this.options.event.on(t,e.handler)}):"none"!==e.type&&this.options.event.on(e.type,e.handler))})}release(){const e=this.getEvents();e&&this.options.event&&(null!=e?e:[]).forEach(e=>{e.type&&e.handler&&(bu(e.type)?e.type.forEach(t=>{t&&"none"!==t&&this.options.event.on(t,e.handler)}):"none"!==e.type&&this.options.event.off(e.type,e.handler))})}start(e){}reset(e){}dispatchEvent(e,t){this.options.event&&(this.options.event.emit(`${this.type}:${e}`,t),"start"===e&&this.options.onStart?this.options.onStart(t):"reset"===e&&this.options.onReset?this.options.onReset(t):"update"===e&&this.options.onUpdate?this.options.onUpdate(t):"end"===e&&this.options.onEnd&&this.options.onEnd(t))}}const dT={highlightState:kF.STATE_HIGHLIGHT,blurState:kF.STATE_BLUR,trigger:"pointerover",triggerOff:"pointerout"};class cT extends hT{constructor(e){super(e),this.type="element-highlight",this.resetAll=()=>{const{highlightState:e,blurState:t,interaction:i}=this.options;this._lastGraphic&&(i.clearAllStatesOfTrigger(this,e,t),this.dispatchEvent("reset",{graphics:[this._lastGraphic],options:this.options}),this._lastGraphic=null,i.setStatedGraphics(this,[]))},this.handleStart=e=>{this.start(e.item)},this.handleReset=e=>{const{interaction:t}=this.options,i=t.getStatedGraphics(this);if(!i||!i.length)return;const o=e.item,l=o&&this._markSet.getMarkInId(o.context.markId);(this._resetType.includes("view")&&!l||this._resetType.includes("self")&&l)&&this.resetAll()},this.options=Object.assign({},dT,e),this.updateMarkIdByState([this.options.highlightState,this.options.blurState])}getStartState(){return this.options.highlightState}getResetState(){return this.options.blurState}getEvents(){const e=this.options.triggerOff,t=[{type:this.options.trigger,handler:this.handleStart}];let i=e;return mu(e)&&e.includes("view:")?(i=e.replace("view:",""),this._resetType="view"):this._resetType="self",t.push({type:i,handler:this.handleReset}),t}start(e){if(e&&this._markSet.getMarkInId(e.context.markId)){const{highlightState:t,blurState:i,interaction:o}=this.options;if(this._lastGraphic===e)return;const l=o.updateStates(this,[e],o.getStatedGraphics(this),t,i);o.setStatedGraphics(this,l),this._lastGraphic=e,this.dispatchEvent("start",{graphics:l,options:this.options})}else this._lastGraphic&&"view"===this._resetType&&this.resetAll()}reset(e){e?this._markSet.getMarkInId(e.context.markId)&&e.removeState([this.options.highlightState,this.options.blurState]):this.resetAll()}}cT.type="element-highlight",cT.defaultOptions=dT;const pT={state:kF.STATE_SELECTED,trigger:"click"};class yT extends hT{constructor(e){super(e),this.type="element-select",this._resetType=[],this.resetAll=()=>{const{state:e,reverseState:t,interaction:i}=this.options,o=i.getStatedGraphics(this);o&&o.length&&(i.clearAllStatesOfTrigger(this,e,t),this.dispatchEvent("reset",{graphics:o,options:this.options}),i.setStatedGraphics(this,[]))},this.handleStart=e=>{this.start(e.item)},this.handleReset=e=>{const{interaction:t}=this.options,i=t.getStatedGraphics(this);if(!i||!i.length)return;const o=e.item,l=o&&this._markSet.getMarkInId(o.context.markId);(this._resetType.includes("view")&&!l||this._resetType.includes("self")&&l)&&this.resetAll()},this.options=Object.assign({},pT,e),this.updateMarkIdByState([this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getResetState(){return this.options.reverseState}getEvents(){const e=this.options.triggerOff,t=this.options.trigger,i=[{type:t,handler:this.handleStart}],{eventNames:o,resetType:l}=(e=>{const t=Eu(e),i=[],o=[];return t.forEach(e=>{"empty"===e?i.push("view"):mu(e)&&"none"!==e?e.includes("view:")?(o.push(e.replace("view:","")),i.push("view")):(o.push(e),i.push("self")):Cu(e)&&i.push("timeout")}),{eventNames:o,resetType:i}})(e);return o.forEach(e=>{e&&(bu(t)?!t.includes(e):e!==t)&&i.push({type:e,handler:this.handleReset})}),this._resetType=l,i}start(e){const{state:t,reverseState:i,isMultiple:o,interaction:l}=this.options,n=l.getStatedGraphics(this);if(e&&this._markSet.getMarkInId(e.context.markId))if(e.hasState(t)){if(this._resetType.includes("self")){const o=n&&n.filter(t=>t!==e);o&&o.length?l.setStatedGraphics(this,l.updateStates(this,o,n,t,i)):this.resetAll()}}else{this._timer&&clearTimeout(this._timer),e.addState(t,!0);const r=this.options.interaction.updateStates(this,o&&n?[...n,e]:[e],n,t,i);l.setStatedGraphics(this,r),this.dispatchEvent("start",{graphics:r,options:this.options}),this._resetType.includes("timeout")&&(this._timer=setTimeout(()=>{this.resetAll()},this.options.triggerOff))}else this._resetType.includes("view")&&n&&n.length&&this.resetAll()}reset(e){e?this._markSet.getMarkInId(e.context.markId)&&e.removeState([this.options.state,this.options.reverseState]):this.resetAll()}}yT.type="element-select",yT.defaultOptions=pT;class uT extends KF{constructor(e){super(),this.globalInstance=e}onInit(){this._plugins.forEach(e=>{e.onInit&&e.onInit(this)})}releaseAll(){super.releaseAll(),this.globalInstance=null}}var gT=function(e,t,i,o){return new(i||(i=Promise))(function(l,n){function r(e){try{s(o.next(e))}catch(rH){n(rH)}}function a(e){try{s(o.throw(e))}catch(rH){n(rH)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(r,a)}s((o=o.apply(e,t||[])).next())})},fT=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class kT{static useRegisters(e){e.forEach(e=>{"function"==typeof e?e():console.error("Invalid function:",e)})}static useChart(e){e.forEach(e=>Ow.registerChart(e.type,e))}static useSeries(e){e.forEach(e=>Ow.registerSeries(e.type,e))}static useComponent(e){e.forEach(e=>Ow.registerComponent(e.type,e))}static useMark(e){e.forEach(e=>{var t;return Ow.registerMark(null!==(t=e.constructorType)&&void 0!==t?t:e.type,e)})}static useLayout(e){e.forEach(e=>Ow.registerLayout(e.type,e))}static registerDataSetTransform(e,t){Ow.registerTransform(e,t)}static registerFunction(e,t){e&&t&&$F.instance().registerFunction(e,t)}static unregisterFunction(e){e&&$F.instance().unregisterFunction(e)}static getFunction(e){return e?$F.instance().getFunction(e):null}static getFunctionList(){return $F.instance().getFunctionNameList()}static registerMap(e,t,i){const o=Ow.getImplementInKey("registerMap");o&&o(e,t,i)}static unregisterMap(e){const t=Ow.getImplementInKey("unregisterMap");t&&t(e)}static getMap(e){return function(e){return GL.get(e)}(e)}static registerSVG(e,t,i){const o=Ow.getImplementInKey("registerSVG");o&&o(e,t,i)}static unregisterSVG(e){const t=Ow.getImplementInKey("unregisterSVG");t&&t(e)}static hideTooltip(e=[]){Vw.forEach(e=>{var t;return null===(t=null==e?void 0:e.hideTooltip)||void 0===t?void 0:t.call(e)},e)}static getLogger(){return Vu.getInstance()}getSpec(){return this._spec}getSpecInfo(){return this._specInfo}get event(){return this._event}getDataSet(){return this._dataSet}constructor(e,t){var i,o,l,r,a,s,h,d,c;this.id=Og(),this._userEvents=[],this._autoSize=!0,this._option={mode:n["desktop-browser"],onError:e=>{throw new Error(e)},optimize:{disableCheckGraphicWidthOutRange:!0}},this._observer=null,this._context={},this._doResize=()=>{const{width:e,height:t}=this.getCurrentSize();this._currentSize.width===e&&this._currentSize.height===t||(this._currentSize={width:e,height:t},this.resizeSync(e,t))},this._renderSync=(e={})=>{var t;return this._beforeRender(e)?(null===(t=this._compiler)||void 0===t||t.render(e.morphConfig),this._updateAnimateState(!1),this._afterRender(),this):this},this._updateSpec=(e,t=!1,i)=>{var o;const l=this._spec,n={changeBackground:!1,reTransformSpec:!1,change:!1,reMake:!1,reCompile:!1,reSize:!1,changeTheme:!1};if(!this._setNewSpec(e,t))return;Ru(l.theme,this._spec.theme)?Ru(this._spec.background,l.background)||(n.reMake=!0,n.changeBackground=!0):n.changeTheme=!0;const r=this._shouldChartResize(l);if(n.reSize=r,this._spec.type!==l.type)return null===(o=this._compiler)||void 0===o||o.updateLayoutTag(),n.reMake=!0,n.reTransformSpec=!0,n.change=!0,n.changeTheme=!0,n;this._initChartSpec(this._spec,"updateSpec");const a=hF(this._chart.updateSpec(this._spec),n);return i?Object.assign(Object.assign({},a),i):a},this.getTheme=(...e)=>{if(!this._currentTheme||!e||!e.length)return;this._cachedProcessedTheme||(this._cachedProcessedTheme={});const t=e.join(".");if(this._cachedProcessedTheme[t])return this._cachedProcessedTheme[t];let i=this._currentTheme;return e.forEach((t,o)=>{if(1!==o||"series"!==e[0]&&"component"!==e[0])i=null==i?void 0:i[t];else{const o="series"===e[0]?Ow.getSeriesBuiltInTheme(t):Ow.getComponentBuiltInTheme(t);i=i?Mw({},o,i[t]):o}o===e.length-1&&uu(i)&&(i=$w({[t]:i},this._currentTheme.colorScheme,this._currentTheme.token)[t])}),this._cachedProcessedTheme[t]=i,i},Ex(t),this._option=Object.assign(Object.assign({},this._option),t),(null==t?void 0:t.optimize)&&(this._option.optimize=Object.assign(Object.assign({},this._option.optimize),t.optimize)),this._onError=null===(i=this._option)||void 0===i?void 0:i.onError;const p=this._option,{dom:y,renderCanvas:u,mode:g,stage:f,poptip:k}=p,m=fT(p,["dom","renderCanvas","mode","stage","poptip"]),b=Ag(g);if(b?Ef(Dl):"node"===g&&Qk(Dl),b&&y&&(this._container=mu(y)?iy.getElementById(y):y),u&&(this._canvas=u),f&&(this._stage=f),"node"!==g&&!this._container&&!this._canvas&&!this._stage)return void(null===(o=this._option)||void 0===o||o.onError("please specify container or renderCanvas!"));this._viewBox=this._option.viewBox,this._currentThemeName=Yw.getCurrentThemeName(),this._setNewSpec(e),this._updateCurrentTheme(),this._currentSize=this.getCurrentSize();const v=[];!1!==k&&v.push("poptipForText"),"sankey"===e.type&&v.push("scrollbar");const C=new Vu(null!==(l=this._option.logLevel)&&void 0!==l?l:Uu.Error);Vu.setInstance(C),(null===(r=this._option)||void 0===r?void 0:r.onError)&&C.addErrorHandler((...e)=>{var t,i;null===(i=null===(t=this._option)||void 0===t?void 0:t.onError)||void 0===i||i.call(t,...e)}),this._compiler=new lF({dom:null!==(a=this._container)&&void 0!==a?a:"none",canvas:u},Object.assign(Object.assign({mode:this._option.mode,stage:f,pluginList:v},m),{background:this._getBackground(),onError:this._onError})),this._compiler.setSize(this._currentSize.width,this._currentSize.height),this._eventDispatcher=new IL(this,this._compiler),this._event=new BL(this._eventDispatcher,g),this._compiler.initView(),this._compiler.updateLayoutTag(),this._setFontFamilyTheme(this.getTheme("fontFamily")),this._initDataSet(this._option.dataSet),this._autoSize=!!b&&(null===(h=null!==(s=e.autoFit)&&void 0!==s?s:this._option.autoFit)||void 0===h||h),this._bindResizeEvent(),this._bindViewEvent(),this._initChartPlugin(),Vw.registerInstance(this),null===(c=null===(d=this._option.performanceHook)||void 0===d?void 0:d.afterCreateVChart)||void 0===c||c.call(d,this)}_setNewSpec(e,t){return!!e&&(mu(e)&&(e=JSON.parse(e)),t&&this._originalSpec&&(e=Mw({},this._originalSpec,e)),this._originalSpec=e,this._spec=this._getSpecFromOriginalSpec(),!0)}_getSpecFromOriginalSpec(){var e;const t=Kw(this._originalSpec);return t.data=null!==(e=t.data)&&void 0!==e?e:[],t}_initChartSpec(e,t){var i,o;kT.getFunctionList()&&kT.getFunctionList().length&&(e=qw(e,kT)),this._spec=e,this._chartSpecTransformer||(this._chartSpecTransformer=Ow.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),null===(i=this._chartSpecTransformer)||void 0===i||i.transformSpec(this._spec),this._chartPluginApply("onAfterChartSpecTransform",this._spec,t),this._specInfo=null===(o=this._chartSpecTransformer)||void 0===o?void 0:o.transformModelSpec(this._spec),this._chartPluginApply("onAfterModelSpecTransform",this._spec,this._specInfo,t)}_updateSpecInfo(){var e;this._chartSpecTransformer||(this._chartSpecTransformer=Ow.createChartSpecTransformer(this._spec.type,this._getChartOption(this._spec.type))),this._specInfo=null===(e=this._chartSpecTransformer)||void 0===e?void 0:e.createSpecInfo(this._spec)}_initChart(e){var t,i,o;if(!this._compiler)return void(null===(t=this._option)||void 0===t||t.onError("compiler is not initialized"));if(this._chart)return void(null===(i=this._option)||void 0===i||i.onError("chart is already initialized"));const l=Ow.createChart(e.type,e,this._getChartOption(e.type));l?(this._chart=l,this._chart.setCanvasRect(this._currentSize.width,this._currentSize.height),this._chart.created(this._chartSpecTransformer),this._chart.init(),this._event.emit(WL.initialized,{chart:l,vchart:this})):null===(o=this._option)||void 0===o||o.onError("init chart fail")}_releaseData(){this._dataSet&&(this._dataSet.dataViewMap={},this._dataSet=null)}_bindViewEvent(){var e,t;this._compiler&&(null===(t=null===(e=this._compiler.getStage())||void 0===e?void 0:e.getTimeline())||void 0===t||t.on("animationEnd",()=>{this._event.emit(WL.animationFinished,{chart:this._chart,vchart:this})}))}_bindResizeEvent(){var e,t;if(this._autoSize){if(this._onResize=$u(this._doResize,null!==(e=this._option.resizeDelay)&&void 0!==e?e:100),this._container){const e=window.ResizeObserver;e&&(this._observer=new e(this._onResize),null===(t=this._observer)||void 0===t||t.observe(this._container))}window.addEventListener("resize",this._onResize)}}_unBindResizeEvent(){this._autoSize&&(window.removeEventListener("resize",this._onResize),this._observer&&(this._observer.disconnect(),this._observer=null))}getCurrentSize(){var e,t,i,o;return sF(this._spec,{container:this._container,canvas:this._canvas,mode:this._getMode(),modeParams:this._option.modeParams},{width:null!==(t=null===(e=this._currentSize)||void 0===e?void 0:e.width)&&void 0!==t?t:Qw,height:null!==(o=null===(i=this._currentSize)||void 0===i?void 0:i.height)&&void 0!==o?o:eL})}_initDataSet(e){this._dataSet=e instanceof P?e:new P,NL(this._dataSet,"dataview",W),NL(this._dataSet,"array",l),jL(this._dataSet,"copyDataView",VL);for(const t in Ow.transforms)jL(this._dataSet,t,Ow.transforms[t]);for(const t in Ow.dataParser)NL(this._dataSet,t,Ow.dataParser[t])}updateCustomConfigAndRerender(e,t,i={}){if(!this._isReleased&&e)return pu(e)&&(e=e()),e.reAnimate&&(this.stopAnimation(),this._updateAnimateState(!0)),this._reCompile(e),t?this._renderSync(i):this._renderAsync(i)}_updateCustomConfigAndRecompile(e,t={}){return!!e&&(this._reCompile(e),this._beforeRender(t))}_reCompile(e,t){var i,o,l,n,r,a,s;if(e.reMake&&(this._releaseData(),this._initDataSet(),null===(i=this._chart)||void 0===i||i.release(),this._chart=null),e.reTransformSpec&&(this._chartSpecTransformer=null),e.changeTheme?(this._setCurrentTheme(),this._setFontFamilyTheme(this.getTheme("fontFamily"))):e.changeBackground&&(null===(o=this._compiler)||void 0===o||o.setBackground(this._getBackground())),e.reMake?(null===(l=this._compiler)||void 0===l||l.releaseGrammar(),this._userEvents.forEach(e=>{var t;return null===(t=this._event)||void 0===t?void 0:t.on(e.eType,e.query,e.handler)})):e.reCompile&&(null===(n=this._compiler)||void 0===n||n.clear({chart:this._chart,vChart:this}),null===(r=this._compiler)||void 0===r||r.compile({chart:this._chart,vChart:this})),e.reSize){const{width:e,height:t}=this.getCurrentSize();this._currentSize={width:e,height:t},null===(a=this._chart)||void 0===a||a.onResize(e,t,!1),null===(s=this._compiler)||void 0===s||s.resize(e,t,!1)}}_beforeRender(e={}){var t,i,o,l,n,r,a,s;if(this._isReleased)return!1;if(this._chart)return!0;const{transformSpec:h,actionSource:d}=e;return h&&this._initChartSpec(this._spec,"render"),this._chartPluginApply("onBeforeInitChart",this._spec,d),null===(i=null===(t=this._option.performanceHook)||void 0===t?void 0:t.beforeInitializeChart)||void 0===i||i.call(t,this),this._initChart(this._spec),null===(l=null===(o=this._option.performanceHook)||void 0===o?void 0:o.afterInitializeChart)||void 0===l||l.call(o,this),!(!this._chart||!this._compiler||(null===(r=null===(n=this._option.performanceHook)||void 0===n?void 0:n.beforeCompileToVGrammar)||void 0===r||r.call(n,this),this._compiler.compile({chart:this._chart,vChart:this},e),null===(s=null===(a=this._option.performanceHook)||void 0===a?void 0:a.afterCompileToVGrammar)||void 0===s||s.call(a,this),0))}_afterRender(){return!this._isReleased&&(this._event.emit(WL.rendered,{chart:this._chart,vchart:this}),!0)}renderSync(e){return this._renderSync({morphConfig:e,transformSpec:!0,actionSource:"render"})}renderAsync(e){return gT(this,void 0,void 0,function*(){return this._renderAsync({morphConfig:e,transformSpec:!0,actionSource:"render"})})}_renderAsync(e={}){return gT(this,void 0,void 0,function*(){return this._renderSync(e)})}_updateAnimateState(e){var t,i;if(this.isAnimationEnable()){const o=t=>{var i;const o=null===(i=t.context)||void 0===i?void 0:i.diffState;return e?"exit"===o?KL.none:KL.appear:o};null===(t=this._chart)||void 0===t||t.getAllRegions().forEach(e=>{e.updateAnimateStateCallback(o)}),null===(i=this._chart)||void 0===i||i.getAllComponents().forEach(e=>{e.updateAnimateStateCallback(o)})}}release(){var e,t,i,o;(null===(e=this._onResize)||void 0===e?void 0:e.cancel)&&this._onResize.cancel(),this._chartPluginApply("releaseAll"),this._chartPlugin=null,this._chartSpecTransformer=null,null===(t=this._chart)||void 0===t||t.release(),null===(i=this._eventDispatcher)||void 0===i||i.release(),null===(o=this._compiler)||void 0===o||o.release(),this._unBindResizeEvent(),this._releaseData(),this._onError=null,this._onResize=null,this._container=null,this._currentTheme=null,this._cachedProcessedTheme=null,this._option=null,this._chart=null,this._compiler=null,this._spec=null,this._specInfo=null,this._originalSpec=null,this._userEvents=null,this._event=null,this._eventDispatcher=null,this._isReleased=!0,Vw.unregisterInstance(this)}updateData(e,t,i,o){return gT(this,void 0,void 0,function*(){return this.updateDataSync(e,t,i,o)})}_updateDataById(e,t,i){const o=this._spec.data.find(t=>t.name===e||t.id===e);o?o.id===e?o.values=t:o.name===e&&o.parse(t,i):bu(t)?this._spec.data.push({id:e,values:t}):this._spec.data.push(t)}updateDataInBatches(e){return gT(this,void 0,void 0,function*(){return this._chart?(this._chart.updateFullData(e.map(({id:e,data:t,options:i})=>({id:e,values:t,parser:i}))),this._chart.updateGlobalScaleDomain(),this._compiler.render(),this):(this._spec.data=Eu(this._spec.data),e.forEach(({id:e,data:t,options:i})=>{this._updateDataById(e,t,i)}),this)})}updateDataSync(e,t,i,o){return yu(this._dataSet)?this:this._chart?(this._chart.updateData(e,t,!0,i),(null==o?void 0:o.reAnimate)&&(this.stopAnimation(),this._updateAnimateState(!0)),this._compiler.render(),this):(this._spec.data=Eu(this._spec.data),this._updateDataById(e,t,i),this)}updateFullDataSync(e,t=!0,i){if(this._chart)return this._chart.updateFullData(e),t&&((null==i?void 0:i.reAnimate)&&(this.stopAnimation(),this._updateAnimateState(!0)),this._compiler.render()),this;const o=Eu(this._spec.data);return Eu(e).forEach(e=>{const{id:t,values:i,parser:l,fields:n}=e,r=o.find(e=>e.name===t);if(r)r instanceof E?(r.setFields(Fu(n)),r.parse(i,Fu(l))):(r.values=i,uu(l)&&(r.parser=l),uu(n)&&(r.fields=n));else{const t=ZL(e,this._dataSet,o);bu(this._spec.data)&&this._spec.data.push(t)}}),this}updateFullData(e,t=!0){return gT(this,void 0,void 0,function*(){return this.updateFullDataSync(e,t)})}updateSpec(e,t=!1,i,o){return gT(this,void 0,void 0,function*(){const l=this._updateSpec(e,t,o);return l?(yield this.updateCustomConfigAndRerender(l,!1,{morphConfig:i,transformSpec:l.reTransformSpec,actionSource:"updateSpec"}),this):this})}updateSpecSync(e,t=!1,i,o){const l=this._updateSpec(e,t,o);return l?(this.updateCustomConfigAndRerender(l,!0,{morphConfig:i,transformSpec:l.reTransformSpec,actionSource:"updateSpec"}),this):this}updateSpecAndRecompile(e,t=!1,i={}){const o=this._updateSpec(e,t);return this._updateCustomConfigAndRecompile(o,Object.assign({actionSource:"updateSpecAndRecompile"},i))}updateModelSpec(e,t,i=!1,o){return gT(this,void 0,void 0,function*(){return this.updateModelSpecSync(e,t,i,o)})}updateModelSpecSync(e,t,i=!1,o){if(!t||!this._spec)return this;if(mu(t)&&(t=JSON.parse(t)),pu(e)||function(e,t,i,o){Object.keys(e).forEach(l=>{if((e=>{const t=typeof e;return null!==e&&"object"===t||"function"===t})(t))t.type===l&&(Lw(e[l])?e[l].length>=t.index&&(e[l][t.index]=o?Mw({},e[l][t.index],i):i):e[l]=o?Mw({},e[l],i):i);else if(Lw(e[l])){const n=e[l].findIndex(e=>e.id===t);n>=0&&(e[l][n]=o?Mw({},e[l][n],i):i)}else e.id===t&&(e[l]=o?Mw({},e[l],i):i)})}(this._spec,e,t,i),this._chart){const l=this._chart.getModelInFilter(e);if(l)return this._updateModelSpec(l,t,!0,i,o)}return this}_updateModelSpec(e,t,i=!1,o=!1,l){o&&(t=Mw({},e.getSpec(),t));const n=e.updateSpec(t);return e.reInit(t),(n.change||n.reCompile||n.reMake||n.reSize||n.reRender)&&this._chart.reDataFlow(),this.updateCustomConfigAndRerender(n,i,{morphConfig:l,transformSpec:!1,actionSource:"updateModelSpec"})}resize(e,t){return gT(this,void 0,void 0,function*(){return this.resizeSync(e,t)})}resizeSync(e,t){var i,o;return this._beforeResize(e,t)?(null===(o=(i=this._compiler).resize)||void 0===o||o.call(i,e,t),this._afterResize()):this}_beforeResize(e,t){var i,o,l,n;if(!this._chart||!this._compiler)return!1;const r=this._chart.getCanvasRect();return!(r&&r.width===e&&r.height===t||(this._chartPluginApply("onBeforeResize",e,t),null===(o=null===(i=this._option.performanceHook)||void 0===i?void 0:i.beforeResizeWithUpdate)||void 0===o||o.call(i,this),this._chart.onResize(e,t,!1),null===(n=null===(l=this._option.performanceHook)||void 0===l?void 0:l.afterResizeWithUpdate)||void 0===n||n.call(l,this),0))}_afterResize(){return this._isReleased||this._event.emit(WL.afterResize,{chart:this._chart}),this}updateViewBox(e,t=!0,i=!0){return this._chart&&this._compiler?(this._viewBox=e,this._chart.updateViewBox(e,i),i&&(this._compiler.render(),this._chart.onEvaluateEnd()),this._compiler.updateViewBox(e,t),this):this}on(e,t,i){var o;this._userEvents&&(this._userEvents.push({eType:e,query:"function"==typeof t?null:t,handler:"function"==typeof t?t:i}),null===(o=this._event)||void 0===o||o.on(e,t,i))}off(e,t){var i;if(this._userEvents&&0!==this._userEvents.length)if(t){const o=this._userEvents.findIndex(i=>i.eType===e&&i.handler===t);o>=0&&(this._userEvents.splice(o,1),null===(i=this._event)||void 0===i||i.off(e,t))}else this._userEvents.forEach(t=>{var i;t.eType===e&&(null===(i=this._event)||void 0===i||i.off(e,t.handler))}),this._userEvents=this._userEvents.filter(t=>t.eType!==e)}updateState(e,t){this._chart&&this._chart.updateState(e,t)}setSelected(e,t,i){this._chart&&this._chart.setSelected(e,t,i)}setHovered(e,t,i){this._chart&&this._chart.setHovered(e,t,i)}clearState(e){this._chart&&this._chart.clearState(e)}clearAllStates(){this._chart&&this._chart.clearAllStates()}clearSelected(){this._chart&&this._chart.clearSelected()}clearHovered(){this._chart&&this._chart.clearHovered()}_updateCurrentTheme(e){var t,i,o;const l=this._option.theme,n=null===(t=this._spec)||void 0===t?void 0:t.theme,r=null===(i=this._spec)||void 0===i?void 0:i.type;e&&(this._currentThemeName=e);const a=(e,t)=>{var i;return(null===(i=t.chart)||void 0===i?void 0:i[e])&&(t=Ww({},t,t.chart[e])),t};let s;if(wu(l)&&wu(n))s=Zw(this._currentThemeName),this._currentTheme=a(r,s);else if(mu(l)&&(!n||mu(n))||mu(n)&&(!l||mu(l))){const e=Ww({},Zw(this._currentThemeName),Zw(l),Zw(n));this._currentTheme=a(r,e)}else{const e=Ww({},Zw(this._currentThemeName),Zw(l),Zw(n));this._currentTheme=a(r,e)}var h;this._cachedProcessedTheme=null,h=this.getTheme("component","poptip"),lt(Jb.poptip,qb,h),null===(o=this._compiler)||void 0===o||o.setBackground(this._getBackground())}_shouldChartResize(e){var t,i;let o=!1;yu(this._spec.width)?!yu(e.width)&&(this._spec.width=e.width):this._spec.width!==e.width&&(o=!0),yu(this._spec.height)?!yu(e.height)&&(this._spec.height=e.height):this._spec.height!==e.height&&(o=!0);const l=this._autoSize;return this._autoSize=!!Ag(this._option.mode)&&(null===(i=null!==(t=this._spec.autoFit)&&void 0!==t?t:this._option.autoFit)||void 0===i||i),this._autoSize!==l&&(o=!0),o}_getBackground(){return("string"==typeof this._spec.background||gu(this._spec.background)&&this._spec.background.gradient?this._spec.background:null)||this.getTheme("background")||this._option.background}getCurrentTheme(){return Zw(this._currentThemeName)}getCurrentThemeName(){return this._currentThemeName}setCurrentTheme(e){return gT(this,void 0,void 0,function*(){return this.setCurrentThemeSync(e)})}setCurrentThemeSync(e){if(!Yw.themeExist(e))return this;const t=this._setCurrentTheme(e);return this._setFontFamilyTheme(this.getTheme("fontFamily")),this.updateCustomConfigAndRerender(t,!0,{transformSpec:!1,actionSource:"setCurrentTheme"}),this}_setCurrentTheme(e){var t;return this._updateCurrentTheme(e),this._initChartSpec(this._getSpecFromOriginalSpec(),"setCurrentTheme"),null===(t=this._chart)||void 0===t||t.setCurrentTheme(),{change:!0,reMake:!1}}_setFontFamilyTheme(e){var t;e&&(null===(t=this.getStage())||void 0===t||t.setTheme({text:{fontFamily:e},richtext:{fontFamily:e}}))}_getTooltipComponent(){var e;return null===(e=this._chart)||void 0===e?void 0:e.getComponentsByType(r.tooltip)[0]}setTooltipHandler(e){var t,i;this._context.tooltipHandler=e;const o=this._getTooltipComponent();o&&(null===(i=null===(t=o.tooltipHandler)||void 0===t?void 0:t.release)||void 0===i||i.call(t),o.tooltipHandler=e)}getTooltipHandlerByUser(){var e;return null===(e=this._context)||void 0===e?void 0:e.tooltipHandler}getTooltipHandler(){const e=this._getTooltipComponent();return e?e.tooltipHandler:this._context.tooltipHandler}showTooltip(e,t){var i;const o=this._getTooltipComponent();return null!==(i=uu(e)&&"none"!==(null==o?void 0:o.showTooltip(e,t)))&&void 0!==i&&i}hideTooltip(){var e;const t=this._getTooltipComponent();return null!==(e=null==t?void 0:t.hideTooltip())&&void 0!==e&&e}getLegendDataById(e){var t;const i=null===(t=this._chart)||void 0===t?void 0:t.getComponentByUserId(e);return i?i.getLegendData():[]}getLegendDataByIndex(e=0){var t;const i=null===(t=this._chart)||void 0===t?void 0:t.getComponentsByType(r.discreteLegend);return i&&i[e]?i[e].getLegendData():[]}getLegendSelectedDataById(e){var t;const i=null===(t=this._chart)||void 0===t?void 0:t.getComponentByUserId(e);return i?i.getSelectedData():[]}getLegendSelectedDataByIndex(e=0){var t;const i=null===(t=this._chart)||void 0===t?void 0:t.getComponentsByType(r.discreteLegend);return i&&i[e]?i[e].getSelectedData():[]}setLegendSelectedDataById(e,t){var i;const o=null===(i=this._chart)||void 0===i?void 0:i.getComponentByUserId(e);o&&o.setSelectedData(t)}setLegendSelectedDataByIndex(e=0,t){var i;const o=null===(i=this._chart)||void 0===i?void 0:i.getComponentsByType(r.discreteLegend);o&&o[e]&&o[e].setSelectedData(t)}getDataURL(){var e;return gT(this,void 0,void 0,function*(){const t=this.getStage();if(this._chart&&t){t.render();const e=this._chart.getCanvas();return yield rF(e,{onError:this._onError})}return null===(e=this._option)||void 0===e||e.onError(new ReferenceError("render is not defined")),null})}exportImg(e){var t,i;return gT(this,void 0,void 0,function*(){if(!Ag(this._option.mode))return void(null===(t=this._option)||void 0===t||t.onError(new TypeError("non-browser environment can not export img")));const o=yield this.getDataURL();o?function(e="vchart",t){const i=document.createElement("a");i.setAttribute("href",t),i.setAttribute("target","_blank"),i.setAttribute("download",`${e}.png`),i.dispatchEvent(new MouseEvent("click"))}(e,o):null===(i=this._option)||void 0===i||i.onError(new ReferenceError("render is not defined"))})}exportCanvas(){var e;const t=this.getStage();if(this._chart&&t)return t.toCanvas();null===(e=this._option)||void 0===e||e.onError(new ReferenceError("render is not defined"))}getImageBuffer(){var e,t;if("node"!==this._option.mode)return void(null===(e=this._option)||void 0===e||e.onError(new TypeError("getImageBuffer() now only support node environment.")));const i=this.getStage();return i?(i.render(),i.window.getImageBuffer()):(null===(t=this._option)||void 0===t||t.onError(new ReferenceError("render is not defined")),null)}setLayout(e){var t;this._option.layout=e,null===(t=this._chart)||void 0===t||t.setLayout(e)}reLayout(){var e;this._chart.resetLayoutItemTag(),null===(e=this._chart)||void 0===e||e.setLayoutTag(!0)}getCompiler(){return this._compiler}getChart(){return this._chart}getStage(){return this._compiler.getStage()}getCanvas(){var e;return null===(e=this._compiler)||void 0===e?void 0:e.getCanvas()}getContainer(){var e;if(uu(this._container))return this._container;let t;return t=mu(this._canvas)?iy.getElementById(this._canvas):this._canvas,uu(t)?t.parentElement:null===(e=this.getCanvas())||void 0===e?void 0:e.parentElement}getComponents(){return this._chart.getAllComponents()}getScale(e){var t;const i=null===(t=this._chart)||void 0===t?void 0:t.getGlobalScale();return null==i?void 0:i.getScale(e)}setDimensionIndex(e,t={}){var i;return null===(i=this._chart)||void 0===i?void 0:i.setDimensionIndex(e,t)}stopAnimation(){var e;null===(e=this.getStage())||void 0===e||e.stopAnimation(!0)}reRunNormalAnimation(){var e;null===(e=this.getStage())||void 0===e||e.reApplyAnimationState("normal",!0)}pauseAnimation(){var e;null===(e=this.getStage())||void 0===e||e.pauseAnimation(!0)}resumeAnimation(){var e;null===(e=this.getStage())||void 0===e||e.resumeAnimation(!0)}convertDatumToPosition(e,t={},i=!1,o){var l;if(!this._chart)return null;if(wu(e))return null;const{seriesId:n,seriesIndex:r=0}=t;let a;if(uu(n)?a=this._chart.getSeriesInUserId(n):uu(r)&&(a=null===(l=this._chart.getSeriesInIndex([r]))||void 0===l?void 0:l[0]),a){const t=Object.keys(e),l=a.getViewData().latestData.find(i=>t.every(t=>i[t]==e[t])),n=a.getRegion().getLayoutStartPoint();let r;return r=l?a.dataToPosition(l,o):a.dataToPosition(e,o),r?kw(r,n,i):null}return null}convertValueToPosition(e,t,i=!1){var o,l;if(!this._chart||yu(e)||wu(t))return null;if(!bu(e)){const{axisId:l,axisIndex:n}=t;let r;if(uu(l)?r=this._chart.getComponentsByKey("axes").find(e=>e.userId===l):uu(n)&&(r=null===(o=this._chart.getComponentsByKey("axes"))||void 0===o?void 0:o[n]),!r)return _g("Please check whether the `axisId` or `axisIndex` is set!"),null;const a=null==r?void 0:r.valueToPosition(e);if(i){const e=r.getLayoutStartPoint(),t=r.getOrient();return a+("bottom"===t||"top"===t?e.x:e.y)}return a}const{seriesId:n,seriesIndex:r}=t;let a;return uu(n)?a=this._chart.getSeriesInUserId(n):uu(r)&&(a=null===(l=this._chart.getSeriesInIndex([r]))||void 0===l?void 0:l[0]),a?kw(a.valueToPosition(e[0],e[1]),a.getRegion().getLayoutStartPoint(),i):(_g("Please check whether the `seriesId` or `seriesIndex` is set!"),null)}getFunction(e){return $F.instance().getFunction(e)}registerFunction(e,t){e&&t&&$F.instance().registerFunction(e,t)}unregisterFunction(e){e&&$F.instance().unregisterFunction(e)}getFunctionList(){return $F.instance().getFunctionNameList()}setRuntimeSpec(e){this._spec=e,this._updateSpecInfo()}updateIndicatorDataById(e,t){var i;const o=null===(i=this._chart)||void 0===i?void 0:i.getComponentByUserId(e);o&&o.updateDatum(t)}updateIndicatorDataByIndex(e=0,t){var i;const o=null===(i=this._chart)||void 0===i?void 0:i.getComponentsByType(r.indicator);o&&o[e]&&o[e].updateDatum(t)}geoZoomByIndex(e=0,t,i){this._geoZoomByQuery({regionIndex:e},t,i)}geoZoomById(e,t,i){this._geoZoomByQuery({regionId:e},t,i)}_geoZoomByQuery(e,t,i){var o,l;const n=null===(o=this._chart)||void 0===o?void 0:o.getRegionsInQuerier(e)[0],a=null===(l=this._chart)||void 0===l?void 0:l.getComponentsByType(r.geoCoordinate),s=null==a?void 0:a.find(e=>{var t;return null===(t=e.getRegions())||void 0===t?void 0:t.includes(n)});s&&s.dispatchZoom(t,i)}_initChartPlugin(){const e=Ow.getChartPlugins();e.length>0&&(this._chartPlugin=new qF(this),this._chartPlugin.load(e.map(e=>new e)),this._chartPluginApply("onInit",this._spec));const t=Ow.getVChartPlugins();t.length>0&&(this._vChartPlugin=new uT(this),this._vChartPlugin.load(t.map(e=>new e)),this._vChartPlugin.onInit())}_chartPluginApply(e,...t){this._chartPlugin&&this._chartPlugin[e]&&this._chartPlugin[e].apply(this._chartPlugin,t)}_getMode(){return this._option.mode||n["desktop-browser"]}isAnimationEnable(){return"animation"in this._option?!!this._option.animation:!1!==this._spec.animation}_getChartOption(e){return{type:e,globalInstance:this,eventDispatcher:this._eventDispatcher,dataSet:this._dataSet,container:this._container,canvas:this._canvas,map:new Map,mode:this._getMode(),modeParams:this._option.modeParams,getCompiler:()=>this._compiler,viewBox:this._viewBox,getTheme:this.getTheme,getSpecInfo:()=>{var e;return null!==(e=this._specInfo)&&void 0!==e?e:{}},layout:this._option.layout,onError:this._onError,disableTriggerEvent:!0===this._option.disableTriggerEvent}}}kT.InstanceManager=Vw,kT.ThemeManager=Yw,kT.globalConfig={uniqueTooltip:!0},kT.Utils=XF,kT.vglobal=iy,Ow.registerRegion("region",_F),Ow.registerLayout("base",OF),vb(),sb(),Ow.registerMark(ZF.type,ZF),Ow.registerStageEventPlugin("gesture",sf),Ow.registerInteractionTrigger(cT.type,cT),Ow.registerInteractionTrigger(yT.type,yT),Nw(Sw.name,Sw);const mT="monotone";function bT(e,t){return t("component",e)}function vT(e,t,i,o){if(e)return{formatFunc:e,args:[i,o]};const l=Ow.getFormatter();return t&&l?{formatFunc:l,args:[i,o,t]}:{}}const CT=(e,t,i,o)=>{if(yu(e[t]))return;const l=bu(e[t]),n=l?e[t]:[e[t]],r=[];return n.forEach((e,n)=>{!e||o&&!o(e)||r.push({spec:e,specPath:l?[t,n]:[t],specInfoPath:["component",t,n],type:i})}),r},ST=(e,t)=>{const i=t.beforeCall();return e&&e.forEach((e,o)=>t.call(e,o,i)),i.keyMap&&(i.keyMap.clear(),i.keyMap=null),e},xT=(e,t,i,o)=>{let l;if(l=pu(e)?e(t,i):fu(e)&&uu(e.field)?Lu(t,e.field):e,o){const{formatFunc:i,args:n}=vT(void 0,o,e,t);i&&n&&(l=i(...n))}return l},_T=(e,t,i)=>yu(e)?e:pu(e)?e(t,i):e;var wT=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};const LT=(e,t)=>!(t&&(!1===t.visible||t[e]&&!1===t[e].visible||t.activeType&&!(bu(t.activeType)?t.activeType.includes(e):t.activeType===e)));function FT(e,t,i,o,l,n){const r=t=>{if(t){const r={datum:l},a=yu(t.key)&&yu(t.value)&&!wu(t)?Object.assign(Object.assign(Object.assign({},o),i),t):Object.assign(Object.assign({},o),t),{key:s,keyFormatter:h,keyTimeFormat:d,keyTimeFormatMode:c,value:p,valueFormatter:y,valueTimeFormat:u,valueTimeFormatMode:g}=a,f=wT(a,["key","keyFormatter","keyTimeFormat","keyTimeFormatMode","value","valueFormatter","valueTimeFormat","valueTimeFormatMode"]);r.key=AT(xT(s,l,n,h),d,c),r.value=AT(xT(p,l,n,y),u,g),Object.keys(f).forEach(e=>{r[e]=xT(a[e],l,n)}),!1!==r.visible&&(uu(r.key)||uu(r.value))&&e.push(r)}};bu(t)?t.forEach(e=>{r(e)}):r(t)}function TT(e,t,i,o,l,n,r){pu(t)?FT(e,t(l,r),i,o,n,r):t&&FT(e,t,i,o,n,r)}const AT=(e,t,i)=>{if(!t&&!i)return"object"!=typeof e?null==e?void 0:e.toString():e;const o=vg.getInstance();return t=t||"%Y%m%d",("local"===(i=i||"local")?o.timeFormat:o.timeUTCFormat)(t,e)};class zT{constructor(e){this.activeTriggerSet={mark:new Set,group:new Set},this.ignoreTriggerSet={mark:new Set},this._getSeriesCacheInfo=()=>{var e,t,i;const{series:o}=this,l=o.getSeriesField();return{seriesFields:uu(l)?Eu(l):null!==(e=o.getSeriesKeys())&&void 0!==e?e:[],dimensionFields:null!==(t=o.getDimensionField())&&void 0!==t?t:[],measureFields:null!==(i=o.getMeasureField())&&void 0!==i?i:[],type:o.type}},this._getDimensionData=e=>{const{dimensionFields:t}=this._seriesCacheInfo;return t[0]&&(null==e?void 0:e[t[0]])},this._getMeasureData=e=>{const{measureFields:t}=this._seriesCacheInfo;return t[0]&&(null==e?void 0:e[t[0]])},this._getSeriesFieldData=e=>{const{dimensionFields:t,seriesFields:i}=this._seriesCacheInfo;if(uu(i[0])&&(null==e?void 0:e[i[0]]))return null==e?void 0:e[i[0]];const o=t[t.length-1];return t.length>1&&(0===i.length||this.series.getSeriesKeys().length),null==e?void 0:e[o]},this._getSeriesStyle=(e,t,i)=>{var o;for(const l of Eu(t)){const t=null===(o=this.series.getSeriesStyle(e))||void 0===o?void 0:o(l);if(uu(t))return t}return i},this.markTooltipKeyCallback=(e,t)=>this._getSeriesFieldData(e),this.markTooltipValueCallback=(e,t)=>this._getMeasureData(e),this.shapeTypeCallback=(e,t)=>{var i;return null!==(i=this._getSeriesStyle(e,"shape",null))&&void 0!==i?i:this._getSeriesStyle(e,"symbolType",this.series.getDefaultShapeType())},this.shapeColorCallback=(e,t)=>this._getSeriesStyle(e,["fill","stroke"]),this.shapeStrokeCallback=(e,t)=>this._getSeriesStyle(e,["stroke","fill"]),this.dimensionTooltipTitleCallback=(e,t)=>this._getDimensionData(e),this.groupTooltipTitleCallback=(e,t)=>this._getSeriesFieldData(e),this.groupTooltipKeyCallback=(e,t)=>{const{seriesFields:i}=this._seriesCacheInfo;let o=this._seriesCacheInfo.dimensionFields;return i[0]&&(o=o.filter(e=>e!==i[0])),o.map(t=>null==e?void 0:e[t]).join("-")},this.getHasShape=e=>!!e,this.series=e,this.updateTooltipSpec()}updateTooltipSpec(){var e;const t=null===(e=this.series.getSpec())||void 0===e?void 0:e.tooltip;this.spec=t,this._seriesCacheInfo=this._getSeriesCacheInfo()}getShapeAttrs(e,t,i){var o,l,n,r,a,s,h,d,c,p,y,u;const g=t?"content":"title",f=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},null===(o=null==i?void 0:i.style)||void 0===o?void 0:o.shape),null==i?void 0:i[e]),null===(l=null==i?void 0:i[e])||void 0===l?void 0:l[g]),null===(n=this.spec)||void 0===n?void 0:n[e]),null===(a=null===(r=this.spec)||void 0===r?void 0:r[e])||void 0===a?void 0:a[g]);return{shapeType:null!==(s=f.shapeType)&&void 0!==s?s:this.shapeTypeCallback,shapeFill:null!==(d=null!==(h=f.shapeFill)&&void 0!==h?h:f.shapeColor)&&void 0!==d?d:this.shapeColorCallback,shapeStroke:null!==(c=f.shapeStroke)&&void 0!==c?c:this.shapeStrokeCallback,shapeHollow:null!==(p=f.shapeHollow)&&void 0!==p&&p,shapeLineWidth:f.shapeLineWidth,shapeSize:null!==(y=f.shapeSize)&&void 0!==y?y:f.size,hasShape:null!==(u=f.hasShape)&&void 0!==u?u:this.getHasShape(t)}}enableByType(e){return!0}getDefaultContentList(e){return[this.getDefaultContentPattern(e)]}getContentList(e,t,i,o,l,n){var r;return function(e,t,i,o,l,n){if(l&&l.length){const r=[];return l.forEach(l=>{bu(e)?e.forEach(e=>{TT(r,e,t,i,o,l,n)}):pu(e)?TT(r,e,t,i,o,l,n):e&&FT(r,e,t,i,l,n)}),r}return null}(null!==(r=null==t?void 0:t.content)&&void 0!==r?r:this.getDefaultContentList(e),this.getDefaultContentPattern(e),i,o,l,n)}getTitleResult(e,t,i,o,l){let n=pu(t)?t(o,l):t;if(n?yu(n.value)&&(n=Object.assign(Object.assign({},this.getDefaultTitlePattern(e)),n)):n=this.getDefaultTitlePattern(e),n&&!1!==n.visible){const e=function(e){var t;const i=(null===(t=e[0])||void 0===t?void 0:t.series)?[{data:e,value:""}]:e;for(const{data:o}of i)for(const{datum:e}of o)for(const t of null!=e?e:[])if(t)return t}(o),t={visible:xT(n.visible,e,l),value:AT(xT(n.value,e,l,n.valueFormatter),n.valueTimeFormat,n.valueTimeFormatMode),valueStyle:xT(n.valueStyle,e,l),hasShape:n.hasShape};return Object.keys(i).forEach(o=>{t[o]=xT(i[o],e,l)}),t}return{hasShape:!1,visible:!1}}getTooltipData(e,t,i,o,l){var n,r;if(!(this.enableByType(e)&&LT(e,this.spec)&&("dimension"!==e||o&&o.length)))return null;const a=null!==(r=null===(n=this.spec)||void 0===n?void 0:n[e])&&void 0!==r?r:null==t?void 0:t[e],s=this.getShapeAttrs(e,!0,t),h=this.getShapeAttrs(e,!1,t);let d;return"dimension"===e?(d=[],this.getContentList(e,a,s,i,o,l).forEach(e=>{d.push(e)})):d=this.getContentList(e,a,s,i,o,l),{visible:!0,activeType:e,data:i,title:this.getTitleResult(e,null==a?void 0:a.title,h,i,l),content:d}}getDefaultTitlePattern(e){return{key:void 0,value:"group"===e?this.groupTooltipTitleCallback:this.dimensionTooltipTitleCallback}}getDefaultContentPattern(e){return{seriesId:this.series.id,key:"group"===e?this.groupTooltipKeyCallback:this.markTooltipKeyCallback,value:this.markTooltipValueCallback}}}const BT={min:e=>e.length?ju(e.map(e=>1*e)):0,max:e=>e.length?Iu(e.map(e=>1*e)):0,"array-min":e=>e.length?ju(e.map(e=>1*e)):0,"array-max":e=>e.length?Iu(e.map(e=>1*e)):0,values:e=>{const t={},i=[];for(const o of e)t[o]||(i.push(o),t[o]=1);return i}},MT=(e,t)=>{var i,o;let l=t.fields;if(pu(l)&&(l=l()),!(null==l?void 0:l.length)||!(null==e?void 0:e.length))return{};l=kL([],l);const n="parser"===t.target?"parserData":"latestData",r=e[0][n]?e[0][n]:e||[],a=null===(o=(i=e[0]).getFields)||void 0===o?void 0:o.call(i);return OT(r,l,a)},OT=(e,t,i)=>{const o={};let l=[],n=[];return t.forEach(t=>{const r=t.key;o[r]={};const a=null==i?void 0:i[r],s=t.operations,h=s.some(e=>"min"===e||"max"===e||"allValid"===e);let d=!0;l.length=0,e&&e.forEach(e=>{e&&l.push(e[r])});const c=l.length;if(h){n.length=0,l.forEach((e,t)=>{Wg(e)&&n.push(e)});const e=l;l=n,n=e,d=l.length===c}else l=s.some(e=>"array-min"===e||"array-max"===e)?l.reduce((e,t)=>(t&&t.forEach(t=>{Wg(t)&&e.push(t)}),e),[]):l.filter(e=>void 0!==e);t.filter&&(l=l.filter(t.filter)),s.forEach(e=>{if(t.customize)o[r][e]=t.customize;else{if(a&&!0===a.lockStatisticsByDomain&&!yu(a.domain)){if("values"===e)return void(o[r][e]=a.domain.slice())}else if("allValid"===e)return;o[r][e]=BT[e](l),"array-max"===e&&(o[r].max=o[r][e]),"array-min"===e&&(o[r].min=o[r][e])}}),h&&(o[r].allValid=d)}),o},WT=(e,t)=>{const{config:i}=t;if(!i)return e;const{invalidType:o,checkField:l}=i();return"zero"!==o||l&&l.length&&e.forEach(e=>{l.forEach(t=>{Wg(e[t])||(e[t]=0)})}),e};function RT(){return{keyMap:new Map,needDefaultSeriesField:!this._seriesField,defaultSeriesField:this._seriesField?null:this.getSeriesKeys()[0],getKey:this.generateDefaultDataKey(this._spec.dataKey)}}function HT(e,t,i){e&&(i.needDefaultSeriesField&&(e[oL]=i.defaultSeriesField),e[tL]=t,e[iL]=i.getKey(e,t,i))}const PT={label:{name:"label",type:"text"}},ET=`${Jw}_rect_x`,DT=`${Jw}_rect_x1`,IT=`${Jw}_rect_y`,jT=`${Jw}_rect_y1`,NT={data:!0},GT={invalidType:!0,animation:!0,animationAppear:!0,animationEnter:!0,animationUpdate:!0,animationExit:!0,animationNormal:!0},UT=[...Object.keys(eT),"normal"];function VT(e={},t,i){const o={};for(let l=0;l<UT.length;l++){const n=UT[l],r=t?t[n]:void 0;if(!1===r)continue;if("normal"===n){r&&(o.normal=r);continue}if("state"===n){!1!==r&&(o.state=null!=r?r:eT.state);continue}if("update"!==n&&!r&&!e[n])continue;let a,s;a=bu(e[n])?e[n]:[Object.assign(Object.assign({},eT[n]),e[n])],"exit"===n&&a.forEach(e=>{e.controlOptions={stopWhenStateChange:!0}}),r?(s=bu(r)?r.map((e,t)=>{var o;let l=e;return KT(l)&&delete l.type,l.oneByOne&&(l=ZT(l,null!==(o=null==i?void 0:i.dataIndex)&&void 0!==o?o:XT,null==i?void 0:i.dataCount)),l}):a.map((e,t)=>{var o;let l=Mw({},a[t],r);return KT(l)&&delete l.type,l.oneByOne&&(l=ZT(l,null!==(o=null==i?void 0:i.dataIndex)&&void 0!==o?o:XT,null==i?void 0:i.dataCount)),l}),o[n]=s):o[n]=a}return o}function YT(e,t,i){var o,l,n,r,a,s;const h={};return uu(t.animationAppear)&&(h.appear=null!==(o=t.animationAppear[e])&&void 0!==o?o:t.animationAppear),uu(t.animationDisappear)&&(h.disappear=null!==(l=t.animationDisappear[e])&&void 0!==l?l:t.animationDisappear),uu(t.animationEnter)&&(h.enter=null!==(n=t.animationEnter[e])&&void 0!==n?n:t.animationEnter),uu(t.animationExit)&&(h.exit=null!==(r=t.animationExit[e])&&void 0!==r?r:t.animationExit),uu(t.animationUpdate)&&(h.update=null!==(a=t.animationUpdate[e])&&void 0!==a?a:t.animationUpdate),uu(t.animationState)&&(h.state=null!==(s=t.animationState[e])&&void 0!==s?s:t.animationState),t.animationNormal&&t.animationNormal[e]&&(h.normal=t.animationNormal[e]),function(e,t){if(!e)return e;const i=["custom","customParameters"];return qT(e=Fu(e,null,i),e=>{var i;return pu(e)&&(null===(i=e.prototype)||void 0===i?void 0:i.constructor)!==e?(...i)=>e(...i,t):e},i),e}(h,i)}function ZT(e,t,i){const{oneByOne:o,duration:l,delay:n,delayAfter:r}=e;return e.delay=(e,i,r)=>{const a=t(e,r),s=pu(l)?l(e,i,r):Su(l)?l:0,h=pu(n)?n(e,i,r):Su(n)?n:0;let d=pu(o)?o(e,i,r):o;return!1===d?h:(d=!0===d?0:d,h+a*(s+d))},e.delayAfter=(e,n,a)=>{const s=t(e,a),h=pu(l)?l(e,n,a):Su(l)?l:0,d=pu(r)?r(e,n,a):Su(r)?r:0;let c=pu(o)?o(e,n,a):o;return!1===c?d:(c=!0===c?0:c,d+((i?i():n.parent.count-1)-s)*(h+c))},delete e.oneByOne,e}function XT(e,t){var i;return null!==(i=null==e?void 0:e[tL])&&void 0!==i?i:t.context.graphicIndex}function $T(e,t){var i,o,l,n,r;if(!1===e.animation)return!1;if(!1===(null===(i=e.morph)||void 0===i?void 0:i.enable))return!1;const a=!1!==(null!==(l=null===(o=e.animationAppear)||void 0===o?void 0:o[t])&&void 0!==l?l:e.animationAppear),s=!1!==(null!==(r=null===(n=e.animationUpdate)||void 0===n?void 0:n[t])&&void 0!==r?r:e.animationUpdate);return!(!a||!s)}function KT(e){return!function(e){return uu(e.timeSlices)}(e)&&uu(e.channel)}function qT(e,t,i=[]){if(bu(e))e.forEach((o,l)=>{e[l]=t(e[l],l),qT(e[l],t,i)});else if(gu(e)&&"function"!=typeof e)for(const o in e)i.includes(o)||(e[o]=t(e[o],o),qT(e[o],t,i))}function JT(e){var t,i,o,l,n,r;const a=e.getSpec();if(!1===a.animation)return!1;if(!1===(null===(i=null===(t=e.getOption())||void 0===t?void 0:t.globalInstance)||void 0===i?void 0:i.isAnimationEnable()))return!1;let s=null!==(o=a.animationThreshold)&&void 0!==o?o:Number.MAX_SAFE_INTEGER;return null===(l=e.getMarks())||void 0===l||l.forEach(e=>{const t=e.getMarkConfig();t&&(t.large&&t.largeThreshold&&(s=Math.min(s,t.largeThreshold)),t.progressiveThreshold&&(s=Math.min(s,t.progressiveThreshold)))}),!((null===(r=null===(n=e.getRawData())||void 0===n?void 0:n.latestData)||void 0===r?void 0:r.length)>=s)}class QT extends gF{constructor(){super(...arguments),this.markLabelSpec={}}getLabelSpec(e){return this.markLabelSpec[e]}setLabelSpec(e,t){this.markLabelSpec[e]=Eu(t)}addLabelSpec(e,t,i=!1){this.markLabelSpec[e]||(this.markLabelSpec[e]=[]),i?this.markLabelSpec[e].unshift(t):this.markLabelSpec[e].push(t)}getTheme(e,t){var i,o,l;const n=q_(e),r=null===(i=this._option)||void 0===i?void 0:i.getTheme,a=this._option.type,s=Ow.getSeriesMarkMap(a)?function(e,t,i){const o=Ow.getSeriesMarkMap(t);if(!o)return e;const l={};return Object.values(o).forEach(({type:t,name:o})=>{l[o]=Mw({},i("mark",Eu(t)[0]),i("markByName",o),null==e?void 0:e[o])}),Object.assign(Object.assign({},e),l)}(r("series",a),a,r):{},h=r("series",`${a}_${n}`);return Mw({},s,h,(null!==(l=null!==(o=this.stack)&&void 0!==o?o:null==h?void 0:h.stack)&&void 0!==l?l:null==s?void 0:s.stack)?r("series",`${a}_stack`):void 0)}transformSpec(e,t,i){this._transformStack(e);const o=super.transformSpec(e,t,i);return this._transformLabelSpec(o.spec),Object.assign(Object.assign({},o),{markLabelSpec:this.markLabelSpec,stack:this.stack})}_transformLabelSpec(e){}_transformStack(e){cu(e.stack)&&(this.stack=e.stack),cu(e.percent)&&(this.stack=e.percent||this.stack),yu(this.stack)&&this._supportStack&&e.seriesField&&(this.stack=!0)}_addMarkLabelSpec(e,t,i="label",o="initLabelMarkStyle",l=!0,n){e&&Eu(e[i]).forEach(i=>{var r,a,s;if(i&&i.visible){const{animation:h=!0,animationUpdate:d=!0,animationEnter:c=!0,animationExit:p=!0}=i,{animationUpdate:y=!0,animationEnter:u=!0,animationExit:g=!0}=e,f=!!(null!==(s=null!==(a=null===(r=this._option.globalInstance)||void 0===r?void 0:r.isAnimationEnable())&&void 0!==a?a:e.animation)&&void 0!==s?s:i.animation)&&!!l;this.addLabelSpec(pu(t)?t(i):t,Object.assign(Object.assign({},i),{animation:!!f&&h,animationUpdate:!!(f&&y&&d)&&y,animationEnter:!!(f&&u&&c)&&u,animationExit:!!(f&&u&&p)&&g,getStyleHandler:e=>{var t;return null===(t=e[o])||void 0===t?void 0:t.bind(e)}}),n)}})}_getDefaultSpecFromChart(e){var t;const i=null!==(t=super._getDefaultSpecFromChart(e))&&void 0!==t?t:{},{outerRadius:o,innerRadius:l,direction:n}=e;return uu(o)&&(i.outerRadius=o),uu(l)&&(i.innerRadius=l),uu(n)&&(i.direction=n),Object.keys(i).length>0?i:void 0}_mergeThemeToSpec(e,t){const i=this._theme;if(this._shouldMergeThemeToSpec()){const o=this._getDefaultSpecFromChart(t),l=e=>{const t=Mw({},i,o,e),l=i.label;return l&&gu(l)&&bu(t.label)&&(t.label=t.label.map(e=>Mw({},l,e))),t};return bu(e)?{spec:e.map(e=>l(e)),theme:i}:{spec:l(e),theme:i}}return{spec:e,theme:i}}}class eA extends vF{getRegion(){return this._region}getLayoutStartPoint(){return this._region.getLayoutStartPoint()}getRootMark(){return this._rootMark}getSeriesMark(){return this._seriesMark}getRawData(){return this._rawData}getViewDataFilter(){return this._viewDataFilter}getViewData(){var e;return null===(e=this._data)||void 0===e?void 0:e.getDataView()}getViewDataProductId(){var e;return null===(e=this._data)||void 0===e?void 0:e.getProductId()}getViewDataStatistics(){return this._viewDataStatistics}getViewStackData(){return this._viewStackData}getSeriesField(){return this._seriesField}setSeriesField(e){uu(e)&&(this._seriesField=e)}getGroups(){return this._groups}getStack(){var e;return null===(e=this.getSpecInfo())||void 0===e?void 0:e.stack}getStackValue(){var e;return null!==(e=this._spec.stackValue)&&void 0!==e?e:`${Jw}_series_${this.type}`}getPercent(){return this._spec.percent}getStackOffsetSilhouette(){return this._spec.stackOffsetSilhouette}get tooltipHelper(){return this._tooltipHelper||this.initTooltip(),this._tooltipHelper}getInvalidType(){return this._invalidType}setInvalidType(e){var t;this._invalidType=e,null===(t=this.getViewData())||void 0===t||t.reRunAllTransform()}getMarkAttributeContext(){return this._markAttributeContext}constructor(e,t){var i;super(e,t),this.specKey="series",this.type="series",this.layoutType="absolute",this.modelType="series",this.name=void 0,this.transformerConstructor=QT,this.coordinate="none",this._region=null,this._layoutStartPoint={x:0,y:0},this._layoutRect={width:null,height:null},this.getLayoutRect=()=>{var e,t;return{width:null!==(e=this._layoutRect.width)&&void 0!==e?e:this._region.getLayoutRect().width,height:null!==(t=this._layoutRect.height)&&void 0!==t?t:this._region.getLayoutRect().height}},this._rootMark=null,this._seriesMark=null,this._viewDataMap=new Map,this._viewDataFilter=null,this._data=null,this.layoutZIndex=dF.SeriesGroup,this._invalidType="break",this._region=t.region,this._dataSet=t.dataSet,(null===(i=this._spec)||void 0===i?void 0:i.name)&&(this.name=this._spec.name)}created(){super.created(),this._buildMarkAttributeContext(),this.initData(),this.initGroups(),this.initStatisticalData(),this.event.emit(WL.afterInitData,{model:this}),this.initRootMark(),this.initMark();const e=JT(this);this._initExtensionMark({hasAnimation:e}),this.initMarkStyle(),this.initMarkState(),e&&this.initAnimation(),this.afterInitMark(),this.initEvent(),this.event.emit(WL.afterInitEvent,{model:this})}_buildMarkAttributeContext(){this._markAttributeContext={vchart:this._option.globalInstance,globalScale:(e,t)=>{var i;return null===(i=this._option.globalScale.getScale(e))||void 0===i?void 0:i.scale(t)},seriesColor:e=>{var t;return yu(e)&&(e=this.getSeriesKeys()[0]),null===(t=this._option.globalScale.getScale("color"))||void 0===t?void 0:t.scale(e)},getRegion:()=>this._region}}setAttrFromSpec(){super.setAttrFromSpec(),this.setSeriesField(this._spec.seriesField),uu(this._spec.invalidType)&&(this._invalidType=this._spec.invalidType)}getInvalidCheckFields(){return[this.getStackValueField()]}initInvalidDataTransform(){var e,t;"zero"===this._invalidType&&(null===(e=this._rawData)||void 0===e?void 0:e.dataSet)&&(jL(this._rawData.dataSet,"invalidTravel",WT),null===(t=this._rawData)||void 0===t||t.transform({type:"invalidTravel",options:{config:()=>({invalidType:this._invalidType,checkField:this.getInvalidCheckFields()})}},!1))}initData(){var e,t,i;const o=null!==(e=this._spec.data)&&void 0!==e?e:this._option.getSeriesData(this._spec.dataId,this._spec.dataIndex);if(o&&(this._rawData=ZL(o,this._dataSet,this._option.sourceDataList)),null===(i=null===(t=this._rawData)||void 0===t?void 0:t.target)||void 0===i||i.addListener("change",this.rawDataUpdate.bind(this)),this._addDataIndexAndKey(),this._rawData){this.getStack()&&(this._viewDataFilter=YL(this._rawData,this._dataSet,{name:`${this.type}_${this.id}_viewDataFilter`}));const e=YL(this.getStack()?this._viewDataFilter:this._rawData,this._dataSet,{name:`${this.type}_${this.id}_viewData`});this._data=new IF(this._option,e),this.getStack()&&this._viewDataFilter.target.removeListener("change",e.reRunAllTransform)}this.initInvalidDataTransform()}initGroups(){const e=this.getGroupFields();e&&e.length&&(this._groups={fields:e})}initStatisticalData(){this._data&&this._statisticViewData()}getRawDataStatisticsByField(e,t){var i,o,l;if(this._rawStatisticsCache||(this._rawStatisticsCache={}),!this._rawStatisticsCache[e]||t&&(yu(this._rawStatisticsCache[e].min)||yu(this._rawStatisticsCache[e].max))||!t&&yu(this._rawStatisticsCache[e].values))if(this._viewDataStatistics&&(!this._viewDataFilter||this._viewDataFilter.transformsArr.length<=1)&&this.getViewData().transformsArr.length<=1&&(null===(i=this._viewDataStatistics.latestData)||void 0===i?void 0:i[e]))this._rawStatisticsCache[e]=this._viewDataStatistics.latestData[e];else if(this._rawData){const i=null===(o=this._rawData.getFields())||void 0===o?void 0:o[e];if(i&&i.lockStatisticsByDomain&&i.domain)this._rawStatisticsCache[e]={},t?(this._rawStatisticsCache[e].min=ju(i.domain),this._rawStatisticsCache[e].max=Iu(i.domain)):this._rawStatisticsCache[e].values=i.domain;else{const i=OT(this._rawData.latestData,[{key:e,operations:t?["min","max"]:["values"]}])[e];this._rawStatisticsCache[e]=Bu(null!==(l=this._rawStatisticsCache[e])&&void 0!==l?l:{},i)}}return this._rawStatisticsCache[e]}_statisticViewData(){jL(this._dataSet,"dimensionStatistics",MT);const e=`${this.type}_${this.id}_viewDataStatic`;this._viewDataStatistics=new E(this._dataSet,{name:e}),this._viewDataStatistics.parse([this._data.getDataView()],{type:"dataview"}),this._viewDataStatistics.transform({type:"dimensionStatistics",options:{fields:()=>{const e=this.getStatisticFields();return this._seriesField&&kL(e,[{key:this._seriesField,operations:["values"]}]),e},target:"latest"}},!1),this._data.getDataView().target.removeListener("change",this._viewDataStatistics.reRunAllTransform),this.getStack()&&this.createdStackData()}createStatisticalData(e,t,i){jL(this._dataSet,"dimensionStatistics",MT);const o=new E(this._dataSet,{name:e});return o.parse([t],{type:"dataview"}),o.transform({type:"dimensionStatistics",options:{operations:["max","min","values"],fields:()=>{var e;const o=kL(this.getStatisticFields(),null!==(e=null==i?void 0:i(t.name))&&void 0!==e?e:[]);return this._seriesField&&kL(o,[{key:this._seriesField,operations:["values"]}]),o},target:"latest"}},!1),o}createdStackData(){const e=`${this.type}_${this.id}_viewStackData`;this._viewStackData=new E(this._dataSet,{name:e}),this._viewStackData.parse([this._viewDataFilter],{type:"dataview"}),this._viewStackData.transform({type:"stackSplit",options:{fields:this.getStackGroupFields()}},!1)}_noAnimationDataKey(e,t){return t}generateDefaultDataKey(e){var t;return yu(e)?(e,t,i)=>{if(!1===this._spec.animation){const i=this._noAnimationDataKey(e,t);if(void 0!==i)return i}const{keyMap:o}=i,l=this._getSeriesDataKey(e);return void 0===o.get(l)?(o.set(l,0),l):(o.set(l,o.get(l)+1),`${l}_${o.get(l)}`)}:mu(e)?t=>t[e]:bu(e)&&e.every(e=>mu(e))?t=>e.map(e=>t[e]).join("-"):pu(e)?(t,i)=>e(t,i):(null===(t=this._option)||void 0===t||t.onError(`invalid dataKey: ${e}`),(e,t)=>{})}_addDataIndexAndKey(){var e;(null===(e=this._rawData)||void 0===e?void 0:e.dataSet)&&(jL(this._rawData.dataSet,"addVChartProperty",ST),this._rawData.transform({type:"addVChartProperty",options:{beforeCall:RT.bind(this),call:HT}},!1))}updateRawData(e){this._rawData&&this._rawData.updateRawData(e)}rawDataUpdate(e){var t;null===(t=this._rawDataStatistics)||void 0===t||t.reRunAllTransform(),this._rawStatisticsCache=null,this.event.emit(WL.rawDataUpdate,{model:this})}viewDataFilterOver(e){this.event.emit(WL.viewDataFilterOver,{model:this})}viewDataUpdate(e){var t;this.event.emit(WL.viewDataUpdate,{model:this}),null===(t=this._data)||void 0===t||t.updateData(),this._viewDataStatistics&&this._viewDataStatistics.reRunAllTransform()}viewDataStatisticsUpdate(e){this.event.emit(WL.viewDataStatisticsUpdate,{model:this})}getDatumPositionValue(e,t){return!e||yu(t)?null:e[t]}getDatumPositionValues(e,t){return!e||yu(t)?[]:mu(t)?[e[t]]:t.map(t=>e[t])}setValueFieldToStack(){}setValueFieldToPercent(){}setValueFieldToStackOffsetSilhouette(){}initRootMark(){var e,t,i;this._rootMark=this._createMark({type:"group",name:`seriesGroup_${this.type}_${this.id}`},{parent:null===(t=(e=this._region).getGroupMark)||void 0===t?void 0:t.call(e),dataView:!1}),this._rootMark.setMarkConfig({zIndex:null!==(i=this._spec.zIndex)&&void 0!==i?i:this.layoutZIndex})}_getExtensionMarkNamePrefix(){return`${this.type}_${this.id}_extensionMark`}_initExtensionMark(e){var t;this._spec.extensionMark&&(null===(t=this._spec.extensionMark)||void 0===t||t.forEach((t,i)=>{this._createExtensionMark(t,null,this._getExtensionMarkNamePrefix(),i,e)}))}_createExtensionMark(e,t,i,o,l){var n;const r=this._createMark({type:e.type,name:uu(e.name)?`${e.name}`:`${i}_${o}`},{skipBeforeLayouted:!0,markSpec:e,parent:t,dataView:!1,componentType:e.componentType,key:e.dataKey});if(r){if(uu(e.id)&&r.setUserId(e.id),l.hasAnimation){const t=VT({},YT(e.type,e,this._markAttributeContext));r.setAnimationConfig(t)}if("group"===e.type)i=`${i}_${o}`,null===(n=e.children)||void 0===n||n.forEach((e,t)=>{this._createExtensionMark(e,r,i,t,l)});else if(!(t||yu(e.dataId)&&yu(e.dataIndex))){const t=this._option.getSeriesData(e.dataId,e.dataIndex);t===this._rawData?r.setData(this._data):(r.setDataView(t),t.target.addListener("change",()=>{r.getData().updateData()}))}}}_updateExtensionMarkSpec(){var e;null===(e=this._spec.extensionMark)||void 0===e||e.forEach((e,t)=>{const i=this._marks.getMarkWithInfo({name:uu(e.name)?`${e.name}`:`${this._getExtensionMarkNamePrefix()}_${t}`});i&&(this.initMarkStyleWithSpec(i,e),i.commit(!1,!0))})}getStackData(){var e;return null===(e=this._viewStackData)||void 0===e?void 0:e.latestData}_parseDefaultInteractionConfig(e){if(!(null==e?void 0:e.length))return[];const t=(i=this._option.mode)===n["desktop-browser"]||i===n["desktop-miniApp"]?{hover:{enable:!0,trigger:"pointermove",triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"pointertap"}}:zg(i)||Bg(i)?{hover:{enable:!0,trigger:["pointerdown","pointermove"],triggerOff:"view:pointerleave"},select:{enable:!0,trigger:"tap"}}:null;var i;let o=Object.assign({},null==t?void 0:t.hover),l=Object.assign({},null==t?void 0:t.select);const r=this._spec.hover;cu(r)?o.enable=r:gu(r)&&(o.enable=!0,o=Mw(o,r));const a=this._spec.select;cu(a)?l.enable=a:gu(a)&&(l.enable=!0,l=Mw(l,a));const s=[{trigger:{type:"dimension-hover"},marks:e}];if(o.enable){const t=sT(o,e);t.length&&s.push({trigger:this._defaultHoverConfig(o),marks:t})}if(l.enable){const t=sT(l,e);t.length&&s.push({trigger:this._defaultSelectConfig(l),marks:t})}return s}_defaultHoverConfig(e){return{type:"element-highlight",trigger:e.trigger,triggerOff:e.triggerOff,blurState:kF.STATE_HOVER_REVERSE,highlightState:kF.STATE_HOVER}}_defaultSelectConfig(e){const t="multiple"===e.mode,i=uu(e.triggerOff)?e.triggerOff:t?["empty"]:["empty",e.trigger];return{type:"element-select",trigger:e.trigger,triggerOff:i,reverseState:kF.STATE_SELECTED_REVERSE,state:kF.STATE_SELECTED,isMultiple:t}}_parseInteractionConfig(e){const{interactions:t}=this._spec,i=this._parseDefaultInteractionConfig(e);return t&&t.length&&t.forEach(e=>{const t=sT(e,this.getMarks());t.length&&i.push({trigger:e,marks:t})}),i}getInteractionTriggers(){if(!0!==this._option.disableTriggerEvent){const e=this.getMarksWithoutRoot();return this._parseInteractionConfig(e)}return[]}initAnimation(){}initMarkState(){this.initSeriesStyleState()}initSeriesStyleState(){var e;const t=this._spec.seriesStyle;if(!t||!t.length)return;const i=null!==(e=this._seriesField)&&void 0!==e?e:oL;this.getMarksWithoutRoot().forEach(e=>{const o={},l={},n={};t.forEach(t=>{var i;const r=null===(i=t[e.name])||void 0===i?void 0:i.style;r&&(o[t.name]=!0,n[t.name]=n[t.name]||{},Object.keys(r).forEach(e=>{l[e]=!0,n[t.name][e]=r[e]}))}),e.state.addStateInfo({stateValue:lL,level:-1,filter:e=>Array.isArray(e)?0!==e.length&&!0===o[e[0][i]]:!0===o[e[i]]});const r={};Object.keys(l).forEach(t=>{r[t]=o=>{var l,r;let a;if(Array.isArray(o)){if(0===o.length)return;a=null===(l=n[o[0][i]])||void 0===l?void 0:l[t]}return a=null===(r=n[o[i]])||void 0===r?void 0:r[t],uu(a)?a:e.getAttribute(t,o)}}),this.setMarkStyle(e,r,lL,pF.User_SeriesStyle)})}afterInitMark(){this.event.emit(WL.afterInitMark,{model:this}),this.setSeriesField(this._spec.seriesField),this.getMarks().forEach(e=>{var t,i;(null===(i=null===(t=e.stateStyle)||void 0===t?void 0:t.normal)||void 0===i?void 0:i.lineWidth)&&e.setAttribute("stroke",this.getColorAttribute(),"normal",pF.Base_Series)})}getMarksWithoutRoot(){return this.getMarks().filter(e=>{var t;return!(null===(t=e.name)||void 0===t?void 0:t.includes("seriesGroup"))})}getMarksInType(e){return this._marks.getMarksInType(e)}getMarkInName(e){return this._marks.get(e)}getMarkInId(e){return this.getMarks().find(t=>t.id===e)}initEvent(){var e,t,i;null===(t=null===(e=this._data)||void 0===e?void 0:e.getDataView())||void 0===t||t.target.addListener("change",this.viewDataUpdate.bind(this)),null===(i=this._viewDataStatistics)||void 0===i||i.target.addListener("change",this.viewDataStatisticsUpdate.bind(this))}_releaseEvent(){super._releaseEvent()}initTooltip(){this._tooltipHelper=new zT(this)}_compareExtensionMarksSpec(e,t,i){e.length!==t.length||t.some((t,i)=>t.type!==e[i].type||t.id!==e[i].id||t.name!==e[i].name)?i.reMake=!0:t.some((t,i)=>t.visible!==e[i].visible)&&(i.reCompile=!0)}_compareLabelSpec(e,t,i){e.length!==t.length||t.some((t,i)=>t.labelLayout!==e[i].labelLayout||t.visible!==e[i].visible)?i.reMake=!0:!i.reCompile&&t.some((t,i)=>!Ru(t,e[i]))&&(i.reCompile=!0)}_compareSpec(e,t,i){const o=super._compareSpec(e,t),l=Object.keys(t||{}).sort();if(!Ru(l,Object.keys(e||{}).sort()))return o.reMake=!0,o;const n=Object.assign(Object.assign(Object.assign(Object.assign({},NT),GT),i),{extensionMark:!0,label:!0,totalLabel:!0});return this._compareExtensionMarksSpec(Eu(e.extensionMark),Eu(t.extensionMark),o),!o.reMake&&this._compareLabelSpec(Eu(e.label),Eu(t.label),o),!o.reMake&&this._compareLabelSpec(Eu(e.totalLabel),Eu(t.totalLabel),o),o.reMake?o:(!o.reCompile&&this._marks.getMarks().some(i=>{var o,l;return n[i.name]=!0,(null===(o=t[i.name])||void 0===o?void 0:o.visible)!==(null===(l=e[i.name])||void 0===l?void 0:l.visible)})&&(o.reCompile=!0),!o.reCompile&&l.some(i=>GT[i]&&!Ru(e[i],t[i]))&&(o.reCompile=!0),l.some(i=>!n[i]&&!Ru(e[i],t[i]))?(o.reMake=!0,o):o)}_updateSpecData(){!this._rawData||!this._spec.data||this._spec.data instanceof E||XL(this._rawData,this._spec.data,!0)}reInit(e){super.reInit(e);const t=this.getMarksWithoutRoot();t.forEach(e=>{this._spec[e.name]&&this.initMarkStyleWithSpec(e,this._spec[e.name])}),this.initMarkStyle(),t.forEach(e=>{e.commit(!1)}),this._updateExtensionMarkSpec(),this._updateSpecData(),this._tooltipHelper&&this._tooltipHelper.updateTooltipSpec(),JT(this)&&this.initAnimation()}onEvaluateEnd(e){this._data.updateData()}release(){var e,t;super.release(),this._viewDataMap.clear();const i=null===(t=null===(e=this._rawData)||void 0===e?void 0:e.transformsArr)||void 0===t?void 0:t.findIndex(e=>"addVChartProperty"===e.type);i>=0&&this._rawData.transformsArr.splice(i,1),this._dataSet=this._data=this._rawData=this._rawDataStatistics=this._spec=this._region=this._viewDataStatistics=this._viewStackData=null}setLayoutStartPosition(e){Su(e.x)&&(this._layoutStartPoint.x=e.x),Su(e.y)&&(this._layoutStartPoint.y=e.y)}setLayoutRect({width:e,height:t},i){Su(e)&&(this._layoutRect.width=e),Su(t)&&(this._layoutRect.height=t)}getSeriesKeys(){var e,t;return this._seriesField?null!==(t=null===(e=this.getRawDataStatisticsByField(this._seriesField))||void 0===e?void 0:e.values)&&void 0!==t?t:[]:this.name?[this.name]:this.userId?[`${this.userId}`]:[`${this.type}_${this.id}`]}getSeriesStyle(e){return t=>{var i,o;return null!==(o=null===(i=this._seriesMark)||void 0===i?void 0:i.getAttribute(t,e))&&void 0!==o?o:void 0}}_getSeriesInfo(e,t){const i=this.getDefaultShapeType();return t.map(t=>({key:t,originalKey:t,style:this.getSeriesStyle({[e]:t}),shapeType:i}))}getSeriesInfoInField(e){var t,i;return this._getSeriesInfo(e,null!==(i=null===(t=this.getRawDataStatisticsByField(e))||void 0===t?void 0:t.values)&&void 0!==i?i:[])}getSeriesInfoList(){var e;return this._getSeriesInfo(null!==(e=this._seriesField)&&void 0!==e?e:oL,this.getSeriesKeys())}_getDefaultColorScale(){var e,t;const i=this.getDefaultColorDomain(),o=this._getDataScheme();return null===(t=(e=(new aw).domain(i)).range)||void 0===t?void 0:t.call(e,o)}_getDataScheme(){return ew(this.getColorScheme(),this.type)}getDefaultColorDomain(){var e,t;return this._seriesField?null===(t=null===(e=this.getViewDataStatistics())||void 0===e?void 0:e.latestData[this._seriesField])||void 0===t?void 0:t.values:[]}getColorAttribute(){var e,t;return{scale:null!==(e=this._option.globalScale.getScale("color"))&&void 0!==e?e:this._getDefaultColorScale(),field:null!==(t=this._seriesField)&&void 0!==t?t:oL}}getDimensionField(){return[]}getMeasureField(){return[]}onMarkPositionUpdate(){this.onMarkTreePositionUpdate(this.getMarksWithoutRoot())}onMarkTreePositionUpdate(e){}_createMark(e,t={},i={}){var o,l,n,r,a;const{key:s,groupKey:h,skipBeforeLayouted:d,themeSpec:c={},markSpec:p,dataView:y,parent:u,isSeriesMark:g,noSeparateStyle:f=!1}=t,k=super._createMark(e,{key:null!=s?s:this._getDataIdKey(),seriesId:this.id,attributeContext:this._markAttributeContext,componentType:t.componentType,noSeparateStyle:f,parent:!1!==u?null!=u?u:this._rootMark:null});if(uu(k)){const t=this.getSpec()||{};this._marks.addMark(k,{name:e.name}),g&&(this._seriesMark=k),yu(y)?k.setData(this._data):!1!==y&&k.setDataView(y),k.setSkipBeforeLayouted(!1!==d),yu(h)||k.setGroupKey(h);const s=Object.assign(Object.assign({},i),{progressiveStep:t.progressiveStep,progressiveThreshold:t.progressiveThreshold,large:t.large,largeThreshold:t.largeThreshold,morph:null!==(o=i.morph)&&void 0!==o&&o,useSequentialAnimation:t.useSequentialAnimation,support3d:null!==(l=i.support3d)&&void 0!==l?l:t.support3d||!!t.zField,morphKey:(null===(n=t.morph)||void 0===n?void 0:n.morphKey)||`${this.getSpecIndex()}_${this.getMarks().length}`,morphElementKey:null!==(a=null===(r=t.morph)||void 0===r?void 0:r.morphElementKey)&&void 0!==a?a:i.morphElementKey});k.setMarkConfig(s),this.initMarkStyleWithSpec(k,Mw({},c,p||t[k.name]))}return k}_getDataIdKey(){var e;return null!==(e=super._getDataIdKey())&&void 0!==e?e:iL}_getSeriesDataKey(e){let t="";if(!e)return t;const i=this.getDimensionField();t=i.map(t=>e[t]).join("_");const o=this.getSeriesField();return o&&!i.includes(o)&&(t+=`_${e[o]}`),t}addViewDataFilter(e){var t,i;null===(i=null!==(t=this._viewDataFilter)&&void 0!==t?t:this.getViewData())||void 0===i||i.transform(e,!1)}reFilterViewData(){var e,t;null===(t=null!==(e=this._viewDataFilter)&&void 0!==e?e:this.getViewData())||void 0===t||t.reRunAllTransform()}reTransformViewData(){var e,t;null===(t=null===(e=this._data)||void 0===e?void 0:e.getDataView())||void 0===t||t.reRunAllTransform()}fillData(){var e;null===(e=this.getRawData())||void 0===e||e.reRunAllTransform()}compile(){this.compileData()}getDefaultShapeType(){return"circle"}getFieldAlias(e){var t;return e!==aL&&e!==hL&&e!==rL&&e!==sL||(e=this.getStackValueField()),null!==(t=bL(this.getRawData(),e))&&void 0!==t?t:e}_getInvalidConnectType(){return"zero"===this._invalidType?"zero":"link"===this._invalidType?"connect":"none"}_getInvalidDefined(e){const t=this.getInvalidCheckFields();return!t.length||t.every(t=>Wg(e[t]))}_getRelatedComponentSpecInfo(e){var t;const i=this.getSpecIndex(),o=null===(t=this._option.getSpecInfo().component[e])||void 0===t?void 0:t.filter(e=>e.seriesIndexes.includes(i));return null!=o?o:[]}_forEachStackGroup(e,t){var i,o;(t=null!=t?t:null===(i=this._viewStackData)||void 0===i?void 0:i.latestData)&&((null===(o=t.values)||void 0===o?void 0:o.length)?e(t):t.nodes&&Object.values(t.nodes).forEach(t=>{this._forEachStackGroup(e,t)}))}isDatumInViewData(e){if(!e)return!1;const t=this.getViewData().latestData;return!!t&&(!!t.includes(e)||t.some(t=>Object.keys(e).every(i=>e[i]===t[i])))}getSeriesFieldValue(e,t){var i;return e[null!==(i=null!=t?t:this.getSeriesField())&&void 0!==i?i:oL]}}function tA(e,t,i){const o=e.getScale(0),l="isInverse"in e&&e.isInverse();f_(o.type)?i.sort((e,i)=>(e[t]-i[t])*(l?-1:1)):i.sort((e,i)=>(o.index(e[t])-o.index(i[t]))*(l?-1:1))}function iA(e){return{dataIndex:t=>{var i,o;const l="horizontal"===e.direction?e.fieldY[0]:e.fieldX[0],n=null==t?void 0:t[l],r="horizontal"===e.direction?e.scaleY:e.scaleX;return(null!==(o=null===(i=null==r?void 0:r.domain)||void 0===i?void 0:i.call(r))&&void 0!==o?o:[]).indexOf(n)||0},dataCount:()=>{var t,i,o;const l="horizontal"===e.direction?e.scaleY:e.scaleX;return null!==(o=(null!==(i=null===(t=null==l?void 0:l.domain)||void 0===t?void 0:t.call(l))&&void 0!==i?i:[]).length)&&void 0!==o?o:0}}}eA.mark=PT,eA.transformerConstructor=QT;class oA extends eA{constructor(){super(...arguments),this.coordinate="cartesian",this._bandPosition=.5,this._scaleConfig={bandPosition:this._bandPosition},this._direction="vertical",this._sortDataByAxis=!1,this._getPositionXEncoder=()=>{var e;return null===(e=this._positionXEncoder)||void 0===e?void 0:e.bind(this)},this._setPositionXEncoder=e=>{this._positionXEncoder=e.bind(this)},this._getPositionYEncoder=()=>{var e;return null===(e=this._positionYEncoder)||void 0===e?void 0:e.bind(this)},this._setPositionYEncoder=e=>{this._positionYEncoder=e.bind(this)}}_buildScaleConfig(){this._scaleConfig={bandPosition:this._bandPosition}}get fieldX(){return this._fieldX}setFieldX(e){this._fieldX=Eu(e)}get fieldY(){return this._fieldY}setFieldY(e){this._fieldY=Eu(e)}get fieldZ(){return this._fieldZ}setFieldZ(e){this._fieldZ=e&&Eu(e)}get fieldX2(){return this._fieldX2}setFieldX2(e){this._fieldX2=e}get fieldY2(){return this._fieldY2}setFieldY2(e){this._fieldY2=e}get direction(){return this._direction}get scaleX(){return this._scaleX}setScaleX(e){this._scaleX=e}get scaleY(){return this._scaleY}setScaleY(e){this._scaleY=e}get scaleZ(){return this._scaleZ}setScaleZ(e){this._scaleZ=e}getXAxisHelper(){return this._xAxisHelper}setXAxisHelper(e){this._xAxisHelper=e,this.onXAxisHelperUpdate()}getYAxisHelper(){return this._yAxisHelper}setYAxisHelper(e){this._yAxisHelper=e,this.onYAxisHelperUpdate()}getZAxisHelper(){return this._zAxisHelper}setZAxisHelper(e){this._zAxisHelper=e,this.onYAxisHelperUpdate()}get sortDataByAxis(){return this._sortDataByAxis}getStatisticFields(){const e=[];return[{axisHelper:this.getXAxisHelper(),fields:this._fieldX2?[...this._fieldX,this._fieldX2]:this._fieldX},{axisHelper:this.getYAxisHelper(),fields:this._fieldY2?[...this._fieldY,this._fieldY2]:this._fieldY},{axisHelper:this.getZAxisHelper(),fields:this._fieldZ}].forEach(t=>{t.axisHelper&&t.axisHelper.getScale&&t.fields&&t.fields.forEach(i=>{const o={key:i,operations:[]},l=t.axisHelper.getScale(0);f_(l.type)?(o.operations=["max","min"],"log"===l.type&&(o.filter=e=>e>0)):o.operations=["values"],e.push(o)})}),this.getStack()&&e.push({key:this.getStackValueField(),operations:["allValid"]}),e}getGroupFields(){return"vertical"===this.direction?this._fieldX:this._fieldY}getStackGroupFields(){return this.getGroupFields()}getStackValue(){var e,t;const i=null===(e="horizontal"===this.direction?this.getXAxisHelper():this.getYAxisHelper())||void 0===e?void 0:e.getAxisId();return null!==(t=this._spec.stackValue)&&void 0!==t?t:`${Jw}_series_${this.type}_${i}`}getStackValueField(){return"horizontal"===this.direction?Eu(this._spec.xField)[0]:Eu(this._spec.yField)[0]}setValueFieldToStack(){"horizontal"===this.direction?(this.setFieldX(aL),this.setFieldX2(rL)):(this.setFieldY(aL),this.setFieldY2(rL))}setValueFieldToPercent(){"horizontal"===this.direction?(this.setFieldX(hL),this.setFieldX2(sL)):(this.setFieldY(hL),this.setFieldY2(sL))}setValueFieldToStackOffsetSilhouette(){"horizontal"===this.direction?(this.setFieldX(cL),this.setFieldX2(dL)):(this.setFieldY(cL),this.setFieldY2(dL))}onXAxisHelperUpdate(){this.onMarkPositionUpdate()}onYAxisHelperUpdate(){this.onMarkPositionUpdate()}onZAxisHelperUpdate(){this.onMarkPositionUpdate()}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.setFieldX(this._spec.xField),this.setFieldY(this._spec.yField),this.setFieldZ(this._spec.zField),this._specXField=Eu(this._spec.xField),this._specYField=Eu(this._spec.yField),uu(this._spec.direction)&&(this._direction=this._spec.direction),this.setFieldX2(null===(e=this._spec)||void 0===e?void 0:e.x2Field),this.setFieldY2(null===(t=this._spec)||void 0===t?void 0:t.y2Field),this.getStack()&&this.setValueFieldToStack(),this.getPercent()&&this.setValueFieldToPercent(),this.getStackOffsetSilhouette()&&this.setValueFieldToStackOffsetSilhouette(),uu(this._spec.sortDataByAxis)&&(this._sortDataByAxis=!0===this._spec.sortDataByAxis)}dataToPosition(e,t){return e?t&&!this.isDatumInViewData(e)?null:{x:this.dataToPositionX(e),y:this.dataToPositionY(e)}:null}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToX=this.valueToPositionX.bind(this),this._markAttributeContext.valueToY=this.valueToPositionY.bind(this),this._markAttributeContext.xBandwidth=(e=0)=>{var t,i,o;return null!==(o=null===(i=(t=this.getXAxisHelper()).getBandwidth)||void 0===i?void 0:i.call(t,e))&&void 0!==o?o:0},this._markAttributeContext.yBandwidth=(e=0)=>{var t,i,o;return null!==(o=null===(i=(t=this.getYAxisHelper()).getBandwidth)||void 0===i?void 0:i.call(t,e))&&void 0!==o?o:0},this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this)}valueToPosition(e,t){return{x:this.valueToPositionX(e),y:this.valueToPositionY(t)}}_axisPosition(e,t,i){return this._scaleConfig.datum=i,e.isContinuous?e.valueToPosition(t,this._scaleConfig):e.dataToPosition(Eu(t),this._scaleConfig)}valueToPositionX(e,t){return this._axisPosition(this._xAxisHelper,e,t)}valueToPositionY(e,t){return this._axisPosition(this._yAxisHelper,e,t)}_dataToPosition(e,t,i,o,l,n){const r=l();if(r)return r(e);if(!t)return n(e=>Number.NaN),Number.NaN;const a=(t.getFields?t.getFields():i).slice(0,o);return a&&0!==a.length?(t.isContinuous?n(e=>(this._scaleConfig.datum=e,t.valueToPosition(this.getDatumPositionValue(e,a[0]),this._scaleConfig))):n(e=>(this._scaleConfig.datum=e,t.dataToPosition(Eu(this.getDatumPositionValues(e,a)),this._scaleConfig))),l()(e)):(n(e=>null),null)}dataToPositionX(e){return this._dataToPosition(e,this._xAxisHelper,this.fieldX,void 0,this._getPositionXEncoder,this._setPositionXEncoder)}dataToPositionY(e){return this._dataToPosition(e,this._yAxisHelper,this.fieldY,void 0,this._getPositionYEncoder,this._setPositionYEncoder)}dataToPositionZ(e){if(!this._zAxisHelper)return Number.NaN;const{dataToPosition:t}=this._zAxisHelper;return t(this.getDatumPositionValues(e,this._fieldZ),{bandPosition:this._bandPosition})}dataToPositionX1(e){return this._xAxisHelper?this._fieldX2&&this._fieldX2 in e?this.valueToPositionX(this.getDatumPositionValues(e,this._fieldX2)):this.valueToPositionX(0):Number.NaN}dataToPositionY1(e){return this._yAxisHelper?this._fieldY2&&this._fieldY2 in e?this.valueToPositionY(this.getDatumPositionValues(e,this._fieldY2)):this.valueToPositionY(0):Number.NaN}positionToData(e){return e?{x:this.positionToDataX(e.x),y:this.positionToDataY(e.y)}:null}positionToDataX(e){return this._scaleX?this._scaleX.invert(e):null}positionToDataY(e){return this._scaleY?this._scaleY.invert(e):null}getRegionRectLeft(){if(!this._xAxisHelper)return Number.NaN;const{getScale:e}=this._xAxisHelper;return e(0).range()[0]}getRegionRectRight(){if(!this._xAxisHelper)return Number.NaN;const{getScale:e}=this._xAxisHelper;return e(0).range()[1]}afterInitMark(){super.afterInitMark(),this.setFieldX(this._fieldX),this.setFieldY(this._fieldY),this._buildScaleConfig()}getDimensionField(){return"horizontal"===this._direction?this._specYField:this._specXField}getDimensionContinuousField(){return"horizontal"===this._direction?[this.fieldY[0],this.fieldY2]:[this.fieldX[0],this.fieldX2]}getMeasureField(){return"horizontal"===this._direction?this._specXField:this._specYField}initEvent(){super.initEvent(),this.sortDataByAxis&&this.event.on(WL.scaleDomainUpdate,{filter:e=>{var t;return e.model.id===(null===(t="horizontal"===this._direction?this._yAxisHelper:this._xAxisHelper)||void 0===t?void 0:t.getAxisId())}},()=>{this._sortDataInAxisDomain()})}_sortDataInAxisDomain(){var e,t,i;(null===(t=null===(e=this.getViewData())||void 0===e?void 0:e.latestData)||void 0===t?void 0:t.length)&&(tA("horizontal"===this._direction?this._yAxisHelper:this._xAxisHelper,"horizontal"===this._direction?this._fieldY[0]:this._fieldX[0],this.getViewData().latestData),null===(i=this._data)||void 0===i||i.updateData(!0))}getInvalidCheckFields(){const e=[];return this._xAxisHelper&&this._xAxisHelper.isContinuous&&this._xAxisHelper.getAxisType()!==r.geoCoordinate&&(this._xAxisHelper.getFields?this._xAxisHelper.getFields():this._specXField).forEach(t=>{e.push(t)}),this._yAxisHelper&&this._yAxisHelper.isContinuous&&this._yAxisHelper.getAxisType()!==r.geoCoordinate&&(this._yAxisHelper.getFields?this._yAxisHelper.getFields():this._specYField).forEach(t=>{e.push(t)}),e}reInit(e){this._positionXEncoder&&(this._positionXEncoder=null),this._positionYEncoder&&(this._positionYEncoder=null),super.reInit(e)}}function lA(e){return"bottom"===e||"top"===e}function nA(e){return"left"===e||"right"===e}function rA(e){return"z"===e}function aA(e,t){return pw(e.orient)||t&&t.includes(e.orient)?e.orient:"left"}function sA(e,t){var i;const o=null!==(i=e.type)&&void 0!==i?i:function(e,t){return t?lA(e)?"linear":"band":lA(e)?"band":"linear"}(e.orient,t);return{axisType:o,componentName:`${r.cartesianAxis}-${o}`}}const hA=(e,t,i)=>{var o;const l=null!==(o="band"===t?bT("axisBand",i):["linear","log","symlog"].includes(t)?bT("axisLinear",i):{})&&void 0!==o?o:{},n=lA(e)?bT("axisX",i):nA(e)?bT("axisY",i):bT("axisZ",i);return Mw({},bT("axis",i),l,n)};class dA{constructor(e,t){this._eventDispatcher=e,this._mode=t}get chart(){var e,t;return this._chart||(this._chart=null===(t=(e=this._eventDispatcher.globalInstance).getChart)||void 0===t?void 0:t.call(e)),this._chart}register(e,t){var i,o;(null!==(o=null===(i=this.chart)||void 0===i?void 0:i.getOption().onError)&&void 0!==o?o:wg)("Method not implemented.")}unregister(){var e,t;(null!==(t=null===(e=this.chart)||void 0===e?void 0:e.getOption().onError)&&void 0!==t?t:wg)("Method not implemented.")}getTargetDimensionInfo(e,t){var i,o,l;const n=null!==(l=null===(o=(i=this.chart.getModelOption()).getDimensionInfo)||void 0===o?void 0:o.call(i,this.chart,{x:e,y:t}))&&void 0!==l?l:[];return 0===n.length?null:n}dispatch(e,t){var i,o;const l=null===(i=this.chart)||void 0===i?void 0:i.getAllComponents().filter(e=>"axes"===e.specKey&&(!(null==t?void 0:t.filter)||t.filter(e))),n=l.filter(e=>m_(e.getScale().type)),r=n.length?n:l.filter(e=>{const t=e.getOrient();return lA(t)||"angle"===t}),a=[],s=null===(o=this.chart)||void 0===o?void 0:o.getModelOption().getDimensionInfoByValue;return s&&r.forEach(t=>{const i=s(t,e);i&&a.push(i)}),this._callback.call(null,{action:"enter",dimensionInfo:a}),a}}class cA extends dA{constructor(){super(...arguments),this.onClick=e=>{if(!e)return;const t=e.event.viewX,i=e.event.viewY,o=this.getTargetDimensionInfo(t,i);o&&this._callback.call(null,Object.assign(Object.assign({},e),{action:"click",dimensionInfo:o.slice()}))}}register(e,t){this._callback=t.callback,this._eventDispatcher.register("pointertap",{query:Object.assign(Object.assign({},t.query),{source:RL.chart}),callback:this.onClick})}unregister(){this._eventDispatcher.unregister("pointertap",{query:null,callback:this.onClick})}}const pA=(e,t)=>{var i,o;return e===t||!yu(e)&&!yu(t)&&e.value===t.value&&(null===(i=e.axis)||void 0===i?void 0:i.id)===(null===(o=t.axis)||void 0===o?void 0:o.id)},yA=(e,t)=>{const i=e.tooltipFilterRange,o="function"==typeof i?i({scale:t}):i;return Su(o)?[-o,o]:o},uA=(e,t)=>`${e.id}_${t.join("_")}`,gA=(e,t,i)=>{const o=e.getAllComponents().filter(o=>"axes"===o.specKey&&t(o)&&((e,t,i)=>{const o=e.getRegionsInIds(Eu(t.layout.layoutBindRegionID));return null==o?void 0:o.some(e=>{const t=e.getLayoutRect(),o=e.getLayoutStartPoint();return((e,t,i)=>e.x>=t.x&&e.x<=i.x&&e.y>=t.y&&e.y<=i.y)(i,{x:o.x,y:o.y},{x:t.width+o.x,y:t.height+o.y})})})(e,o,i));return o.length?o:null};class fA extends dA{constructor(){super(...arguments),this._cacheDimensionInfo=null,this.onMouseMove=e=>{if(!e)return;const t=e.event.viewX,i=e.event.viewY,o=this.getTargetDimensionInfo(t,i);null===o&&null!==this._cacheDimensionInfo?(this._callback.call(null,Object.assign(Object.assign({},e),{action:"leave",dimensionInfo:this._cacheDimensionInfo.slice()})),this._cacheDimensionInfo=o):null===o||null!==this._cacheDimensionInfo&&o.length===this._cacheDimensionInfo.length&&!o.some((e,t)=>!pA(e,this._cacheDimensionInfo[t]))?null!==o&&this._callback.call(null,Object.assign(Object.assign({},e),{action:"move",dimensionInfo:o.slice()})):(this._callback.call(null,Object.assign(Object.assign({},e),{action:"enter",dimensionInfo:o.slice()})),this._cacheDimensionInfo=o)},this.onMouseOut=e=>{e&&(this._callback.call(null,Object.assign(Object.assign({},e),{action:"leave",dimensionInfo:this._cacheDimensionInfo?this._cacheDimensionInfo.slice():[]})),this._cacheDimensionInfo=null)}}register(e,t){this._callback=t.callback,this._eventDispatcher.register("pointermove",{query:Object.assign(Object.assign({},t.query),{source:RL.chart}),callback:this.onMouseMove}),this._eventDispatcher.register("pointerout",{query:Object.assign(Object.assign({},t.query),{source:RL.canvas}),callback:this.onMouseOut}),zg(this._mode)&&this._eventDispatcher.register("pointerdown",{query:Object.assign(Object.assign({},t.query),{source:RL.chart}),callback:this.onMouseMove})}unregister(){this._eventDispatcher.unregister("pointermove",{query:null,callback:this.onMouseMove}),zg(this._mode)&&this._eventDispatcher.unregister("pointerdown",{query:null,callback:this.onMouseMove})}}var kA;!function(e){e.dimensionHover="dimensionHover",e.dimensionClick="dimensionClick"}(kA||(kA={}));const mA={point:{name:"point",type:"symbol"},line:{name:"line",type:"line"}};class bA{addSamplingCompile(){if(this._spec.sampling){const{width:e,height:t}=this._region.getLayoutRect(),i=this._fieldY,o=this._fieldX;this._data&&this._data.setTransform([{type:"dataSampling",size:"horizontal"===this._direction?t:e,factor:this._spec.samplingFactor,yfield:"horizontal"===this._direction?o[0]:i[0],groupBy:this._seriesField,mode:this._spec.sampling}])}}addOverlapCompile(){var e;if(this._spec.markOverlap){const t=[];t.push({type:"symbolOverlap",direction:"horizontal"===this._direction&&"cartesian"===this.coordinate?2:1,delta:this._spec.pointDis,deltaMul:this._spec.pointDisMul,groupBy:this._seriesField}),null===(e=this._symbolMark)||void 0===e||e.setTransform(t)}}reCompileSampling(){this._spec.sampling&&this.compile()}initLineMark(e){return this._lineMark=this._createMark(mA.line,{groupKey:this._seriesField,isSeriesMark:null==e||e},{morphElementKey:this.getDimensionField()[0]}),this._lineMark}initLineMarkStyle(e,t){var i,o;const l=this._lineMark;if(l){if(this.setMarkStyle(l,{stroke:this.getColorAttribute()},"normal",pF.Series),"zero"!==this._invalidType&&this.setMarkStyle(l,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",pF.Series),this.event.on(WL.viewDataStatisticsUpdate,{filter:e=>e.model===this},()=>{this.encodeDefined(l,"defined")}),"polar"===this.coordinate)this.setMarkStyle(l,{lineJoin:"bevel",curveType:"linear",closePath:!0},"normal",pF.Series);else{const n=null!=t?t:null===(o=null===(i=this.getSpec().line)||void 0===i?void 0:i.style)||void 0===o?void 0:o.curveType,r=n===mT?"horizontal"===e?"monotoneY":"monotoneX":n;this.setMarkStyle(l,{curveType:r},"normal",pF.Built_In)}this.setMarkStyle(l,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",pF.Series)}return l}_getEventElement(e,t=!1){let i=[];return e.dimensionInfo.some(e=>(e.data.some(e=>e.series===this&&(i=e.datum,!0)),!i.length)),i}_dimensionTrigger(e){const t=this._getEventElement(e);switch(e.action){case"enter":this._symbolActiveMark.getDataView().parse(t),this._symbolActiveMark.getData().updateData(!1);break;case"leave":this._symbolActiveMark.getDataView().parse([]),this._symbolActiveMark.getData().updateData(!1)}}initSymbolMark(e){if(!1!==(this._spec.point||{}).visible&&(this._symbolMark=this._createMark(mA.point,{groupKey:this._seriesField,isSeriesMark:!!e},{morph:$T(this._spec,mA.point.name),morphElementKey:this.getDimensionField()[0]})),!0===this._spec.activePoint){const e=new E(this._option.dataSet,{name:`${Jw}_series_${this.id}_active_point`});e.parse([]),this._symbolActiveMark=this._createMark({name:`active_point_${this.id}`,type:"symbol"},{groupKey:this._seriesField,isSeriesMark:!1,dataView:e,parent:this._region.getInteractionMark()},{morph:!1}),this._symbolActiveMark.setVisible(!1)}return this._symbolMark}initSymbolMarkStyle(){const e=this._symbolMark;if(!e)return this._initSymbolActiveMarkAlone(),e;if(this._initSymbolMark(e),this._symbolActiveMark&&this._symbolMark.stateStyle.dimension_hover){this._symbolActiveMark.setVisible(!0),this.event.on(kA.dimensionHover,this._dimensionTrigger.bind(this));for(const t in this._symbolMark.stateStyle){this._symbolActiveMark.stateStyle[t]={};for(const i in this._symbolMark.stateStyle[t])"visible"!==i&&(this._symbolActiveMark.stateStyle[t][i]={style:null,level:pF.Series,referer:e})}this._symbolActiveMark.state.changeStateInfo({stateValue:kF.STATE_DIMENSION_HOVER,filter:()=>!0})}return e}_initSymbolMark(e){e&&(this.setMarkStyle(e,{fill:this.getColorAttribute()},"normal",pF.Series),this.setMarkStyle(e,{x:e=>"zero"===this._invalidType||this._getInvalidDefined(e)?this.dataToPositionX(e):Number.NaN,y:e=>"zero"===this._invalidType||this._getInvalidDefined(e)?this.dataToPositionY(e):Number.NaN,z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",pF.Series))}_initSymbolActiveMarkAlone(){var e,t;const i=this._symbolActiveMark;i&&(this._initSymbolMark(i),i&&(null===(t=null===(e=this._spec[mA.point.name])||void 0===e?void 0:e.state)||void 0===t?void 0:t.dimension_hover)&&(i.setVisible(!0),this.event.on(kA.dimensionHover,this._dimensionTrigger.bind(this)),this.initMarkStyleWithSpec(i,Mw({},this._spec[mA.point.name],{visible:!0})),this._symbolActiveMark.state.changeStateInfo({stateValue:kF.STATE_DIMENSION_HOVER,filter:()=>!0})))}initLabelMarkStyle(e){var t;e&&("symbol"!==(null===(t=e.getTarget())||void 0===t?void 0:t.type)&&e.setRule("line-data"),this.setMarkStyle(e,{fill:this.getColorAttribute(),text:e=>e[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null}),"zero"!==this._invalidType&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},"normal",pF.Series),this.event.on(WL.viewDataStatisticsUpdate,{filter:e=>e.model===this},()=>{this.encodeDefined(e,"visible")}))}initLineLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:e=>{var t;return null!==(t=e[this.getSeriesField()])&&void 0!==t?t:this.getSeriesKeys()[0]},z:this._fieldZ?this.dataToPositionZ.bind(this):null})}encodeDefined(e,t){var i,o,l,n;if(!e)return;const r=this._isFieldAllValid();if("zero"===this._invalidType||r){if(!0===(null===(o=null===(i=e.stateStyle.normal)||void 0===i?void 0:i[t])||void 0===o?void 0:o.style))return;this.setMarkStyle(e,{[t]:!0},"normal",pF.Series)}else{if(!0!==(null===(n=null===(l=e.stateStyle.normal)||void 0===l?void 0:l[t])||void 0===n?void 0:n.style))return;this.setMarkStyle(e,{[t]:this._getInvalidDefined.bind(this)},"normal",pF.Series)}e.compileEncode()}_isFieldAllValid(){const e=this.getViewDataStatistics(),t=this.getStackValueField();return!!(e&&e.latestData&&t)&&e.latestData[t]&&e.latestData[t].allValid}}const vA=Object.assign(Object.assign({},PT),mA),CA=(e,t)=>{if(e===t)return!0;if(typeof e!=typeof t)return!1;if(mu(e))return!1;if(bu(e))return e.length===t.length&&e.every((e,i)=>CA(e,t[i]));if(e.gradient!==t.gradient)return!1;const i=Object.keys(e),o=Object.keys(t);return i.length===o.length&&i.every(i=>"stops"===i?((e,t)=>{var i,o;if(e===t)return!0;const l=null!==(i=e&&e.length)&&void 0!==i?i:0;return l===(null!==(o=t&&t.length)&&void 0!==o?o:0)&&0!==l&&e.every((e,i)=>!e&&!t[i]||e&&t[i]&&e.color===t[i].color&&e.offset===t[i].offset)})(e[i],t[i]):e[i]===t[i])},SA=["stroke","strokeOpacity","lineDash","lineDashOffset","lineCap","lineJoin","lineWidth","miterLimit"];class xA extends YF{constructor(){super(...arguments),this._segmentStyleKeys=[],this._isValidPointChannel=e=>["x","y","defined"].includes(e)}_getSegmentAttributes(){return SA}initStyleWithSpec(e){this._segmentStyleKeys=[],super.initStyleWithSpec(e)}setStyle(e,t="normal",i=0){if(yu(e))return;void 0===this.stateStyle[t]&&(this.stateStyle[t]={});const o=this._getIgnoreAttributes(),l=this._getSegmentAttributes(),n=this.isUserLevel(i);Object.keys(e).forEach(r=>{const a=e[r];if(yu(a)||o.includes(r))return;n&&l.includes(r)&&(k_(null==a?void 0:a.type)||(null==a?void 0:a.scale)||pu(a))&&(this._segmentStyleKeys.includes(r)||this._segmentStyleKeys.push(r));const s=this._filterAttribute(r,a,t,i,n);this.setAttribute(r,s,t,i)})}_getLineSegments(e,t){if(!this._segmentStyleKeys||!this._segmentStyleKeys.length)return null;const i=[];let o=null;return e.forEach((e,t)=>{o&&this._segmentStyleKeys.every(t=>((e,t,i)=>!(!yu(e)||!yu(t))||!yu(e)&&!yu(t)&&("lineDash"===i?((e,t)=>e.length===t.length&&e.join("-")===t.join("-"))(e,t):"stroke"===i||"fill"===i?CA(e,t):e===t))(o[t],e[t],t))||(i.length&&(i[i.length-1].endIndex=t),o=e,i.push({attrs:o,startIndex:t}))}),i.length>=2?i.map(e=>Object.assign(Object.assign({},e.attrs),{points:t.slice(e.startIndex,yu(e.endIndex)?t.length:e.endIndex)})):null}_getPrevPoints(e){const{points:t,segments:i}=e.attribute;return null!=t?t:i?i.reduce((e,t)=>(t.points&&t.points.forEach(t=>{e.push(t)}),e),[]):null}_runPointsEncoder(e,t,i={}){var o,l,n;const r=t.context.data,a=[],s=[],h={},d=null===(o=this.renderContext)||void 0===o?void 0:o.progressive,c=d&&0===d.currentIndex;if(r.forEach((t,i)=>{var o;s[i]={},a[i]={},Object.keys(e).forEach(o=>{this._isValidPointChannel(o)?s[i][o]=e[o](t):this._segmentStyleKeys.includes(o)&&!d?a[i][o]=e[o](t):0!==i||d&&!c||(h[o]=e[o](t))}),s[i].context=null!==(o=this._keyGetter(t))&&void 0!==o?o:i}),d){const e=null!==(n=null===(l=t.attribute)||void 0===l?void 0:l.segments)&&void 0!==n?n:[];return e.push({points:s}),c?Object.assign(Object.assign({},h),{segments:e}):{segments:e}}if(this._segmentStyleKeys&&this._segmentStyleKeys.length){const e=this._getLineSegments(a,s);if(e)return Object.assign(Object.assign(Object.assign({},h),a[0]),{segments:e,points:null})}return Object.assign(Object.assign(Object.assign({},h),a[0]),{points:s,segments:null})}_runEncoderOfGraphic(e,t,i={}){const o=t.context.data;return e&&Object.keys(e).some(this._isValidPointChannel)&&o&&o.length?this._runPointsEncoder(e,t,i):super._runEncoderOfGraphic(e,t,i)}_getDataByKey(e){return this._dataByGroup}_runProgressiveJoin(){const e=this.renderContext.progressive.currentIndex,t=[];this._dataByGroup.keys.forEach((i,o)=>{const l=this.renderContext.progressive.groupedData.get(i),n=this.renderContext.progressive.step,r=l.slice(e*n,(e+1)*n);if(0===e){const e={context:Object.assign(Object.assign({},this._getCommonContext()),{diffState:fF.enter,data:r,uniqueKey:i,key:i,groupKey:i})};t.push(e)}else this._graphics[o].context.data=r});const i=0===e?t:this._graphics;return{graphicsByGroup:{[iL]:i},graphics:i,needUpdate:!1}}_setCommonAttributesToTheme(e){}_addProgressiveGraphic(e,t){t.incremental=1,e.appendChild(t)}}class _A extends xA{constructor(){super(...arguments),this.type=_A.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:1})}_getIgnoreAttributes(){var e,t;return(null===(e=this.model)||void 0===e?void 0:e.type)===$_.radar&&"polar"===(null===(t=this.model)||void 0===t?void 0:t.coordinate)?[]:["fill","fillOpacity"]}}_A.type="line";const wA=()=>{Ow.registerMark(_A.type,_A),vb(),db(),px(),ax(),rT(),Ow.registerGraphicComponent("line",Bh)};class LA extends YF{constructor(){super(...arguments),this.type=LA.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{size:1,symbolType:"circle",fill:void 0,lineWidth:0})}_transformGraphicAttributes(e,t,i){var o,l,n;const r=super._transformGraphicAttributes(e,t,i),a=null!==(l=null!==(o=r.shape)&&void 0!==o?o:r.symbolType)&&void 0!==l?l:null===(n=e.attribute)||void 0===n?void 0:n.symbolType;return yu(a)?r.symbolType="circle":r.symbolType=a,r}}LA.type="symbol";const FA=()=>{Ow.registerMark(LA.type,LA),vb(),Sb(),ax(),Ow.registerGraphicComponent("symbol",Th)};class TA extends QT{_transformLabelSpec(e){var t,i,o;!1!==(null===(t=e.point)||void 0===t?void 0:t.visible)&&!1!==(null===(o=null===(i=e.point)||void 0===i?void 0:i.style)||void 0===o?void 0:o.visible)?this._addMarkLabelSpec(e,"point"):this._addMarkLabelSpec(e,"line"),this._addMarkLabelSpec(e,"line","lineLabel","initLineLabelMarkStyle",void 0,!0)}}function AA(e){return e.length>=2&&Su(e[0])&&Su(Du(e))&&Du(e)>=e[0]}function zA(e,t){var i;const o=Du(t)-t[0],l=Du(t)*t[0]<0;let n=t[0]<=0?0-t[0]:0,r=Du(t)>0?Du(t)-0:0;0===o?t[0]<0?(n=1,r=0):t[0]>0&&(n=0,r=1):(n/=o,r/=o);const a=e.getDomainSpec(),s={total:o,negative:n,positive:r,includeZero:l,domain:t,extendable_min:!Su(a.min),extendable_max:!Su(a.max)};if(null===(i=e._break)||void 0===i?void 0:i.scope){const i=t.findIndex(e=>e>=0);let o,l;0===i?(o=e._break.scope[i],l=[t[0],t[1]],s.positive=1,s.negative=0):Du(t)<=0?(s.positive=0,s.negative=1,l=[t[t.length-2],t[t.length-1]]):(o=e._break.scope[i-1],l=[t[i-1],t[i]],s.negative=o[0]+(0-l[0])/(l[1]-l[0])*(o[1]-o[0]),s.positive=1-s.negative),s.break=!0,s.extendable_max=!1,s.extendable_min=!1,s.domain=l}return s}function BA(e,t){const{positive:i,negative:o,extendable_min:l,extendable_max:n,domain:r}=e,{positive:a,negative:s,extendable_min:h,extendable_max:d,domain:c}=t;if(a>0){if(!h)return!1;let e=o/i;n&&(e=o/Math.max(i,a),r[1]=-r[0]/e),c[0]=-c[1]*e}else if(s>0){if(!d)return!1;let e=i/o;l&&(e=i/Math.max(o,o),r[0]=-r[1]/e),c[1]=-c[0]*e}return!0}function MA(e,t){const{extendable_min:i,extendable_max:o,domain:l}=e,{positive:n,negative:r,domain:a}=t;return!(0===n&&0===r||n>0&&!o||r>0&&!i||(l[0]=a[0],l[1]=a[1],0))}function OA(e,t){const{positive:i,negative:o,extendable_max:l,domain:n}=e,{positive:r,negative:a,extendable_min:s,domain:h}=t;if(l&&s){const e=Math.max(o,a)/Math.max(i,r);n[1]=-n[0]/e,h[0]=-h[1]*e}else if(s){const e=o/i;h[0]=-h[1]*e}else{if(!l)return!1;{const e=a/r;n[1]=-n[0]/e}}return!0}function WA(e,t){const{extendable_min:i,domain:o}=e,{extendable_max:l,domain:n}=t;return!(!i||!l||(o[0]=-o[1],n[1]=-n[0],0))}const RA=(e,t)=>{var i,o,l,n,r;if(!e)return e;const a=null===(i=null==t?void 0:t.targetAxis)||void 0===i?void 0:i.call(t);if(!a)return e;const s=null===(o=null==t?void 0:t.currentAxis)||void 0===o?void 0:o.call(t);if(!s)return e;const h=null===(l=s.getTickData())||void 0===l?void 0:l.getDataView();if(!h)return e;if(!h.transformsArr.find(e=>e.type.includes("ticks")))return e;const d=s.getScale();if(!d)return e;const c=null===(r=null===(n=a.getTickData())||void 0===n?void 0:n.getDataView())||void 0===r?void 0:r.latestData;if(!(null==c?void 0:c.length))return e;const p=a.getScale();if(!p)return e;const y=p.domain(),u=Du(y)-y[0];if(0===u)return e;const g=d.domain(),f=Du(g)-g[0];if(0===u)return e;const k=c.map(e=>function(e,t,i,o,l){const n=Qu(e,t),r=Math.max(Ju(i),Ju(n));return l*(Math.round(n*10**r)/Math.round(i*10**r))+o}(e.value,y[0],u,g[0],f));return bS(k)};class HA{constructor(e){this.id=Og(),this.name=`${e}_${this.id}`}onAdd(e){this.service=e}release(){this.service=null}}class PA extends HA{constructor(){super(PA.type),this.type="AxisSyncPlugin"}_checkEnableSync(e){if(!f_(e.getScale().type))return!1;const t=e.getSpec().sync;return!!(null==t?void 0:t.axisId)&&t}_getTargetAxis(e,t){const i=e.getOption().getChart().getComponentByUserId(t.axisId);return(null==i?void 0:i.type.startsWith("cartesianAxis"))?i:null}onInit(e,t){const i=this._checkEnableSync(t);if(!i)return;if(!i.zeroAlign)return;const o=this._getTargetAxis(t,i);o&&t.event.on(WL.scaleDomainUpdate,{filter:({model:e})=>e.id===t.id||e.id===o.id},()=>{((e,t)=>{var i,o,l,n,r,a;const s=e.getScale(),h=t.getScale();if(!s||!h)return;const d=null!==(l=null===(o=(i=e).getDomainAfterSpec)||void 0===o?void 0:o.call(i))&&void 0!==l?l:[0,1],c=null!==(a=null===(r=(n=t).getDomainAfterSpec)||void 0===r?void 0:r.call(n))&&void 0!==a?a:[0,1];if(!(d&&c&&AA(d)&&AA(c)))return;const p=zA(e,d),y=zA(t,c);if(!0===p.break&&!0===y.break)return;const{positive:u,negative:g,extendable_min:f,extendable_max:k,includeZero:m}=p,{positive:b,negative:v,extendable_min:C,extendable_max:S,includeZero:x}=y;if(0===u&&0===g){if(!MA(p,y))return}else if(0===b&&0===v){if(!MA(y,p))return}else if(m||x)if(m&&!x){if(!BA(p,y))return}else if(x&&!m){if(!BA(y,p))return}else{if(g===v)return;if(g>v){if(!OA(p,y))return}else if(!OA(y,p))return}else{if(0===g&&0===b){if(!WA(p,y))return}else if(0===v&&0===u&&!WA(y,p))return;if(0===g&&0===v)if(0===d[0]&&c[0]>0){if(!C)return;c[0]=0}else{if(!(0===c[0]&&d[0]>0))return;if(!f)return;d[0]=0}if(0===u&&0===b)if(0===d[1]&&c[1]>0){if(!S)return;c[1]=0}else{if(!(0===c[1]&&d[1]>0))return;if(!k)return;d[1]=0}}s.domain(d),h.domain(c)})(o,t)})}onDidCompile(e,t){var i;const o=this._checkEnableSync(t);if(!o)return;const l=this._getTargetAxis(t,o);if(l&&o.tickAlign){jL(t.getOption().dataSet,"tickAlign",RA);const e={targetAxis:()=>l,currentAxis:()=>t},o=null===(i=l.getTickData())||void 0===i?void 0:i.getDataView();o&&o.target.addListener("change",()=>{var e,i;null===(i=null===(e=t.getTickData())||void 0===e?void 0:e.getDataView())||void 0===i||i.reRunAllTransform({skipEqual:!0})}),t.addTransformToTickData({type:"tickAlign",options:e,level:Number.MAX_SAFE_INTEGER},!1)}}}PA.pluginType="component",PA.type="AxisSyncPlugin";const EA={left:{textAlign:"center",textBaseline:"bottom"},right:{textAlign:"center",textBaseline:"bottom"},radius:{},angle:{}};function DA(e,t){var i,o,l,n,r,a;return{min:null!==(l=null!==(i=e.min)&&void 0!==i?i:null===(o=e.range)||void 0===o?void 0:o.min)&&void 0!==l?l:null==t?void 0:t.min,max:null!==(a=null!==(n=e.max)&&void 0!==n?n:null===(r=e.range)||void 0===r?void 0:r.max)&&void 0!==a?a:null==t?void 0:t.max}}function IA(e){const t=null==e?void 0:e.orient;return"top"===t||"bottom"===t||"left"===t||"right"===t||"z"===t}const jA=e=>"band"===e||"ordinal"===e||"point"===e;function NA(e,t){return{id:e,label:e,value:t,rawValue:e}}function GA(e,t,i){return i||!e||e.getAxisId()===t.getAxisId()}class UA extends KF{constructor(e){super(),this.component=e}releaseAll(){super.releaseAll(),this.component=null}}const VA=`${Jw}_ARC_TRANSFORM_VALUE`,YA=`${Jw}_ARC_RATIO`,ZA=`${Jw}_ARC_START_ANGLE`,XA=`${Jw}_ARC_END_ANGLE`,$A=`${Jw}_ARC_K`,KA=`${Jw}_ARC_MIDDLE_ANGLE`,qA=`${Jw}_ARC_QUADRANT`,JA=`${Jw}_ARC_RADIAN`,QA=-Math.PI/2,ez=3*Math.PI/2,tz=(e,t,i)=>{var o;const l=null!==(o="band"===t?bT("axisBand",i):"linear"===t?bT("axisLinear",i):{})&&void 0!==o?o:{},n=bT("angle"===e?"axisAngle":"axisRadius",i);return Mw({},bT("axis",i),l,n)};function iz(e,t,i,o){switch(e){case r.cartesianBandAxis:return hA(aA(i,["z"]),"band",t);case r.cartesianLinearAxis:return hA(aA(i,["z"]),"linear",t);case r.cartesianLogAxis:return hA(aA(i,["z"]),"log",t);case r.cartesianSymlogAxis:return hA(aA(i,["z"]),"symlog",t);case r.cartesianAxis:case r.cartesianTimeAxis:return hA(aA(i),void 0,t);case r.polarBandAxis:return tz(i.orient,"band",t);case r.polarLinearAxis:return tz(i.orient,"linear",t);case r.polarAxis:return tz(i.orient,void 0,t);case r.cartesianCrosshair:return((e,t)=>{var i,o;const l=Eu(null!==(i=t.axes)&&void 0!==i?i:[]),{bandField:n,linearField:a,xField:s,yField:h,trigger:d,triggerOff:c}=null!==(o=bT(r.crosshair,e))&&void 0!==o?o:{},p=l.find(e=>lA(e.orient));let y;y=uu(p)?Mw({},jA(p.type)?n:a,s):s;const u=l.find(e=>nA(e.orient));let g;return g=uu(u)?Mw({},m_(u.type)?n:a,h):h,{xField:y,yField:g,trigger:d,triggerOff:c}})(t,o);case r.polarCrosshair:return((e,t)=>{var i,o;const l=Eu(null!==(i=t.axes)&&void 0!==i?i:[]),{bandField:n,linearField:a,categoryField:s,valueField:h,trigger:d,triggerOff:c}=null!==(o=bT(r.crosshair,e))&&void 0!==o?o:{},p=l.find(e=>"angle"===e.orient);let y;y=uu(p)?Mw({},jA(p.type)?n:a,s):s;const u=l.find(e=>"radius"===e.orient);let g;return g=uu(u)?Mw({},m_(u.type)?n:a,h):h,{categoryField:y,valueField:g,trigger:d,triggerOff:c}})(t,o);case r.colorLegend:case r.sizeLegend:case r.discreteLegend:case r.dataZoom:case r.scrollBar:return oz(i,bT(e,t));default:return bT(e,t)}}const oz=(e,t)=>{var i;const o=t[function(e){return"top"===e||"bottom"===e?"horizontal":"vertical"}(null!==(i=e.orient)&&void 0!==i?i:t.orient)],l=Mw({},t,o);return delete l.horizontal,delete l.vertical,l};class lz extends gF{getTheme(e,t){return iz(this.type,this._option.getTheme,e,t)}_mergeThemeToSpec(e,t){const{spec:i,theme:o}=super._mergeThemeToSpec(e,t);return this._adjustPadding(i),{spec:i,theme:o}}_adjustPadding(e){const{padding:t,noOuterPadding:i=!0,orient:o}=e;i&&t&&o&&(e.padding=Object.assign(Object.assign({},fw(t)),{[o]:0}))}}var nz,rz,az=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class sz extends SF{constructor(){super(...arguments),this.name="component",this.modelType="component",this.transformerConstructor=lz,this._delegateEvent=(e,t,i,o=null,l=null)=>{var n,r;t instanceof Un||this.event.emit(i,{model:this,node:e,event:t,item:o,datum:l,source:RL.chart,chart:null===(r=null===(n=this._option)||void 0===n?void 0:n.globalInstance)||void 0===r?void 0:r.getChart()},"model")}}static createComponent(e,t){const{spec:i}=e,o=az(e,["spec"]);return new this(i,Object.assign(Object.assign({},t),o))}getRegions(){return this._regions}created(){super.created(),this.initLayout(),this.pluginService=new UA(this)}initLayout(){var e;super.initLayout(),this._regions=null!==(e=this._regions)&&void 0!==e?e:this._option.getRegionsInIndex(),this._layout&&(this._layout.layoutBindRegionID=this._regions.map(e=>null==e?void 0:e.id))}_getNeedClearVRenderComponents(){return[]}getVRenderComponents(){return this._getNeedClearVRenderComponents()}callPlugin(e){this.pluginService&&this.pluginService.getAll().forEach(t=>e(t))}getContainer(){var e;return this._container||(this._container=null===(e=this._option)||void 0===e?void 0:e.globalInstance.getStage().find(e=>"root"===e.name,!0)),this._container}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||(i.reMake=["seriesId","seriesIndex","regionId","regionIndex"].some(i=>!Ru(null==t?void 0:t[i],e[i]))),(null==t?void 0:t.visible)!==e.visible&&(i.reCompile=!0),i}release(){var e;super.release(),this.clear(),null===(e=this.pluginService)||void 0===e||e.releaseAll(),this.pluginService=null}clear(){var e;const t=this._getNeedClearVRenderComponents();t&&t.length&&t.forEach(e=>{var t;e&&(null===(t=this.getContainer())||void 0===t||t.removeChild(e),e=null)}),this._container=null,null===(e=this.pluginService)||void 0===e||e.clearAll()}compile(){this.compileMarks(),this.reAppendComponents()}compileMarks(e){this.getMarks().forEach(t=>{t.compile({group:e,context:{model:this}})})}reAppendComponents(){const e=this._getNeedClearVRenderComponents();e&&e.length&&e.forEach(e=>{var t;e&&!e.stage&&(null===(t=this.getContainer())||void 0===t||t.appendChild(e))})}getBoundsInRect(e,t){return{x1:0,x2:0,y1:0,y2:0}}getDatum(e){}}sz.transformerConstructor=lz,function(e){e.lineAxis="lineAxis",e.circleAxis="circleAxis"}(nz||(nz={})),function(e){e.lineAxisGrid="lineAxisGrid",e.circleAxisGrid="circleAxisGrid"}(rz||(rz={}));class hz extends YF{constructor(e,t){super(e,t),this.type="component",this._componentType=t.componentType,this._mode=t.mode}_getDefaultStyle(){return{}}getComponent(){return this._component}clearComponent(){this._component&&(this._component.parent&&this._component.parent.removeChild(this._component),this._component=null)}_getAttrsFromConfig(e={}){const t=super._getAttrsFromConfig(e);return yu(this._markConfig.interactive)||(t.pickable=this._markConfig.interactive),e}setAttributeTransform(e){this._attributesTransform=e}renderInner(){var e;const t=null!==(e=this._simpleStyle)&&void 0!==e?e:this.getAttributesOfState({});let i=this._getAttrsFromConfig(t);this._attributesTransform&&(i=this._attributesTransform(i)),this._animationConfig&&(i=Object.assign(Object.assign({},i),{animation:!0,animationAppear:this._animationConfig.appear?Array.isArray(this._animationConfig.appear)?this._animationConfig.appear[0]:this._animationConfig.appear:void 0,animationEnter:this._animationConfig.enter?Array.isArray(this._animationConfig.enter)?this._animationConfig.enter[0]:this._animationConfig.enter:void 0,animationUpdate:this._animationConfig.update?Array.isArray(this._animationConfig.update)?this._animationConfig.update[0]:this._animationConfig.update:void 0,animationExit:this._animationConfig.exit?Array.isArray(this._animationConfig.exit)?this._animationConfig.exit[0]:this._animationConfig.exit:void 0})),this._component?this._component.setAttributes(i):(this._component=Ow.createGraphicComponent(this._componentType,i,{mode:this._mode,skipDefault:this._markConfig.skipTheme}),this._component&&this._product.appendChild(this._component)),this._component&&(this._component.context=this._getCommonContext()),this._markConfig.support3d&&this._product&&this._product.setMode("3d"),this.model.event.emit(ML.AFTER_ELEMENT_ENCODE,{mark:this,model:this.model}),this.needClear=!0}release(){super.release(),this.removeProduct()}}hz.type="component";const dz=()=>{Ow.registerMark(hz.type,hz)},cz=e=>e;var pz=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class yz extends sz{getOrient(){return this._orient}getScale(){return this._scale}getScales(){return this._scales}getTickData(e=0){return this._tickData[e]}get visible(){return this._visible}getInverse(){return this._inverse}getCoordinateType(){return this._coordinateType}constructor(e,t){var i;super(e,t),this.specKey="axes",this._scales=[],this._tickData=[],this._visible=!0,this._tick=void 0,this._onTickDataChange=e=>{this._forceLayout(),null==e||e.updateData()},this._visible=null===(i=e.visible)||void 0===i||i,this._coordinateType="none"}getVRenderComponents(){var e,t;return[null===(e=this._axisMark)||void 0===e?void 0:e.getProduct(),null===(t=this._gridMark)||void 0===t?void 0:t.getProduct()].filter(uu)}created(){var e,t,i,o,l,n,r,a,s,h,d,c,p,y,u,g,f,k,m;if(super.created(),this.setSeriesAndRegionsFromSpec(),this.initEvent(),this.initScales(),this.updateSeriesScale(),this._shouldComputeTickData()&&this._initData(),this._visible){const b=this._createMark({type:"component",name:`axis-${this.getOrient()}`},{componentType:"angle"===this.getOrient()?nz.circleAxis:nz.lineAxis,mode:this._spec.mode},{skipTheme:!0});if(this._updateTickDataMarks(b),this._axisMark=b,b.setMarkConfig({zIndex:this.layoutZIndex}),uu(this._spec.id)&&b.setUserId(this._spec.id),b.setMarkConfig({interactive:null!==(e=this._spec.interactive)&&void 0!==e?e:this.getDefaultInteractive()}),this._marks.addMark(b),null===(t=this._spec.grid)||void 0===t?void 0:t.visible){const e=this._createMark({type:"component",name:`axis-${this.getOrient()}-grid`},{componentType:"angle"===this.getOrient()?rz.circleAxisGrid:rz.lineAxisGrid,mode:this._spec.mode},{skipTheme:!0});this._updateTickDataMarks(e),e.setMarkConfig({zIndex:null!==(r=null!==(l=null===(o=null===(i=this._spec.grid)||void 0===i?void 0:i.style)||void 0===o?void 0:o.zIndex)&&void 0!==l?l:null===(n=this._spec.grid)||void 0===n?void 0:n.zIndex)&&void 0!==r?r:dF.Axis_Grid,interactive:!1}),this._marks.addMark(e),this._gridMark=e}if((null===(a=this._option.globalInstance)||void 0===a?void 0:a.isAnimationEnable())&&!1!==Lu(this._option.getChart().getSpec(),"animation")&&!0===this._spec.animation){const e=VT(null===(s=Ow.getAnimationInKey("axis"))||void 0===s?void 0:s(),{appear:null!==(d=null!==(h=this._spec.animationAppear)&&void 0!==h?h:Lu(this._option.getChart().getSpec(),"animationAppear.axis"))&&void 0!==d?d:Lu(this._option.getChart().getSpec(),"animationAppear"),disappear:null!==(p=null!==(c=this._spec.animationDisappear)&&void 0!==c?c:Lu(this._option.getChart().getSpec(),"animationDisappear.axis"))&&void 0!==p?p:Lu(this._option.getChart().getSpec(),"animationDisappear"),enter:null!==(u=null!==(y=this._spec.animationEnter)&&void 0!==y?y:Lu(this._option.getChart().getSpec(),"animationEnter.axis"))&&void 0!==u?u:Lu(this._option.getChart().getSpec(),"animationEnter"),exit:null!==(f=null!==(g=this._spec.animationExit)&&void 0!==g?g:Lu(this._option.getChart().getSpec(),"animationExit.axis"))&&void 0!==f?f:Lu(this._option.getChart().getSpec(),"animationExit"),update:null!==(m=null!==(k=this._spec.animationUpdate)&&void 0!==k?k:Lu(this._option.getChart().getSpec(),"animationUpdate.axis"))&&void 0!==m?m:Lu(this._option.getChart().getSpec(),"animationUpdate")});e.enter&&(e.update[0].customParameters={enter:e.enter[0]}),this._marks.forEach(t=>t.setAnimationConfig(e))}}}_shouldComputeTickData(){return this.getVisible()||this._spec.forceInitTick}_initData(){const e=this._initTickDataSet(this._tickTransformOption()),t=new IF(this._option,e);this._tickData=[t],e.target.addListener("change",()=>{this._onTickDataChange(t)})}collectData(e,t){const i=[];return Hx(this._regions,o=>{var l;let n=this.collectSeriesField(e,o);if(n=bu(n)?f_(this._scale.type)?n:[n[0]]:[n],e||(this._dataFieldText=o.getFieldAlias(n[0])),n){const e=o.getViewData();if(t)n.forEach(e=>{i.push(o.getRawDataStatisticsByField(e,!1))});else if(e&&e.latestData&&e.latestData.length){const t=null===(l=o.getViewDataStatistics)||void 0===l?void 0:l.call(o),a=this.type===r.cartesianLinearAxis&&this._spec.breaks&&this._spec.breaks.length;n.forEach(o=>{var l;(null===(l=null==t?void 0:t.latestData)||void 0===l?void 0:l[o])&&(a?i.push(Object.assign(Object.assign({},t.latestData[o]),{values:e.latestData.map(e=>e[o])})):i.push(t.latestData[o]))})}}},{userId:this._seriesUserId,specIndex:this._seriesIndex}),i}isSeriesDataEnable(){let e=!0;return Hx(this._regions,t=>{var i;bu(null===(i=t.getViewDataStatistics())||void 0===i?void 0:i.latestData)&&(e=!1)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e}setSeriesAndRegionsFromSpec(){const{seriesId:e,seriesIndex:t,regionId:i,regionIndex:o}=this._spec;uu(e)&&(this._seriesUserId=Eu(e)),uu(i)&&(this._regionUserId=Eu(i)),uu(t)&&(this._seriesIndex=Eu(t)),uu(o)&&(this._regionIndex=Eu(o)),this._regions=this._option.getRegionsInUserIdOrIndex(this._regionUserId,this._regionIndex),this.layout.layoutBindRegionID=this._regions.map(e=>e.id)}getBindSeriesFilter(){return{userId:this._seriesUserId,specIndex:this._seriesIndex}}initEvent(){this.event.on(WL.scaleUpdate,{filter:({model:e})=>(null==e?void 0:e.id)===this.id},this.effect.scaleUpdate.bind(this));const e=function(e,t){const i=[];for(const o of e)for(const e of o.getSeries(t))i.push(e);return i}(this._regions,{userId:this._seriesUserId,specIndex:this._seriesIndex}).map(e=>e.getViewDataStatistics()).filter(e=>!!e);e.length>1?this._option.dataSet.multipleDataViewAddListener(e,"change",()=>{this.updateScaleDomain()}):1===e.length&&e[0].target.addListener("change",()=>{this.updateScaleDomain()}),Hx(this._regions,e=>{e.event.on(WL.rawDataUpdate,{filter:({model:t})=>(null==t?void 0:t.id)===e.id},()=>{this._clearRawDomain()})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}updateScaleDomain(){}_clearRawDomain(){}onLayoutEnd(){this.updateScaleRange(),this.event.emit(WL.scaleUpdate,{model:this,value:"range"}),super.onLayoutEnd()}computeData(e){"force"!==e||this._tickData&&this._tickData.length?!this._tickData||!this._tickData.length||"force"!==e&&Ru(this._scale.range(),[0,1])||this._tickData.forEach(e=>{e.getDataView().reRunAllTransform({skipEqual:!0})}):Hx(this._regions,e=>{var t;null===(t=e.getViewData())||void 0===t||t.reRunAllTransform()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_updateTickDataMarks(e){this._tickData&&this._tickData.forEach(t=>{t.addRelatedMark(e)})}initScales(){this._scales=[this._scale];const e=[];if(Hx(this._regions,t=>{const i=t.getGroups();i&&e.push(i)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),0!==e.length){const t=Iu(e.map(e=>e.fields.length));for(let e=1;e<t;e++){const e=this._scale.clone();this._scales.push(e)}}}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake?i:(i.reRender=!0,(null==t?void 0:t.type)!==(null==e?void 0:e.type)||(null==t?void 0:t.visible)!==(null==e?void 0:e.visible)?(i.reMake=!0,i):(i.reMake=["grid","subGrid","tick","subTick","label","domainLine","title"].some(i=>{var o,l;return(null===(o=null==t?void 0:t[i])||void 0===o?void 0:o.visible)!==(null===(l=null==e?void 0:e[i])||void 0===l?void 0:l.visible)}),i))}_getAxisAttributes(){const e=this._spec,t={orient:this.getOrient(),select:!0!==this._option.disableTriggerEvent&&e.select,hover:!0!==this._option.disableTriggerEvent&&e.hover};if(e.domainLine&&e.domainLine.visible?t.line=((i=LL(i=e.domainLine)).startSymbol=LL(i.startSymbol),i.endSymbol=LL(i.endSymbol),i):t.line={visible:!1},e.label&&e.label.visible){const i=Mu(e.label,["style","formatMethod","state"]);t.label=i,e.label.style&&(t.label.style=pu(e.label.style)?(t,i,o,l)=>{var n;const r=e.label.style(t.rawValue,i,t,o,l);return TL(Mw({},null===(n=this._theme.label)||void 0===n?void 0:n.style,r))}:TL(e.label.style)),(e.label.formatMethod||e.label.formatter)&&(t.label.formatMethod=this._getLabelFormatMethod()),e.label.state&&(t.label.state=function(e){if(wu(e))return null;const t={};return Object.keys(e).forEach(i=>{pu(e[i])?t[i]=(t,o,l,n)=>TL(e[i](t.rawValue,o,t,l,n)):wu(e[i])||(t[i]=TL(e[i]))}),t}(e.label.state)),pu(e.label.dataFilter)&&(t.label.dataFilter=(t,i)=>e.label.dataFilter(t,i,{vchart:this._option.globalInstance}))}else t.label={visible:!1};var i;if(e.tick&&e.tick.visible?(t.tick={visible:e.tick.visible,length:e.tick.tickSize,inside:e.tick.inside,alignWithLabel:e.tick.alignWithLabel,dataFilter:pu(e.tick.dataFilter)?t=>e.tick.dataFilter(t,{vchart:this._option.globalInstance}):void 0},e.tick.style&&(t.tick.style=pu(e.tick.style)?(t,i,o,l)=>{var n;const r=e.tick.style(t,i,o,l);return TL(Mw({},null===(n=this._theme.tick)||void 0===n?void 0:n.style,r))}:TL(e.tick.style)),e.tick.state&&(t.tick.state=FL(e.tick.state))):t.tick={visible:!1},e.subTick&&e.subTick.visible?(t.subTick={visible:e.subTick.visible,length:e.subTick.tickSize,inside:e.subTick.inside,count:e.subTick.tickCount},e.subTick.style&&(t.subTick.style=pu(e.subTick.style)?(t,i,o,l)=>{var n;const r=e.subTick.style(t,i,o,l);return TL(Mw({},null===(n=this._theme.subTick)||void 0===n?void 0:n.style,r))}:TL(e.subTick.style)),e.subTick.state&&(t.subTick.state=FL(e.subTick.state))):t.subTick={visible:!1},e.title&&e.title.visible){const i=e.title,{autoRotate:o,angle:l,style:n={},background:r,state:a,shape:s}=i,h=pz(i,["autoRotate","angle","style","background","state","shape"]);let d,c=l;"left"!==e.orient&&"right"!==e.orient||o&&yu(c)&&(c="left"===e.orient?-90:90,d=EA[e.orient]),t.title=Object.assign(Object.assign({},h),{autoRotate:!1,angle:c?ig(c):null,textStyle:Mw({},d,TL(n)),pickable:!1!==n.pickable,childrenPickable:!1!==n.pickable,state:{}}),s&&s.visible?(t.title.shape=Object.assign(Object.assign({},s),{style:TL(s.style)}),s.state&&(t.title.state.shape=FL(s.state))):t.title.shape={visible:!1},r&&r.visible?(t.title.background=Object.assign(Object.assign({},r),{style:TL(r.style)}),r.state&&(t.title.state.background=FL(r.state))):t.title.background={visible:!1},a&&(t.title.state.text=FL(a))}else t.title={visible:!1};return e.background&&e.background.visible?(t.panel={visible:!0},e.background.style&&(t.panel.style=TL(e.background.style)),e.background.state&&(t.panel.state=FL(e.background.state))):t.panel={visible:!1},t}_getGridAttributes(){const e=this._spec;return{alternateColor:e.grid.alternateColor,alignWithLabel:e.grid.alignWithLabel,style:pu(e.grid.style)?(t,i)=>{var o,l;const n=e.grid.style(null===(o=t.datum)||void 0===o?void 0:o.rawValue,i,t.datum);return TL(Mw({},null===(l=this._theme.grid)||void 0===l?void 0:l.style,n))}:TL(e.grid.style),subGrid:!1===e.subGrid.visible?{visible:!1}:{type:"line",visible:e.subGrid.visible,alternateColor:e.subGrid.alternateColor,style:TL(e.subGrid.style)}}}_getLabelFormatMethod(){const{formatMethod:e,formatter:t}=this._spec.label,{formatFunc:i}=vT(e,t);return i?(e,o,l)=>i(o.rawValue,o,t):null}_initTickDataSet(e,t=0){NL(this._option.dataSet,"scale",cz);const i=this.registerTicksTransform();return new E(this._option.dataSet,{name:`${this.type}_${this.id}_ticks_${t}`}).parse(this._scales[t],{type:"scale"}).transform({type:i,options:e},!1)}_tickTransformOption(){const e=this._tick||{},t=this._spec.label||{},{tickCount:i,forceTickCount:o,tickStep:l,tickMode:n}=e,{style:r,formatMethod:a,minGap:s}=t;return{sampling:!1!==this._spec.sampling,tickCount:i,forceTickCount:o,tickStep:l,tickMode:n,axisOrientType:this._orient,coordinateType:this._coordinateType,labelStyle:r,labelFormatter:a,labelGap:s}}addTransformToTickData(e,t){this._tickData.forEach(i=>{var o;null===(o=null==i?void 0:i.getDataView())||void 0===o||o.transform(e,t)})}dataToPosition(e){return this._scale.scale(e)}getDatum(e){var t;return e&&e.name===ov.label?e.data:this._axisMark?null===(t=this._axisMark.getComponent())||void 0===t?void 0:t.attribute.items:void 0}scaleRangeFactor(e,t,i){return this._onTickDataChange(this.getTickData()),this.getScale().rangeFactor(e,t,i)}scaleRangeFactorEnd(e,t,i){return this._onTickDataChange(this.getTickData()),this.getScale().rangeFactorEnd(e,t)}scaleRangeFactorStart(e,t,i){return this._onTickDataChange(this.getTickData()),this.getScale().rangeFactorStart(e,t)}}yz.specKey="axes";const uz=()=>{dz(),Ow.registerAnimation("axis",()=>({appear:{type:"fadeIn"},enter:{type:"fadeIn"},update:{type:"update"},exit:{type:"fadeOut"}}))};var gz=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};const fz=[PA];class kz extends yz{getOrient(){return this._orient}getDefaultInteractive(){return!0}set autoIndentOnce(e){this._autoIndentOnce=e}getScales(){return this._scales}constructor(e,t){super(e,t),this.type=r.cartesianAxis,this.name=r.cartesianAxis,this._defaultBandPosition=.5,this._defaultBandInnerPadding=.1,this._defaultBandOuterPadding=.3,this.layoutType="region-relative",this.layoutZIndex=dF.Axis,this.layoutLevel=cF.Axis,this._orient="left",this._autoIndentOnce=!1,this._hasAutoIndent=!1,this._scales=[],this._tick=void 0,this._layoutCache={width:0,height:0,_lastComputeOutBounds:{x1:0,x2:0,y1:0,y2:0}},this._innerOffset={top:0,bottom:0,left:0,right:0},this.effect={scaleUpdate:e=>{this.computeData(null==e?void 0:e.value),Hx(this._regions,e=>{const t=this.getOrient();lA(t)?GA(e.getXAxisHelper(),this.axisHelper(),uu(this._seriesUserId)||uu(this._seriesIndex))&&e.setXAxisHelper(this.axisHelper()):nA(t)?GA(e.getYAxisHelper(),this.axisHelper(),uu(this._seriesUserId)||uu(this._seriesIndex))&&e.setYAxisHelper(this.axisHelper()):rA(t)&&GA(e.getZAxisHelper(),this.axisHelper(),uu(this._seriesUserId)||uu(this._seriesIndex))&&e.setZAxisHelper(this.axisHelper())},{userId:this._seriesUserId,specIndex:this._seriesIndex})}},this._transformLayoutPosition=e=>{let{x:t,y:i}=e;return Su(t)&&(t+=Number("left"===this._orient)*this.getLayoutRect().width),Su(i)&&(i+=Number("top"===this._orient)*this.getLayoutRect().height),{x:t,y:i}},this._transformLayoutRect=e=>{if(!this._visible)return e;const t=this._latestBounds.clone().translate(-this.getLayoutStartPoint().x,-this.getLayoutStartPoint().y);switch(this._layout.layoutOrient){case"left":0===this._layout.layoutRectLevelMap.width&&(e.width=t.x1<0?-t.x1:0);break;case"right":0===this._layout.layoutRectLevelMap.width&&(e.width=t.x2>0?t.x2:0);break;case"top":0===this._layout.layoutRectLevelMap.height&&(e.height=t.y1<0?-t.y1:0);break;case"bottom":0===this._layout.layoutRectLevelMap.height&&(e.height=t.y2>0?t.y2:0)}return e.width=Math.ceil(e.width),e.height=Math.ceil(e.height),this._layout.setRectInSpec(this._layoutCacheProcessing(e))},this._transformLayoutPadding=e=>("left"===this.layoutOrient||"right"===this.layoutOrient?(e.top=0,e.bottom=0):"top"!==this.layoutOrient&&"bottom"!==this.layoutOrient||(e.left=0,e.right=0),e),this._updateAxisLayout=()=>{const e=this.getLayoutStartPoint(),t=this._getUpdateAttribute(!1),{grid:i}=t,o=gz(t,["grid"]),l=Mw({x:e.x,y:e.y},this._axisStyle,o);this._axisMark.setSimpleStyle(l),this._gridMark&&this._gridMark.setSimpleStyle(Mw({x:e.x,y:e.y},this._getGridAttributes(),i))},this._fixAxisOnZero=()=>{const{onZero:e,visible:t}=this._spec.domainLine;if(this.visible&&e&&!1!==t){const{onZeroAxisId:e,onZeroAxisIndex:t}=this._spec.domainLine,i=this._option.getComponentsByKey("axes"),o=lA(this.getOrient()),l=e=>{var t;return(o?!lA(e.getOrient()):lA(e.getOrient()))&&f_(e.getScale().type)&&(e.getTickData()?null===(t=e.getTickData().getLatestData())||void 0===t?void 0:t.find(e=>0===e.value):e.getScale().domain()[0]<=0&&Du(e.getScale().domain())>=0)},n=i.filter(e=>l(e));if(n.length){let r;if(uu(e))r=n.find(t=>t.id===e);else if(uu(t)){const e=i[t];l(e)&&(r=e)}else r=n[0];if(r){const e=this._axisMark,t=r.valueToPosition(0);o?e.setSimpleStyle(Object.assign(Object.assign({},e.getSimpleStyle()),{line:Object.assign(Object.assign({},this._axisStyle.line),{dy:"bottom"===this._orient?-((r.getInverse()?r.getScale().range()[1]:r.getScale().range()[0])-t):t})})):e.setSimpleStyle(Object.assign(Object.assign({},e.getSimpleStyle()),{line:Object.assign(Object.assign({},this._axisStyle.line),{dx:"left"===this._orient?t:-((r.getInverse()?r.getScale().range()[0]:r.getScale().range()[1])-t)})}))}}}},this._orient=aA(e,["z"]),rA(this._orient)&&(this.layoutType="absolute"),this._dataSet=t.dataSet,this._coordinateType="cartesian"}static getSpecInfo(e){const t=e[this.specKey];if(!t)return null;const i="horizontal"===e.direction;if(!bu(t)){if(!IA(t))return null;const{axisType:e,componentName:o}=sA(t,i);return t.type=e,[{spec:t,specPath:[this.specKey],specInfoPath:["component",this.specKey,0],type:o}]}let o=!0;if(t.filter(e=>"z"===e.orient)[0]){const e=t.filter(e=>"bottom"===e.orient)[0],i=t.filter(e=>nA(e.orient))[0];o=3===t.length&&e&&i}let l=t.map((e,t)=>({spec:e,index:t}));o||(l=l.filter(({spec:e})=>"z"!==e.orient));const n=[];return l.forEach(({spec:e,index:t})=>{if(!IA(e))return;const{axisType:o,componentName:l}=sA(e,i);e.type=o,n.push({spec:e,specPath:[this.specKey,t],specInfoPath:["component",this.specKey,t],type:l})}),n}static createComponent(e,t){const{spec:i}=e,o=gz(e,["spec"]),l=Ow.getComponentInKey(o.type);return l?new l(i,Object.assign(Object.assign({},t),o)):(t.onError(`Component ${o.type} not found`),null)}initLayout(){super.initLayout(),this._layout.autoIndent=!1!==this._spec.autoIndent,this._layout.layoutOrient=this._orient}getNewScaleRange(){const{width:e,height:t}=this.getLayoutRect(),{left:i,right:o,top:l,bottom:n}=this._innerOffset;let r=[];return lA(this.getOrient())?Su(e)&&(r=this._inverse?[e-o,i]:[i,e-o]):rA(this.getOrient())?Su(e)&&(r=this._inverse?[e-o,i]:[i,e-o],this._scale.range(r)):Su(t)&&(r=this._inverse?[l,t-n]:[t-n,l]),r}updateScaleRange(){let e=!1;const t=this.getNewScaleRange(),i=this._scale.range();return t.length===i.length&&t.every((e,t)=>e===i[t])?e=!1:(e=!0,this._scale.range(t)),e}init(e){var t;super.init(e),null===(t=this.pluginService)||void 0===t||t.load(fz.map(e=>new e)),this.callPlugin(e=>{this.pluginService&&e.onInit&&e.onInit(this.pluginService,this)})}setAttrFromSpec(){var e;if(super.setAttrFromSpec(),this.visible){lA(this.getOrient())?ku(this._spec.maxHeight)&&(this._spec.maxHeight="30%"):ku(this._spec.maxWidth)&&(this._spec.maxWidth="30%");const e=this._getAxisAttributes();e.label.formatMethod=this._getLabelFormatMethod(),e.verticalFactor="top"===this.getOrient()||"right"===this.getOrient()?-1:1,this._axisStyle=e}this._tick=this._spec.tick;const t=null===(e=this._option.getChart())||void 0===e?void 0:e.getSpec();this._inverse=function(e,t){let i=e.inverse;return t&&!lA(e.orient)&&(i=!uu(e.inverse)||!e.inverse),i}(this._spec,"horizontal"===(null==t?void 0:t.direction))}onLayoutStart(e,t){if(super.onLayoutStart(e,t),!rA(this.getOrient())&&this._spec.innerOffset){const e=this._spec;nA(this.getOrient())?["top","bottom"].forEach(i=>{this._innerOffset[i]=uw(e.innerOffset[i],t.height,t)}):["left","right"].forEach(i=>{this._innerOffset[i]=uw(e.innerOffset[i],t.width,t)})}}getSeriesStatisticsField(e){let t;return t=lA(this.getOrient())?e.fieldX:rA(this.getOrient())?e.fieldZ:e.fieldY,f_(this._scale.type)?t:[t[0]]}_tickTransformOption(){var e,t,i,o;return Object.assign(Object.assign({},super._tickTransformOption()),{noDecimals:null===(e=this._tick)||void 0===e?void 0:e.noDecimals,labelLastVisible:null===(t=this._spec.label)||void 0===t?void 0:t.lastVisible,labelFirstVisible:null===(i=this._spec.label)||void 0===i?void 0:i.firstVisible,labelFlush:null===(o=this._spec.label)||void 0===o?void 0:o.flush})}axisHelper(){return{isContinuous:f_(this._scale.type),dataToPosition:this.dataToPosition.bind(this),getScale:(e=0)=>this._scales[e],getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>!0===this._inverse,getSpec:()=>this._spec}}afterCompile(){var e;(null===(e=this._axisMark)||void 0===e?void 0:e.getProduct())&&this.event.on(ML.AFTER_ELEMENT_ENCODE,({mark:e})=>{if(e===this._axisMark&&!1===this._isLayout&&(lA(this.getOrient())?this.callPlugin(e=>{this.pluginService&&e.onDidLayoutHorizontal&&e.onDidLayoutHorizontal(this.pluginService,this)}):this.callPlugin(e=>{this.pluginService&&e.onDidLayoutVertical&&e.onDidLayoutVertical(this.pluginService,this)}),this._unitText)){const{x:e,y:t}=this.getLayoutStartPoint(),i=lA(this._orient)?{x:Iu(this._scale.range())+e,y:t}:{x:e,y:ju(this._scale.range())+t};this._unitText.setAttributes(i)}}),this.callPlugin(e=>{this.pluginService&&e.onDidCompile&&e.onDidCompile(this.pluginService,this)})}collectScale(){const e=[];return Hx(this._regions,t=>{e.push("left"===this.getOrient()||"right"===this.getOrient()?t.scaleY:t.scaleX)},{userId:this._seriesUserId,specIndex:this._seriesIndex}),e}collectSeriesField(e,t){var i,o;let l;return l=e>0?null===(o=null===(i=t.getGroups())||void 0===i?void 0:i.fields)||void 0===o?void 0:o[e]:lA(this.getOrient())?t.getSpec().x2Field?[...t.fieldX,t.fieldX2]:t.fieldX:rA(this.getOrient())?t.fieldZ:t.getSpec().y2Field?[...t.fieldY,t.fieldY2]:t.fieldY,l}updateSeriesScale(){const e=this.getOrient();Hx(this._regions,t=>{lA(e)?GA(t.getXAxisHelper(),this.axisHelper(),uu(this._seriesUserId)||uu(this._seriesIndex))&&(t.setScaleX(this._scale),t.setXAxisHelper(this.axisHelper())):nA(e)?GA(t.getYAxisHelper(),this.axisHelper(),uu(this._seriesUserId)||uu(this._seriesIndex))&&(t.setScaleY(this._scale),t.setYAxisHelper(this.axisHelper())):rA(e)&&GA(t.getZAxisHelper(),this.axisHelper(),uu(this._seriesUserId)||uu(this._seriesIndex))&&(t.setScaleZ(this._scale),t.setZAxisHelper(this.axisHelper()))},{userId:this._seriesUserId,specIndex:this._seriesIndex})}getBoundsInRect(e){var t;let i={x1:0,y1:0,x2:0,y2:0};if(!this._visible)return i;this._verticalLimitSize=lA(this.getOrient())?e.height:e.width,this.setLayoutRect(e),!this.updateScaleRange()&&bu(null===(t=this.getTickData())||void 0===t?void 0:t.getLatestData())||this.computeData("range");const o={skipLayout:!1},l=lA(this.getOrient());this.pluginService&&(l?this.callPlugin(e=>{e.onWillLayoutHorizontal&&e.onWillLayoutHorizontal(this.pluginService,o,this)}):this.callPlugin(e=>{e.onWillLayoutVertical&&e.onWillLayoutVertical(this.pluginService,o,this)}));const n=this._axisMark.getProduct();let r=!1;if(!o.skipLayout){const e=this._getUpdateAttribute(!0),t=this._axisMark.getComponent(),o=Mw(Object.assign({},this.getLayoutStartPoint()),this._axisStyle,e,{line:{visible:!1}});let n=null==t?void 0:t.getBoundsWithoutRender(o);n&&!n.empty()||(n=(new rg).set(o.x,o.y,o.x,o.y)),r=!0,this._latestBounds=n,i=this._appendAxisUnit(n,l)}return r||(this._latestBounds=n.AABBBounds),i}positionToData(e,t){const i=lA(this.getOrient());t&&(e-=i?this.getLayoutStartPoint().x:this.getLayoutStartPoint().y),this._innerOffset&&(e=i?Yu(e,this._innerOffset.left,this.getLayoutRect().width-this._innerOffset.right):Yu(e,this._innerOffset.top,this.getLayoutRect().height-this._innerOffset.bottom));const o=this._scale.range();return(e-o[0])*(e-Du(o))>0?null:this._scale.invert(e)}_getTitleLimit(e){var t,i,o,l,n;const r=this._spec.title;if(r.visible&&yu(null===(t=r.style)||void 0===t?void 0:t.maxLineWidth)){const t=null!==(n=null!==(o=null===(i=this._axisStyle.title)||void 0===i?void 0:i.angle)&&void 0!==o?o:null===(l=r.style)||void 0===l?void 0:l.angle)&&void 0!==n?n:0;if(e){const e=this.getLayoutRect().width,i=Math.abs(Math.cos(t));return i<1e-6?1/0:e/i}const a=this.getLayoutRect().height,s=Math.abs(Math.sin(t));return s<1e-6?1/0:a/s}return null}_getUpdateAttribute(e){let t=0,i=0;if(!e){const e=(e=>{let{x:t,y:i}=e[0].getLayoutStartPoint(),o=t+e[0].getLayoutRect().width,l=i+e[0].getLayoutRect().height;for(let r=1;r<e.length;r++){const n=e[r],{x:a,y:s}=n.getLayoutStartPoint(),{width:h,height:d}=n.getLayoutRect();t=Math.min(t,a),o=Math.max(o,h+a),i=Math.min(i,s),l=Math.max(l,d+s)}const n=Math.abs(l-i);return{width:Math.abs(o-t),height:n}})(this.getRegions());i=e.width,t=e.height}const{width:o,height:l}=this.getLayoutRect(),n=lA(this._orient),r=nA(this._orient);let a={x:0,y:0},s=t,h=o;n?a={x:o,y:0}:r&&(a={x:0,y:l},s=i,h=l);const d=this.getLabelItems(h),c={start:{x:0,y:0},end:a,title:{text:this._spec.title.text||this._dataFieldText,maxWidth:this._getTitleLimit(n)},items:d,scale:this._scale.clone()};e||(c.grid={type:"line",start:{x:0,y:0},end:a,items:d[0],verticalFactor:this._axisStyle.verticalFactor,length:s});let p=n?this.layout.minHeight:this.layout.minWidth;return(n&&9===this._layout.layoutRectLevelMap.height||r&&9===this._layout.layoutRectLevelMap.width)&&(p=this._verticalLimitSize),c.verticalLimitSize=this._verticalLimitSize,c.verticalMinSize=p,c.label={overflowLimitLength:this._getLabelOverflowLimit(n)},this._afterUpdateAttribute?this._afterUpdateAttribute(c,e):c}getLabelItems(e){var t;const i=null===(t=this.getTickData())||void 0===t?void 0:t.getLatestData();return i&&i.length?[i.map(t=>{const i=this._getNormalizedValue([t.value],e);return NA(t.value,i)}).filter(e=>{const{value:t,rawValue:i}=e,o=this._scale.domain();return"log"===this.getSpec().type?t>=0&&t<=1:f_(this._scale.type)?i>=o[0]&&i<=Du(o):o.includes(i)})]:[]}initEvent(){super.initEvent(),this.visible&&(this.event.on(WL.layoutEnd,this._updateAxisLayout),this.event.on(WL.layoutEnd,this._fixAxisOnZero),this.event.on(WL.layoutRectUpdate,()=>{this._clearLayoutCache()}))}_getNormalizedValue(e,t){return 0===t?0:this.dataToPosition(e)/t}_layoutCacheProcessing(e){return["width","height"].forEach(t=>{e[t]<this._layoutCache[t]?e[t]=this._layoutCache[t]:this._layoutCache[t]=e[t]}),this._autoIndentOnce&&this._hasAutoIndent?["x1","x2","y1","y2"].forEach(e=>{this.layout.getLastComputeOutBounds()[e]=this._layoutCache._lastComputeOutBounds[e]}):(this._hasAutoIndent=!0,["x1","x2","y1","y2"].forEach(e=>{this.layout.getLastComputeOutBounds()[e]<this._layoutCache._lastComputeOutBounds[e]?this.layout.getLastComputeOutBounds()[e]=this._layoutCache._lastComputeOutBounds[e]:this._layoutCache._lastComputeOutBounds[e]=this.layout.getLastComputeOutBounds()[e]})),e}reInit(e){super.reInit(e),this._clearLayoutCache()}_clearLayoutCache(){this._hasAutoIndent=!1,this._layoutCache.width=0,this._layoutCache.height=0,this._layoutCache._lastComputeOutBounds={x1:0,x2:0,y1:0,y2:0}}onDataUpdate(){this._clearLayoutCache()}_appendAxisUnit(e,t){var i;if(this._spec.unit&&this._spec.unit.visible){const{text:o,style:l}=this._spec.unit;let n,r;const{x:a,y:s}=this.getLayoutStartPoint();t?(n={x:Iu(this._scale.range())+a,y:s},r={textAlign:"left",textBaseline:"middle"}):(n={x:a,y:ju(this._scale.range())+s},r={textAlign:"left"===this._orient?"left":"right",textBaseline:"bottom"}),r=Object.assign(Object.assign(Object.assign({},r),l),{x:n.x,y:n.y,text:o}),this._unitText?this._unitText.setAttributes(r):(this._unitText=wh(r),this._unitText.name="axis-unit",null===(i=this.getContainer())||void 0===i||i.add(this._unitText));const h=this._unitText.AABBBounds;t?(e.x2+=h.x2>e.x2?h.x2-e.x2:0,e.y2+=h.y2>e.y2?h.y2-e.y2:0):(e.x1+=h.x1<e.x1?h.x1-e.x1:0,e.y1+=h.y1<e.y1?h.y1-e.y1:0)}return e}_getNeedClearVRenderComponents(){return this._unitText?[this._unitText]:[]}_getLabelOverflowLimit(e){var t,i;if(e&&!1!==(null===(t=this._spec.label)||void 0===t?void 0:t.visible)&&!0===(null===(i=this._spec.label)||void 0===i?void 0:i.autoLimit)){const e=this._option.getComponentsByKey("axes"),t=this.getRegions(),i=e.filter(e=>{const i=e.getOrient();return("left"===i||"right"===i)&&e.getRegions().some(e=>t.includes(e))});let o=0,l=0;const n=this.getLayoutStartPoint().x,r=n+this.getLayoutRect().width;return i.forEach(e=>{const t=e.getLayoutStartPoint().x;if("left"===e.getOrient()&&t===n){const t=e.getLayoutRect().width;o=Math.max(o,t)}else if(t===r){const t=e.getLayoutRect().width;l=Math.max(l,t)}}),{left:o,right:l}}}}kz.type=r.cartesianAxis,kz.specKey="axes";function mz(e,t){const i=e[0],o=e[e.length-1],l=t.filter(e=>e>i&&e<o);return 0===l.length?[[i,o]]:((e,t,i)=>i.reduce((e,o,l)=>(e.push([o,i.length===l+1?t:i[l+1]]),e),[[e,i[0]]]))(i,o,l)}const bz=(e,t)=>e-t;function vz(e,t,i="count"){const o=((e,t)=>{const i=[{count:0,sub:[],max:t[0],min:t[0]}];let o=0,l=0;for(;o<t.length;)e[l]<=t[o]?(i[o].count+=1,i[o].sub.push(e[l]),l+=1):(o+=1,i[o]={count:0,sub:[],max:t[o],min:t[o]});i.forEach(e=>{e.count&&(e.min=Math.min.apply(null,e.sub))});const n=e.slice(l);return i[o]={count:n.length,sub:n,min:t[t.length-1],max:Math.max.apply(null,n)},i})(e,t),l="count"===i?e.length:o.reduce((e,t,i)=>t.count>0?e+t.max-t.min:e,0),n=[];let r=0,a=0;return o.forEach((e,t)=>{if(0===l)n.push([0,t/o.length-1]);else{const s="count"===i?e.count:e.max-e.min,h=n[a-1]?n[a-1][1]:0,d=t===o.length-1?1:Math.min((r+s)/l,1);(h!==d||0!==h&&1!==h)&&(a+=1,n.push([h,d]),r+=s)}}),n}const Cz=Math.sqrt(50),Sz=Math.sqrt(10),xz=Math.sqrt(2);const _z={label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},wz={label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},Lz={domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}};class Fz extends kz{constructor(){super(...arguments),this.type=r.cartesianLinearAxis,this._zero=!0,this._nice=!0,this._extend={},this._scale=new Z_}setAttrFromSpec(){var e,t;super.setAttrFromSpec(),this.setExtraAttrFromSpec();const i=null===(t=null===(e=this._tickData)||void 0===e?void 0:e[0])||void 0===t?void 0:t.getDataView().transformsArr.find(e=>e.type===this.registerTicksTransform());i&&(i.options=this._tickTransformOption())}initScales(){var e,t;super.initScales();const i=[0,1];uu(null===(e=this._domain)||void 0===e?void 0:e.min)&&(i[0]=this._domain.min),uu(null===(t=this._domain)||void 0===t?void 0:t.max)&&(i[1]=this._domain.max),this._scale.domain(i)}_tickTransformOption(){var e;return Object.assign(Object.assign({},super._tickTransformOption()),{breakData:(null===(e=this._spec.breaks)||void 0===e?void 0:e.length)?()=>this._break:null})}_getUpdateAttribute(e){var t,i;const o=super._getUpdateAttribute(e);if(!rA(this._orient)&&(null===(i=null===(t=this._break)||void 0===t?void 0:t.breaks)||void 0===i?void 0:i.length)){const{width:e,height:t}=this.getLayoutRect(),i=lA(this._orient),l=i?e:t;o.breaks=this._break.breaks.map(e=>{const{range:t,breakSymbol:o,gap:n=6}=e,r=this.valueToPosition((t[0]+t[1])/2)/l;let a;a=yw(n)?Number(n.substring(0,n.length-1))/100:n/l;const s=Su(null==o?void 0:o.angle)?o.angle:i?60:15;return{range:[r-a/2,r+a/2],breakSymbol:Object.assign(Object.assign({visible:!0},o),{angle:s*Math.PI/180}),rawRange:t}})}return o}getNewScaleRange(){var e,t;let i=super.getNewScaleRange();return(null===(e=this._spec.breaks)||void 0===e?void 0:e.length)&&(null===(t=this._break)||void 0===t?void 0:t.scope)&&(i=Cg(this._break.scope).map(e=>i[0]+(Du(i)-i[0])*e)),i}computeDomain(e){return this.computeLinearDomain(e)}axisHelper(){const e=super.axisHelper();return e.setExtendDomain=this.setExtendDomain.bind(this),e.valueToPosition=this.valueToPosition.bind(this),e}registerTicksTransform(){const e=`${this.type}-ticks`;return jL(this._option.dataSet,e,wS),e}}Fz.type=r.cartesianLinearAxis,Fz.specKey="axes",Fz.builtInTheme={axis:Lz,axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:_z,axisY:wz},Pu(Fz,class{constructor(){this._extend={},this.niceLabelFormatter=null}setExtraAttrFromSpec(){uu(this._spec.nice)&&(this._nice=this._spec.nice),uu(this._spec.zero)&&(this._zero=this._spec.zero),this._expand=this._spec.expand,this._domain=DA(this._spec)}transformScaleDomain(){this.setScaleNice()}setLinearScaleNice(){var e;if(!this._nice)return!1;let t=5;const i=this._spec.tick||{};if(Su(i.forceTickCount))t=i.forceTickCount;else if(pu(i.tickCount)){const e=this._scale.range();let o=Math.abs(Du(e)-e[0]);1===o&&this._option&&(o=lA(this._orient)?this._option.getChartViewRect().width:this._option.getChartViewRect().height),t=i.tickCount({axisLength:o,labelStyle:this._spec.label&&this._spec.label.style})}else t=Su(i.tickCount)?i.tickCount:5;"accurateFirst"===this._spec.niceType&&(t=Math.max(5,t));const{min:o,max:l}=null!==(e=this._domain)&&void 0!==e?e:{};return yu(o)&&yu(l)&&yu(this._softMaxValue)&&yu(this._softMinValue)?this._scale.nice(t):(uu(o)||uu(this._softMinValue))&&yu(l)&&yu(this._softMaxValue)?this._scale.niceMax(t):!(!yu(o)||!yu(this._softMinValue)||!uu(l)&&!uu(this._softMaxValue))&&this._scale.niceMin(t)}setLogScaleNice(){var e;if(!this._nice)return!1;const{min:t,max:i}=null!==(e=this._domain)&&void 0!==e?e:{};return yu(t)&&yu(i)&&yu(this._softMaxValue)&&yu(this._softMinValue)?this._scale.nice():(uu(t)||uu(this._softMinValue))&&yu(i)&&yu(this._softMaxValue)?this._scale.niceMax():!(!yu(t)||!yu(this._softMinValue)||!uu(i)&&!uu(this._softMaxValue))&&this._scale.niceMin()}setScaleNice(){return"log"===this._spec.type?this.setLogScaleNice():this.setLinearScaleNice()}dataToPosition(e,t){return this.valueToPosition(e[0])}valueToPosition(e){return this._scale.scale(e)}computeLinearDomain(e){let t=[];if(e.length){const i=this._spec.breaks&&this._spec.breaks.length;let o,l,n=[];if(e.forEach(e=>{const{min:t,max:r}=e;o=void 0===o?t:Math.min(o,t),l=void 0===l?r:Math.max(l,r),i&&(n=n.concat(e.values))}),i){const e=[],i=[],r=yu(this._domain.max)?l:this._domain.max;for(let t=0;t<this._spec.breaks.length;t++){const{range:o}=this._spec.breaks[t];o[0]<=o[1]&&o[1]<=r&&(e.push(o),i.push(this._spec.breaks[t]))}if(e.sort((e,t)=>e[0]-t[0]),e.length){const{domain:o,scope:l}=function(e,t,i){return e.sort(bz),t.sort(bz),{domain:mz(e,t),scope:vz(e,t,i)}}(n,Cg(e),this._spec.breaks[0].scopeType);t=Cg(o),this._break={domain:o,scope:l,breakDomains:e,breaks:i}}else t=[o,l]}else t=[o,l]}else t[0]=0,t[1]=0;return this.setSoftDomainMinMax(t),this.expandDomain(t),this.includeZero(t),this.setDomainMinMax(t),t}expandDomain(e){if(!this._expand)return;let t=e[0],i=Du(e);t===i&&(0===i?i=1:i>0?t=0:i<0&&(i=0)),uu(this._expand.min)&&(e[0]=t-(i-t)*this._expand.min),uu(this._expand.max)&&(e[e.length-1]=i+(i-t)*this._expand.max)}niceDomain(e){const{min:t,max:i}=DA(this._spec);if(uu(t)||uu(i)||"linear"!==this._spec.type)return e;if(Math.abs(ju(e)-Iu(e))<=1e-12){let t=e[0];const i=t>=0?1:-1;if(t=Math.abs(t),t<1)e[0]=0,e[e.length-1]=1;else{let i=t/5;const o=Math.floor(Math.log(i)/Math.LN10),l=i/Math.pow(10,o);i=(l>=Cz?10:l>=Sz?5:l>=xz?2:1)*Math.pow(10,o),e[0]=0,e[e.length-1]=10*i}i<0&&(e.reverse(),e[0]*=-1,e[e.length-1]*=-1)}return e}includeZero(e){this._zero&&(e[0]=Math.min(e[0],0),e[e.length-1]=Math.max(Du(e),0))}setExtendDomain(e,t){if(void 0===t)return void delete this._extend[e];this._extend[e]=t;const i=this._scale.domain();this.extendDomain(i),this.includeZero(i),this.setDomainMinMax(i),this.niceDomain(i),this._scale.domain(i,this._nice),this._nice&&!this.setScaleNice()&&this._scale.rescale(),this.event.emit(WL.scaleUpdate,{model:this,value:"domain"})}extendDomain(e){let t;const i=e.length-1,o=e[0]-e[i]>0,l=o?i:0,n=o?0:i;for(const r in this._extend)t=this._extend[r],t>e[n]&&(e[n]=t),t<e[l]&&(e[l]=t)}getDomainSpec(){return this._domain}setDomainMinMax(e){if(!this._domain)return;const{min:t,max:i}=this._domain;uu(t)&&(e[0]=t),uu(i)&&(e[e.length-1]=i)}setSoftDomainMinMax(e){const{softMin:t,softMax:i}=this._spec;if(uu(t)){let i=pu(t)?t(e):t;yu(i)&&(i=e[0]),i<=e[0]&&(e[0]=i,this._softMinValue=i)}if(uu(i)){let t=pu(i)?i(e):i;yu(t)&&(t=Du(e)),t>=Du(e)&&(e[e.length-1]=t),this._softMaxValue=t}}setZero(e){this._zero!==e&&(this._zero=e,this.updateScaleDomain())}updateScaleDomain(){if(!this.isSeriesDataEnable())return;const e=this.collectData(),t=this.computeLinearDomain(e);this.updateScaleDomainByModel(t)}updateScaleDomainByModel(e){e=null!=e?e:this._scale.domain(),this.extendDomain(e),this.includeZero(e),this.setDomainMinMax(e),this.niceDomain(e),this._scale.domain(e,this._nice),this._nice&&!this.setScaleNice()&&this._scale.rescale(),this._updateNiceLabelFormatter(e),this._domainAfterSpec=this._scale.domain(),this.event.emit(WL.scaleDomainUpdate,{model:this}),this.event.emit(WL.scaleUpdate,{model:this,value:"domain"})}getDomainAfterSpec(){return this._domainAfterSpec}_updateNiceLabelFormatter(e){const t=Math.abs(Du(e)-e[0]),i=Math.max(-Math.floor(Math.log10(t)),0)+2,o=Math.pow(10,i);this.niceLabelFormatter=e=>Su(+e)?Math.round(+e*o)/o:e}});const Tz=()=>{Ow.registerGraphicComponent(nz.lineAxis,(e,t)=>new mS(e,t)),Ow.registerGraphicComponent(rz.lineAxisGrid,(e,t)=>new Cx(e,t)),uz(),Ow.registerComponent(Fz.type,Fz)};class Az extends kz{constructor(){super(...arguments),this.type=r.cartesianBandAxis,this._scale=new B_}computeDomain(e){return this.computeBandDomain(e)}updateScaleRange(){const e=super.updateScaleRange();return this.updateGroupScaleRange(),e}initScales(){super.initScales(),this.calcScales(this._defaultBandInnerPadding,this._defaultBandOuterPadding)}axisHelper(){const e=(e=0)=>this._scales[e];return{isContinuous:!1,dataToPosition:this.dataToPosition.bind(this),getScale:e,getBandwidth:(t=0)=>e(t).bandwidth(),getAxisType:()=>this.type,getAxisId:()=>this.id,isInverse:()=>this._inverse,getSpec:()=>this._spec}}registerTicksTransform(){const e=`${this.type}-ticks`;return jL(this._option.dataSet,e,zS),e}transformScaleDomain(){this.updateFixedWholeLength()}updateFixedWholeLength(){if(this._scale){const{bandSize:e,maxBandSize:t,minBandSize:i}=this._getOuterBandSizeFromSpec();if(e&&this._scale.bandwidth(e),t&&this._scale.maxBandwidth(t),i&&this._scale.minBandwidth(i),this._scale.isBandwidthFixed()&&this._spec.autoRegionSize&&(e||t)){const i=x_(this._scale.domain().length,null!=e?e:t,this._scale.paddingInner(),this._scale.paddingOuter());["bottom","top"].includes(this._orient)?this._regions.forEach(e=>e.setMaxWidth(i)):["left","right"].includes(this._orient)&&this._regions.forEach(e=>e.setMaxHeight(i))}}}_getOuterBandSizeFromSpec(){var e;let{bandSize:t,maxBandSize:i,minBandSize:o,bandSizeLevel:l=0}=this._spec;const{gap:n,extend:r=0}=null!==(e=this._spec.bandSizeExtend)&&void 0!==e?e:{};l=Math.min(l,this._scales.length-1);for(let a=l;a>0;a--){const e=this._scales[a],s=e.domain(),h=e.paddingInner(),d=e.paddingOuter(),c=e=>{const t=a===l?r:0;return yu(n)||a<l?x_(s.length,e,h,d)+t:(e+(mu(n)?e*(Number(n.substring(0,n.length-1))/100):n))*s.length/(this._scales[a-1].paddingInner()+1)+t};uu(t)&&(t=c(t)),uu(i)&&(i=c(i)),uu(o)&&(o=c(o))}return{bandSize:t,maxBandSize:i,minBandSize:o}}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||(null==t?void 0:t.showAllGroupLayers)===(null==e?void 0:e.showAllGroupLayers)&&Ru(null==t?void 0:t.layers,null==e?void 0:e.layers)||(i.reMake=!0),i}reInit(e){super.reInit(),null==this||this._updateData()}}Az.type=r.cartesianBandAxis,Az.specKey="axes",Az.builtInTheme={axis:Lz,axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisX:_z,axisY:wz},Pu(Az,class{constructor(){this._rawDomainIndex=[]}_initData(){var e;if(this._spec.showAllGroupLayers&&this._scales.length>1)for(let t=0;t<this._scales.length;t++){const i=(null!==(e=this._spec.layers)&&void 0!==e?e:[])[this._scales.length-1-t]||{};if(!1!==i.visible&&0!==i.tickCount&&0!==i.forceTickCount){const e=this._initTickDataSet(Object.assign(Object.assign({},this._tickTransformOption()),i),t),o=new IF(this._option,e);this._tickData.push(o),e.target.addListener("change",()=>{this._onTickDataChange(o)}),this._tickDataMap||(this._tickDataMap={}),this._tickDataMap[t]=o}}else{const e=this._initTickDataSet(this._tickTransformOption()),t=new IF(this._option,e);e.target.addListener("change",()=>{this._onTickDataChange(t)}),this._tickData=[t],this._tickDataMap={0:t}}}_updateData(){var e,t,i;const o=this.registerTicksTransform();if(this._spec.showAllGroupLayers&&this._scales.length>1){const t=null!==(e=this._spec.layers)&&void 0!==e?e:[];Object.keys(this._tickDataMap).forEach(e=>{const i=t[this._scales.length-1-+e]||{},l=this._tickDataMap[e],n=null==l?void 0:l.getDataView().transformsArr.find(e=>e.type===o);n&&(n.options=Object.assign(Object.assign({},this._tickTransformOption()),i))})}else{const e=null===(i=null===(t=this._tickData)||void 0===t?void 0:t[0])||void 0===i?void 0:i.getDataView().transformsArr.find(e=>e.type===o);e&&(e.options=this._tickTransformOption())}}dataToPosition(e,t={}){var i,o;if(0===e.length||0===this._scales.length)return 0;const{position:l,bandScale:n}=this.getPosition(e);return l+n.bandwidth()*(null!==(o=null!==(i=t.bandPosition)&&void 0!==i?i:this._spec.bandPosition)&&void 0!==o?o:this._defaultBandPosition)}valueToPosition(e){return this._scale.scale(e)}updateGroupScaleRange(){let e=this._scale;this._scales.forEach((t,i)=>{i>0&&(t.range([0,e.bandwidth()]),e=t)})}getPosition(e){let t=0,i=this._scale;if(1===this._scales.length||1===e.length)t=this.valueToPosition(e[0]);else{const o=Math.min(e.length,this._scales.length);for(let i=0;i<o;i++)t+=this._scales[i].scale(e[i]);i=this._scales[o-1]}return{position:t,bandScale:i}}calcScales(e,t){var i,o;const{bandPadding:l,paddingInner:n,paddingOuter:r}=this._spec,a=bu(l),s=bu(n),h=bu(r);for(let d=0;d<this._scales.length;d++){const c=a?l[d]:l,p=s?n[d]:n,y=h?r[d]:r;this._scales[d].paddingInner(null!==(i=null!=p?p:c)&&void 0!==i?i:e,!0).paddingOuter(null!==(o=null!=y?y:c)&&void 0!==o?o:t,!0)}}computeBandDomain(e){if(!e.length)return[];if(1===e.length)return e[0].values;const t=new Set;for(let i=0;i<e.length;i++)for(let o=0;o<e[i].values.length;o++)t.add(e[i].values[o]);return Array.from(t)}updateScaleDomain(){var e;if(!this.isSeriesDataEnable())return;!(null===(e=this._rawDomainIndex)||void 0===e?void 0:e.length)&&this._scales.length&&this._updateRawDomain();const t=this._spec.domain;for(let i=0;i<this._scales.length;i++)if(t&&t.length&&0===i)this._scales[i].domain(t);else{const e=this.collectData(i),t=this.computeBandDomain(e);this._scales[i].domain(t.sort((e,t)=>this._rawDomainIndex[i][e]-this._rawDomainIndex[i][t]))}this.transformScaleDomain(),this.event.emit(WL.scaleDomainUpdate,{model:this}),this.event.emit(WL.scaleUpdate,{model:this,value:"domain"})}getLabelItems(e){const t=[];let i=[];return(this._spec.showAllGroupLayers?this._scales:[this._scales[0]]).forEach((o,l)=>{var n;const r=this._tickDataMap[l],a=null===(n=null==r?void 0:r.getLatestData())||void 0===n?void 0:n.length,s=a?r.getLatestData().map(e=>e.value):o.domain();if(s&&s.length)if(i&&i.length){const o=[],l=[];i.forEach(t=>{s.forEach(i=>{const n=Eu(t).concat(i);if(l.push(n),a){const t=NA(i,this._getNormalizedValue(n,e));o.push(t)}})}),a&&t.push(o.filter(e=>e.value>=0&&e.value<=1)),i=l}else s.forEach(e=>{i.push(e)}),a&&t.push(r.getLatestData().map(t=>NA(t.value,this._getNormalizedValue([t.value],e))).filter(e=>e.value>=0&&e.value<=1))}),t.reverse()}_updateRawDomain(){this._rawDomainIndex=[];const e=this._spec.domain;for(let t=0;t<this._scales.length;t++)if(e&&e.length&&0===t)this._scales[t].domain(e);else{const e=this.collectData(t,!0),i=this.computeBandDomain(e);this._rawDomainIndex[t]={},i.forEach((e,i)=>this._rawDomainIndex[t][e]=i)}}_clearRawDomain(){this._rawDomainIndex=[]}});const zz=()=>{Ow.registerGraphicComponent(nz.lineAxis,(e,t)=>new mS(e,t)),Ow.registerGraphicComponent(rz.lineAxisGrid,(e,t)=>new Cx(e,t)),uz(),Ow.registerComponent(Az.type,Az,!1)},Bz=`${Jw}_hide_`;function Mz(e,t){e.context.finalAttrs&&(e.context.finalAttrs.visible=t)}const Oz=(e,t)=>{if(!t||0===t.length)return t;const{direction:i,delta:o,deltaMul:l=1,groupBy:n}=e,r=t=>{!function(e){e.forEach(e=>{e[Bz]&&(Mz(e,!0),e[Bz]=!1)})}(t);const n=e.sort?t.slice().sort((e,t)=>e.context.finalAttrs.x-t.context.finalAttrs.x):t;0===i?function(e,t,i){let o=-1/0,l=0,n=0;const r=yu(t);let a=t;e.forEach(e=>{if(!1===e.context.finalAttrs.visible)return;const t=e.context.finalAttrs.size/2,{x:s,y:h}=e.context.finalAttrs;r&&(a=(t+l)*i),n=(-1/0-s)**2+(o-h)**2,n<(a+l+t)**2?e.context.finalAttrs.forceShow||(e[Bz]=!0,Mz(e,!1)):o=h,l=t})}(n,o,l):1===i?function(e,t,i){let o=-1/0,l=0;const n=yu(t);let r=t;e.forEach(e=>{if(!1===e.context.finalAttrs.visible)return;const t=e.context.finalAttrs.size/2,a=e.context.finalAttrs.x;n&&(r=(t+l)*i),Math.abs(a-o)<r+l+t?e.context.finalAttrs.forceShow||(e[Bz]=!0,Mz(e,!1)):o=a,l=t})}(n,o,l):function(e,t,i){let o=-1/0,l=0;const n=yu(t);let r=t;e.forEach(e=>{if(!1===e.context.finalAttrs.visible)return;const t=e.context.finalAttrs.size/2,a=e.context.finalAttrs.y;n&&(r=(t+l)*i),Math.abs(a-o)<r+l+t?e.context.finalAttrs.forceShow||(e[Bz]=!0,Mz(e,!1)):o=a,l=t})}(n,o,l)};if(n){const e=t.reduce((e,t)=>{var i,o;const l=null===(o=null===(i=t.context.data)||void 0===i?void 0:i[0])||void 0===o?void 0:o[n];return e[l]?e[l].push(t):e[l]=[t],e},{});Object.keys(e).forEach(t=>{r(e[t])})}else r(t);return t},Wz=()=>{Ow.registerGrammarTransform("symbolOverlap",{transform:Oz,runType:"afterEncode"})},Rz={min:ju,max:Iu,average:function(e,t){let i=0,o=0;return e.forEach(e=>{const l=t?+e[t]:+e;Su(l)&&(i+=l,o++)}),i/o},sum:Rx};function Hz(e,t,i,o){const l=Math.floor(t.length/e),n=[],r=t.length;let a,s,h,d=0,c=0;n[c++]=d;for(let p=1;p<r-1;p+=l){const e=Math.min(p+l,r-1),i=Math.min(p+2*l,r),y=(i+e)/2;let u=0;for(let l=e;l<i;l++){const e=t[l][o];Number.isNaN(e)||(u+=e)}u/=i-e;const g=p,f=Math.min(p+l,r),k=p-1,m=t[d][o];a=-1,h=g;for(let l=g;l<f;l++){const e=t[l][o];Number.isNaN(o)||(s=Math.abs((k-y)*(e-m)-(k-l)*(u-m)),s>a&&(a=s,h=l))}n[c++]=h,d=h}return n[c-1]!==r-1&&(n[c++]=r-1),n.map(e=>i?t[e].i:e)}function Pz(e,t,i,o,l){let n=Math.floor(t.length/e);const r=[],a=t.length;let s=0,h=[];r.push(s),t[s][l]=t[s][l];for(let d=1;d<a-1;d+=n){n>a-d&&(n=a-d,h.length=n),h=[];for(let i=0;i<n;i++)h.push(t[d+i][l]);const e=Rz[o](h);s=Math.min(Math.round(d+h.length/2)||0,a-1),t[s][l]=e,r.push(s)}return r.map(e=>i?t[e].i:e)}function Ez(e,t,i,o){return Pz(e,t,i,"min",o)}function Dz(e,t,i,o){return Pz(e,t,i,"max",o)}function Iz(e,t,i,o){return Pz(e,t,i,"average",o)}function jz(e,t,i,o){return Pz(e,t,i,"sum",o)}const Nz=(e,t)=>{let i=pu(e.size)?e.size():e.size;const o=e.factor||1;if(Array.isArray(i)&&(i=Math.floor(i[1]-i[0])),i*=o,i<=0)return[];if(t.length<=i)return t;if(e.skipfirst)return t.slice(0,1);const{mode:l,yfield:n,groupBy:r}=e,a=null!=n?n:"y";let s=Hz;if("min"===l?s=Ez:"max"===l?s=Dz:"average"===l?s=Iz:"sum"===l&&(s=jz),t.length){const e={};if(r){for(let i=0,l=t.length;i<l;i++){const o=t[i],l=o[r];e[l]?e[l].push({[a]:o[a],i:i}):(e[l]=[],e[l].push({[a]:o[a],i:i}))}let o=[];return Object.keys(e).forEach(l=>{const n=e[l];if(n.length<=i){const e=n.map(e=>e.i);o=o.concat(e)}else{const e=s(i,n,!0,a);o=o.concat(e),n.forEach(e=>t[e.i][a]=e[a])}}),o.sort((e,t)=>e-t),o.map(e=>t[e])}return s(i,t,!1,a).map(e=>t[e])}return[]},Gz=()=>{Ow.registerGrammarTransform("dataSampling",{transform:Nz})};class Uz extends oA{constructor(){super(...arguments),this.type=$_.line,this.transformerConstructor=TA,this._sortDataByAxis=!1}compile(){super.compile(),this.addSamplingCompile(),this.addOverlapCompile()}initMark(){var e;const t=null!==(e=this._spec.seriesMark)&&void 0!==e?e:"line";this.initLineMark("line"===t),this.initSymbolMark("point"===t)}initTooltip(){super.initTooltip();const{group:e,mark:t}=this._tooltipHelper.activeTriggerSet;this._lineMark&&e.add(this._lineMark),this._symbolMark&&(t.add(this._symbolMark),e.add(this._symbolMark))}initMarkStyle(){this.initLineMarkStyle(this._direction),this.initSymbolMarkStyle()}initAnimation(){var e,t,i,o;const l={direction:this.direction},n=null===(t=null===(e=this._spec)||void 0===e?void 0:e.animationAppear)||void 0===t?void 0:t.preset;if(this._lineMark.setAnimationConfig(VT(null===(i=Ow.getAnimationInKey("line"))||void 0===i?void 0:i(l,n),YT("line",this._spec,this._markAttributeContext))),this._symbolMark){const e=iA(this);this._symbolMark.setAnimationConfig(VT(null===(o=Ow.getAnimationInKey("scaleInOut"))||void 0===o?void 0:o(),YT("point",this._spec,this._markAttributeContext),e))}}onLayoutEnd(){super.onLayoutEnd(),this.reCompileSampling()}getSeriesStyle(e){var t;const i="point"!==(null===(t=this._spec)||void 0===t?void 0:t.seriesMark);return t=>{var o,l;return i&&"fill"===t&&(t="stroke"),null!==(l=null===(o=this._seriesMark)||void 0===o?void 0:o.getAttribute(t,e))&&void 0!==l?l:void 0}}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._lineMark,this._symbolMark]}}Uz.type=$_.line,Uz.mark=vA,Uz.builtInTheme={line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}}},Uz.transformerConstructor=TA,Pu(Uz,bA);class Vz{get dataList(){return this._dataArr}constructor(e){this._dataArr=[],this._dataSet=e}parseData(e){this._dataArr=[];const t=Eu(e);for(let i=0;i<t.length;i++)this._dataArr.push(ZL(t[i],this._dataSet,this._dataArr))}updateData(e,t=!1,i=!0){const o=Eu(e);return!(t&&o.length!==this._dataArr.length||(this._dataValueForEach(o,(e,t)=>{t.markRunning()}),this._dataValueForEach(o,(e,t)=>{XL(t,e,i)}),0))}_dataValueForEach(e,t){e.forEach((e,i)=>{if(e instanceof E)return;const o=this.getSeriesData(e.id,i);o&&t(e,o,i)})}getSeriesData(e,t){if(!this._dataArr.length)return null;if("string"==typeof e){const t=this._dataArr.filter(t=>t.name===e);if(t[0])return t[0];_g(`no data matches dataId ${e}!`)}if("number"==typeof t){if(this._dataArr[t])return this._dataArr[t];_g(`no data matches dataIndex ${t}!`)}return this._dataArr[0]}}class Yz{constructor(e,t){this._scaleSpecMap=new Map,this._scaleMap=new Map,this._modelScaleSpecMap=new Map,this._markAttributeScaleMap=new Map,this._spec=null,this._chart=null,this.getStatisticalFields=e=>{const t=[];return this._scaleSpecMap.forEach((i,o)=>{Rg(i.domain)&&i.domain.forEach(o=>{o.dataId===e&&o.fields.forEach(e=>{kL(t,[{key:e,operations:f_(i.type)?["max","min"]:["values"]}])})})}),this._markAttributeScaleMap.forEach((i,o)=>{const l=this.getScale(o);i.forEach(i=>{this._getSeriesBySeriesId(i.seriesId).getRawData().name===e&&i.field&&kL(t,[{key:i.field,operations:f_(l.type)?["max","min"]:["values"]}])})}),t},this._spec=e,this._chart=t,this._setAttrFromSpec()}_createFromSpec(e){if(!e.id)return null;let t=this._scaleMap.get(e.id);return t||(t="ordinal"===e.type&&"color"===e.id?hw("colorOrdinal"):hw(e.type)),t?(bu(e.range)&&t.range(e.range),bu(e.domain)&&(Rg(e.domain)||t.domain(e.domain)),e.specified&&t.specified&&t.specified(e.specified),e.clamp&&t.clamp&&t.clamp(e.clamp),t):null}_setAttrFromSpec(){var e;if(!(null===(e=this._spec)||void 0===e?void 0:e.length))return;const t=new Map,i=new Map;this._spec.forEach(e=>{const o=this._createFromSpec(e);o&&(t.set(e.id,o),i.set(e.id,e))}),this._modelScaleSpecMap.forEach(e=>{const o=this._createFromSpec(e);o&&(t.set(e.id,o),i.set(e.id,e))}),this._scaleSpecMap=i,this._scaleMap=t}updateSpec(e){const t={change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1};if(Ru(e,this._spec))return t;t.change=!0;for(let i=0;i<e.length;i++){const o=e[i],l=this._scaleMap.get(o.id);if(!l)return t.reMake=!0,t;const n=this._spec.find(e=>e.id===o.id);if(!n.id)return t.reMake=!0,t;if(n.type!==o.type)return t.reMake=!0,t;if(!Ru(n.specified,o.specified))return t.reMake=!0,t;o.range&&!Ru(o.range,l.range())&&(l.range(o.range),t.reRender=!0),Rg(o.domain)?t.reRender=!0:Ru(o.domain,l.domain())||(l.domain(o.domain),t.reRender=!0),this._scaleSpecMap.set(o.id,o)}return this._spec=e,t}registerModelScale(e){const t=this._createFromSpec(e);t&&(this._modelScaleSpecMap.set(e.id,e),this._scaleSpecMap.set(e.id,e),this._scaleMap.set(e.id,t))}removeModelScale(e){this._modelScaleSpecMap.forEach(t=>{e(t)&&(this._modelScaleSpecMap.delete(t.id),this._scaleSpecMap.delete(t.id),this._scaleMap.delete(t.id))})}getScale(e){return this._scaleMap.get(e)}getScaleSpec(e){return this._scaleSpecMap.get(e)}_getSeriesByRawDataId(e){const t=this._chart.getAllSeries();for(let i=0;i<t.length;i++){const o=t[i];if(o.getRawData().name===e)return o}return null}_getSeriesBySeriesId(e){const t=this._chart.getAllSeries();for(let i=0;i<t.length;i++){const o=t[i];if(o.id===e)return o}return null}updateScaleDomain(e){this._scaleSpecMap.forEach((t,i)=>{const o=this._scaleMap.get(i);if(!o)return;if(!Rg(t.domain))return t.domain&&0!==t.domain.length||o.domain(e),void this._updateMarkScale(i,o,o.domain().slice());let l;l=f_(t.type)?[null,null]:new Set,t.domain.forEach(e=>{const i=this._getSeriesByRawDataId(e.dataId);if(!i)return;const o=f_(t.type);e.fields.forEach(e=>{const t=i.getRawDataStatisticsByField(e,o);t&&(o?(yu(l[0])?l[0]=t.min:l[0]=Math.min(t.min,l[0]),yu(l[1])?l[1]=t.max:l[1]=Math.max(t.max,l[1])):t.values.forEach(e=>{l.add(e)}))})});const n=l;f_(t.type)||(l=Array.from(l)),o.domain(l),this._updateMarkScale(i,o,n)})}_updateMarkScale(e,t,i){const o=this._markAttributeScaleMap.get(e);o&&0!==o.length&&o.forEach(e=>{if(!e.field||!e.markScale||e.markScale===t)return;if(yu(e.changeDomain)||"none"===e.changeDomain||yu(e.seriesId))return void(f_(t.type)?e.markScale.domain(i):t.domain(Array.from(i)));const o=this._getSeriesBySeriesId(e.seriesId),l=f_(t.type),n=o.getRawDataStatisticsByField(e.field,l);if(!wu(n))return"expand"===e.changeDomain?(l?(i[0]=Math.min(i[0],n.min),i[1]=Math.max(i[1],n.max)):(n.values.forEach(e=>{i.add(e)}),i=Array.from(i)),void e.markScale.domain(i)):void("replace"!==e.changeDomain||(l?e.markScale.domain([n.min,n.max]):e.markScale.domain(n.values)));f_(t.type)?e.markScale.domain(i):t.domain(Array.from(i))})}registerMarkAttributeScale(e,t){const i=this._scaleMap.get(e.scale);let o=this._markAttributeScaleMap.get(e.scale);o||(o=[],this._markAttributeScaleMap.set(e.scale,o));let l=i;return(yu(e.field)||!yu(e.changeDomain)&&"none"!==e.changeDomain&&!yu(t))&&(l=i.clone()),o.push(Object.assign(Object.assign({},e),{seriesId:t,markScale:l})),l}}class Zz{constructor(){this._stateGraphicsByTrigger=new Map,this._disableTriggerEvent=!1,this._triggerMapByState=new Map}setDisableActiveEffect(e){this._disableTriggerEvent=e}addTrigger(e){e&&[e.getStartState(),e.getResetState()].forEach(t=>{if(t){const i=this._triggerMapByState.get(t);i?!i.includes(e)&&i.push(e):this._triggerMapByState.set(t,[e])}})}setStatedGraphics(e,t){this._stateGraphicsByTrigger.set(e,t)}getStatedGraphics(e){return this._stateGraphicsByTrigger.get(e)}updateStates(e,t,i,o,l){return this._disableTriggerEvent?[]:t&&t.length?(o&&l?i&&i.length?(this.toggleReverseStateOfGraphics(e,t,i,l),this.toggleStateOfGraphics(e,t,i,o)):this.addBothStateOfGraphics(e,t,o,l):o&&(i&&i.length?this.toggleStateOfGraphics(e,t,i,o):this.addStateOfGraphics(e,t,o)),t):[]}toggleReverseStateOfGraphics(e,t,i,o){const l=e.getMarkIdByState();i.forEach(e=>{var t;if(o&&l[o]&&l[o].includes(e.context.markId)){const i=null===(t=e.parent)||void 0===t?void 0:t.mark,l=i.hasAnimationByState&&i.hasAnimationByState("state");e.addState(o,!0,l)}}),t.forEach(e=>{var t;if(o&&l[o]&&l[o].includes(e.context.markId)){const i=null===(t=e.parent)||void 0===t?void 0:t.mark,l=i.hasAnimationByState&&i.hasAnimationByState("state");e.removeState(o,l)}})}toggleStateOfGraphics(e,t,i,o){const l=e.getMarkIdByState();i.forEach(e=>{var t;if(o&&l[o]&&l[o].includes(e.context.markId)){const i=null===(t=e.parent)||void 0===t?void 0:t.mark,l=i.hasAnimationByState&&i.hasAnimationByState("state");e.removeState(o,l)}}),t.forEach(e=>{var t;if(o&&l[o]&&l[o].includes(e.context.markId)){const i=null===(t=e.parent)||void 0===t?void 0:t.mark,l=i.hasAnimationByState&&i.hasAnimationByState("state");e.addState(o,!0,l)}})}addBothStateOfGraphics(e,t,i,o){const l=e.getMarks(),n=e.getMarkIdByState();l.forEach(e=>{var l;const r=o&&n[o]&&n[o].includes(e.id),a=i&&n[i]&&n[i].includes(e.id);if(!r&&!a)return;const s=e.hasAnimationByState&&e.hasAnimationByState("state");null===(l=e.getGraphics())||void 0===l||l.forEach(e=>{t&&t.includes(e)?a&&e.addState(i,!0,s):r&&e.addState(o,!0,s)})})}addStateOfGraphics(e,t,i){const o=e.getMarks(),l=e.getMarkIdByState();o.forEach(e=>{var o;const n=i&&l[i]&&l[i].includes(e.id);if(!n)return;const r=e.hasAnimationByState&&e.hasAnimationByState("state");null===(o=e.getGraphics())||void 0===o||o.forEach(e=>{t&&t.includes(e)&&n&&e.addState(i,!0,r)})})}clearAllStatesOfTrigger(e,t,i){if(this._disableTriggerEvent)return;const o=this.getStatedGraphics(e);if(!o||!o.length)return;const l=e.getMarks(),n=e.getMarkIdByState();l.forEach(e=>{if(e){const l=e.getGraphics(),r=e.hasAnimationByState&&e.hasAnimationByState("state");l&&l.length&&(i&&n[i]&&n[i].includes(e.id)&&l.forEach(e=>{e.removeState(i,r)}),t&&n[t]&&n[t].includes(e.id)&&l.forEach(e=>{o.includes(e)&&e.removeState(t,r)}))}})}clearAllStates(){this._disableTriggerEvent||this._triggerMapByState.forEach((e,t)=>{e.forEach(e=>{this.clearAllStatesOfTrigger(e,t,e.getResetState())})})}clearByState(e){if(this._disableTriggerEvent)return;const t=this._triggerMapByState.get(e);t&&t.length&&t.forEach(t=>{this.clearAllStatesOfTrigger(t,e,t.getResetState()),this.setStatedGraphics(t,[])})}updateStateOfGraphics(e,t){if(this._disableTriggerEvent)return;const i=this._triggerMapByState.get(e);i&&i.length&&i.forEach(e=>{const i=t.filter(t=>e.getMarks().some(e=>{const i=e&&e.getGraphics();return i&&i.includes(t)}));this.updateStates(e,i,this.getStatedGraphics(e),e.getStartState(),e.getResetState()),this.setStatedGraphics(e,i)})}}var Xz=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class $z extends uF{getSpec(){return this._spec}setSpec(e){this._spec=e}getOption(){return this._option}getLayoutRect(){return this._layoutRect}getViewRect(){return this._viewRect}getLayoutTag(){return this._layoutTag}setLayoutTag(e,t,i=!0){this._layoutTag=e;const o=this.getCompiler();return o&&(o.updateLayoutTag(),e&&i&&o.renderNextTick(t)),this._layoutTag}resetLayoutItemTag(){this.getLayoutElements().forEach(e=>e.setWillLayoutTag())}getModelOption(){return this._modelOption}getGlobalScale(){return this._globalScale}getEvent(){return this._event}get chartData(){return this._chartData}_setModelOption(){}constructor(e,t){var i,o,l;super(t),this.type="chart",this.id=Og(),this._regions=[],this._series=[],this._components=[],this._layoutRect={x:0,y:0,width:Qw,height:eL},this._viewRect={width:Qw,height:eL},this._viewBox={x1:0,y1:0,x2:Qw,y2:eL},this._layoutTag=!0,this._idMap=new Map,this.state={layoutUpdateRank:1},this.padding={top:0,left:0,right:0,bottom:0},this.getAllSeries=()=>{var e;return null!==(e=this._series)&&void 0!==e?e:[]},this.getRegionsInIndex=e=>e&&0!==e.length?this._regions.filter((t,i)=>e.includes(i)):[this._regions[0]],this.getAllRegions=()=>this._regions,this.getRegionsInIds=e=>e?this._regions.filter(t=>e.includes(t.id)):[],this.getRegionsInQuerier=e=>e?this._regions.filter((t,i)=>Eu(e).some(e=>uu(e.regionId)&&e.regionId===t.userId||e.regionIndex===i)):this._regions,this.getRegionsInUserId=e=>{if(e)return this._regions.find(t=>t.userId===e)},this.getRegionsInUserIdOrIndex=(e,t)=>this.getAllRegions().filter(i=>(null==e?void 0:e.length)?i.userId&&e.includes(i.userId):!(null==t?void 0:t.length)||t.includes(i.getSpecIndex())),this.getComponents=()=>this._components,this.getSeriesInIndex=e=>e&&0!==e.length?this._series.filter((t,i)=>e.includes(i)):[this._series[0]],this.getSeriesInIds=e=>e?this._series.filter(t=>e.includes(t.id)):[],this.getSeriesInUserId=e=>{if(e)return this._series.find(t=>t.userId===e)},this.getSeriesInUserIdOrIndex=(e,t)=>this.getAllSeries().filter(i=>(null==e?void 0:e.length)?i.userId&&e.includes(i.userId):!(null==t?void 0:t.length)||t.includes(i.getSpecIndex())),this.getComponentByIndex=(e,t)=>{const i=this._components.filter(t=>(t.specKey||t.type)===e);if(i&&0!==i.length)return i[t]},this.getComponentsByKey=e=>this._components.filter(t=>(t.specKey||t.type)===e),this.getComponentByUserId=e=>{const t=this._components.find(t=>t.userId===e);if(t)return t},this.getComponentsByType=e=>this._components.filter(t=>t.type===e),this._paddingSpec=fw(null!==(i=e.padding)&&void 0!==i?i:t.getTheme("padding")),this._event=new BL(t.eventDispatcher,t.mode),this._dataSet=t.dataSet,this._chartData=new Vz(this._dataSet),this._modelOption=Object.assign(Object.assign({},t),{mode:this._option.mode,map:this._idMap,getChartLayoutRect:()=>this._layoutRect,getChartViewRect:()=>this._viewRect,getChart:()=>this,globalScale:this._globalScale,onError:null===(o=this._option)||void 0===o?void 0:o.onError,disableTriggerEvent:!0===(null===(l=this._option)||void 0===l?void 0:l.disableTriggerEvent),getSeriesData:this._chartData.getSeriesData.bind(this._chartData),dispatchEvent:(e,t)=>this._option.globalInstance.event.emit(e,t)}),this._setModelOption&&this._setModelOption(),this._spec=e}created(e){this._chartData.parseData(this._spec.data),this._createGlobalScale(),this._createBackground(),this._createLayout(),e.forEachRegionInSpec(this._spec,this._createRegion.bind(this)),e.forEachSeriesInSpec(this._spec,this._createSeries.bind(this)),e.forEachComponentInSpec(this._spec,this._createComponent.bind(this),this._option.getSpecInfo())}_initInteractions(){if(this._option.disableTriggerEvent)return;this._interaction=new Zz;const e=this.getAllSeries(),t=[],i={};e.forEach(e=>{const o=e.getInteractionTriggers();if(o&&o.length){const l=e.getRegion().id;o.forEach(({trigger:e,marks:o})=>{const n=`${l}-${e.type}`;i[n]?o.forEach(e=>{i[n].marks.push(e)}):(i[n]=Object.assign(Object.assign({},e),{marks:o}),t.push(i[n]))})}}),t.forEach(e=>{const t=Ow.createInteractionTrigger(e.type,Object.assign(Object.assign({},e),{event:this._event,interaction:this._interaction}));t&&(t.init(),this._interaction.addTrigger(t))})}init(){var e,t;null===(e=this._beforeInit)||void 0===e||e.call(this),this._regions.forEach(e=>e.init({})),this._series.forEach(e=>e.init({})),this._components.forEach(e=>e.init({dataSet:this._dataSet})),this._initEvent(),null===(t=this._initStack)||void 0===t||t.call(this),this.reDataFlow(),this._initInteractions()}reDataFlow(){this._series.forEach(e=>{var t;return null===(t=e.getRawData())||void 0===t?void 0:t.markRunning()}),this._series.forEach(e=>e.fillData()),this.updateGlobalScaleDomain()}onResize(e,t,i=!0){const o={width:e,height:t};this._canvasRect=o,this._updateLayoutRect(this._option.viewBox),this.resetLayoutItemTag(),this.setLayoutTag(!0,null,i)}updateViewBox(e,t){this._option.viewBox=e,this._updateLayoutRect(e),this.resetLayoutItemTag(),this.setLayoutTag(!0,null,t)}_createBackground(){const e=this._spec.background;if(!e||"object"!=typeof e||uu(e.gradient))return;const t=Mu(e,["x","y","width","height","x1","y1","image"]);t.background=e.image,this._backgroundMark=Ow.createMark("group","chart-background",{model:this,map:this._option.map,getCompiler:this.getCompiler,globalScale:this._globalScale}),this._backgroundMark.created(),this._backgroundMark.setStyle(Object.assign(Object.assign({},t),{x:()=>this._viewBox.x1,y:()=>this._viewBox.y1,width:()=>this._viewBox.x2-this._viewBox.x1,height:()=>this._viewBox.y2-this._viewBox.y1})),this._backgroundMark.setMarkConfig({zIndex:dF.SeriesGroup-2}),this.getCompiler().addRootMark(this._backgroundMark)}_createRegion(e,t){if(!e)return;const{spec:i}=t,o=Xz(t,["spec"]),l=new e(i,Object.assign(Object.assign({},this._modelOption),o));l&&(l.created(),this._regions.push(l))}_createSeries(e,t){if(!e)return;const{spec:i}=t,o=Xz(t,["spec"]);let l;if(uu(i.regionId)?l=this.getRegionsInUserId(i.regionId):uu(i.regionIndex)&&(l=this.getRegionsInIndex([i.regionIndex])[0]),!l&&!(l=this._regions[0]))return;const n=new e(i,Object.assign(Object.assign(Object.assign({},this._modelOption),o),{type:i.type,region:l,globalScale:this._globalScale,sourceDataList:this._chartData.dataList}));n&&(n.created(),this._series.push(n),l.addSeries(n))}getSeriesById(e){return this._series.find(t=>t.id===e)}_createComponent(e,t){const i=e.createComponent(t,Object.assign(Object.assign({},this._modelOption),{type:e.type,getAllRegions:this.getAllRegions,getRegionsInIndex:this.getRegionsInIndex,getRegionsInIds:this.getRegionsInIds,getRegionsInUserIdOrIndex:this.getRegionsInUserIdOrIndex,getAllSeries:this.getAllSeries,getSeriesInIndex:this.getSeriesInIndex,getSeriesInIds:this.getSeriesInIds,getSeriesInUserIdOrIndex:this.getSeriesInUserIdOrIndex,getAllComponents:this.getComponents,getComponentByIndex:this.getComponentByIndex,getComponentByUserId:this.getComponentByUserId,getComponentsByKey:this.getComponentsByKey,getComponentsByType:this.getComponentsByType}));i&&(i.created(),this._components.push(i))}getAllComponents(){return this._components}getAllModels(){return[].concat(this.getAllSeries(),this.getAllComponents(),this.getAllRegions())}getModelInFilter(e){if(mu(e))return this.getAllModels().find(t=>t.userId===e);if(pu(e))return this.getAllModels().find(t=>e(t));let t=0;return this.getAllModels().find(i=>{var o;if((null!==(o=i.specKey)&&void 0!==o?o:i.type)===e.type){if(t===e.index)return!0;t++}return!1})}_createLayout(){this._updateLayoutRect(this._option.viewBox),this._initLayoutFunc()}setLayout(e){this._option.layout=e,this._initLayoutFunc()}_initLayoutFunc(){var e,t,i;if(this._layoutFunc=this._option.layout,!this._layoutFunc){const o=Ow.getLayoutInKey(null!==(t=null===(e=this._spec.layout)||void 0===e?void 0:e.type)&&void 0!==t?t:"base");if(o){const e=new o(this._spec.layout,{onError:null===(i=this._option)||void 0===i?void 0:i.onError});this._layoutFunc=e.layoutItems.bind(e)}}}layout(){var e,t,i,o;if(null===(t=null===(e=this._option.performanceHook)||void 0===e?void 0:e.beforeLayoutWithSceneGraph)||void 0===t||t.call(e,this._option.globalInstance),this.getLayoutTag()){this._event.emit(WL.layoutStart,{chart:this,vchart:this._option.globalInstance}),this.onLayoutStart();const e=this.getLayoutElements();this._layoutFunc(this,e,this._layoutRect,this._viewBox),this._event.emit(WL.afterLayout,{elements:e,chart:this}),this.setLayoutTag(!1),this.onLayoutEnd(),this._event.emit(WL.layoutEnd,{chart:this,vchart:this._option.globalInstance})}null===(o=null===(i=this._option.performanceHook)||void 0===i?void 0:i.afterLayoutWithSceneGraph)||void 0===o||o.call(i,this._option.globalInstance)}onLayoutStart(){this.getAllModels().forEach(e=>e.onLayoutStart(this._layoutRect,this._viewRect))}onLayoutEnd(){this.getAllModels().forEach(e=>{"series"!==e.modelType&&e.onLayoutEnd()})}onEvaluateEnd(e){[...this._components,...this._regions,...this._series].forEach(t=>t.onEvaluateEnd(e))}onBeforeRender(){[...this._components,...this._regions,...this._series].forEach(e=>e.onBeforeRender())}getLayoutElements(){return this.getAllModels().map(e=>e.layout).filter(e=>!!e)}getModelById(e){const t=this._idMap.get(e);if(t&&t instanceof vF)return t}getModelByUserId(e){const t=this.getSeriesInUserId(e);if(t)return t;const i=this.getRegionsInUserId(e);if(i)return i;return this.getComponentByUserId(e)||void 0}getAllMarks(){return Array.from(this._idMap.values()).filter(e=>e&&e instanceof YF)}getMarkById(e){const t=this._idMap.get(e);if(t&&t instanceof YF)return t}getMarkByUserName(e){return this.getAllMarks().filter(t=>t.name&&t.name===e)}updateData(e,t,i=!0,o){const l=this._dataSet.getDataView(e);l&&(l.markRunning(),l.parseNewData(t,o)),i&&this.updateGlobalScaleDomain(),this.getAllModels().forEach(e=>e.onDataUpdate())}updateFullData(e,t=!0){Eu(e).forEach(e=>{const t=this._dataSet.getDataView(e.id);t&&t.markRunning()}),Eu(e).forEach(e=>{const t=this._dataSet.getDataView(e.id);t&&XL(t,e,!0)}),t&&this.updateGlobalScaleDomain(),this.getAllModels().forEach(e=>e.onDataUpdate())}setCanvasRect(e,t){this._canvasRect={width:e,height:t}}getCanvasRect(){return this._canvasRect||(this._canvasRect=sF(this._spec,this._option,{width:Qw,height:eL})),this._canvasRect}getSeriesData(e,t){return this._chartData.getSeriesData(e,t)}_transformSpecScale(){var e;const t=this._spec.scales?[...this._spec.scales]:[];let i=t.find(e=>"color"===e.id);const o=this.getColorScheme();if(!i&&(i={type:"ordinal",id:"color",domain:null,range:null},t.push(i),this._spec.color)){const e=this._spec.color;if(bu(e))i.range=e;else{const t=e;Object.prototype.hasOwnProperty.call(t,"type")&&(i.type=t.type),Object.prototype.hasOwnProperty.call(t,"domain")&&(i.domain=t.domain),Object.prototype.hasOwnProperty.call(t,"range")&&(i.range=t.range),Object.prototype.hasOwnProperty.call(t,"specified")&&(i.specified=t.specified),Object.prototype.hasOwnProperty.call(t,"clamp")&&(i.clamp=t.clamp)}}return(null===(e=i.range)||void 0===e?void 0:e.length)||(i.range=ew(o),i.rangeTheme=!0),t}_createGlobalScale(){this._globalScale=new Yz(this._transformSpecScale(),this),this._modelOption.globalScale=this._globalScale}updateGlobalScaleDomain(){const e=new Set;this._series.forEach(t=>{const i=t.getSeriesKeys();i&&i.forEach(t=>e.add(t))});const t=Array.from(e);this._globalScale.updateScaleDomain(t)}updateGlobalScale(e){hF(e,this._globalScale.updateSpec(this._transformSpecScale()))}updateGlobalScaleTheme(){const e=this._globalScale.getScaleSpec("color"),t=this.getColorScheme();e.rangeTheme&&(e.range=ew(t),this._globalScale.getScale("color").range(e.range))}_getSpecKeys(e){const t={width:!0,height:!0};return Object.keys(e).filter(e=>!t[e]).sort()}updateSpec(e){const t={change:!1,reMake:!1,reRender:!1,reSize:!1,reCompile:!1};if(this.setLayoutTag(!0,null,!1),e.type!==this.type)return t.reMake=!0,t;const i=this._getSpecKeys(this._spec);if(!Ru(i,this._getSpecKeys(e)))return t.reMake=!0,t;for(let l=0;l<i.length;l++){const o=i[l];if(bu(this._spec[o])&&this._spec[o].length!==Eu(e[o]).length)return t.reMake=!0,t}const o=this._spec;return this._spec=e,this.updateChartConfig(t,o),t.reMake||(this.updateGlobalScale(t),t.reMake||(this.updateRegionSpec(t),t.reMake||(this.updateComponentSpec(t),t.reMake||(this.updateSeriesSpec(t),t.reMake||(this.reInit(),this.updateDataSpec(),this.updateGlobalScaleDomain()))))),t}updateChartConfig(e,t){var i,o;this._paddingSpec=fw(null!==(i=this._spec.padding)&&void 0!==i?i:null===(o=this._option)||void 0===o?void 0:o.getTheme("padding")),this._updateLayoutRect(this._viewBox)}updateDataSpec(){this._spec.data&&this._chartData.updateData(this._spec.data,!1,!0)}updateRegionSpec(e){var t;(null===(t=this._spec)||void 0===t?void 0:t.region)&&(this._spec.region.length===this._regions.length?this._regions.forEach(t=>{hF(e,t.updateSpec(this._spec.region[t.getSpecIndex()]))}):e.reMake=!0)}updateComponentSpec(e){const t={},i={[r.title]:!0,[r.brush]:!0,[r.indicator]:!0};this._components.forEach(o=>{var l,n;if(o.type===r.label||o.type===r.totalLabel)return;i[o.type]&&(i[o.type]=!1);const a=o.specKey||o.type,s=null!==(l=this._spec[a])&&void 0!==l?l:{};bu(s)?(t[a]=t[a]||{specCount:s.length,componentCount:0},t[a].componentCount++,hF(e,o.updateSpec(null!==(n=s[o.getSpecIndex()])&&void 0!==n?n:{},s))):hF(e,o.updateSpec(s))});for(const l in t)if(Object.prototype.hasOwnProperty.call(t,l)){const i=t[l];i.componentCount!==i.specCount&&(e.reMake=!0)}const o=e=>e&&!1!==e.visible;Object.keys(i).forEach(t=>{if(i[t]){const i=this._spec[t];(bu(i)?i.some(o):o(i))&&(e.reMake=!0)}})}updateSeriesSpec(e){this._spec.series.length===this._series.length?this._series.forEach(t=>{const i=this._spec.series[t.getSpecIndex()];hF(e,t.updateSpec(i))}):e.reMake=!0}getCanvas(){var e,t;return null!==(t=null===(e=this.getCompiler())||void 0===e?void 0:e.getCanvas())&&void 0!==t?t:null}_updateLayoutRect(e){let t=this.getCanvasRect();if(e){this._viewBox=e;const{x1:i=0,y1:o=0,x2:l,y2:n}=e;t={width:l-i,height:n-o}}else this._viewBox={x1:0,y1:0,x2:t.width,y2:t.height};this._viewRect=t,this.padding=gw(this._paddingSpec,t,t),this._layoutRect.width=t.width-this.padding.left-this.padding.right,this._layoutRect.height=t.height-this.padding.top-this.padding.bottom,this._layoutRect.x=this.padding.left,this._layoutRect.y=this.padding.top,this._event.emit(WL.layoutRectUpdate,{chart:this})}setCurrentTheme(){this.updateChartConfig({change:!0,reMake:!1},this._spec),this.resetLayoutItemTag(),this.setLayoutTag(!0,null,!1),this.updateGlobalScaleTheme(),this.reInit()}reInit(){[...this._regions,...this._series,...this._components].forEach(e=>{const t=e.getSpecInfo();t&&t.spec&&e.reInit(t.spec)})}clear(){this.getAllModels().forEach(e=>{var t;return null===(t=e.clear)||void 0===t?void 0:t.call(e)})}compile(){this.compileBackground(),this.compileLayout(),this.compileRegions(),this.compileSeries(),this.compileComponents()}afterCompile(){this.getAllRegions().forEach(e=>{var t;null===(t=e.afterCompile)||void 0===t||t.call(e)}),this.getAllSeries().forEach(e=>{var t;null===(t=e.afterCompile)||void 0===t||t.call(e)}),this.getAllComponents().forEach(e=>{var t;null===(t=e.afterCompile)||void 0===t||t.call(e)})}compileLayout(){const{width:e,height:t}=this.getCanvasRect();this.getCompiler().setSize(e,t)}compileBackground(){this._backgroundMark&&this._backgroundMark.compile()}compileRegions(){var e,t,i,o;null===(t=null===(e=this._option.performanceHook)||void 0===e?void 0:e.beforeRegionCompile)||void 0===t||t.call(e,this._option.globalInstance),this.getAllRegions().forEach(e=>{e.compile()}),null===(o=null===(i=this._option.performanceHook)||void 0===i?void 0:i.afterRegionCompile)||void 0===o||o.call(i,this._option.globalInstance)}compileSeries(){var e,t,i,o;null===(t=null===(e=this._option.performanceHook)||void 0===e?void 0:e.beforeSeriesCompile)||void 0===t||t.call(e,this._option.globalInstance),this.getAllSeries().forEach(e=>{e.compile()}),null===(o=null===(i=this._option.performanceHook)||void 0===i?void 0:i.afterSeriesCompile)||void 0===o||o.call(i,this._option.globalInstance)}compileComponents(){var e,t,i,o;null===(t=null===(e=this._option.performanceHook)||void 0===e?void 0:e.beforeComponentCompile)||void 0===t||t.call(e,this._option.globalInstance),this.getAllComponents().forEach(e=>{e.compile()}),null===(o=null===(i=this._option.performanceHook)||void 0===i?void 0:i.afterComponentCompile)||void 0===o||o.call(i,this._option.globalInstance)}release(){[...this._components,...this._regions,...this._series].forEach(e=>{e.beforeRelease()}),super.release(),this.clear(),[...this._components,...this._regions,...this._series].forEach(e=>{e.release()}),this._components=this._regions=this._series=[],this._spec={},this._dataSet=this._globalScale=this._layoutFunc=null,this._layoutTag=!1,this._idMap.clear()}onLayout(){this.layout()}updateState(e,t){const i=this.getAllSeries();for(const o in e){if(wu(e[o]))continue;const l=e[o];let n={stateValue:o};n=pu(l.filter)?Object.assign({filter:l.filter},n):Object.assign(Object.assign({},l.filter),n),l.level&&(n.level=l.level),i.forEach(e=>{e.getMarks().forEach(i=>{i.stateStyle[o]&&(t&&!t(e,i,o)||(i.state.changeStateInfo(n),i.updateMarkState(o)))})})}}setSelected(e,t,i){this._setStateInDatum(kF.STATE_SELECTED,e,t,i)}setHovered(e,t,i){this._setStateInDatum(kF.STATE_HOVER,e,t,i)}clearState(e){this._interaction.clearByState(e)}clearAllStates(){this._interaction.clearAllStates()}clearSelected(){this.clearState(kF.STATE_SELECTED)}clearHovered(){this.clearState(kF.STATE_HOVER)}_initEvent(){[WL.dataZoomChange,WL.scrollBarChange].forEach(e=>{this._event.on(e,({value:e})=>{this._disableMarkAnimation(["exit","update"]);const t=()=>{this._enableMarkAnimation(["exit","update"]),this._event.off(ML.AFTER_MARK_RENDER_END,t)};this._event.on(ML.AFTER_MARK_RENDER_END,t)})})}_enableMarkAnimation(e){this.getAllMarks().forEach(t=>t.enableAnimationByState(e))}_disableMarkAnimation(e){this.getAllMarks().forEach(t=>t.disableAnimationByState(e))}filterGraphicsByDatum(e,t={}){var i;const o=(e=e?Eu(e):null)?Object.keys(e[0]):null,l=[],n=null!==(i=t.getDatum)&&void 0!==i?i:AL;return this.getRegionsInQuerier(t.region).forEach(i=>{const r=[];e&&i.getSeries().forEach(a=>{a.getMarks().forEach(s=>{const h=s.getGraphics();if(h&&h.length&&(!t.filter||pu(t.filter)&&t.filter(a,s)))if((e=>"line"===e||"area"===e)(s.type))h.filter(h=>{const d=n(h,s,a,i);d&&e.every((e,t)=>o.every(i=>e[i]==d[t][i]))&&(r.push(h),l.push(h),t.callback&&t.callback(h,s,a,i))});else if(e.length>1){const d=e.slice();h.forEach(e=>{const h=n(e,s,a,i),c=h&&d.findIndex(e=>o.every(t=>e[t]==h[t]));c>=0&&(d.splice(c,1),r.push(e),l.push(e),t.callback&&t.callback(e,s,a,i))})}else{const d=h.find(t=>{const l=n(t,s,a,i);return l&&o.every(t=>e[0][t]==l[t])});d&&(r.push(d),l.push(d),t.callback&&t.callback(d,s,a,i))}})}),t.regionCallback&&t.regionCallback(r,i)}),l}_setStateInDatum(e,t,i,o){if(!t)return void this._interaction.clearByState(e);const l=this.filterGraphicsByDatum(t,{filter:i,region:o});this._interaction.updateStateOfGraphics(e,l)}setDimensionIndex(e,t){var i,o;let l=null;Array.from(this._event.getComposedEventMap().values()).forEach(i=>{const{eventType:o,event:n}=i;if(o===kA.dimensionHover||o===kA.dimensionClick){const i=n.dispatch(e,t);(null==i?void 0:i.length)&&(l=i)}});const n=yu(e)||!l||l.every(e=>m_(e.axis.getScale().type)&&yu(e.index));if(!1!==t.tooltip){const e=this.getComponentsByType(r.tooltip)[0];if(null==e?void 0:e.getVisible())if(n)null===(o=(i=e).hideTooltip)||void 0===o||o.call(i);else{const i={};l.forEach(e=>{const{axis:t,value:o,data:l}=e,n="left"===t.getOrient()||"right"===t.getOrient();l.forEach(e=>{var t,l,r;const a=n?e.series.fieldY[0]:e.series.fieldX[0];i[a]=null!==(r=null===(l=null===(t=e.datum)||void 0===t?void 0:t[0])||void 0===l?void 0:l[a])&&void 0!==r?r:o})}),e.showTooltip(i,t.showTooltipOption)}}if(!1!==t.crosshair){const e=this.getComponentsByType(r.cartesianCrosshair)[0];e&&e.clearAxisValue&&e.setAxisValue&&(n?e.hideCrosshair():e.showCrosshair(l))}}getColorScheme(){var e,t;return null===(t=(e=this._option).getTheme)||void 0===t?void 0:t.call(e,"colorScheme")}}const Kz=(e,t)=>{var i;const o=e.spec,{regionId:l,regionIndex:n}=o;if(uu(l)){const e=Eu(l);return null===(i=t.region)||void 0===i?void 0:i.filter(({spec:t})=>e.includes(t.id))}if(uu(n))return Eu(n).map(e=>{var i;return null===(i=t.region)||void 0===i?void 0:i[e]}).filter(uu)};class qz{constructor(e){this._option=e,this.type=e.type,this.seriesType=e.seriesType}initChartSpec(e){return this.transformSpec(e),this.transformModelSpec(e)}transformSpec(e){e.region&&0!==e.region.length||(e.region=[{}]),void 0===e.tooltip&&(e.tooltip={}),uu(e.stackInverse)&&e.region.forEach(t=>{!uu(t.stackInverse)&&(t.stackInverse=e.stackInverse)}),uu(e.stackSort)&&e.region.forEach(t=>{!uu(t.stackSort)&&(t.stackSort=e.stackSort)})}generateTransform(e,t){return(i,o,l)=>{const{spec:n,specPath:r,specInfoPath:a,type:s}=o,h=new i.transformerConstructor(Object.assign(Object.assign({},this._option),{type:s})),d=h.transformSpec(n,e,l),c=Object.assign(Object.assign({},o),d);t?c.theme=h.getTheme(n,e):Bw(e,r,d.spec),Bw(l,null!=a?a:r,c)}}transformModelSpec(e){return this.createSpecInfo(e,this.generateTransform(e,!1))}createSpecInfo(e,t){var i,o;t||(t=this.generateTransform(e,!0));const l={};return this.forEachRegionInSpec(e,t,l),this.forEachSeriesInSpec(e,t,l),null===(i=l.series)||void 0===i||i.forEach((e,t)=>{var i,o;const n=(null!==(o=null!==(i=Kz(e,l))&&void 0!==i?i:l.region)&&void 0!==o?o:[])[0];n&&(n.seriesIndexes||(n.seriesIndexes=[]),n.seriesIndexes.push(t),e.regionIndexes=n.regionIndexes.slice())}),this.forEachComponentInSpec(e,t,l),Object.values(null!==(o=l.component)&&void 0!==o?o:{}).forEach(e=>e.forEach((e,t)=>{var i,o,n;if(e){if(!e.regionIndexes){const t=null!==(o=null!==(i=Kz(e,l))&&void 0!==i?i:l.region)&&void 0!==o?o:[];e.regionIndexes=t.map(e=>e.regionIndexes[0])}if(!e.seriesIndexes){const t=((e,t)=>{var i;const o=e.spec,{seriesId:l,seriesIndex:n}=o;if(uu(l)){const e=Eu(l);return null===(i=t.series)||void 0===i?void 0:i.filter(({spec:t})=>e.includes(t.id))}if(uu(n))return Eu(n).map(e=>{var i;return null===(i=t.series)||void 0===i?void 0:i[e]}).filter(uu)})(e,l);if(t)e.seriesIndexes=t.map(({seriesIndexes:e})=>e[0]);else{const t=new Set;(null!==(n=e.regionIndexes)&&void 0!==n?n:[]).forEach(e=>{var i,o;const n=null===(i=l.region)||void 0===i?void 0:i[e];null===(o=null==n?void 0:n.seriesIndexes)||void 0===o||o.forEach(e=>t.add(e))}),e.seriesIndexes=Array.from(t)}}}})),l}_isValidSeries(e){return!0}_getDefaultSeriesSpec(e,t,i){var o,l,n,r,a;const s={dataKey:e.dataKey,hover:e.hover,select:e.select,label:e.label,seriesStyle:e.seriesStyle,animation:null!==(o=e.animation)&&void 0!==o?o:null===(l=this._option.globalInstance)||void 0===l?void 0:l.isAnimationEnable(),animationThreshold:null!==(n=e.animationThreshold)&&void 0!==n?n:null===(a=(r=this._option).getTheme)||void 0===a?void 0:a.call(r,"animationThreshold"),animationAppear:e.animationAppear,animationDisappear:e.animationDisappear,animationEnter:e.animationEnter,animationUpdate:e.animationUpdate,animationExit:e.animationExit,animationNormal:e.animationNormal,animationState:e.animationState,extensionMark:e.extensionMark,large:e.large,largeThreshold:e.largeThreshold,progressiveStep:e.progressiveStep,progressiveThreshold:e.progressiveThreshold,background:e.seriesBackground,invalidType:e.invalidType,seriesField:e.seriesField,morph:e.morph,interactions:e.interactions},h=this.seriesType;return h&&(s.type=h,s[h]=e[h]),t&&t.length&&t.forEach(t=>{s[t]=e[t]}),i&&i.length&&i.forEach(t=>{s[t]=e[t]}),s}forEachRegionInSpec(e,t,i){var o;return(null!==(o=e.region)&&void 0!==o?o:[]).map((e,o)=>t(Ow.getRegionInType("region"),{spec:e,specPath:["region",o],type:"region",regionIndexes:[o]},i))}forEachSeriesInSpec(e,t,i){var o;return(null!==(o=e.series)&&void 0!==o?o:[]).map((e,o)=>t(Ow.getSeriesInType(e.type),{spec:e,specPath:["series",o],type:e.type,seriesIndexes:[o]},i))}forEachComponentInSpec(e,t,i){var o,l,n;const a=[],s=Ow.getComponents();let h,d,c,p;const y=[];for(let g=0;g<s.length;g++){const{cmp:t,alwaysCheck:i}=s[g];t.type.startsWith(r.cartesianAxis)?h=t:t.type.startsWith(r.polarAxis)?d=t:t.type===r.geoCoordinate?c=t:(i||e[null!==(o=t.specKey)&&void 0!==o?o:t.type])&&(t.type===r.tooltip?p=t:y.push(s[g]))}let u=!1;if(h){const o=h.getSpecInfo(e,i);(null==o?void 0:o.length)>0&&(u=!0,o.forEach(e=>{const o=Ow.getComponentInKey(e.type);a.push(t(o,e,i))}))}if(d&&!u){const o=d.getSpecInfo(e,i);(null==o?void 0:o.length)>0&&(u=!0,o.forEach(e=>{const o=Ow.getComponentInKey(e.type);a.push(t(o,e,i))}))}return c&&!u&&(null===(l=c.getSpecInfo(e,i))||void 0===l||l.forEach(e=>{a.push(t(c,e,i))})),y.sort((e,t)=>e.createOrder-t.createOrder),y.forEach(({cmp:o})=>{var l;null===(l=o.getSpecInfo?o.getSpecInfo(e,i):CT(e,o.specKey,o.type))||void 0===l||l.forEach(e=>{a.push(t(o,e,i))})}),p&&(null===(n=CT(e,p.specKey,p.type))||void 0===n||n.forEach(e=>{a.push(t(p,e,i))})),a}transformSeriesSpec(e){const t=this._getDefaultSeriesSpec(e);e.series&&0!==e.series.length?e.series.forEach(e=>{this._isValidSeries(e.type)&&Object.keys(t).forEach(i=>{i in e||(e[i]=t[i])})}):e.series=[t]}_findBandAxisBySeries(e,t,i){const o="horizontal"===(null==e?void 0:e.direction)?["left","right"]:["top","bottom"];return i.find(i=>{if(!o.includes(i.orient))return!1;if(uu(i.seriesId)){if(Eu(i.seriesId).includes(null==e?void 0:e.id))return!0}else if(uu(i.seriesIndex)){if(Eu(i.seriesIndex).includes(t))return!0}else if("band"===i.type)return!0;return!0})}_applyAxisBandSize(e,t,i){const{barMaxWidth:o,barMinWidth:l,barWidth:n,barGapInGroup:r}=i;let a=!1;Cu(l)?(e.minBandSize=l,a=!0):Cu(n)?(e.minBandSize=n,a=!0):Cu(o)&&(e.minBandSize=o,a=!0),a&&(e.bandSizeLevel=Number.MAX_VALUE,e.bandSizeExtend={extend:t,gap:bu(r)?r[r.length-1]:r})}}class Jz extends qz{needAxes(){return!0}_isValidSeries(e){return!this.seriesType||e===this.seriesType}_getDefaultSeriesSpec(e,t){return super._getDefaultSeriesSpec(e,["xField","yField","zField","direction","stack","percent","stackOffsetSilhouette","totalLabel","sortDataByAxis"],t)}transformSpec(e){super.transformSpec(e),super.transformSeriesSpec(e),this._transformAxisSpec(e)}_setDefaultXAxisSpec(e){return{orient:"bottom"}}_setDefaultYAxisSpec(e){return{orient:"left"}}_setDefaultZAxisSpec(e){return{orient:"z"}}_transformAxisSpec(e){if(this.needAxes()){e.axes||(e.axes=[]);const t={x:!1,y:!1,z:!1};e.axes.forEach(i=>{const{orient:o}=i;let l=null;"top"!==o&&"bottom"!==o||(t.x=!0,l=this._setDefaultXAxisSpec(e)),"left"!==o&&"right"!==o||(t.y=!0,l=this._setDefaultYAxisSpec(e)),"z"===o&&(t.z=!0,l=this._setDefaultZAxisSpec(e)),l&&Object.keys(l).forEach(e=>{yu(i[e])&&(i[e]=l[e])}),Lu(i,"trimPadding")&&Mw(i,function(e,t){return"line"===e||"area"===e||"common"===e&&t.series.every(e=>"area"===e.type||"line"===e.type)?{paddingInner:1,paddingOuter:0}:{paddingOuter:0}}(this.type,e))}),t.x||e.axes.push(this._setDefaultXAxisSpec(e)),t.y||e.axes.push(this._setDefaultYAxisSpec(e)),e.zField&&!t.z&&e.axes.push(this._setDefaultZAxisSpec(e))}}}class Qz extends Jz{_getDefaultSeriesSpec(e){var t;const i=super._getDefaultSeriesSpec(e,["point","line","activePoint","sampling","samplingFactor","pointDis","pointDisMul","markOverlap","lineLabel"]);return i.seriesMark=null!==(t=e.seriesMark)&&void 0!==t?t:"line",i}transformSpec(e){super.transformSpec(e),aF(e)}}const eB=(e,t)=>{const i={nodes:{}},{fields:o}=t;if(!(null==o?void 0:o.length))return i;const l=o.length-1;let n,r,a=i;return e.forEach(e=>{e.latestData&&e.latestData.forEach(e=>{a=i;for(let t=0;t<o.length;t++){const i=o[t],s=e[i];if(yu(s))break;a.groupField=i,a.nodes[s]||(t===l?a.nodes[s]={values:[]}:(n={nodes:{}},a.nodes[s]=n)),t===l?(r=a.nodes[s],r.values.push(e)):a=a.nodes[s]}})}),i};class tB{constructor(e,t){this.stackRegion=({model:e})=>{var t;const i=e.getSeries();if(!i.some(e=>e.getStack()))return;const o=i.some(e=>{var t,i,o,l;return!!(null===(i=null===(t=e.getSpec())||void 0===t?void 0:t.totalLabel)||void 0===i?void 0:i.alwayCalculateTotal)||(null===(l=null===(o=e.getSpec())||void 0===o?void 0:o.totalLabel)||void 0===l?void 0:l.visible)}),l=o||i.some(e=>e.getPercent()),n=i.some(e=>e.getStackOffsetSilhouette()),r=vL(e,!0);for(const a in r)for(const t in r[a].nodes)_L(r[a].nodes[t],e.getStackInverse(),l,o);if(n)for(const a in r)for(const e in r[a].nodes)xL(r[a].nodes[e]);o&&e.getSeries().forEach(e=>{const t=e.getStackData(),i=e.getStackValue(),o=e.getStackValueField();t&&o&&SL(r[i],o)}),(null===(t=this._options)||void 0===t?void 0:t.afterStackRegion)&&this._options.afterStackRegion(e,r)},this._chart=e,this._options=t}init(){this._chart.getAllRegions().forEach(e=>{e.event.on(WL.regionSeriesDataFilterOver,{filter:({model:t})=>(null==t?void 0:t.id)===e.id},this.stackRegion)})}stackAll(){this._chart.getAllRegions().forEach(e=>{this.stackRegion({model:e})})}}class iB{_beforeInit(){this._dataSet&&jL(this._dataSet,"stackSplit",eB)}_initStack(){this._stack=new tB(this),this._stack.init()}}const oB={state:kF.STATE_DIMENSION_HOVER,reverseState:kF.STATE_DIMENSION_HOVER_REVERSE,trigger:kA.dimensionHover};class lB extends hT{constructor(e){super(e),this.type="dimension-hover",this._resetType=[],this.resetAll=()=>{const{state:e,reverseState:t,interaction:i}=this.options,o=i.getStatedGraphics(this);o&&o.length&&(i.clearAllStatesOfTrigger(this,e,t),this.dispatchEvent("reset",{graphics:o,options:this.options}),i.setStatedGraphics(this,[]))},this.handleStart=e=>{const t=this.options.interaction;switch(e.action){case"enter":const i=this.getStatedGraphics(e);t.updateStates(this,this.getStatedGraphics(e),t.getStatedGraphics(this),this.options.state,this.options.reverseState),t.setStatedGraphics(this,i);break;case"leave":t.clearAllStatesOfTrigger(this,this.options.state,this.options.reverseState),t.setStatedGraphics(this,[])}},this.options=Object.assign({},oB,e),this.updateMarkIdByState([this.options.state,this.options.reverseState])}getStartState(){return this.options.state}getResetState(){return this.options.reverseState}getEvents(){return[{type:this.options.trigger,handler:this.handleStart}]}getStatedGraphics(e,t=!1){const i=this.getMarksByState(t?this.options.reverseState:this.options.state),o=[];return e.dimensionInfo.forEach(e=>{e.data.forEach(e=>{i.filter(t=>t.model===e.series&&t.getVisible()).forEach(i=>{const l=i.getGraphics();if(!l||!l.length)return;const n=l.filter(i=>{const o=AL(i);let l;return l=bu(o)?o.every((t,i)=>t===e.datum[i]):e.datum.some(e=>e===o),t?!l:l});o.push(...n)})})}),o}}lB.type="dimension-hover",lB.defaultOptions=oB;const nB=()=>{Ow.registerInteractionTrigger(lB.type,lB)},rB=()=>{Ow.registerComposedEvent(kA.dimensionHover,fA),Ow.registerComposedEvent(kA.dimensionClick,cA)},aB=e=>e.fieldX[0],sB=e=>e.fieldY[0],hB=e=>{var t;return[e.fieldX[0],null!==(t=e.fieldX2)&&void 0!==t?t:e.fieldX[1]]},dB=e=>{var t;return[e.fieldY[0],null!==(t=e.fieldY2)&&void 0!==t?t:e.fieldY[1]]},cB=(e,t)=>e?t?aB:hB:t?sB:dB,pB=(e,t,i)=>{var o,l;if(!e)return null;const{x:n,y:r}=t,a=null!==(o=gA(e,e=>lA(e.getOrient()),t))&&void 0!==o?o:[],s=null!==(l=gA(e,e=>nA(e.getOrient()),t))&&void 0!==l?l:[];if(!a.length&&!s.length)return null;const h=new Set,d=new Set,c=new Set;[a,s].forEach(e=>e.forEach(e=>{m_(e.getScale().type)?h.add(e):d.add(e),i&&e.getSpec().hasDimensionTooltip&&c.add(e)}));const p=[],y=e=>{const t="x"===e,i=t?n:r;(t?a:s).forEach(e=>{if(c.size>0){if(c.has(e)){const o=yB(e,i,cB(t,m_(e.getScale().type)));o&&p.push(o)}}else{const o=h.size>0;if((o?h:d).has(e)){const l=yB(e,i,cB(t,o));l&&p.push(l)}}})};return"horizontal"===e.getSpec().direction?(y("y"),0===p.length&&y("x")):(y("x"),0===p.length&&y("y")),p.length?p:null},yB=(e,t,i)=>{const o=e.positionToData(t,!0);return yu(o)?null:uB(e,o,i)},uB=(e,t,i)=>{const o=e.getScale();if(yu(t))return null;let l=o.domain().findIndex(e=>(null==e?void 0:e.toString())===t.toString());l<0&&(l=void 0);const n=((e,t,i,o)=>{var l;const n=t.getScale(),r=m_(n.type),a=[],s=t.getOption().getChart().getSeriesInIndex(t.getSpecInfo().seriesIndexes);for(const h of s)if(h.coordinate===i){const i=Eu(o(h)),s=null===(l=h.getViewData())||void 0===l?void 0:l.latestData;if(i&&s)if(r){const t=[],o=[];s.forEach((l,n)=>{var r;(null===(r=l[i[0]])||void 0===r?void 0:r.toString())===(null==e?void 0:e.toString())&&(t.push(l),o.push(n))}),a.push({series:h,datum:t,key:uA(h,o)})}else if(uu(i[1])){const t=[],o=[];s.forEach((l,n)=>{var r;((null===(r=l[i[0]])||void 0===r?void 0:r.toString())===(null==e?void 0:e.toString())||uu(l[i[0]])&&uu(l[i[1]])&&e>=l[i[0]]&&e<l[i[1]])&&(t.push(l),o.push(n))}),a.push({series:h,datum:t,key:uA(h,o)})}else{const o=t.getSpec(),l=yA(o,n);let r=[],d=[];if(l)s.forEach((t,o)=>{if(uu(t[i[0]])){const n=t[i[0]]-e;n>=l[0]&&n<=l[1]&&(r.push(t),d.push(o))}});else{let t=1/0,o=0;s.forEach((l,n)=>{if(uu(l[i[0]])){const a=Math.abs(l[i[0]]-e),s=Math.sign(l[i[0]]-e);a<t?(t=a,r=[l],d=[n],o=s):a===t&&s===o&&(r.push(l),d.push(n))}})}a.push({series:h,datum:r,key:uA(h,d)})}}return a})(t,e,"cartesian",null!=i?i:lA(e.getOrient())?aB:sB);return{index:l,value:t,position:o.scale(t),axis:e,data:n}},gB=(e,t,i,o=!1)=>(i||(i={x:0,y:0}),Object.keys(e).forEach(l=>{var n,r,a,s,h,d;const{currentValue:c,cacheInfo:p,labelsComp:y,attributes:u,coordKey:g}=e[l];let f=null,k=0,m=null;if(c.size){const e=Array.from(c.values())[0];k=e.axis.getScale().scale(e.datum)+e.axis.getLayoutStartPoint()[g]-i[g],f=e.axis,m=null===(d=null===(h=null===(s=null===(a=null===(r=null===(n=f.getVRenderComponents()[0])||void 0===n?void 0:n.children[0])||void 0===r?void 0:r.children[0])||void 0===a?void 0:a.children[0])||void 0===s?void 0:s.getChildByName("axis-label-container"))||void 0===h?void 0:h.getChildByName("axis-label-container-layer-0"))||void 0===d?void 0:d.children[0]}const b=!!c.size&&Number.isFinite(k)&&!Number.isNaN(k),v=o&&!b&&uu(p),C=v?p:{coordRange:[0,0],sizeRange:[0,0],coord:k,labelsTextStyle:{},labels:y?Object.keys(y).reduce((e,t)=>(e[t]={visible:!1,text:"",dx:0,dy:0},e),{}):null,visible:b,axis:f,axisLabel:m};let S;C&&(C._isCache=v);let x=0;if(u&&c.forEach(({axis:e,datum:i=""})=>{var o,n,r,a,s,h,d,c,p,y;let g=null;const f=e.getScale();if(m_(f.type))S=f.bandwidth(),0===S&&f.step&&(x=f.step());else if(f_(f.type)){const o="xField"===l?t.fieldX[0]:t.fieldY[0],n="xField"===l?t.fieldX2:t.fieldY2,r=function(e,t,i,o){for(let l=0,n=e.length;l<n;l++){const n=e[l];if(n){const e=n[i],l=n[o||i];if(e<=t&&l>=t)return n}}return null}(t.getViewData().latestData,+i,o,n);if(r){const e="xField"===l?t.dataToPositionX(r):t.dataToPositionY(r);n?(S=Math.abs(e-("xField"===l?t.dataToPositionX1(r):t.dataToPositionY1(r))),i=`${r[o]} ~ ${r[n]}`):S=1,k=e}g=e.niceLabelFormatter}if(C&&(null===(o=u.label)||void 0===o?void 0:o.visible)&&!v){const t=function(e){let t=0;return Lu(e,"tick.visible")&&(t+=Lu(e,"tick.tickSize")),Lu(e,"label.visible")&&(t+=Lu(e,"label.space")),t}(e.getSpec()),o=e.getOrient(),l=null===(n=u.label)||void 0===n?void 0:n.syncAxisLabelAngle;C.labels[o]&&(C.labels[o].visible=!0,C.labels[o].text=i,"left"===o?(C.labels[o].dx=-t,C.labelsTextStyle[o]={textAlign:l&&m&&null!==(r=m.attribute.textAlign)&&void 0!==r?r:"right",textBaseline:l&&m&&null!==(a=m.attribute.textBaseline)&&void 0!==a?a:"middle"}):"right"===o?(C.labels[o].dx=t,C.labelsTextStyle[o]={textAlign:l&&m&&null!==(s=m.attribute.textAlign)&&void 0!==s?s:"left",textBaseline:l&&m&&null!==(h=m.attribute.textBaseline)&&void 0!==h?h:"middle"}):"top"===o?(C.labels[o].y=0,C.labels[o].dy=-t,C.labelsTextStyle[o]={textAlign:l&&m&&null!==(d=m.attribute.textAlign)&&void 0!==d?d:"center",textBaseline:l&&m&&null!==(c=m.attribute.textBaseline)&&void 0!==c?c:"bottom"}):"bottom"===o&&(C.labels[o].dy=t,C.labelsTextStyle[o]={textAlign:l&&m&&null!==(p=m.attribute.textAlign)&&void 0!==p?p:"center",textBaseline:l&&m&&null!==(y=m.attribute.textBaseline)&&void 0!==y?y:"top"}),C.labels[o].defaultFormatter=g)}}),C&&!v){const e={x1:1/0,y1:1/0,x2:-1/0,y2:-1/0};kB(e,c),"xField"===l?(C.coordRange=[e.x1,e.x2],C.sizeRange=[e.y1,e.y2],C.coord=k+i.x,C.labels&&(C.labels.top.y=e.y1,C.labels.bottom.y=e.y2)):(C.coordRange=[e.y1,e.y2],C.sizeRange=[e.x1,e.x2],C.coord=k+i.y,C.labels&&(C.labels.left.x=e.x1,C.labels.right.x=e.x2)),(C.coord<C.coordRange[0]||C.coord>C.coordRange[1])&&(C.visible=!1),u&&u.label&&Object.keys(C.labels).forEach(e=>{C.labels[e].visible&&fB(C.labels[e],e,u.label)})}e[l].bandSize=null!=S?S:0,e[l].offsetSize=x,e[l].cacheInfo=C}),e),fB=(e,t,i)=>{const{formatMethod:o,formatter:l}=i,{formatFunc:n,args:r}=vT(o,l,e.text,{label:e.text,position:t});n?e.text=n(...r):e.defaultFormatter&&(e.text=e.defaultFormatter(e.text))},kB=(e,t)=>{t.forEach(({axis:t})=>{t.getRegions().forEach(t=>{const{x:i,y:o}=t.getLayoutStartPoint(),{width:l,height:n}=t.getLayoutRect();e.x1=Math.min(e.x1,i),e.y1=Math.min(e.y1,o),e.x2=Math.max(e.x2,i+l),e.y2=Math.max(e.y2,o+n)})})},mB=e=>{const{cacheInfo:t,attributes:i,bandSize:o,offsetSize:l,coordKey:n,anotherAxisKey:r}=e,{coord:a,sizeRange:s}=t,h=i.type;let d;if("line"===h){const e=a+o/2;d={visible:!0,start:{[n]:e,[r]:s[0]},end:{[n]:e,[r]:s[1]}}}else if("rect"===h){const[e,h]=bB(i,o,l,t.axis),{coordRange:c}=t;d={visible:!0,start:{[n]:Math.max(a+e,c[0]),[r]:s[0]},end:{[n]:Math.min(a+h,c[1]),[r]:s[1]}}}return d},bB=(e,t,i,o)=>{var l,n,r;const a=0===t?i:t;let s=a;if(null===(l=e.style)||void 0===l?void 0:l.sizePercent)s=a*e.style.sizePercent;else if("number"==typeof(null===(n=e.style)||void 0===n?void 0:n.size))s=e.style.size;else if("function"==typeof(null===(r=e.style)||void 0===r?void 0:r.size)){const t=o.getLayoutRect();s=e.style.size(t,o)}return 0===t?[-s/2,s/2]:[t/2-s/2,s/2+t/2]},vB=(e,t)=>{var i;const o=new Map,l=new Map,{series:n,datum:r}=e,a="horizontal"===n.direction,s=(a?n.getYAxisHelper():n.getXAxisHelper()).getAxisId(),h=n.getChart().getComponentsByKey("axes").find(e=>e.id===s);if(!h)return;(a?l:o).set(h.getSpecIndex(),{datum:null===(i=n.getDatumPositionValues(r[0],n.getDimensionField()))||void 0===i?void 0:i[0],axis:h});const d={xField:{coordKey:"x",anotherAxisKey:"y",currentValue:o,attributes:{visible:!!o.size,type:"rect"}},yField:{coordKey:"y",anotherAxisKey:"x",currentValue:l,attributes:{visible:!!l.size,type:"rect"}}};return gB(d,n,t),d.xField.cacheInfo?mB(d.xField):d.yField.cacheInfo?mB(d.yField):void 0},CB=["updateTitle","updateContent","updatePosition","maxLineCount","othersLine"],SB=(e,t,i,o,l)=>{var n,r,a;const s={activeType:e};switch(e){case"mark":case"group":if(i){const a=null===(n=i.getSpec())||void 0===n?void 0:n.tooltip;return s.visible=!0,(null==a?void 0:a.handler)&&(s.handler=a.handler),(null===(r=s.handler)||void 0===r?void 0:r.showTooltip)?s:((null==a?void 0:a[e])&&CB.forEach(t=>{uu(a[e][t])&&(s[t]=a[e][t])}),Object.assign(Object.assign({},s),i.tooltipHelper.getTooltipData(e,t,o,o[0].datum,l)))}break;case"dimension":if(null==o?void 0:o.length){if(xB(o).every(e=>{var t;return!LT("dimension",null===(t=e.tooltipHelper)||void 0===t?void 0:t.spec)})?s.visible=!1:s.visible=!0,s.handler=t.handler,null===(a=s.handler)||void 0===a?void 0:a.showTooltip)return s;const i=[];return o.forEach(n=>n.data.forEach(n=>{const{series:r}=n,a=r.tooltipHelper.getTooltipData(e,t,o,n.datum,l);a&&i.push(a)})),function(e){if(!e||!e.length)return null;const t=[];return e.forEach(({content:e})=>{e&&e.forEach(e=>{t.push(e)})}),t.length?Object.assign(Object.assign({},e[0]),{content:t}):e[0]}(i)}}return null},xB=e=>{const t=[];return e.forEach(e=>{e.data.forEach(e=>{uu(e.series)&&t.push(e.series)})}),t},_B={dom:`${Jw}_TOOLTIP_HANDLER_DOM`,canvas:`${Jw}_TOOLTIP_HANDLER_CANVAS`},wB={key:"其他",value:"..."};var LB;!function(e){e.group="group",e.mark="mark",e.dimension="dimension"}(LB||(LB={}));class FB{constructor(e){this._showTooltipByHandler=(e,t)=>{var i,o,l;if(yu(e))return 1;t.changePositionOnly||this.clearCache(),this._updateViewSpec(e,t);const n=this._cacheActiveSpec;if(yu(n)||!1===n.visible)return 1;t.tooltipSpec=this.component.getSpec(),t.activeTooltipSpec=n;const{title:r,content:a}=n,s=yu(null==r?void 0:r.key)&&yu(null==r?void 0:r.value)&&!(null==a?void 0:a.length);if(this.component.event.emit(WL.tooltipShow,Object.assign(Object.assign({},t),{isEmptyTooltip:s,tooltipData:e,activeType:this.activeType,tooltip:this.component})),s)return 1;let h;return(null===(i=n.handler)||void 0===i?void 0:i.showTooltip)?h=n.handler.showTooltip.bind(n.handler):(null===(o=this.component.tooltipHandler)||void 0===o?void 0:o.showTooltip)&&(h=this.component.tooltipHandler.showTooltip.bind(this.component.tooltipHandler)),h?null!==(l=h(this.activeType,e,t))&&void 0!==l?l:0:1},this.component=e}_preprocessDimensionInfo(e){const t=[];if(null==e||e.forEach(e=>{const i=Object.assign(Object.assign({},e),{data:e.data.filter(({series:e})=>{var t,i;return!1!==(null===(i=null===(t=e.getSpec())||void 0===t?void 0:t.tooltip)||void 0===i?void 0:i.visible)})});i.data.length>0&&t.push(i)}),t.length>0)return t}_updateViewSpec(e,t){var i,o,l,n,r,a,s,h,d;const{changePositionOnly:c,model:p}=t;if(!c||!this._cacheActiveSpec){const c=this.component.getSpec();if(this._cacheActiveSpec=SB(this.activeType,this.component.getSpec(),p,e,t),this._cacheActiveSpec){yu(this._cacheActiveSpec.handler)&&uu(c.handler)&&(this._cacheActiveSpec.handler=c.handler);const p=null!==(i=c[this.activeType])&&void 0!==i?i:{},y=null!==(o=this._cacheActiveSpec.updateTitle)&&void 0!==o?o:p.updateTitle,u=null!==(l=this._cacheActiveSpec.updateContent)&&void 0!==l?l:p.updateContent,g=null!==(r=null!==(n=this._cacheActiveSpec.maxLineCount)&&void 0!==n?n:p.maxLineCount)&&void 0!==r?r:20;if(y&&(this._cacheActiveSpec.title=null!==(a=y(this._cacheActiveSpec.title,e,t))&&void 0!==a?a:this._cacheActiveSpec.title),u)this._cacheActiveSpec.content=null!==(s=u(this._cacheActiveSpec.content,e,t))&&void 0!==s?s:this._cacheActiveSpec.content;else if(g>=1&&(null===(h=this._cacheActiveSpec.content)||void 0===h?void 0:h.length)>g){const e=null!==(d=this._cacheActiveSpec.othersLine)&&void 0!==d?d:p.othersLine,t=e?Object.assign(Object.assign({},wB),e):wB;this._cacheActiveSpec.content=[...this._cacheActiveSpec.content.slice(0,g-1),Object.assign(Object.assign({},this._cacheActiveSpec.content[g-1]),t)]}}}}shouldHandleTooltip(e,t){var i,o;return!yu(t)&&LT(this.activeType,null===(o=null===(i=e.model)||void 0===i?void 0:i.tooltipHelper)||void 0===o?void 0:o.spec)}clearCache(){this._cacheActiveSpec=void 0}}class TB extends FB{constructor(){super(...arguments),this.activeType="dimension"}showTooltip(e,t,i){const o=Object.assign(Object.assign({},t),{dimensionInfo:this._preprocessDimensionInfo(e),changePositionOnly:i,tooltip:this.component});return this._showTooltipByHandler(e,o)}_getDimensionInfo(e){var t,i,o;let l;const n=this.component.getChart(),r=n.getCompiler().getStage().getLayer(void 0),a={x:e.event.viewX,y:e.event.viewY};if(r.globalTransMatrix.transformPoint({x:e.event.viewX,y:e.event.viewY},a),l=null!==(o=null===(i=(t=this.component.getOption()).getDimensionInfo)||void 0===i?void 0:i.call(t,n,a,!0))&&void 0!==o?o:[],0===l.length)l=void 0;else if(l.length>1){const e=l.filter(e=>{var t;const i=e.axis;if(i.getSpec().hasDimensionTooltip)return!0;if(!m_(i.getScale().type))return!1;let o;for(const l of null!==(t=null==i?void 0:i.getRegions())&&void 0!==t?t:[]){for(const e of l.getSeries())if("cartesian"===e.coordinate){o=e;break}if(uu(o))break}return uu(o)&&o.getDimensionField()[0]===o.fieldY[0]?"left"===i.getOrient()||"right"===i.getOrient():"bottom"===i.getOrient()||"top"===i.getOrient()});if(l=e.length?e:l.slice(0,1),l.length>1){const e=new Set;l.forEach(t=>{t.data=t.data.filter(({key:t})=>!e.has(t)&&(e.add(t),!0))})}}return l}getMouseEventData(e){return{tooltipInfo:this._getDimensionInfo(e),ignore:!1}}}const AB=()=>{Ow.registerTooltipProcessor("dimension",TB)};class zB extends FB{constructor(){super(...arguments),this.activeType="mark"}showTooltip(e,t,i){var o,l,n;const{datum:r,series:a}=e,s=this.component.getSpec(),h=[{datum:[r],series:a}],d=a.tooltipHelper,c=null===(o=a.getSpec())||void 0===o?void 0:o.tooltip,p=null===(l=null==c?void 0:c.mark)||void 0===l?void 0:l.checkOverlap;let y=!1;if(!0===p||!0===(null===(n=s.mark)||void 0===n?void 0:n.checkOverlap)&&!1!==p){const e=null==d?void 0:d.activeTriggerSet.mark;if(e){y=!0;const i=this.component.getChart().getCompiler().getStage().getLayer(void 0),o={x:t.event.viewX,y:t.event.viewY};i.globalTransMatrix.transformPoint({x:t.event.viewX,y:t.event.viewY},o),e.forEach(e=>{e.getGraphics().forEach(e=>{e!==t.node&&e&&e.containsPoint(o.x,o.y,qi.GLOBAL,e.stage.getPickerService())&&h[0].datum.push(AL(e))})})}}const u=Object.assign(Object.assign({},t),{model:a,changePositionOnly:i,tooltip:this.component});if(i&&y){const e=this._cacheActiveSpec&&this._cacheActiveSpec.data;e&&e[0].series===h[0].series&&e[0].datum.length===h[0].datum.length&&!e[0].datum.some((e,t)=>e!==h[0].datum[t])||(u.changePositionOnly=!1)}return this._showTooltipByHandler(h,u)}getMouseEventData(e){var t;let i,o;const l=null===(t=e.model)||void 0===t?void 0:t.modelType;if("series"===l){const t=e.model,l=t.tooltipHelper,n=null==l?void 0:l.activeTriggerSet.mark,r=null==l?void 0:l.ignoreTriggerSet.mark;(null==n?void 0:n.has(e.mark))?i={mark:e.mark,datum:e.datum,series:t}:(null==r?void 0:r.has(e.mark))&&(o=!0)}else if("component"===l){const t=e.model,l=e.node;if("label"===t.name&&l){const e=t.getLabelInfoByTextGraphic(l),{baseMark:n,series:r,labelMark:a}=null!=e?e:{},s=r.tooltipHelper,h=null==s?void 0:s.activeTriggerSet.mark,d=null==s?void 0:s.ignoreTriggerSet.mark;(null==h?void 0:h.has(a))?i={mark:n,datum:l.attribute.data,series:r}:(null==d?void 0:d.has(a))&&(o=!0)}}return{tooltipInfo:i,ignore:o}}}const BB=()=>{Ow.registerTooltipProcessor("mark",zB)};class MB extends FB{constructor(){super(...arguments),this.activeType="group"}showTooltip(e,t,i){const{datum:o,series:l}=e,n=[{datum:Eu(o),series:l}],r=Object.assign(Object.assign({},t),{groupDatum:this._getGroupDatum(t),changePositionOnly:i,tooltip:this.component});return this._showTooltipByHandler(n,r)}getMouseEventData(e){var t,i;let o;if("series"===(null===(t=e.model)||void 0===t?void 0:t.modelType)){const t=e.model,l=t.tooltipHelper,n=null==l?void 0:l.activeTriggerSet.group;if(null==n?void 0:n.has(e.mark)){const l=this.component.getSpec()[this.activeType];((null==l?void 0:l.triggerMark)?Eu(l.triggerMark):[]).includes(null===(i=e.mark)||void 0===i?void 0:i.name)&&(o={mark:e.mark,datum:e.datum,series:t})}}return{tooltipInfo:o,ignore:!1}}_getGroupDatum(e){const{model:t,mark:i,datum:o}=e,l=t;if(["line","area"].includes(i.type))return Eu(o);const n=l.getViewData().latestData,r=l.getSeriesField();if(!r)return n;const a=Eu(o)[0][r];return n.filter(e=>e[r]===a)}}const OB=()=>{Ow.registerTooltipProcessor("group",MB)};class WB extends $z{constructor(){super(...arguments),this.transformerConstructor=Qz,this.type="line",this.seriesType=$_.line}_setModelOption(){this._modelOption.getDimensionInfo=pB,this._modelOption.getDimensionInfoByValue=uB,this._modelOption.getRectByDimensionData=vB}}WB.type="line",WB.seriesType=$_.line,WB.transformerConstructor=Qz,Pu(WB,iB);const RB=()=>{AB(),BB(),OB(),rB(),nB(),Gz(),Wz(),wA(),FA(),nT(),oT(),zz(),Tz(),Ow.registerSeries(Uz.type,Uz),Ow.registerChart(WB.type,WB)},HB=[...SA,"fill","fillOpacity","background","texture","texturePadding","textureSize","textureColor"];class PB extends xA{constructor(){super(...arguments),this.type=PB.type,this._isValidPointChannel=e=>["x","y","x1","y1","defined"].includes(e)}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0})}_getSegmentAttributes(){return HB}_getIgnoreAttributes(){return[]}}PB.type="area";class EB extends zT{constructor(){super(...arguments),this._getSeriesStyle=(e,t,i)=>{var o,l,n,r;for(const a of Eu(t)){let t=null===(o=this.series.getSeriesStyle(e))||void 0===o?void 0:o(a);if(!1!==t||"fill"!==a&&"stroke"!==a||(t="fill"===a?null===(n=null===(l=this.series.getSeriesStyle(e))||void 0===l?void 0:l("stroke"))||void 0===n?void 0:n[0]:null===(r=this.series.getSeriesStyle(e))||void 0===r?void 0:r("fill")),uu(t))return t}return i}}}const DB=Object.assign(Object.assign(Object.assign({},PT),mA),{area:{name:"area",type:"area"}}),IB=()=>{Ow.registerAnimation("area",lT),nT(),oT()};class jB extends TA{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){var t,i,o;const l=!1!==(null===(t=e.point)||void 0===t?void 0:t.visible)&&!1!==(null===(o=null===(i=e.point)||void 0===i?void 0:i.style)||void 0===o?void 0:o.visible);this._addMarkLabelSpec(e,e=>{const t="inside-middle"===e.position;return!l||t?"area":"point"}),this._addMarkLabelSpec(e,"area","areaLabel","initLineLabelMarkStyle",void 0,!0)}_transformSpecAfterMergingTheme(e,t,i){var o,l,n,r,a;super._transformSpecAfterMergingTheme(e,t,i);const{area:s={},line:h={},seriesMark:d}=e,c=!1!==s.visible&&!1!==(null===(o=s.style)||void 0===o?void 0:o.visible),p=!1!==h.visible&&!1!==(null===(l=h.style)||void 0===l?void 0:l.visible);s.support3d=!(!s.support3d&&!h.support3d),s.zIndex=uu(s.zIndex)||uu(h.zIndex)?Math.max(null!==(n=s.zIndex)&&void 0!==n?n:0,null!==(r=h.zIndex)&&void 0!==r?r:0):void 0,s.style&&delete s.style.stroke,s.state&&Object.keys(s.state).forEach(e=>{"style"in s.state[e]?delete s.state[e].style.stroke:delete s.state[e].stroke});let y=s,u=h;("line"===d||p&&!c)&&(y=h,u=s),s.style=Mw({},u.style,y.style),s.state=Mw({},u.state,y.state),!1===s.interactive&&(s.style.fillPickable=!1),!1===h.interactive&&(h.style.strokePickable=!1),s.interactive=!(!s.interactive&&null!==(a=h.interactive)&&void 0!==a&&!a),e.area=s,e.line=h}}class NB extends oA{constructor(){super(...arguments),this.type=$_.area,this.transformerConstructor=jB,this._sortDataByAxis=!1}initMark(){var e;const t=null!==(e=this._spec.seriesMark)&&void 0!==e?e:"area",i=this._isAreaVisible()||this._isLineVisible();this._areaMark=this._createMark(NB.mark.area,{groupKey:this._seriesField,isSeriesMark:i&&"point"!==t},{morphElementKey:this.getDimensionField()[0]}),this.initSymbolMark("point"===t)}initMarkStyle(){this.initAreaMarkStyle(),this.initSymbolMarkStyle()}initAreaMarkStyle(){var e,t,i,o,l;const n=null!==(i=null===(t=null===(e=this.getSpec().area)||void 0===e?void 0:e.style)||void 0===t?void 0:t.curveType)&&void 0!==i?i:null===(l=null===(o=this.getSpec().line)||void 0===o?void 0:o.style)||void 0===l?void 0:l.curveType,r=n===mT?"horizontal"===this._direction?"monotoneY":"monotoneX":n,a=this._areaMark;if(a){const e=this._isAreaVisible(),t=this._isLineVisible();e||t?a.setVisible(!0):a.setVisible(!1),"horizontal"===this._direction?this.setMarkStyle(this._areaMark,{x:this.dataToPositionX.bind(this),x1:e=>{var t,i;return dw(this.dataToPositionX1(e),null===(i=null===(t=this._xAxisHelper)||void 0===t?void 0:t.getScale)||void 0===i?void 0:i.call(t,0))},y:this.dataToPositionY.bind(this),y1:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null,orient:this._direction},"normal",pF.Series):this.setMarkStyle(this._areaMark,{x:this.dataToPositionX.bind(this),x1:this.dataToPositionX.bind(this),y1:e=>{var t,i;return dw(this.dataToPositionY1(e),null===(i=null===(t=this._yAxisHelper)||void 0===t?void 0:t.getScale)||void 0===i?void 0:i.call(t,0))},y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null},"normal",pF.Series),this.setMarkStyle(a,{fill:!!e&&this.getColorAttribute(),stroke:!!t&&this.getColorAttribute()},"normal",pF.Series),"zero"!==this._invalidType&&this.setMarkStyle(a,{defined:this._getInvalidDefined.bind(this),connectedType:this._getInvalidConnectType()},"normal",pF.Series),this.getStack()&&this.setMarkStyle(a,{zIndex:e=>-e[aL]},"normal",pF.Series),this.setMarkStyle(a,{curveType:r},"normal",pF.Built_In),Object.keys(a.stateStyle).forEach(e=>{a.stateStyle[e].stroke&&a.setPostProcess("stroke",e=>[e,!1,!1,!1],e)})}}initAnimation(){var e,t,i,o;const l={direction:this.direction},n=null===(e=this._spec.animationAppear)||void 0===e?void 0:e.preset;if(this._lineMark&&this._lineMark.setAnimationConfig(VT(null===(t=Ow.getAnimationInKey("line"))||void 0===t?void 0:t(l,n),YT("line",this._spec,this._markAttributeContext))),this._areaMark&&this._areaMark.setAnimationConfig(VT(null===(i=Ow.getAnimationInKey("area"))||void 0===i?void 0:i(l,n),YT("area",this._spec,this._markAttributeContext))),this._symbolMark){const e=iA(this);this._symbolMark.setAnimationConfig(VT(null===(o=Ow.getAnimationInKey("scaleInOut"))||void 0===o?void 0:o(),YT("point",this._spec,this._markAttributeContext),e))}}_isAreaVisible(){var e;const t=this._spec.area||{};return!1!==t.visible&&!1!==(null===(e=t.style)||void 0===e?void 0:e.visible)}_isLineVisible(){var e;const t=this._spec.line||{};return!1!==t.visible&&!1!==(null===(e=t.style)||void 0===e?void 0:e.visible)}initTooltip(){this._tooltipHelper=new EB(this);const{group:e,mark:t}=this._tooltipHelper.activeTriggerSet;this._areaMark&&e.add(this._areaMark),this._lineMark&&e.add(this._lineMark),this._symbolMark&&(t.add(this._symbolMark),e.add(this._symbolMark))}viewDataStatisticsUpdate(e){super.viewDataStatisticsUpdate(e),this.encodeDefined(this._areaMark,"defined")}compile(){super.compile(),this.addSamplingCompile(),this.addOverlapCompile()}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._areaMark,this._symbolMark,this._lineMark]}onLayoutEnd(){super.onLayoutEnd(),this.reCompileSampling()}getSeriesStyle(e){return t=>{var i,o,l,n,r;const a=null!==(i=this._spec.seriesMark)&&void 0!==i?i:"area";let s=null!==(l=null===(o=this._seriesMark)||void 0===o?void 0:o.getAttribute(t,e))&&void 0!==l?l:void 0;return"fill"!==t||s&&"line"!==a||(t="stroke",s=null!==(r=null===(n=this._seriesMark)||void 0===n?void 0:n.getAttribute(t,e))&&void 0!==r?r:void 0),"stroke"===t&&bu(s)?s[0]:s}}}NB.type=$_.area,NB.builtInTheme={area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle"}},seriesMark:"area"}},NB.mark=DB,NB.transformerConstructor=jB,Pu(NB,bA);const GB=()=>{Gz(),Wz(),wA(),Ow.registerMark(PB.type,PB),vb(),rb(),px(),ax(),rT(),Ow.registerGraphicComponent("area",ed),FA(),IB(),zz(),Tz(),Ow.registerSeries(NB.type,NB)};class UB extends Jz{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["point","line","area","seriesMark","activePoint","sampling","samplingFactor","pointDis","pointDisMul","markOverlap","areaLabel","useSequentialAnimation"])}transformSpec(e){super.transformSpec(e),aF(e)}}class VB extends $z{constructor(){super(...arguments),this.transformerConstructor=UB,this.type="area",this.seriesType=$_.area}_setModelOption(){this._modelOption.getDimensionInfo=pB,this._modelOption.getDimensionInfoByValue=uB,this._modelOption.getRectByDimensionData=vB}}VB.type="area",VB.seriesType=$_.area,VB.transformerConstructor=UB,Pu(VB,iB);const YB=()=>{AB(),BB(),OB(),nB(),GB(),rB(),Ow.registerChart(VB.type,VB)};function ZB(e,t=!0){return(i,o,l)=>{const n="vertical"===e.direction?e.yField:e.xField,r=null==i?void 0:i[n];return"vertical"===e.direction?{overall:t?e.growFrom():t,orient:r>0?"negative":"positive"}:{overall:!!t&&e.growFrom(),orient:r>0?"positive":"negative"}}}const XB=(e,t=!0)=>({type:"horizontal"===e.direction?"growWidthIn":"growHeightIn",options:ZB(e,t)}),$B=(e,t=!0)=>({type:"horizontal"===e.direction?"growWidthOut":"growHeightOut",options:ZB(e,t)}),KB={type:"fadeIn"},qB={type:"growCenterIn"};function JB(e,t){if(!1===t)return{};switch(t){case"fadeIn":return KB;case"scaleIn":return qB;default:return XB(e)}}class QB extends YF{constructor(){super(...arguments),this.type=QB.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{width:void 0,height:void 0,lineWidth:0})}}QB.type="rect";const eM=()=>{vb(),fb(),ox("rect",hx),Ow.registerMark(QB.type,QB),Yv.registerBuiltInAnimate("growHeightIn",EC),Yv.registerBuiltInAnimate("growHeightOut",DC),Yv.registerBuiltInAnimate("growWidthIn",tS),Yv.registerBuiltInAnimate("growWidthOut",iS),Yv.registerBuiltInAnimate("growCenterIn",RC),Yv.registerBuiltInAnimate("growCenterOut",HC),Ow.registerGraphicComponent("rect",Rh)},tM=Object.assign(Object.assign({},PT),{bar:{name:"bar",type:"rect"},barBackground:{name:"barBackground",type:"rect"}});function iM(e,t,i){var o,l;if(e.values.length>0){let n;if(e.sortDatums.length){let r=e.sortDatums;t&&(r=e.sortDatums.slice().reverse());for(let e=0;e<r.length;e++)n=oM(r[e].datum,n,r[e].series,i,null===(l=(o=r[e].series[i.axisHelper]).getScale)||void 0===l?void 0:l.call(o,0),0===e)}else{let o=e.series;t&&(o=o.slice().reverse()),o.forEach(({s:e,values:o},l)=>{var r,a;const s=null===(a=(r=e[i.axisHelper]).getScale)||void 0===a?void 0:a.call(r,0);for(let h=0;h<o.length;h++){const r=o[t?o.length-1-h:h];n=oM(r,n,e,i,s,0===h&&0===l)}})}}for(const n in e.nodes)iM(e.nodes[n],t,i)}function oM(e,t,i,o,l,n){const r=i.getSpec().barMinHeight,a=i[o.axisHelper].isInverse(),s=dw(i[o.startMethod](e),l);let h=dw(i[o.endMethod](e),l);n&&(t=s);let d=Math.abs(s-h);d<r&&(d=r);let c=1;return h<s?c=-1:h===s&&(c=o.isVertical?a?1:-1:a?-1:1),h=t+c*d,e[o.start]=t,e[o.end]=h,h}class lM extends QT{constructor(){super(...arguments),this._supportStack=!0}_transformLabelSpec(e){this._addMarkLabelSpec(e,"bar")}}class nM extends oA{constructor(){super(...arguments),this.type=$_.bar,this._barMarkName="bar",this._barMarkType="rect",this.transformerConstructor=lM,this._bandPosition=0,this._getLinearBarRange=(e,t)=>{let[i,o]=[e,t].sort((e,t)=>e-t);const l=o-i;if(this._spec.barGap){const e=.5*this._spec.barGap;i+=e,o-=e}const n=o-i,r=mw(this._spec.barMinWidth||2,l);if(n<r){const e=(r-n)/2;i-=e,o+=e}return[i,o]},this._getBarXStart=(e,t,i)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!1),e[ET]):this._spec.barMinHeight?this._calculateRectPosition(e,!1,i):dw(this._dataToPosX(e),t,i),this._getBarXEnd=(e,t,i)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!1),e[DT]):dw(this._dataToPosX1(e),t,i),this._getLinearBarXRange=(e,t,i)=>{const o=dw(this._dataToPosX(e),t,i),l=dw(this._dataToPosX1(e),t,i);return this._getLinearBarRange(o,l)},this._getBarYStart=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!0),e[IT]):this._spec.barMinHeight?this._calculateRectPosition(e,!0):dw(this._dataToPosY(e),t),this._getBarYEnd=(e,t)=>this._shouldDoPreCalculate()?(this._calculateStackRectPosition(!0),e[jT]):dw(this._dataToPosY1(e),t),this._getLinearBarYRange=(e,t,i)=>{const o=dw(this._dataToPosY(e),t,i),l=dw(this._dataToPosY1(e),t,i);return this._getLinearBarRange(o,l)},this._getBarBackgroundXStart=e=>{const t=e.range();return Math.min(t[0],t[t.length-1])},this._getBarBackgroundXEnd=e=>{const t=e.range();return Math.max(t[0],t[t.length-1])},this._getBarBackgroundYStart=e=>{const t=e.range();return Math.min(t[0],t[t.length-1])},this._getBarBackgroundYEnd=e=>{const t=e.range();return Math.max(t[0],t[t.length-1])},this._getBarBackgroundPositionXEncoder=()=>{var e;return null===(e=this._barBackgroundPositionXEncoder)||void 0===e?void 0:e.bind(this)},this._setBarBackgroundPositionXEncoder=e=>{this._barBackgroundPositionXEncoder=e.bind(this)},this._getBarBackgroundPositionYEncoder=()=>{var e;return null===(e=this._barBackgroundPositionYEncoder)||void 0===e?void 0:e.bind(this)},this._setBarBackgroundPositionYEncoder=e=>{this._barBackgroundPositionYEncoder=e.bind(this)}}initMark(){this._initBarBackgroundMark(),this._barMark=this._createMark(Object.assign(Object.assign({},nM.mark.bar),{name:this._barMarkName,type:this._barMarkType}),{groupKey:this._seriesField,isSeriesMark:!0},{morphElementKey:this.getDimensionField()[0],morph:$T(this._spec,this._barMarkName)})}_initBarBackgroundMark(){this._spec.barBackground&&this._spec.barBackground.visible&&(this._barBackgroundMark=this._createMark(nM.mark.barBackground,{dataView:this._barBackgroundViewData.getDataView(),dataProductId:this._barBackgroundViewData.getProductId()}))}initMarkStyle(){this._barMark&&this.setMarkStyle(this._barMark,{fill:this.getColorAttribute()},"normal",pF.Series)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{fill:this.getColorAttribute(),text:e=>e[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null})}initTooltip(){super.initTooltip();const{mark:e,group:t}=this._tooltipHelper.activeTriggerSet;this._barMark&&(e.add(this._barMark),t.add(this._barMark))}_statisticViewData(){var e,t;super._statisticViewData();const i=null!==(e=this._spec.barBackground)&&void 0!==e?e:{};if(!i.visible)return;const o=this._getRelatedComponentSpecInfo("axes").some(e=>e.type===r.cartesianBandAxis);let l;if(jL(this._option.dataSet,"addVChartProperty",ST),o){const e=([e],{scaleDepth:t})=>{var i,o;let l=[{}];const n=this.getDimensionField(),r=yu(t)?n.length:Math.min(n.length,t);for(let a=0;a<r;a++){const t=n[a],r=null===(i=e.latestData[t])||void 0===i?void 0:i.values;if(!(null==r?void 0:r.length))continue;const s=[],h=null!==(o=this._spec.dataKey)&&void 0!==o?o:iL;for(let e=0;e<r.length;e++)for(let i=0;i<l.length;i++)s.push(Object.assign(Object.assign({},l[i]),{[t]:r[e],[h]:r[e]}));l=s}return l};jL(this._option.dataSet,"dimensionItems",e),l=new E(this._option.dataSet).parse([this._viewDataStatistics],{type:"dataview"}).transform({type:"dimensionItems",options:{scaleDepth:yu(i.fieldLevel)?void 0:i.fieldLevel+1}},!1).transform({type:"addVChartProperty",options:{beforeCall:RT.bind(this),call:HT}},!1),null===(t=this._viewDataStatistics)||void 0===t||t.target.addListener("change",l.reRunAllTransform)}else{const e=([e])=>{const i=[],[o,l]=this.getDimensionContinuousField(),n={};return t.latestData.forEach(e=>{const t=`${e[o]}-${e[l]}`;n[t]||(n[t]={[o]:e[o],[l]:e[l]},i.push(n[t]))}),i};jL(this._option.dataSet,"dimensionItems",e);const t=this.getViewData();l=new E(this._option.dataSet).parse([t],{type:"dataview"}).transform({type:"dimensionItems"},!1).transform({type:"addVChartProperty",options:{beforeCall:RT.bind(this),call:HT}},!1),null==t||t.target.addListener("change",l.reRunAllTransform)}this._barBackgroundViewData=new IF(this._option,l)}init(e){var t,i;super.init(e),"vertical"===this.direction?"band"===(null===(t=this._xAxisHelper)||void 0===t?void 0:t.getScale(0).type)?this.initBandRectMarkStyle():this.initLinearRectMarkStyle():"band"===(null===(i=this._yAxisHelper)||void 0===i?void 0:i.getScale(0).type)?this.initBandRectMarkStyle():this.initLinearRectMarkStyle()}_shouldDoPreCalculate(){const e=this.getRegion();return this.getStack()&&e.getSeries().filter(e=>e.type===this.type&&e.getSpec().barMinHeight).length}_calculateStackRectPosition(e){const t=this.getRegion();if(t._bar_series_position_calculated)return;let i,o,l,n,r;t._bar_series_position_calculated=!0,e?(i=jT,o=IT,l="_dataToPosY1",n="_dataToPosY",r="_yAxisHelper"):(i=DT,o=ET,l="_dataToPosX1",n="_dataToPosX",r="_xAxisHelper");const a=vL(t,!1,e=>e.type===this.type);for(const s in a)for(const h in a[s].nodes)iM(a[s].nodes[h],t.getStackInverse(),{isVertical:e,start:i,end:o,startMethod:l,endMethod:n,axisHelper:r})}_calculateRectPosition(e,t,i){var o,l;let n,r,a;t?(n="_dataToPosY1",r="_dataToPosY",a="_yAxisHelper"):(n="_dataToPosX1",r="_dataToPosX",a="_xAxisHelper");const s=null===(l=(o=this[a]).getScale)||void 0===l?void 0:l.call(o,0),h=this[a].isInverse(),d=this._spec.barMinHeight,c=dw(this[n](e),s,i),p=dw(this[r](e),s,i);let y=Math.abs(c-p);y<d&&(y=d);let u=1;return p<c?u=-1:p===c&&(u=t?h?1:-1:h?-1:1),c+u*y}_dataToPosX(e){return this.dataToPositionX(e)}_dataToPosX1(e){return this.dataToPositionX1(e)}_dataToPosY(e){return this.dataToPositionY(e)}_dataToPosY1(e){return this.dataToPositionY1(e)}initBandRectMarkStyle(){var e,t,i,o;const l=null===(t=null===(e=this._xAxisHelper)||void 0===e?void 0:e.getScale)||void 0===t?void 0:t.call(e,0),n=null===(o=null===(i=this._yAxisHelper)||void 0===i?void 0:i.getScale)||void 0===o?void 0:o.call(i,0);"horizontal"===this.direction?this.setMarkStyle(this._barMark,{x:e=>this._getBarXStart(e,l),x1:e=>this._getBarXEnd(e,l),y:e=>this._getPosition(this.direction,e),height:()=>this._getBarWidth(this._yAxisHelper),width:()=>{},y1:()=>{}},"normal",pF.Series):this.setMarkStyle(this._barMark,{y:e=>this._getBarYStart(e,n),y1:e=>this._getBarYEnd(e,n),x:e=>this._getPosition(this.direction,e),width:()=>this._getBarWidth(this._xAxisHelper),x1:()=>{},height:()=>{}},"normal",pF.Series),this._initStackBarMarkStyle(),this._initBandBarBackgroundMarkStyle()}_initStackBarMarkStyle(){var e,t,i,o;if(!this._spec.stackCornerRadius)return;const l=null===(t=null===(e=this._xAxisHelper)||void 0===e?void 0:e.getScale)||void 0===t?void 0:t.call(e,0),n=null===(o=null===(i=this._yAxisHelper)||void 0===i?void 0:i.getScale)||void 0===o?void 0:o.call(i,0);this._barMark.setMarkConfig({clip:!0,clipPath:()=>{const e=[];return this._forEachStackGroup(t=>{let i=1/0,o=-1/0,r=!1,a=1/0,s=-1/0;t.values.forEach(e=>{const t=e[rL],l=e[aL],n=e[sL],h=e[hL];i=Math.min(i,t,l),o=Math.max(o,t,l),uu(n)&&uu(h)&&(r=!0,a=Math.min(a,n,h),s=Math.max(s,n,h))});const h=Object.assign(Object.assign(Object.assign({},t.values[0]),{[rL]:i,[aL]:o}),r?{[sL]:a,[hL]:s}:void 0),d="horizontal"===this.direction?{x:this._getBarXStart(h,l),x1:this._getBarXEnd(h,l),y:this._getPosition(this.direction,h),height:this._getBarWidth(this._yAxisHelper)}:{y:this._getBarYStart(h,n),y1:this._getBarYEnd(h,n),x:this._getPosition(this.direction,h),width:this._getBarWidth(this._xAxisHelper)};e.push(Rh(Object.assign(Object.assign({},d),{cornerRadius:pu(this._spec.stackCornerRadius)?this._spec.stackCornerRadius(d,h,this._markAttributeContext):this._spec.stackCornerRadius,fill:!0})))}),e}})}initLinearRectMarkStyle(){var e,t,i,o;const l=null===(t=null===(e=this._xAxisHelper)||void 0===e?void 0:e.getScale)||void 0===t?void 0:t.call(e,0),n=null===(o=null===(i=this._yAxisHelper)||void 0===i?void 0:i.getScale)||void 0===o?void 0:o.call(i,0);if("horizontal"===this.direction){const e=uu(this._fieldY2)?{y:e=>this._getLinearBarYRange(e,n,!0)[0],y1:e=>this._getLinearBarYRange(e,n,!0)[1]}:{y:e=>dw(this._dataToPosY(e)-this._getBarWidth(this._yAxisHelper)/2,n,!0),height:e=>this._getBarWidth(this._yAxisHelper)};this.setMarkStyle(this._barMark,Object.assign({x:e=>this._getBarXStart(e,l,!0),x1:e=>this._getBarXEnd(e,l,!0)},e),"normal",pF.Series),this.setMarkStyle(this._barBackgroundMark,Object.assign({x:()=>this._getBarBackgroundXStart(l),x1:()=>this._getBarBackgroundXEnd(l)},e),"normal",pF.Series)}else{const e=uu(this._fieldX2)?{x:e=>this._getLinearBarXRange(e,l,!0)[0],x1:e=>this._getLinearBarXRange(e,l,!0)[1]}:{x:e=>dw(this._dataToPosX(e)-this._getBarWidth(this._xAxisHelper)/2,l,!0),width:e=>this._getBarWidth(this._xAxisHelper)};this.setMarkStyle(this._barMark,Object.assign(Object.assign({},e),{y:e=>this._getBarYStart(e,n),y1:e=>this._getBarYEnd(e,n)}),"normal",pF.Series),this.setMarkStyle(this._barBackgroundMark,Object.assign(Object.assign({},e),{y:()=>this._getBarBackgroundYStart(n),y1:()=>this._getBarBackgroundYEnd(n)}),"normal",pF.Series)}}_initBandBarBackgroundMarkStyle(){var e,t,i,o,l;if(!this._barBackgroundMark)return;const n=null===(t=null===(e=this._xAxisHelper)||void 0===e?void 0:e.getScale)||void 0===t?void 0:t.call(e,0),r=null===(o=null===(i=this._yAxisHelper)||void 0===i?void 0:i.getScale)||void 0===o?void 0:o.call(i,0),a=null!==(l=this._spec.barBackground)&&void 0!==l?l:{},s=yu(a.fieldLevel)?void 0:a.fieldLevel+1;"horizontal"===this.direction?this.setMarkStyle(this._barBackgroundMark,{x:()=>this._getBarBackgroundXStart(n),x1:()=>this._getBarBackgroundXEnd(n),y:e=>this._getPosition(this.direction,e,s,"barBackground"),height:()=>this._getBarWidth(this._yAxisHelper,s),width:()=>{},y1:()=>{}},"normal",pF.Series):this.setMarkStyle(this._barBackgroundMark,{x:e=>this._getPosition(this.direction,e,s,"barBackground"),y:()=>this._getBarBackgroundYStart(r),y1:()=>this._getBarBackgroundYEnd(r),width:()=>this._getBarWidth(this._xAxisHelper,s),x1:()=>{},height:()=>{}},"normal",pF.Series)}initAnimation(){var e,t;const i={yField:this._fieldY[0],xField:this._fieldX[0],direction:this.direction,growFrom:()=>{var e;const t="horizontal"===this.direction?null===(e=this._xAxisHelper)||void 0===e?void 0:e.getScale(0):this._yAxisHelper.getScale(0);if(t){const e=t.domain(),i=ju(e),o=Iu(e);return o<0?t.scale(o):i>0?t.scale(i):t.scale(0)}}},o=null===(e=this._spec.animationAppear)||void 0===e?void 0:e.preset,l=iA(this);this._barMark.setAnimationConfig(VT(null===(t=Ow.getAnimationInKey("bar"))||void 0===t?void 0:t(i,o),YT(this._barMarkName,this._spec,this._markAttributeContext),l))}_getBarWidth(e,t){var i,o;const l=this._groups?this._groups.fields.length:1,n=yu(t)?l:Math.min(l,t),r=null!==(o=null===(i=e.getBandwidth)||void 0===i?void 0:i.call(e,n-1))&&void 0!==o?o:6,a=uu(this._spec.barWidth)&&n===l,s=uu(this._spec.barMinWidth),h=uu(this._spec.barMaxWidth);let d=r;return a&&(d=mw(this._spec.barWidth,r)),s&&(d=Math.max(d,mw(this._spec.barMinWidth,r))),h&&(d=Math.min(d,mw(this._spec.barMaxWidth,r))),d}_getPosition(e,t,i,o){var l,n,r,a,s;let h,d,c;"horizontal"===e?(h=this.getYAxisHelper(),d="height",c="barBackground"===o?this.dataToBarBackgroundPositionY.bind(this):this.dataToPositionY.bind(this)):(h=this.getXAxisHelper(),d="width",c="barBackground"===o?this.dataToBarBackgroundPositionX.bind(this):this.dataToPositionX.bind(this));const p=h.getScale(0),y=this._groups?this._groups.fields.length:1,u=yu(i)?y:Math.min(y,i),g=null!==(n=null===(l=h.getBandwidth)||void 0===l?void 0:l.call(h,u-1))&&void 0!==n?n:6,f=u===y?this._barMark.getAttribute(d,t):g;if(u>1&&uu(this._spec.barGapInGroup)){const e=this._groups.fields,i=Eu(this._spec.barGapInGroup);let o=0,l=0;for(let n=e.length-1;n>=1;n--){const d=e[n],c=null!==(a=null===(r=h.getScale(n))||void 0===r?void 0:r.domain())&&void 0!==a?a:[],p=c.length,y=mw(null!==(s=i[n-1])&&void 0!==s?s:Du(i),g),u=c.indexOf(t[d]);n===e.length-1?(o+=p*f+(p-1)*y,l+=u*(f+y)):(l+=u*(o+y),o+=o+(p-1)*y)}return p.scale(t[e[0]])+h.getBandwidth(0)/2-o/2+l}const k=f_(p.type||"band");return c(t,u)+.5*(g-f)+(k?-g/2:0)}dataToBarBackgroundPositionX(e,t){return this._dataToPosition(e,this._xAxisHelper,this.fieldX,t,this._getBarBackgroundPositionXEncoder,this._setBarBackgroundPositionXEncoder)}dataToBarBackgroundPositionY(e,t){return this._dataToPosition(e,this._yAxisHelper,this.fieldY,t,this._getBarBackgroundPositionYEncoder,this._setBarBackgroundPositionYEncoder)}onLayoutEnd(){super.onLayoutEnd(),this.getRegion()._bar_series_position_calculated=!1,this._spec.sampling&&this.compile()}onDataUpdate(){super.onDataUpdate(),this.getRegion()._bar_series_position_calculated=!1}compile(){if(super.compile(),this._spec.sampling){const{width:e,height:t}=this._region.getLayoutRect(),i=this._fieldY,o=this._fieldX;this._data.setTransform([{type:"sampling",size:"horizontal"===this._direction?t:e,factor:this._spec.samplingFactor,yfield:"horizontal"===this._direction?o[0]:i[0],groupBy:this._seriesField,mode:this._spec.sampling}])}}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._barMark]}compileData(){var e;super.compileData(),null===(e=this._barBackgroundViewData)||void 0===e||e.compile()}fillData(){var e,t;super.fillData(),null===(t=null===(e=this._barBackgroundViewData)||void 0===e?void 0:e.getDataView())||void 0===t||t.reRunAllTransform()}viewDataUpdate(e){var t,i,o;super.viewDataUpdate(e),null===(i=null===(t=this._barBackgroundViewData)||void 0===t?void 0:t.getDataView())||void 0===i||i.reRunAllTransform(),null===(o=this._barBackgroundViewData)||void 0===o||o.updateData()}release(){var e;super.release(),null===(e=this._barBackgroundViewData)||void 0===e||e.release(),this._barBackgroundViewData=null}}nM.type=$_.bar,nM.builtInTheme={bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}}},nM.mark=tM,nM.transformerConstructor=lM;const rM=()=>{Gz(),eM(),Ow.registerAnimation("bar",(e,t)=>({appear:JB(e,t),enter:XB(e,!1),exit:$B(e,!1),disappear:$B(e)})),zz(),Tz(),Ow.registerSeries(nM.type,nM)};class aM extends Jz{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["barWidth","barMaxWidth","barMinWidth","barGapInGroup","barMinHeight","sampling","samplingFactor","barBackground","stackCornerRadius","useSequentialAnimation"])}transformSpec(e){super.transformSpec(e),aF(e)}_transformAxisSpec(e){var t,i;if(super._transformAxisSpec(e),!e.axes)return;const o=e.series.some(e=>"horizontal"===e.direction),l=null!==(t=e.axes.find(e=>"band"===e.type))&&void 0!==t?t:e.axes.find(e=>(o?["left","right"]:["top","bottom"]).includes(e.orient));if(l&&!l.bandSize&&!l.maxBandSize&&!l.minBandSize&&e.autoBandSize){const t=gu(e.autoBandSize)&&null!==(i=e.autoBandSize.extend)&&void 0!==i?i:0,{barMaxWidth:o,barMinWidth:n,barWidth:r,barGapInGroup:a}=e.series.find(e=>"bar"===e.type);this._applyAxisBandSize(l,t,{barMaxWidth:o,barMinWidth:n,barWidth:r,barGapInGroup:a})}}}class sM extends $z{constructor(){super(...arguments),this.transformerConstructor=aM,this.type="bar",this.seriesType=$_.bar}_setModelOption(){this._modelOption.getDimensionInfo=pB,this._modelOption.getDimensionInfoByValue=uB,this._modelOption.getRectByDimensionData=vB}}sM.type="bar",sM.seriesType=$_.bar,sM.transformerConstructor=aM,Pu(sM,iB);const hM=()=>{AB(),BB(),OB(),nB(),rM(),rB(),Ow.registerChart(sM.type,sM)},dM=[10,20],cM=u_.Linear,pM="circle",yM=u_.Ordinal,uM=["circle","square","triangle","diamond","star"],gM=(e,t)=>"fadeIn"===t?{type:"fadeIn"}:{type:"scaleIn"},fM=Object.assign(Object.assign({},PT),{point:{name:"point",type:"symbol"}});class kM extends QT{_transformLabelSpec(e){this._addMarkLabelSpec(e,"point")}}class mM extends oA{constructor(){super(...arguments),this.type=$_.scatter,this.transformerConstructor=kM,this._invalidType="zero"}setAttrFromSpec(){super.setAttrFromSpec(),this._size=this._spec.size,this._sizeField=this._spec.sizeField,this._shape=this._spec.shape,this._shapeField=this._spec.shapeField}_getSeriesAttribute(e,t,{defaultScaleType:i,defaultRange:o},l){var n,r,a,s;if(pu(t))return t;if(bu(t)){if(yu(e))return null===(n=this._option)||void 0===n||n.onError(`${l}Field is required.`),t;if("ordinal"!==i&&t.length>2)return null===(r=this._option)||void 0===r||r.onError(`${l} length is invalid, specify up to 2 ${l}s.`),t;const o=`${Jw}_series_scatter_${this.id}_scale_${l}`;return this._option.globalScale.registerModelScale({id:o,type:i,domain:[{dataId:this._rawData.name,fields:[e]}],range:t}),{scale:o,field:e}}if(gu(t)){if(yu(e))return null===(a=this._option)||void 0===a||a.onError(`${l}Field is required.`),t;const n=`${Jw}_series_scatter_${this.id}_scale_${l}`,r=Object.assign({id:n,type:i,domain:[{dataId:this._rawData.name,fields:[e]}],range:o},t);return this._option.globalScale.registerModelScale(r),{scale:r.id,field:e}}return null===(s=this._option)||void 0===s||s.onError(`${l} attribute is invalid.`),t}getSizeAttribute(e,t){return yu(t)?10:Cu(t)?t:!mu(t)||("string"!=typeof(i=t)||isNaN(Number(i))||isNaN(parseFloat(i)))?this._getSeriesAttribute(e,t,{defaultScaleType:cM,defaultRange:dM},"size"):parseFloat(t);var i}getShapeAttribute(e,t){return yu(t)?pM:mu(t)?t:this._getSeriesAttribute(e,t,{defaultScaleType:yM,defaultRange:uM},"shape")}initMark(){this._symbolMark=this._createMark(mM.mark.point,{groupKey:this._seriesField,isSeriesMark:!0},{morph:$T(this._spec,mM.mark.point.name),morphElementKey:this.getDimensionField()[0]})}initMarkStyle(){this.initSymbolMarkStyle()}initAnimation(){var e,t,i;const o=iA(this),l=null===(t=null===(e=this._spec)||void 0===e?void 0:e.animationAppear)||void 0===t?void 0:t.preset;this._symbolMark.setAnimationConfig(VT(null===(i=Ow.getAnimationInKey("scatter"))||void 0===i?void 0:i({},l),YT("point",this._spec,this._markAttributeContext),o))}initSymbolMarkStyle(){const e=this._symbolMark;e&&("zero"!==this._invalidType&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)}),this.setMarkStyle(e,{x:this.dataToPositionX.bind(this),y:this.dataToPositionY.bind(this),z:this._fieldZ?this.dataToPositionZ.bind(this):null,fill:this.getColorAttribute(),size:Cu(this._size)||pu(this._size)?this._size:10,symbolType:mu(this._shape)||pu(this._shape)?this._shape:pM},kF.STATE_NORMAL,pF.Series),(uu(this._sizeField)||uu(this._size))&&this.setMarkStyle(e,{size:this.getSizeAttribute(this._sizeField,this._size)},kF.STATE_NORMAL,pF.User_Mark),(uu(this._shapeField)||uu(this._shape))&&this.setMarkStyle(e,{symbolType:this.getShapeAttribute(this._shapeField,this._shape)},kF.STATE_NORMAL,pF.User_Mark))}initTooltip(){super.initTooltip(),this._symbolMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._symbolMark)}viewDataStatisticsUpdate(e){super.viewDataStatisticsUpdate(e);const t=[this.getDimensionField()[0],this.getStackValueField()].every(e=>{var t,i,o;return e&&(null===(o=null===(i=null===(t=this.getViewDataStatistics())||void 0===t?void 0:t.latestData)||void 0===i?void 0:i[e])||void 0===o?void 0:o.allValid)});"zero"===this._invalidType||t?this.setMarkStyle(this._symbolMark,{visible:!0},"normal",pF.Series):this.setMarkStyle(this._symbolMark,{visible:this._getInvalidDefined.bind(this)},"normal",pF.Series),this._symbolMark.getProduct()&&this._symbolMark.compileEncode()}initLabelMarkStyle(e){e&&(this._labelMark=e,this.setMarkStyle(e,{fill:this.getColorAttribute(),text:e=>e[this.getStackValueField()],z:this._fieldZ?this.dataToPositionZ.bind(this):null},kF.STATE_NORMAL,pF.Series),"zero"!==this._invalidType&&this.setMarkStyle(e,{visible:this._getInvalidDefined.bind(this)},kF.STATE_NORMAL,pF.Series))}handleZoom(e){var t,i;this.getMarksWithoutRoot().forEach(e=>{if(!e)return;const t=e.getGraphics();t&&t.length&&t.forEach((e,t)=>{var i,o;const l=null===(o=null===(i=null==e?void 0:e.context)||void 0===i?void 0:i.data)||void 0===o?void 0:o[0],n=this.dataToPosition(l);n&&e&&e.translateTo(n.x,n.y)})});const o=null===(i=null===(t=this._labelMark)||void 0===t?void 0:t.getComponent())||void 0===i?void 0:i.getProduct();o&&o.evaluate(null,null)}handlePan(e){this.handleZoom(e)}getDefaultShapeType(){return"circle"}getActiveMarks(){return[this._symbolMark]}}mM.type=$_.scatter,mM.mark=fM,mM.builtInTheme={scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}}},mM.transformerConstructor=kM;const bM=()=>{FA(),Ow.registerAnimation("scatter",(e,t)=>Object.assign({appear:gM(0,t)},tT)),zz(),Tz(),Ow.registerSeries(mM.type,mM)};class vM extends Jz{_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["point","size","shape","shapeField","sizeField"])}}class CM extends $z{constructor(){super(...arguments),this.transformerConstructor=vM,this.type="scatter",this.seriesType=$_.scatter}_setModelOption(){this._modelOption.getDimensionInfo=pB,this._modelOption.getDimensionInfoByValue=uB,this._modelOption.getRectByDimensionData=vB}}CM.type="scatter",CM.seriesType=$_.scatter,CM.transformerConstructor=vM,Pu(CM,iB);const SM=()=>{AB(),BB(),rB(),nB(),bM(),Ow.registerChart(CM.type,CM)};var xM=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};class _M extends YF{constructor(){super(...arguments),this.type=_M.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{x1:0,y1:0})}_transformGraphicAttributes(e,t,i){const o=super._transformGraphicAttributes(e,t,i),{x:l,x1:n,y:r,y1:a}=o,s=xM(o,["x","x1","y","y1"]);return Object.assign(Object.assign({},s),{points:[{x:l,y:r},{x:n,y:a}]})}_createGraphic(e={}){return Bh(e)}}_M.type="rule";const wM={rect:zM,symbol:AM,arc:MM,point:function(e){const{labelSpec:t}=e;let i;return i=!1!==t.overlap&&{clampForce:!1,avoidBaseMark:!1},{position:"center",overlap:i}},"line-data":function(e){const t=AM(e);return cu(t.overlap)||(t.overlap.avoidBaseMark=!1,t.overlap.clampForce=!1),t},stackLabel:function(e,t,i){const o=e.series,l=e.labelSpec||{},n=o.getTotalData();return{customLayoutFunc:n=>n.map(n=>{const r=l.position||"withChange",a=l.offset||0,s=t?t(n.data):n.data,h=FM(e,s,l.formatMethod);return h.x=function(e,t,i,o){return"horizontal"===t.direction?"middle"===i?.5*(t.totalPositionX(e,"end")+t.totalPositionY(e,"start")):"max"===i?t.totalPositionX(e,e.end>=e.start?"end":"start")+o:"min"===i?t.totalPositionX(e,e.end>=e.start?"start":"end")-o:t.totalPositionX(e,"end")+(e.end>=e.start?o:-o):t.totalPositionX(e,"index",.5)}(s,o,r,a),h.y=function(e,t,i,o){return"horizontal"===t.direction?t.totalPositionY(e,"index",.5):"middle"===i?.5*(t.totalPositionY(e,"end")+t.totalPositionY(e,"start")):"max"===i?t.totalPositionY(e,e.end>=e.start?"end":"start")-o:"min"===i?t.totalPositionY(e,e.end>=e.start?"start":"end")+o:t.totalPositionY(e,"end")+(e.end>=e.start?-o:o)}(s,o,r,a),"horizontal"===o.direction?h.textAlign="middle"===r?"center":"withChange"===r&&s.end-s.start>=0||"max"===r?"left":"right":h.textBaseline="middle"===r?r:"withChange"===r&&s.end-s.start>=0||"max"===r?"bottom":"top",null==i||i(n,s,h),wh(Object.assign(Object.assign({},h),{id:n.id}))}),dataFilter:e=>{const t=[];return n.forEach(i=>{const l=e.find(e=>{var t;return i.index===(null===(t=e.data)||void 0===t?void 0:t[o.getDimensionField()[0]])});l&&(l.data=i,t.push(l))}),t},overlap:{strategy:[]}}},line:OM,area:OM,rect3d:zM,arc3d:MM,treemap:function(e){return{customLayoutFunc:(e,t)=>t,overlap:!1}},venn:function(e){return{customLayoutFunc:(e,t)=>t,smartInvert:!0}}};function LM(e,t){var i;const{labelSpec:o}=t;o.overlap&&!gu(o.overlap)&&(o.overlap={});const l=null!==(i=wM[e])&&void 0!==i?i:wM.point;return t.series.type===$_.sankey?function(e){var t,i,o;const{series:l,labelSpec:n={}}=e,r=null!==(t=TM(n.position))&&void 0!==t?t:"outside",a=l.direction;let s,h=r;return mu(r)&&("vertical"===a?h="inside-start"===r?e=>"inside-left":"inside-middle"===r?e=>"center":"inside-end"===r?e=>"inside-right":e=>"bottom":"inside-start"===r?h=e=>"inside-left":"inside-middle"===r?h=e=>"center":"inside-end"===r?h=e=>"inside-right":"outside"===r&&(h=e=>"right")),s=!1!==n.overlap&&(!mu(r)||!r.includes("inside"))&&{strategy:null!==(o=null===(i=n.overlap)||void 0===i?void 0:i.strategy)&&void 0!==o?o:WM(l)},{position:h,overlap:s,smartInvert:!1,offset:0,syncState:!0}}(t):l(t)}function FM(e,t,i,o){var l,n;const{labelMark:r,series:a}=e,s=a.getMeasureField()[0],h=r.getAttributesOfState(t);if("text"in h||(h.text=null!==(l=h.text)&&void 0!==l?l:t[s]),"textType"in h||(h.textType=null!==(n=e.labelSpec.textType)&&void 0!==n?n:"text"),h.data=t,a.type!==$_.sankey){const{formatFunc:e,args:l}=vT(i,o,h.text,t);e&&(h._originText=h.text,h.text=e(...l,{series:a}))}return h}function TM(e){return pu(e)?t=>e(t.data):e}function AM(e){var t,i,o;const{series:l,labelSpec:n}=e,r="horizontal"===l.direction?"right":"top",a=null!==(t=TM(n.position))&&void 0!==t?t:r;let s;return s=!1!==n.overlap&&{strategy:null!==(o=null===(i=n.overlap)||void 0===i?void 0:i.strategy)&&void 0!==o?o:[{type:"position",position:["top","bottom","right","left","top-right","top-left","bottom-left","bottom-right"]}],avoidBaseMark:"center"!==a},{position:a,overlap:s}}function zM(e){var t,i,o,l,n,r;const{series:a,labelSpec:s={}}=e,h=null!==(t=TM(s.position))&&void 0!==t?t:"outside",d=null!==(i=a.direction)&&void 0!==i?i:"vertical",c="horizontal"===a.direction?null===(o=a.getXAxisHelper())||void 0===o?void 0:o.isInverse():null===(l=a.getYAxisHelper())||void 0===l?void 0:l.isInverse();let p,y=h;y=e=>{var t;const{data:i}=e,o=null!==(t="function"==typeof s.position?s.position(i):s.position)&&void 0!==t?t:"outside";if("outside"===o){const e=a.getMeasureField()[0],t={vertical:["top","bottom"],horizontal:["right","left"]},o=(null==i?void 0:i[e])>=0&&c||(null==i?void 0:i[e])<0&&!c?1:0;return t[d][o]}return o},p=!1!==s.overlap&&{strategy:null!==(r=null===(n=s.overlap)||void 0===n?void 0:n.strategy)&&void 0!==r?r:BM(a)};let u=!1;return mu(h)&&h.includes("inside")&&(u=!0),{position:y,overlap:p,smartInvert:u}}function BM(e){return[{type:"position",position:t=>{var i,o;const{data:l}=t,n=e.getMeasureField()[0];return("horizontal"===e.direction?null===(i=e.getXAxisHelper())||void 0===i?void 0:i.isInverse():null===(o=e.getYAxisHelper())||void 0===o?void 0:o.isInverse())?(null==l?void 0:l[n])>=0?"horizontal"===e.direction?["left","inside-left"]:["bottom","inside-bottom"]:"horizontal"===e.direction?["right","inside-right"]:["top","inside-top"]:(null==l?void 0:l[n])>=0?"horizontal"===e.direction?["right","inside-right"]:["top","inside-top"]:"horizontal"===e.direction?["left","inside-left"]:["bottom","inside-bottom"]}}]}function MM(e){var t;const{labelSpec:i}=e,o=null!==(t=TM(i.position))&&void 0!==t?t:"outside",l=o;let n;return n=i.smartInvert?i.smartInvert:mu(o)&&o.includes("inside"),{position:l,smartInvert:n}}function OM(e){var t,i,o,l;const{labelSpec:n,series:r}=e,a=null===(o=null===(i=null===(t=r.getViewDataStatistics)||void 0===t?void 0:t.call(r).latestData)||void 0===i?void 0:i[r.getSeriesField()])||void 0===o?void 0:o.values,s=a?a.map((e,t)=>({[r.getSeriesField()]:e,index:t})):[{index:0,[oL]:r.getSeriesKeys()[0]}];return{position:null!==(l=n.position)&&void 0!==l?l:"end",data:s,overlap:{avoidBaseMark:!1,clampForce:!1}}}function WM(e){return[{type:"position",position:t=>"horizontal"===e.direction?["right","left"]:["bottom","top"]}]}class RM extends YF{getTextType(){return this._textType}constructor(e,t){super(e,t),this.type=RM.type,this._textType="text"}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{angle:0,textAlign:"center",lineWidth:0,textConfig:[]})}initStyleWithSpec(e){super.initStyleWithSpec(e),e.textType&&(this._textType=e.textType)}_transformGraphicAttributes(e,t,i){const o=super._transformGraphicAttributes(e,t,i),{text:l}=o;return gu(l)&&uu(l.text)&&("rich"===this._textType||"rich"===l.type)&&(o.textConfig=l.text),o}_createGraphic(e={}){const{text:t}=e;return"rich"===this._textType||"rich"===(null==t?void 0:t.type)?Xh(e):wh(e)}}RM.type="text";const HM=()=>{Ow.registerMark(RM.type,RM),vb(),_b(),mb(),Ow.registerGraphicComponent("text",wh),Ow.registerGraphicComponent("richtext",Xh)};class PM extends eA{constructor(){super(...arguments),this.coordinate="polar",this._outerRadius=.6,this._innerRadius=0,this._angleField=[],this._radiusField=[],this._sortDataByAxis=!1}get outerRadius(){return this._outerRadius}get innerRadius(){return this._innerRadius}getAngleField(){return this._angleField}setAngleField(e){return this._angleField=uu(e)?Eu(e):[],this._angleField}getRadiusField(){return this._radiusField}setRadiusField(e){return this._radiusField=uu(e)?Eu(e):[],this._radiusField}get innerRadiusField(){return this._innerRadiusField}setInnerRadiusField(e){return this._innerRadiusField=Eu(e),this._innerRadiusField}get radiusScale(){return this._radiusScale}setRadiusScale(e){return this._radiusScale=e,e}get angleScale(){return this._angleScale}setAngleScale(e){return this._angleScale=e,e}get angleAxisHelper(){return this._angleAxisHelper}set angleAxisHelper(e){this._angleAxisHelper=e,this.onAngleAxisHelperUpdate()}get radiusAxisHelper(){return this._radiusAxisHelper}set radiusAxisHelper(e){this._radiusAxisHelper=e,this.onRadiusAxisHelperUpdate()}get sortDataByAxis(){return this._sortDataByAxis}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this),this._markAttributeContext.getCenter=()=>this.angleAxisHelper.center(),this._markAttributeContext.getLayoutRadius=()=>this._computeLayoutRadius()}valueToPosition(e,t){if(yu(e)||yu(t)||!this.angleAxisHelper||!this.radiusAxisHelper)return{x:Number.NaN,y:Number.NaN};const i=this.radiusAxisHelper.dataToPosition(Eu(t));if(i<0){if("break"===this._invalidType||"link"===this._invalidType)return{x:Number.NaN,y:Number.NaN};if("zero"===this._invalidType)return this.angleAxisHelper.center()}const o=this.angleAxisHelper.dataToPosition(Eu(e));return this.angleAxisHelper.coordToPoint({angle:o,radius:i})}dataToPosition(e,t){return e&&this.angleAxisHelper&&this.radiusAxisHelper?t&&!this.isDatumInViewData(e)?null:this.valueToPosition(this.getDatumPositionValues(e,this._angleField),this.getDatumPositionValues(e,this._radiusField)):null}dataToPositionX(e){var t;return null===(t=this.dataToPosition(e))||void 0===t?void 0:t.x}dataToPositionY(e){var t;return null===(t=this.dataToPosition(e))||void 0===t?void 0:t.y}dataToPositionZ(e){return 0}positionToData(e){}radiusToData(e){}angleToData(e){}getStatisticFields(){var e,t;const i=[];return(null===(e=this.radiusAxisHelper)||void 0===e?void 0:e.getScale)&&this._radiusField.forEach(e=>{const t={key:e,operations:[]};f_(this.radiusAxisHelper.getScale(0).type)?t.operations=["max","min"]:t.operations=["values"],i.push(t)}),(null===(t=this.angleAxisHelper)||void 0===t?void 0:t.getScale)&&this._angleField.forEach(e=>{const t={key:e,operations:[]};f_(this.angleAxisHelper.getScale(0).type)?t.operations=["max","min"]:t.operations=["values"],i.push(t)}),i}setAttrFromSpec(){super.setAttrFromSpec(),uu(this._spec.outerRadius)&&(this._outerRadius=this._spec.outerRadius),uu(this._spec.radius)&&(this._outerRadius=this._spec.radius),uu(this._spec.innerRadius)&&(this._innerRadius=this._spec.innerRadius),uu(this._spec.sortDataByAxis)&&(this._sortDataByAxis=!0===this._spec.sortDataByAxis)}onRadiusAxisHelperUpdate(){this.onMarkPositionUpdate()}onAngleAxisHelperUpdate(){this.onMarkPositionUpdate()}afterInitMark(){super.afterInitMark()}_computeLayoutRadius(){const e=this._angleAxisHelper||this._radiusAxisHelper;if(e)return e.layoutRadius();const{width:t,height:i}=this._region.getLayoutRect();return Math.min(t/2,i/2)}initEvent(){super.initEvent(),this.sortDataByAxis&&this.event.on(WL.scaleDomainUpdate,{filter:e=>{var t;return e.model.id===(null===(t=this._angleAxisHelper)||void 0===t?void 0:t.getAxisId())}},()=>{this._sortDataInAxisDomain()})}_sortDataInAxisDomain(){var e,t;(null===(t=null===(e=this.getViewData())||void 0===e?void 0:e.latestData)||void 0===t?void 0:t.length)&&tA(this.angleAxisHelper,this._angleField[0],this.getViewData().latestData)}getInvalidCheckFields(){const e=[];return this.angleAxisHelper.isContinuous&&this._angleField.forEach(t=>{e.push(t)}),this.radiusAxisHelper.isContinuous&&this._radiusField.forEach(t=>{e.push(t)}),e}}function EM(e){return Wg(e)?Number.parseFloat(e):0}const DM=(e,t)=>{const{asStartAngle:i,asEndAngle:o,asMiddleAngle:l,asRadian:n,asRatio:r,asQuadrant:a,asK:s,showAllZero:h,supportNegative:d,showEmptyCircle:c}=t,p=t.angleField(),y=t.startAngle(),u=t.endAngle(),g=t.minAngle(),f=e.map(e=>Object.assign({},e));if(!f||0===f.length)return f;if(!h&&c&&IM(f,p,d))return[];const k=(e,t,r)=>{e[i]=t,e[o]=t+r,e[l]=t+r/2,e[n]=r,e[a]=function(e){return(e=lg(e))>0&&e<=Math.PI/2?2:e>Math.PI/2&&e<=Math.PI?3:e>Math.PI&&e<=3*Math.PI/2?4:1}(t+r/2)};let m=0,b=-1/0,v=!0;for(let F=0;F<f.length;F++){const e=d?Math.abs(EM(f[F][p])):EM(f[F][p]);m+=e,b=Math.max(e,b),v&&0!==e&&(v=!1),f[F][VA]=e}const C=f.map(e=>Number(e[p])),S=u-y;let x=y,_=S,w=0;const L=function(e,t=2){const i=e.reduce((e,t)=>e+(isNaN(t)?0:t),0);if(0===i)return 0;const o=Math.pow(10,t),l=e.map(e=>(isNaN(e)?0:e)/i*o*100),n=100*o,r=l.map(e=>Math.floor(e));let a=r.reduce((e,t)=>e+t,0);const s=l.map((e,t)=>e-r[t]);for(;a<n;){let e=Number.NEGATIVE_INFINITY,t=null;for(let i=0;i<s.length;i++)s[i]>e&&(e=s[i],t=i);++r[t],s[t]=0,++a}return r.map(e=>e/o)}(C);if(f.forEach((e,t)=>{const i=e[VA],o=m?i/m:0;let l=o*S;l<g?(l=g,_-=g):w+=i;const n=x,a=x+l;e[r]=o,e[s]=b?i/b:0,e._percent_=L[t],k(e,n,l),x=a}),_<S)if(_<=.001){const e=S/f.length;f.forEach((t,i)=>{k(t,y+i*e,e)})}else{const e=_/w;x=y,f.forEach(t=>{const i=t[n]===g?g:t[VA]*e;k(t,x,i),x+=i})}if(0!==m&&(f[f.length-1][o]=u),v&&h){const e=S/f.length;f.forEach((t,i)=>{k(t,y+i*e,e)})}return f},IM=(e,t,i)=>!!yu(e)||0===e.length||!!e.every(e=>0===EM(e[t]))||!i&&0===e.reduce((e,i)=>e+EM(i[t]),0);function jM(e,t,i){return(o,l,n)=>t?"radius"===e.growField?{overall:0}:{overall:e.growFrom(o,l,i)}:{overall:!1}}const NM=e=>({type:"radius"===e.growField?"growRadiusIn":"growAngleIn",options:jM(e,!0,KL.appear)}),GM={type:"fadeIn"},UM=e=>({type:"radius"===e.growField?"growRadiusIn":"growAngleIn",easing:"linear",options:jM(e,!0,KL.enter)}),VM=e=>({type:"radius"===e.growField?"growRadiusOut":"growAngleOut",easing:"linear",options:jM(e,!0,KL.exit)}),YM=e=>({type:"radius"===e.growField?"growRadiusOut":"growAngleOut",options:jM(e,!0,KL.exit)});function ZM(e,t){if(!1===t)return{};switch(t){case"fadeIn":return GM;case"growRadius":return NM(Object.assign(Object.assign({},e),{growField:"radius"}));default:return NM(Object.assign(Object.assign({},e),{growField:"angle"}))}}class XM extends YF{constructor(e,t){super(e,t),this.type=$M.type,this._unCompileChannel={centerOffset:!0,radiusOffset:!0},this.computeOuterRadius=(e,t,i="normal",o)=>{var l;return o+(null!==(l=this.getAttribute("radiusOffset",t,i))&&void 0!==l?l:0)},this.computeCenter=(e,t,i="normal",o)=>og({x:0,y:0},this.getAttribute("centerOffset",t,i),t[KA])[e]+o,this._computeExChannel.x=this.computeCenter,this._computeExChannel.y=this.computeCenter,this._computeExChannel.outerRadius=this.computeOuterRadius,this._extensionChannel.centerOffset=["x","y"],this._extensionChannel.radiusOffset=["outerRadius"]}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{startAngle:0,endAngle:0,outerRadius:0,innerRadius:0,cornerRadius:0,lineWidth:0,innerPadding:0,outerPadding:0})}}class $M extends XM{constructor(){super(...arguments),this.type=$M.type}}$M.type="arc";const KM=()=>{vb(),lb(),ox("arc",gx),Yv.registerBuiltInAnimate("growRadiusIn",JC),Yv.registerBuiltInAnimate("growRadiusOut",QC),Yv.registerBuiltInAnimate("growAngleIn",OC),Yv.registerBuiltInAnimate("growAngleOut",WC),Ow.registerGraphicComponent("arc",od),Ow.registerMark($M.type,$M)},qM=Object.assign(Object.assign({},PT),{pie:{name:"pie",type:"arc"},labelLine:{name:"labelLine",type:"path"}});class JM extends QT{_transformLabelSpec(e){this._addMarkLabelSpec(e,"pie")}_mergeThemeToSpec(e,t){const i=this._theme;let o=e;if(this._shouldMergeThemeToSpec()){const i=this._getDefaultSpecFromChart(t);o=Mw({},this._theme,i,e);const l=(e,t)=>Mw({},"inside"===e||"inside-center"===e?this._theme.innerLabel:this._theme.outerLabel,t);bu(o.label)?o.label=o.label.map(e=>l(e.position,e)):o.label=l(o.label.position,o.label)}return{spec:o,theme:i}}_getDefaultSpecFromChart(e){var t;const i=null!==(t=super._getDefaultSpecFromChart(e))&&void 0!==t?t:{},{centerX:o,centerY:l}=e;return uu(o)&&(i.centerX=o),uu(l)&&(i.centerY=l),Object.keys(i).length>0?i:void 0}}const QM=`${Jw}_LABEL_VISIBLE`;class eO extends PM{constructor(){super(...arguments),this.transformerConstructor=JM,this._pieMarkName="pie",this._pieMarkType="arc",this.getCenter=()=>{var e,t;const i=this._region.getLayoutRect();return{x:uw(null===(e=this._spec)||void 0===e?void 0:e.centerX,i.width,i,i.width/2),y:uw(null===(t=this._spec)||void 0===t?void 0:t.centerY,i.height,i,i.height/2)}},this._startAngle=QA,this._endAngle=ez,this._pieMark=null,this._labelMark=null,this._labelLineMark=null,this._emptyArcMark=null,this.dataToCentralPosition=e=>{const t=e[KA];if(yu(t))return null;const i=this.computeDatumRadius(e),o=this.computeDatumInnerRadius(e);return og(this.computeCenter(e),(i+o)/2,t)}}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.getCenter=()=>({x:()=>this.getCenter().x,y:()=>this.getCenter().y}),this._markAttributeContext.startAngleScale=e=>this.startAngleScale(e),this._markAttributeContext.endAngleScale=e=>this.endAngleScale(e)}setAttrFromSpec(){var e,t,i,o,l,n;super.setAttrFromSpec(),this._centerOffset=null!==(e=this._spec.centerOffset)&&void 0!==e?e:0,this._cornerRadius=null!==(t=this._spec.cornerRadius)&&void 0!==t?t:0;const r=function(e,t){let i=0,o=2*Math.PI;const l=uu(e),n=uu(t);for(l||n?n?l?(i=e,o=t):(i=t-2*Math.PI,o=t):(i=e,o=e+2*Math.PI):(i=0,o=2*Math.PI);o<=i;)o+=2*Math.PI;for(;i>2*Math.PI;)i-=2*Math.PI,o-=2*Math.PI;for(;o<0;)i+=2*Math.PI,o+=2*Math.PI;return{startAngle:i,endAngle:o}}(uu(this._spec.startAngle)?ig(this._spec.startAngle):this._startAngle,uu(this._spec.endAngle)?ig(this._spec.endAngle):this._endAngle);this._startAngle=r.startAngle,this._endAngle=r.endAngle,this._padAngle=uu(this._spec.padAngle)?ig(this._spec.padAngle):0,this.setAngleField(this._spec.valueField||this._spec.angleField),this._spec.categoryField&&this.setSeriesField(this._spec.categoryField),this._radiusField=[],this._specAngleField=this._angleField.slice(),this._specRadiusField=[],this._showEmptyCircle=null!==(o=null===(i=this._spec.emptyPlaceholder)||void 0===i?void 0:i.showEmptyCircle)&&void 0!==o&&o,this._showAllZero=null!==(l=this._spec.showAllZero)&&void 0!==l&&l,this._supportNegative=null!==(n=this._spec.supportNegative)&&void 0!==n&&n}initData(){super.initData();const e=this.getViewData();if(!e)return;jL(this._dataSet,"pie",DM),e.transform({type:"pie",options:{angleField:()=>this._angleField[0],startAngle:()=>this._startAngle,endAngle:()=>this._endAngle,minAngle:()=>uu(this._spec.minAngle)?ig(this._spec.minAngle):0,asStartAngle:ZA,asEndAngle:XA,asRatio:YA,asMiddleAngle:KA,asRadian:JA,asQuadrant:qA,asK:$A,showAllZero:this._showAllZero,supportNegative:this._supportNegative,showEmptyCircle:this._showEmptyCircle}},!1);const t=new E(this._dataSet,{name:`${Jw}_series_${this.id}_viewDataLabel`});t.parse([this.getViewData()],{type:"dataview"}),this._viewDataLabel=new IF(this._option,t)}compileData(){var e;super.compileData(),null===(e=this._viewDataLabel)||void 0===e||e.compile()}initMark(){this._pieMark=this._createMark(Object.assign(Object.assign({},eO.mark.pie),{name:this._pieMarkName,type:this._pieMarkType}),{key:iL,groupKey:this._seriesField,isSeriesMark:!0},{morph:$T(this._spec,this._pieMarkName),morphElementKey:this._seriesField}),this._showEmptyCircle&&(this._emptyArcMark=this._createMark({name:"emptyCircle",type:"arc"},{dataView:!1}),this._data.addRelatedMark(this._emptyArcMark))}startAngleScale(e){return Px(ZA)(e)}endAngleScale(e){return Px(XA)(e)}_computeLayoutRadius(){return((e,t,i,o)=>{const l=e();if(Cu(l))return l;if(pu(l))return l(t(),i());const n=t();if("auto"===l&&n.width>0&&n.height>0){const{startAngle:e=0,endAngle:t=2*Math.PI}=o();return ng(n,i(),e,t)}return Math.min(n.width/2,n.height/2)})(()=>this._spec.layoutRadius,this.getLayoutRect,this.getCenter,()=>({startAngle:this._startAngle,endAngle:this._endAngle}))}initMarkStyle(){const e={x:()=>this.getCenter().x,y:()=>this.getCenter().y,fill:this.getColorAttribute(),outerRadius:cw(this._outerRadius)?this._outerRadius:()=>this._computeLayoutRadius()*this._outerRadius,innerRadius:cw(this._innerRadius)?this._innerRadius:()=>this._computeLayoutRadius()*this._innerRadius,cornerRadius:()=>this._computeLayoutRadius()*this._cornerRadius,startAngle:e=>this.startAngleScale(e),endAngle:e=>this.endAngleScale(e),padAngle:this._padAngle,centerOffset:this._centerOffset},t=this._pieMark;t&&this.setMarkStyle(t,e,"normal",pF.Series);const i=this._emptyArcMark;i&&this.setMarkStyle(i,Object.assign(Object.assign({},e),{visible:()=>{const e=this.getViewData().latestData;return!e||!e.length}}),"normal",pF.Series)}getInteractionTriggers(){return this._parseInteractionConfig(this._pieMark?[this._pieMark]:[])}initTooltip(){super.initTooltip(),this._pieMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._pieMark)}initMarkStyleWithSpec(e,t){if(super.initMarkStyleWithSpec(e,t),e.name===this._pieMarkName){const t=this.getSpec()[e.name];if(t)for(const i in t.state||{})this.setMarkStyle(e,this.generateRadiusStyle(t.state[i]),i,pF.User_Mark)}"emptyCircle"===e.name&&this.setMarkStyle(e,this.generateRadiusStyle(t.style),"normal",pF.User_Mark)}initLabelMarkStyle(e){e&&this.setMarkStyle(e,{visible:Px(QM).bind(this),text:e=>e[this.getDimensionField()[0]],fill:this.getColorAttribute(),z:this.dataToPositionZ.bind(this)})}afterInitMark(){super.afterInitMark()}initEvent(){var e;super.initEvent(),null===(e=this._viewDataLabel.getDataView())||void 0===e||e.target.addListener("change",this.viewDataLabelUpdate.bind(this))}initGroups(){}onLayoutEnd(){this._viewDataLabel.getDataView().reRunAllTransform(),this.onMarkPositionUpdate(),super.onLayoutEnd()}getDimensionField(){return this._seriesField?[this._seriesField]:[]}getMeasureField(){return this._specAngleField}viewDataLabelUpdate(){this.event.emit(WL.viewDataLabelUpdate,{model:this}),this._viewDataLabel.updateData()}generateRadiusStyle(e){if(!e)return;const t={};return e.outerRadius&&(t.outerRadius=()=>this._computeLayoutRadius()*e.outerRadius),e.innerRadius&&(t.innerRadius=()=>this._computeLayoutRadius()*e.innerRadius),e.cornerRadius&&(t.cornerRadius=()=>this._computeLayoutRadius()*e.cornerRadius),t}computeCenter(e){return{x:this._pieMark.getAttribute("x",e,"normal"),y:this._pieMark.getAttribute("y",e,"normal")}}getRadius(e="normal"){var t,i,o,l,n,r,a;const s="normal"===e?null===(o=null===(i=this.getSpec()[(null===(t=this._pieMark)||void 0===t?void 0:t.name)||"pie"])||void 0===i?void 0:i.style)||void 0===o?void 0:o.outerRadius:null===(a=null===(r=null===(n=this.getSpec()[(null===(l=this._pieMark)||void 0===l?void 0:l.name)||"pie"])||void 0===n?void 0:n.state)||void 0===r?void 0:r[e])||void 0===a?void 0:a.outerRadius;return null!=s?s:this._outerRadius}getInnerRadius(e="normal"){var t,i,o,l,n,r,a;const s="normal"===e?null===(o=null===(i=this.getSpec()[(null===(t=this._pieMark)||void 0===t?void 0:t.name)||"pie"])||void 0===i?void 0:i.style)||void 0===o?void 0:o.innerRadius:null===(a=null===(r=null===(n=this.getSpec()[(null===(l=this._pieMark)||void 0===l?void 0:l.name)||"pie"])||void 0===n?void 0:n.state)||void 0===r?void 0:r[e])||void 0===a?void 0:a.innerRadius;return null!=s?s:this._innerRadius}computeRadius(e,t){return this._computeLayoutRadius()*e*(yu(t)?1:t)+this._centerOffset}computeDatumRadius(e,t){return this._computeLayoutRadius()*this.getRadius(t)+this._centerOffset}_compareSpec(e,t,i){i=null!=i?i:{data:!0};const o=["centerX","centerY","centerOffset","radius","innerRadius","cornerRadius","startAngle","endAngle","padAngle"];o.forEach(e=>{i[e]=!0});const l=super._compareSpec(e,t,i);return e=null!=e?e:{},o.some(i=>e[i]!==t[i])&&(l.reRender=!0,l.change=!0),l}computeDatumInnerRadius(e,t){return this._computeLayoutRadius()*this.getInnerRadius(t)+this._centerOffset}dataToPosition(e,t){const i=e[KA];if(yu(i))return null;if(t&&!this.isDatumInViewData(e))return null;const o=this.computeDatumRadius(e);return og(this.computeCenter(e),o,i)}initAnimation(){var e,t,i;const o={growFrom:(e,t,i)=>{var o,l;if(i===KL.appear)return this._startAngle;if(i===KL.disappear)return this._endAngle;const n=[KL.disappear,KL.exit],r=this._pieMark.getGraphics(),a=null==e?void 0:e[tL];if(void 0===r.find(e=>{var t;return(null===(t=e.context.data[0])||void 0===t?void 0:t[tL])<a}))return this._startAngle;if(void 0===r.find(e=>{var t;return(null===(t=e.context.data[0])||void 0===t?void 0:t[tL])>a}))return this._endAngle;const s=[...r].reverse().find(e=>{var t;return(null===(t=e.context.data[0])||void 0===t?void 0:t[tL])<a});return n.includes(i)?null===(o=null==s?void 0:s.getFinalAttribute())||void 0===o?void 0:o.endAngle:null===(l=null==s?void 0:s.attribute)||void 0===l?void 0:l.endAngle}},l=null===(e=this._spec.animationAppear)||void 0===e?void 0:e.preset;if(this._pieMark){const e=VT(null===(t=Ow.getAnimationInKey("pie"))||void 0===t?void 0:t(o,l),YT("pie",this._spec,this._markAttributeContext));e.normal&&e.normal.type&&(e.normal=function(e,t){var i,o,l,n;const r=null!==(o=null===(i=t.options)||void 0===i?void 0:i.distance)&&void 0!==o?o:10,a=Su(t.duration)?t.duration/2:1e3,s=null!==(l=t.options.easing)&&void 0!==l?l:"cubicOut";return{oneByOne:t.oneByOne,loop:null!==(n=t.loop)&&void 0!==n&&n,timeSlices:[{duration:a,effects:{easing:s,channel:{x:{from:t=>e.getAttribute("x",t),to:t=>e.getAttribute("x",t)+og({x:0,y:0},r,t[KA]).x},y:{from:t=>e.getAttribute("y",t),to:t=>e.getAttribute("y",t)+og({x:0,y:0},r,t[KA]).y}}}},{duration:a,effects:{easing:s,channel:{x:{to:t=>e.getAttribute("x",t),from:t=>e.getAttribute("x",t)+og({x:0,y:0},r,t[KA]).x},y:{to:t=>e.getAttribute("y",t),from:t=>e.getAttribute("y",t)+og({x:0,y:0},r,t[KA]).y}}}}]}}(this._pieMark,e.normal)),this._pieMark.setAnimationConfig(e)}if(this._emptyArcMark){const e=VT(null===(i=Ow.getAnimationInKey("emptyCircle"))||void 0===i?void 0:i(o,null!=l?l:"fadeIn"));this._emptyArcMark.setAnimationConfig(e)}}getDefaultShapeType(){return"circle"}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}_noAnimationDataKey(e,t){return t}getActiveMarks(){return[this._pieMark]}}eO.transformerConstructor=JM,eO.mark=qM,eO.builtInTheme={pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}}};class tO extends eO{constructor(){super(...arguments),this.type=$_.pie}}tO.type=$_.pie;const iO=()=>{KM(),Ow.registerAnimation("pie",(e,t)=>({appear:ZM(e,t),enter:UM(e),exit:VM(e),disappear:YM(e)})),Ow.registerAnimation("emptyCircle",(e,t)=>({appear:ZM(e,t)})),Ow.registerSeries(tO.type,tO)},oO=[0],lO=[20,40],nO=[200,500],rO={shrink:!1,enlarge:!1,fontSizeLimitMin:0},aO=["triangleForward","triangle","diamond","square","star","cardioid","circle","pentagon","rect"],sO=`${Jw}_WORD_CLOUD_TEXT`,hO=Object.assign(Object.assign({},PT),{word:{name:"word",type:"text"},fillingWord:{name:"fillingWord",type:"text"},wordMask:{name:"wordMask",type:"rect"}});class dO extends eA{constructor(){super(...arguments),this._fontSizeRange=[20,20],this._isWordCloudShape=!1,this._dataChange=!0,this.handleMaskCanvasUpdate=(e,t)=>{this._maskCanvas=e},this.getWordColor=e=>e.isFillingWord?(this._fillingColorCallback&&!this._dataChange||(this._fillingColorCallback=this._wordCloudShapeConfig.fillingColorHexField?e=>e[this._wordCloudShapeConfig.fillingColorHexField]:this.initColorCallback(this._wordCloudShapeConfig.fillingSeriesField,!0)),this._fillingColorCallback(e)):(this._keyWordColorCallback&&!this._dataChange||(this._keyWordColorCallback=this._spec.colorHexField?e=>e[this._spec.colorHexField]:this.initColorCallback(this._seriesField,!1)),this._keyWordColorCallback(e)),this._calculateFontWeight=e=>{const t=this.getRawDataStatisticsByField(this._valueField,!0);return t.min===t.max?this._fontWeightRange[0]:this._fontWeightRange[0]+(this._fontWeightRange[this._fontWeightRange.length-1]-this._fontWeightRange[0])*(e[this._valueField]-t.min)/(t.max-t.min)}}setValueField(e){uu(e)&&(this._valueField=e)}setFontSizeRange(e){uu(e)?this._fontSizeRange=e:this._fontSizeRange=lO}setAttrFromSpec(){var e,t,i,o,l;super.setAttrFromSpec(),this._padding=this._option.getChart().padding,this._nameField=this._spec.nameField,this._colorMode=null!==(e=this._spec.colorMode)&&void 0!==e?e:"ordinal",this._colorList=this._spec.colorList,this.setValueField(this._spec.valueField),this._fontWeightRange=null!==(t=this._spec.fontWeightRange)&&void 0!==t?t:nO,this._rotateAngles=null!==(i=this._spec.rotateAngles)&&void 0!==i?i:oO,this.setFontSizeRange(this._spec.fontSizeRange),this._maskShape=null!==(o=this._spec.maskShape)&&void 0!==o?o:"circle",this._textField=(null===(l=this._spec.word)||void 0===l?void 0:l.formatMethod)?sO:this._nameField;const n=this._spec.wordCloudConfig;this._wordCloudConfig=Object.assign({drawOutOfBound:"hidden",layoutMode:"default",zoomToFit:rO},this._spec.wordCloudConfig),n&&!yu(n.layoutMode)||Ag(this._option.mode)||(this._wordCloudConfig.layoutMode="fast"),this._wordCloudShapeConfig=Object.assign({fillingSeriesField:this.getSeriesField(),fillingRotateAngles:oO,layoutMode:"default"},this._spec.wordCloudShapeConfig),this._isWordCloudShape=!aO.includes(this._maskShape)&&!["fast","grid","cloud"].includes(this._wordCloudConfig.layoutMode),this._defaultFontFamily=this._option.getTheme("fontFamily")}initData(){var e,t;super.initData(),null===(t=null===(e=this.getViewData())||void 0===e?void 0:e.target)||void 0===t||t.addListener("change",()=>{this._dataChange=!0,this.compile()})}initMark(){var e;this._wordMark=this._createMark(dO.mark.word,{key:iL,groupKey:this._seriesField,isSeriesMark:!0},{morphElementKey:this._seriesField}),(null===(e=this._spec.wordMask)||void 0===e?void 0:e.visible)&&(this._maskMark=this._createMark(dO.mark.wordMask,{dataView:!1}),this._maskMark.setMarkConfig({zIndex:dF.Mark-1}))}initMarkStyle(){this.initMarkStyleOfWord(this._wordMark,this._spec.word,this._spec.colorHexField,this._seriesField),this._maskMark&&this.setMarkStyle(this._maskMark,{width:()=>this._region.getLayoutRect().width,height:()=>this._region.getLayoutRect().height,background:()=>this._maskCanvas},"normal",pF.Series)}initMarkStyleOfWord(e,t,i,o,l){var n,r;e&&(this.setMarkStyle(e,{text:(null==t?void 0:t.formatMethod)?e=>t.formatMethod(e):e=>e[this._textField],x:e=>e.x,y:e=>e.y,fontSize:e=>e.fontSize,fontStyle:e=>e.fontStyle,angle:e=>e.angle,visible:e=>e.visible},"normal",pF.Series),this.setMarkStyle(e,{fill:null!==(r=null===(n=null==t?void 0:t.style)||void 0===n?void 0:n.fill)&&void 0!==r?r:this.getWordColor,fontWeight:e=>e.fontWeight,fontFamily:e=>e.fontFamily},"normal",pF.User_Mark))}initTooltip(){super.initTooltip(),this._wordMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._wordMark)}initAnimation(){[this._wordMark].forEach(e=>{var t,i;if(e){const o=null===(i=null===(t=this._spec)||void 0===t?void 0:t.animationAppear)||void 0===i?void 0:i.preset,l={animationConfig:()=>{var t,i;return null===(i=null===(t=e.getAnimationConfig())||void 0===t?void 0:t.appear)||void 0===i?void 0:i[0]}};e.setAnimationConfig(VT(Ow.getAnimationInKey("wordCloud")(l,o),YT("word",this._spec,this._markAttributeContext)))}})}getWordOrdinalColorScale(e,t){var i,o,l,n,r;const a=t?this._wordCloudShapeConfig.fillingColorList:this._colorList,s=e?null===(i=this.getViewData())||void 0===i?void 0:i.latestData.map(t=>t[e]):[],h=null!==(l=null!=a?a:null===(o=this._option.globalScale.getScale("color"))||void 0===o?void 0:o.range())&&void 0!==l?l:this._getDataScheme();return null===(r=(n=(new aw).domain(s)).range)||void 0===r?void 0:r.call(n,h)}initColorCallback(e,t){var i,o,l,n;if("ordinal"===this._colorMode){const i=this.getWordOrdinalColorScale(e,t);return t=>i.scale(t[null!=e?e:oL])}const r=null!==(i=t?this._colorList:this._wordCloudShapeConfig.fillingColorList)&&void 0!==i?i:this._option.globalScale.getScale("color").range();if(1===r.length)return e=>r[0];if(this._valueField){const e=this.getRawDataStatisticsByField(this._valueField,!0);if(e.min===e.max)return r[0];const t=(new Z_).domain([e.min,e.max]).range(r);return e=>t.scale(e[this._valueField])}const a=(new Z_).domain([0,null!==(n=null===(l=null===(o=this.getViewData())||void 0===o?void 0:o.latestData)||void 0===l?void 0:l.length)&&void 0!==n?n:1]).range(r);return e=>a.scale(e[tL])}compile(){super.compile();const{width:e,height:t}=this._region.getLayoutRect();if(!Su(e)||!Su(t)||!(t>0&&e>0))return;const i=[];this._isWordCloudShape?i.push(Object.assign({type:"wordcloudShape"},this._wordCloudShapeTransformOption())):i.push(Object.assign({type:"wordcloud"},this._wordCloudTransformOption())),this._wordMark.setTransform(i)}_getCommonTransformOptions(){var e,t,i,o,l;const{width:n,height:r}=this._region.getLayoutRect(),a=null!==(e=this._spec.word)&&void 0!==e?e:{},s=null!==(t=a.style)&&void 0!==t?t:{};return{size:[n,r],shape:gu(this._maskShape)&&"text"===this._maskShape.type&&yu(this._maskShape.fontFamily)?Object.assign({fontFamily:this._option.getTheme("fontFamily")},this._maskShape):this._maskShape,onUpdateMaskCanvas:this.handleMaskCanvasUpdate,onLayoutFinished:()=>{const e=()=>{var t,i,o,l;this._option.globalInstance.getStage().hooks.afterRender.taps=this._option.globalInstance.getStage().hooks.afterRender.taps.filter(t=>t.fn!==e),null===(i=(t=this._option).dispatchEvent)||void 0===i||i.call(t,WL.afterWordcloudShapeDraw,{instance:this._option.globalInstance}),null===(l=null===(o=this._option.globalInstance.getChart().getOption().performanceHook)||void 0===o?void 0:o.afterWordcloudShapeDraw)||void 0===l||l.call(o,this._option.globalInstance)};this._option.globalInstance.getStage().hooks.afterRender.taps.push({type:"sync",name:"afterWordcloudShapeDraw",fn:e})},dataIndexKey:iL,text:a.formatMethod?e=>a.formatMethod(e):{field:this._textField},fontSize:this._valueField?{field:this._valueField}:this._fontSizeRange[0],fontSizeRange:"auto"===this._fontSizeRange?null:this._fontSizeRange,padding:null!==(o=null===(i=this._spec.word)||void 0===i?void 0:i.padding)&&void 0!==o?o:1,fontFamily:uu(this._spec.fontFamilyField)?{field:this._spec.fontFamilyField}:null!==(l=s.fontFamily)&&void 0!==l?l:this._defaultFontFamily,fontWeight:uu(this._spec.fontWeightField)?{field:this._spec.fontWeightField}:uu(s.fontWeight)?s.fontWeight:uu(this._valueField)?this._calculateFontWeight:"normal",fontStyle:uu(this._spec.fontStyleField)?{field:this._spec.fontStyleField}:s.fontStyle,createCanvas:iy.createCanvas.bind(iy),getTextBounds:cd}}_wordCloudTransformOption(){var e,t;const i=null!==(e=this._wordCloudConfig)&&void 0!==e?e:{};return Object.assign(Object.assign(Object.assign({},i),this._getCommonTransformOptions()),{layoutType:this._wordCloudConfig.layoutMode,rotate:this._rotateAngles,randomVisible:null===(t=this._spec.random)||void 0===t||t,clip:"clip"===this._wordCloudConfig.drawOutOfBound,shrink:this._wordCloudConfig.zoomToFit.shrink,enlarge:this._wordCloudConfig.zoomToFit.enlarge,minFontSize:this._wordCloudConfig.zoomToFit.fontSizeLimitMin,progressiveTime:this._wordCloudConfig.progressiveTime,progressiveStep:this._wordCloudConfig.progressiveStep,repeatFill:this._wordCloudConfig.zoomToFit.repeat})}_wordCloudShapeTransformOption(){var e,t,i,o,l,n;const r=null!==(t=null===(e=this._spec.fillingWord)||void 0===e?void 0:e.style)&&void 0!==t?t:{},a=null!==(i=this._wordCloudShapeConfig)&&void 0!==i?i:{};return Object.assign(Object.assign(Object.assign({},a),this._getCommonTransformOptions()),{createImage:jh,rotateList:this._rotateAngles,fillingRotateList:a.fillingRotateAngles,fillingFontFamily:uu(a.fillingFontFamilyField)?{field:a.fillingFontFamilyField}:null!==(o=r.fontFamily)&&void 0!==o?o:this._defaultFontFamily,fillingPadding:null!==(n=null===(l=this._spec.fillingWord)||void 0===l?void 0:l.padding)&&void 0!==n?n:1,fillingFontStyle:uu(a.fillingFontStyleField)?{field:a.fillingFontStyleField}:r.fontStyle,fillingFontWeight:uu(a.fillingFontWeightField)?{field:a.fillingFontWeightField}:r.fontWeight})}getStatisticFields(){const e=[];return e.push({key:this._nameField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}dataToPosition(e){return null}dataToPositionX(e){return null}dataToPositionY(e){return null}dataToPositionZ(e){return null}valueToPosition(e,t){return null}getGroupFields(){return[]}getStackGroupFields(){return[]}getStackValueField(){return""}onLayoutEnd(){super.onLayoutEnd(),this.compile(),this._dataChange=!1}getActiveMarks(){return[this._wordMark]}reInit(){super.reInit(),this._keyWordColorCallback&&(this._keyWordColorCallback=null),this._fillingColorCallback&&(this._fillingColorCallback=null)}}dO.mark=hO,dO.builtInTheme={wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}}};function cO(e,t){return!1===t?{}:"fadeIn"===t?{type:"fadeIn"}:(e=>({type:"scaleIn",duration:200,delay:(t,i)=>{const o=e.animationConfig(),l=(null==o?void 0:o.duration)||200,n=(null==o?void 0:o.totalTime)||eT.appear.duration,r=i.context.graphicCount;return i.context.graphicIndex*function(e,t,i){return e*i<t?e+(t-i*e)/(i-1):(t-e)/(i-1)}(l,n,r)}}))(e)}const pO=(e,t)=>Object.prototype.toString.call(e)===`[object ${t}]`,yO=e=>"function"==typeof e,uO=e=>null==e,gO=e=>null!=e,fO=(e,t=!1)=>{const i=typeof e;return t?"string"===i:"string"===i||pO(e,"String")},kO=e=>Array.isArray?Array.isArray(e):pO(e,"Array"),mO=(e,t=!1)=>{const i=typeof e;return t?"number"===i:"number"===i||pO(e,"Number")};function bO(e,t,i=!1,o=!1){if(t){if(e===t)return;if(gO(t)&&"object"==typeof t){const l=Object(t),n=[];for(const e in l)n.push(e);let{length:r}=n,a=-1;for(;r--;){const r=n[++a];!gO(l[r])||"object"!=typeof l[r]||o&&kO(e[r])?CO(e,r,l[r]):vO(e,t,r,i,o)}}}}function vO(e,t,i,o=!1,l=!1){const n=e[i],r=t[i];let a=t[i],s=!0;if(kO(r)){if(o)a=[];else if(kO(n))a=n;else if(null!==(h=n)&&"function"!=typeof h&&Number.isFinite(h.length)){a=new Array(n.length);let e=-1;const t=n.length;for(;++e<t;)a[e]=n[e]}}else!function(e){if(!(e=>"object"==typeof e&&null!==e)(e)||!pO(e,"Object"))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(r)?s=!1:(a=null!=n?n:{},"function"!=typeof n&&"object"==typeof n||(a={}));var h;s&&bO(a,r,o,l),CO(e,i,a)}function CO(e,t,i){(void 0!==i&&!function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}(e[t],i)||void 0===i&&!(t in e))&&(e[t]=i)}function SO(e,...t){let i=-1;const o=t.length;for(;++i<o;)bO(e,t[i],!0);return e}function xO(e,t=Math.random){let i,o,l=e.length;for(;l;)i=Math.floor(t()*l),o=e[--l],e[l]=e[i],e[i]=o;return e}function _O(e){return Number(e)}const wO="undefined"!=typeof console;function LO(e,t,i){const o=[t].concat([].slice.call(i));wO&&console[e].apply(console,o)}var FO;!function(e){e[e.None=0]="None",e[e.Error=1]="Error",e[e.Warn=2]="Warn",e[e.Info=3]="Info",e[e.Debug=4]="Debug"}(FO||(FO={}));class TO{static getInstance(e,t){return TO._instance&&mO(e)?TO._instance.level(e):TO._instance||(TO._instance=new TO(e,t)),TO._instance}static setInstance(e){return TO._instance=e}static setInstanceLevel(e){TO._instance?TO._instance.level(e):TO._instance=new TO(e)}static clearInstance(){TO._instance=null}constructor(e=FO.None,t){this._onErrorHandler=[],this._level=e,this._method=t}addErrorHandler(e){this._onErrorHandler.find(t=>t===e)||this._onErrorHandler.push(e)}removeErrorHandler(e){const t=this._onErrorHandler.findIndex(t=>t===e);t<0||this._onErrorHandler.splice(t,1)}callErrorHandler(...e){this._onErrorHandler.forEach(t=>t(...e))}canLogInfo(){return this._level>=FO.Info}canLogDebug(){return this._level>=FO.Debug}canLogError(){return this._level>=FO.Error}canLogWarn(){return this._level>=FO.Warn}level(e){return arguments.length?(this._level=+e,this):this._level}error(...e){var t;return this._level>=FO.Error&&(this._onErrorHandler.length?this.callErrorHandler(...e):LO(null!==(t=this._method)&&void 0!==t?t:"error","ERROR",e)),this}warn(...e){return this._level>=FO.Warn&&LO(this._method||"warn","WARN",e),this}info(...e){return this._level>=FO.Info&&LO(this._method||"log","INFO",e),this}debug(...e){return this._level>=FO.Debug&&LO(this._method||"log","DEBUG",e),this}}function AO(e){return e*(Math.PI/180)}function zO(e,t,i){return t?{x:e.x+t*Math.cos(i),y:e.y+t*Math.sin(i)}:{x:e.x,y:e.y}}TO._instance=null;const BO={triangleForward:function(){return function(e){const t=e%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))}},triangleUpright:MO,triangle:MO,diamond:function(){return function(e){const t=e%(2*Math.PI/4);return 1/(Math.cos(t)+Math.sin(t))}},square:function(){return function(e){return Math.min(1/Math.abs(Math.cos(e)),1/Math.abs(Math.sin(e)))}},star:function(){return function(e){const t=(e+.955)%(2*Math.PI/10);return(e+.955)%(2*Math.PI/5)-2*Math.PI/10>=0?1/(Math.cos(2*Math.PI/10-t)+3.07768*Math.sin(2*Math.PI/10-t)):1/(Math.cos(t)+3.07768*Math.sin(t))}},cardioid:function(){return function(e){return 1+Math.sin(e)}},circle:function(){return function(){return 1}},pentagon:function(){return function(e){const t=(e+.955)%(2*Math.PI/5);return 1/(Math.cos(t)+.726543*Math.sin(t))}}};function MO(){return function(e){const t=(e+3*Math.PI/2)%(2*Math.PI/3);return 1/(Math.cos(t)+Math.sqrt(3)*Math.sin(t))}}function OO(e,t){const i=t[0],o=t[1];let l=1;const n=[t[0]>>1,t[1]>>1];switch(e){case"cardioid":n[1]=~~(o/2.7*.4),l=Math.floor(Math.min(i/2.3,o/2.6));break;case"triangleForward":l=o/Math.sqrt(.75)>i?Math.floor(i/2):Math.floor(o/(2*Math.sqrt(.75)));break;case"triangle":case"triangleUpright":n[1]=~~(o/1.5),l=Math.floor(Math.min(o/1.5,i/2));break;case"circle":case"diamond":case"square":case"star":case"pentagon":l=Math.floor(Math.min(i/2,o/2));break;default:l=Math.floor(Math.max(i/2,o/2))}return{maxRadius:l,center:n}}const WO=e=>BO[e]?BO[e]():BO.circle(),RO=(e,t)=>"hsl("+(360*Math.random()).toFixed()+","+(30*Math.random()+70).toFixed()+"%,"+(Math.random()*(t-e)+e).toFixed()+"%)";function HO(e){return yO(e)?e:function(){return e}}class PO{constructor(e){var t,i;switch(this.options=SO({},PO.defaultOptions,e),yO(this.options.shape)?this.shape=this.options.shape:this.shape=WO(this.options.shape),this.getText=null!==(t=HO(this.options.text))&&void 0!==t?t:e=>e,this.getTextFontWeight=HO(this.options.fontWeight),this.getTextFontSize=HO(this.options.fontSize),this.getTextFontStyle=HO(this.options.fontStyle),this.getTextFontFamily=HO(this.options.fontFamily),this.outputCallback=null!==(i=this.options.outputCallback)&&void 0!==i?i:e=>e,this.options.color){case"random-dark":this.getTextColor=()=>RO(10,50);break;case"random-light":this.getTextColor=()=>RO(50,90);break;default:this.getTextColor=HO(this.options.color)}if(uO(this.options.rotate))if(this.options.useRandomRotate){const e=Math.abs(this.options.maxRotation-this.options.minRotation),t=Math.abs(Math.floor(this.options.rotationSteps)),i=Math.min(this.options.maxRotation,this.options.minRotation);this.getTextRotate=()=>0===this.options.rotateRatio||Math.random()>this.options.rotateRatio?0:0===e?i:t>0?i+Math.floor(Math.random()*t)*e/(t-1):i+Math.random()*e}else this.getTextRotate=()=>0;else this.getTextRotate=yO(this.options.rotate)?e=>{var t;return AO(null!==(t=this.options.rotate(e))&&void 0!==t?t:0)}:(e,t)=>{const i=(n=this.options.rotate,gO(n)?kO(n)?n:[n]:[]),o=this.options.random?Math.random():(l=t,parseFloat("0."+Math.sin(l).toString().substring(6)));var l,n;return AO(i[Math.floor(o*i.length)])}}canRepeat(){return!1}exceedTime(){var e;return this.options.progressiveStep>0?this.progressiveIndex>=((null!==(e=this.currentStepIndex)&&void 0!==e?e:-1)+1)*this.options.progressiveStep:this.options.progressiveTime>0&&(new Date).getTime()-this.escapeTime>this.options.progressiveTime}progressiveRun(){var e;if(this.options.progressiveStep>0?this.currentStepIndex=(null!==(e=this.currentStepIndex)&&void 0!==e?e:-1)+1:this.options.progressiveTime>0&&(this.escapeTime=Date.now()),this.data&&this.progressiveIndex<this.data.length){this.progressiveResult=[];let e=this.progressiveIndex,t=0;const i=this.options.maxSingleWordTryCount,o=Math.min(this.options.maxFailCount,this.originalData.length);for(;e<this.data.length&&this.failCount<o;){const l=this.layoutWord(e);if(t++,(l||t>i)&&(e++,t=0,this.failCount=l?0:this.failCount+1),this.progressiveIndex=e,this.exceedTime())break;e===this.data.length&&this.failCount<o&&this.options.repeatFill&&this.canRepeat()&&(this.data=[...this.data,...this.originalData.map(e=>Object.assign(Object.assign({},e),{isFill:!0}))],this.isTryRepeatFill=!0)}return this.progressiveResult}return this.result}initProgressive(){this.failCount=0,this.progressiveIndex=0,this.options.progressiveStep>0?this.currentStepIndex=-1:this.options.progressiveTime>0&&(this.escapeTime=Date.now()),this.progressiveResult=[]}output(){return this.result?this.outputCallback(this.result):null}progressiveOutput(){return this.progressiveResult?this.outputCallback(this.progressiveResult):null}unfinished(){return this.data&&this.data.length&&!uO(this.progressiveIndex)&&this.progressiveIndex<this.data.length}release(){this.data=null,this.result=null,this.progressiveIndex=null,this.progressiveResult=null}}PO.defaultOptions={fontFamily:'"Trebuchet MS", "Heiti TC", "微軟正黑體", "Arial Unicode MS", "Droid Fallback Sans", sans-serif',fontWeight:"normal",color:"random-dark",fontStyle:"normal",minFontSize:12,drawOutOfBound:!1,shrink:!1,minRotation:-Math.PI/2,maxRotation:Math.PI/2,rotationSteps:0,rotateRatio:.1,random:!1,shape:"circle",progressiveTime:0,progressiveStep:0,repeatFill:!1,fillTextFontSize:12,maxFailCount:20};const EO={archimedean:function(e){const t=e[0]/e[1];return e=>[t*(e*=.1)*Math.cos(e),e*Math.sin(e)]},rectangular:function(e){const t=4*e[0]/e[1];let i=0,o=0;return e=>{const l=e<0?-1:1;switch(Math.sqrt(1+4*l*e)-l&3){case 0:i+=t;break;case 1:o+=4;break;case 2:i-=t;break;default:o-=4}return[i,o]}}};class DO extends PO{constructor(e){var t;super(SO({},DO.defaultOptions,e)),this.cw=64,this.ch=2048,this._size=[256,256],this._isBoardExpandCompleted=!1,this._placeStatus=0,this._tTemp=null,this._dtTemp=null,this._dy=0,this.cacheMap=new Map,this.options.minFontSize<=DO.defaultOptions.minFontSize&&(this.options.minFontSize=DO.defaultOptions.minFontSize),this.spiral=fO(this.options.spiral)?null!==(t=EO[this.options.spiral])&&void 0!==t?t:EO.archimedean:this.options.spiral,this.random=this.options.random?Math.random:()=>1,this.getTextPadding=HO(this.options.padding)}zoomRatio(){return this._originSize[0]/this._size[0]}dy(){return this._dy}layoutWord(e){const t=this.data[e];if(""===(""+t.text).trim())return!0;const{maxRadius:i,center:o}=OO(this.options.shape,this._size);if(t.x=o[0],t.y=o[1],function(e,t,i,o,l,n){if(t.sprite)return;const r=e.context,a=e.ratio;r.setTransform(a,0,0,a,0,0),r.clearRect(0,0,(l<<5)/a,n/a);let s=0,h=0,d=0;const c=i.length;let p,y,u,g,f;for(--o;++o<c;){if(t=i[o],r.save(),r.font=t.fontStyle+" "+t.fontWeight+" "+~~((t.fontSize+1)/a)+"px "+t.fontFamily,p=r.measureText(t.text+"m").width*a,u=t.fontSize<<1,t.angle){const e=Math.sin(t.angle),i=Math.cos(t.angle),o=p*i,l=p*e,n=u*i,r=u*e;p=Math.max(Math.abs(o+r),Math.abs(o-r))+31>>5<<5,u=~~Math.max(Math.abs(l+n),Math.abs(l-n))}else p=p+31>>5<<5;if(u>d&&(d=u),s+p>=l<<5&&(s=0,h+=d,d=0),h+u>=n)break;r.translate((s+(p>>1))/a,(h+(u>>1))/a),t.angle&&r.rotate(t.angle),r.fillText(t.text,0,0),t.padding&&(r.lineWidth=2*t.padding,r.strokeText(t.text,0,0)),r.restore(),t.width=p,t.height=u,t.xoff=s,t.yoff=h,t.x1=p>>1,t.y1=u>>1,t.x0=-t.x1,t.y0=-t.y1,t.hasText=!0,s+=p}const k=r.getImageData(0,0,(l<<5)/a,n/a).data,m=[];for(;--o>=0;){if(!(t=i[o]).hasText)continue;for(p=t.width,y=p>>5,u=t.y1-t.y0,g=0;g<u*y;g++)m[g]=0;if(s=t.xoff,null==s)return;h=t.yoff;let e=0,n=-1;for(f=0;f<u;f++){for(g=0;g<p;g++){const t=y*f+(g>>5),i=k[(h+f)*(l<<5)+(s+g)<<2]?1<<31-g%32:0;m[t]|=i,e|=i}e?n=f:(t.y0++,u--,f--,h++)}t.y1=t.y0+n,t.sprite=m.slice(0,(t.y1-t.y0)*y)}}(this.contextAndRatio,t,this.data,e,this.cw,this.ch),this._placeStatus=0,t.hasText&&this.place(this._board,t,this._bounds,i))return this.result.push(t),this._bounds?function(e,t){const i=e[0],o=e[1];t.x+t.x0<i.x&&(i.x=t.x+t.x0),t.y+t.y0<i.y&&(i.y=t.y+t.y0),t.x+t.x1>o.x&&(o.x=t.x+t.x1),t.y+t.y1>o.y&&(o.y=t.y+t.y1)}(this._bounds,t):this._bounds=[{x:t.x+t.x0,y:t.y+t.y0},{x:t.x+t.x1,y:t.y+t.y1}],t.x-=this._size[0]>>1,t.y-=this._size[1]>>1,this._tTemp=null,this._dtTemp=null,!0;if(this.updateBoardExpandStatus(t.fontSize),t.hasText&&this.shouldShrinkContinue()){if(1===this._placeStatus){const e=t.fontSize*this._originSize[0]/this.options.minFontSize,i=Math.max(t.width,t.height);if(i<=e)this.expandBoard(this._board,this._bounds,i/this._size[0]);else{if(!this.options.clip)return!0;this.expandBoard(this._board,this._bounds,e/this._size[0])}}else this._placeStatus,this.expandBoard(this._board,this._bounds);return this.updateBoardExpandStatus(t.fontSize),!1}return this._tTemp=null,this._dtTemp=null,!0}layout(e,t){this.initProgressive(),this.result=[],this._size=[t.width,t.height],this.clearCache(),this._originSize=[...this._size];const i=this.getContext(this.options.createCanvas({width:1,height:1}));this.contextAndRatio=i,this._board=new Array((this._size[0]>>5)*this._size[1]).fill(0),this._bounds=null,e.length,this.result=[];const o=e.map((e,t)=>({text:this.getText(e),fontFamily:this.getTextFontFamily(e),fontStyle:this.getTextFontStyle(e),fontWeight:this.getTextFontWeight(e),angle:this.getTextRotate(e,t),fontSize:~~this.getTextFontSize(e),padding:this.getTextPadding(e),xoff:0,yoff:0,x1:0,y1:0,x0:0,y0:0,hasText:!1,sprite:null,datum:e,x:0,y:0,width:0,height:0})).sort(function(e,t){return t.fontSize-e.fontSize});if(this.originalData=o,this.data=o,this.progressiveRun(),!this.options.clip&&this.options.enlarge&&this._bounds&&this.shrinkBoard(this._bounds),this._bounds&&["cardioid","triangle","triangle-upright"].includes(this.options.shape)){const e=(this._bounds[0].y+this._bounds[1].y)/2;this._dy=-(e-this._originSize[1]/2)}return this.result}formatTagItem(e){const t=this._size,i=this.zoomRatio(),o=this.dy(),l=t[0]>>1,n=t[1]>>1,r=e.length,a=[];let s,h;for(let d=0;d<r;++d)s=e[d],h={},h.datum=s.datum,h.x=(s.x+l)*i,h.y=(s.y+n+o)*i,h.fontFamily=s.fontFamily,h.fontSize=s.fontSize*i,h.fontStyle=s.fontStyle,h.fontWeight=s.fontWeight,h.angle=s.angle,a.push(h);return a}output(){return this.outputCallback?this.outputCallback(this.formatTagItem(this.result)):this.formatTagItem(this.result)}progressiveOutput(){return this.outputCallback?this.outputCallback(this.formatTagItem(this.progressiveResult)):this.formatTagItem(this.progressiveResult)}updateBoardExpandStatus(e){this._isBoardExpandCompleted=e*(this._originSize[0]/this._size[0])<this.options.minFontSize}shouldShrinkContinue(){return!this.options.clip&&this.options.shrink&&!this._isBoardExpandCompleted}shrinkBoard(e){const t=e[0],i=e[1];if(i.x>=this._size[0]||i.y>=this._size[1])return;const o=Math.min(t.x,this._size[0]-i.x),l=Math.min(t.y,this._size[1]-i.y),n=2*Math.min(o/this._size[0],l/this._size[1]);this._size=this._size.map(e=>e*(1-n))}expandBoard(e,t,i){const o=this._size[0]*(i||1.1)-this._size[0]>>5;let l=2*o>2?o:2;l%2!=0&&l++;let n=Math.ceil(this._size[1]*(l<<5)/this._size[0]);n%2!=0&&n++;const r=this._size[0],a=this._size[1],s=new Array(l).fill(0),h=new Array(n/2*(l+(r>>5))).fill(0);this.insertZerosToArray(e,a*(r>>5),h.length+l/2);for(let d=a-1;d>0;d--)this.insertZerosToArray(e,d*(r>>5),s.length);this.insertZerosToArray(e,0,h.length+l/2),this._size=[r+(l<<5),a+n],t&&(t[0].x+=(l<<5)/2,t[0].y+=n/2,t[1].x+=(l<<5)/2,t[1].y+=n/2)}insertZerosToArray(e,t,i){if(this.options.customInsertZerosToArray)return this.options.customInsertZerosToArray(e,t,i);const o=Math.floor(i/6e4),l=i%6e4;for(let n=0;n<o;n++)e.splice(t+6e4*n,0,...new Array(6e4).fill(0));e.splice(t+6e4*o,0,...new Array(l).fill(0))}getContext(e){e.width=1,e.height=1;const t=e.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,1,1),i=Math.sqrt(t.data.length>>2);e.width=(this.cw<<5)/i,e.height=this.ch/i;const o=e.getContext("2d",{willReadFrequently:!0});return o.fillStyle=o.strokeStyle="red",o.textAlign="center",{context:o,ratio:i,canvas:e}}place(e,t,i,o){let l=!1;if(this.shouldShrinkContinue()&&(t.width>this._size[0]||t.height>this._size[1]))return this._placeStatus=1,!1;const n=this.random()<.5?1:-1;if(!this.shouldShrinkContinue()&&this.isSizeLargerThanMax(t,n))return null;const r=t.x,a=t.y,s=Math.sqrt(this._size[0]*this._size[0]+this._size[1]*this._size[1]),h=this.spiral(this._size);let d,c,p,y,u=-n;for(this._tTemp=null,this._dtTemp=null;d=h(u+=n);){c=d[0],p=d[1];const h=Math.sqrt(c**2+p**2);let g=Math.atan(p/c);c<0?g+=Math.PI:p<0&&(g=2*Math.PI+g);const f=this.shape(g);if(Math.min(Math.abs(c),Math.abs(p))>=s)break;if(h>=o)l&&null===this._tTemp&&(this._tTemp=u,this._dtTemp=n);else{if(t.x=r+~~(h*f*Math.cos(-g)),t.y=a+~~(h*f*Math.sin(-g)),y=t,this.options.clip)if(this.shouldShrinkContinue()){if(GO(y,this._size)){l&&null===this._tTemp&&(this._tTemp=u,this._dtTemp=n);continue}}else{if(NO(y,this._size)){l&&null===this._tTemp&&(this._tTemp=u,this._dtTemp=n);continue}GO(y,this._size)&&(y=UO(y,this._size))}else if(GO(y,this._size)){l&&null===this._tTemp&&(this._tTemp=u,this._dtTemp=n);continue}if(l=!0,(!i||jO(y,i))&&(!i||!IO(y,e,this._size))){const i=y.sprite,o=y.width>>5,l=this._size[0]>>5,n=y.x-(o<<4),r=127&n,a=32-r,s=y.y1-y.y0;let h,d=(y.y+y.y0)*l+(n>>5);for(let t=0;t<s;t++){h=0;for(let l=0;l<=o;l++)e[d+l]|=h<<a|(l<o?(h=i[t*o+l])>>>r:0);d+=l}return t.sprite=null,y.sprite=null,!0}}}return null!==this._tTemp&&(this._placeStatus=3),!this.shouldShrinkContinue()&&this.setCache(y,n),!1}clearCache(){this.cacheMap.clear()}setCache(e,t){const i=`${e.angle}-${t}`,o=e.x1-e.x0,l=e.y1-e.y0;if(!this.cacheMap.has(i))return void this.cacheMap.set(i,{width:o,height:l});const{width:n,height:r}=this.cacheMap.get(i);(o<n&&l<r||o<=n&&l<r)&&this.cacheMap.set(i,{width:o,height:l})}isSizeLargerThanMax(e,t){const i=`${e.angle}-${t}`;if(!this.cacheMap.has(i))return!1;const{width:o,height:l}=this.cacheMap.get(i),n=e.x1-e.x0,r=e.y1-e.y0;return n>=o&&r>=l}}function IO(e,t,i){const o=i[0]>>5,l=e.sprite,n=e.width>>5,r=e.x-(n<<4),a=127&r,s=32-a,h=e.y1-e.y0;let d,c=(e.y+e.y0)*o+(r>>5);for(let p=0;p<h;p++){d=0;for(let e=0;e<=n;e++)if((d<<s|(e<n?(d=l[p*n+e])>>>a:0))&t[c+e])return!0;c+=o}return!1}function jO(e,t){return e.x+e.x1>t[0].x&&e.x+e.x0<t[1].x&&e.y+e.y1>t[0].y&&e.y+e.y0<t[1].y}DO.defaultOptions={enlarge:!1,minFontSize:2,maxSingleWordTryCount:2};const NO=(e,t)=>e.x+e.x0>t[0]||e.y+e.y0>t[0]||e.x+e.x1<0||e.y+e.y1<0,GO=(e,t)=>e.x+e.x0<0||e.y+e.y0<0||e.x+e.x1>t[0]||e.y+e.y1>t[1];function UO(e,t){const i=e.sprite,o=e.y1-e.y0,l=e.width>>5;let n=0;const r=[],a=Math.max(-(e.y0+e.y),0),s=Math.min(o+(t[1]-(e.y1+e.y)),o),h=Math.max(-(e.x0+e.x),0)>>5,d=Math.min(l+(t[0]-(e.x1+e.x)>>5)+1,l);for(let g=0;g<o;g++){for(let e=0;e<l;e++)g<a||s<=g||e<h||d<=e||r.push(i[n+e]);n+=l}const c=h<<5,p=l-d<<5,y=a,u=o-s;return Object.assign(Object.assign({},e),{width:e.width-c-p,height:e.height-y-u,x0:e.x0+c,x1:e.x1-p,y0:e.y0+y,y1:e.y1-u,x:e.x+c/2-p/2,sprite:r})}const VO=(e,t,i)=>{const{threshold:o,invert:l=!1}={};if(!e||"#fff"===e)return(e,t,i)=>{const n=e.width;if(0===e.data[t*n*4+4*i+3])return!l;const r=e.data[t*n*4+4*i+0],a=e.data[t*n*4+4*i+1],s=e.data[t*n*4+4*i+2];if(255===r&&255===a&&255===s)return!l;if(mO(h=o)&&Number.isFinite(h)){const e=.3*r+.59*a+.11*s;return l?e<=o:e>=o}var h;return!1};const n=i({width:1,height:1}).getContext("2d",{willReadFrequently:!0});n.fillStyle=e,n.fillRect(0,0,1,1);const r=n.getImageData(0,0,1,1).data;return(e,t,i)=>{const o=e.width;return[0,1,2,3].every(n=>l?e.data[4*(t*o+i)+n]!==r[n]:e.data[4*(t*o+i)+n]===r[n])}},YO=(e,t,i,o,l)=>{const{fontFamily:n="sans-serif",fontWeight:r="normal",fontStyle:a="normal",fontVariant:s="normal",text:h,hollow:d}=e;let c=12;l.font=`${a} ${s} ${r} ${c}px ${n}`,l.textAlign="center",l.textBaseline="middle",l.fillStyle=t;const p=l.measureText(h),y="normal"!==a?1.1:1,u=gO(p.actualBoundingBoxRight)&&gO(p.actualBoundingBoxLeft)?Math.ceil(y*(Math.abs(p.actualBoundingBoxRight)+Math.abs(p.actualBoundingBoxLeft))):0,g=Math.max(Math.ceil(p.width),u,c);if(d&&(l.globalCompositeOperation="xor"),g>i){const e=Math.min(i/g,o/c);l.fillText(h,i/2,o/2),l.scale(e,e)}else c=Math.floor(c*i/g),c=Math.min(c,o),l.font=`${a} ${s} ${r} ${c}px ${n}`,l.fillText(h,Math.floor(i/2),Math.floor(o/2))},ZO=(e,t,i=0,o)=>{const l=2*Math.PI/o;return new Array(o).fill(0).map((o,n)=>zO(e,t,i+n*l))},XO=(e,t)=>{e.beginPath(),t.forEach((t,i)=>{0===i?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}),e.closePath(),e.fill()},$O=(e,t,i,o,l)=>{const{hollow:n}=e,{center:r,maxRadius:a}=OO(e.shape,[i,o]);l.fillStyle=t,n&&(l.globalCompositeOperation="xor");const s=r[0],h=r[1];if("cardioid"===e.shape)((e,t)=>{let i;e.beginPath(),t.forEach((t,o)=>{0===o?e.moveTo(t.x,t.y):e.bezierCurveTo(t.x,t.y,i.x,i.y,t.x,t.y),i=t}),e.closePath(),e.fill()})(l,((e,t,i=0,o)=>{const l=2*Math.PI/o,n=WO("cardioid");return new Array(o).fill(0).map((o,r)=>{const a=i+r*l,s=t*n(a);return zO(e,s,a)})})({x:s,y:h},a,0,100));else if("circle"===e.shape)l.beginPath(),l.arc(s,h,a,0,2*Math.PI,!0),l.fill();else if("diamond"===e.shape)XO(l,ZO({x:s,y:h},a,-Math.PI/2,4));else if("square"===e.shape)XO(l,ZO({x:s,y:h},a,-Math.PI/4,4));else if("pentagon"===e.shape)XO(l,ZO({x:s,y:h},a,Math.PI/2,5));else if("triangle"===e.shape||"triangleUpright"===e.shape)XO(l,ZO({x:s,y:h},a,-Math.PI/2,3));else if("triangleForward"===e.shape)XO(l,ZO({x:s,y:h},a,0,3));else if("star"===e.shape){const e=ZO({x:s,y:h},a,-Math.PI/2,5),t=ZO({x:s,y:h},a/(2*Math.cos(Math.PI/5)),-Math.PI/2+Math.PI/5,5),i=[];for(let o=0;o<5;o++)i.push(e[o]),i.push(t[o]);XO(l,i)}else l.fillRect(0,0,i,o)};
/*!
 * wordcloud2.js
 * http://timdream.org/wordcloud2.js/
 *
 * Copyright 2011 - 2019 Tim Guan-tin Chien and contributors.
 * Released under the MIT license
 */
class KO extends PO{constructor(e){super(SO({},KO.defaultOptions,e)),this.fillGridAt=(e,t)=>{e>=this.ngx||t>=this.ngy||e<0||t<0||(this.grid[e][t]=!1)},this.updateGrid=(e,t,i,o,l)=>{const n=l.occupied;let r=n.length;for(;r--;){const i=e+n[r][0],o=t+n[r][1];i>=this.ngx||o>=this.ngy||i<0||o<0||this.fillGridAt(i,o)}},this.gridSize=Math.max(Math.floor(this.options.gridSize),4)}getPointsAtRadius(e){if(this.pointsAtRadius[e])return this.pointsAtRadius[e];const t=8*e;let i=t;const o=[];for(0===e&&o.push([this.center[0],this.center[1],0]);i--;){const l=this.shape(i/t*2*Math.PI);o.push([this.center[0]+e*l*Math.cos(-i/t*2*Math.PI),this.center[1]+e*l*Math.sin(-i/t*2*Math.PI)*this.options.ellipticity,i/t*2*Math.PI])}return this.pointsAtRadius[e]=o,o}getTextInfo(e,t=1,i){var o;const l=this.options.clip?1:t,n=Math.max(Math.floor((this.isTryRepeatFill?this.options.fillTextFontSize:this.getTextFontSize(e))*l),this.options.minFontSize);let r=this.getText(e)+"";if(this.options.clip&&(r=r.slice(0,Math.ceil(r.length*t))),!r)return null;const a=this.getTextFontWeight(e),s=this.getTextFontStyle(e),h=this.getTextRotate&&null!==(o=this.getTextRotate(e,i))&&void 0!==o?o:0,d=this.getTextFontFamily(e),c=this.options.createCanvas({width:1,height:1}),p=c.getContext("2d",{willReadFrequently:!0});p.font=s+" "+a+" "+n.toString(10)+"px "+d;const y=p.measureText(r).width,u=Math.max(n,p.measureText("m").width,p.measureText("Ｗ").width);let g=y+2*u,f=3*u;const k=Math.ceil(g/this.gridSize),m=Math.ceil(f/this.gridSize);g=k*this.gridSize,f=m*this.gridSize;const b=-y/2,v=.4*-u,C=Math.ceil((g*Math.abs(Math.sin(h))+f*Math.abs(Math.cos(h)))/this.gridSize),S=Math.ceil((g*Math.abs(Math.cos(h))+f*Math.abs(Math.sin(h)))/this.gridSize),x=S*this.gridSize,_=C*this.gridSize;c.setAttribute("width",""+x),c.setAttribute("height",""+_),p.scale(1,1),p.translate(x/2,_/2),p.rotate(-h),p.font=s+" "+a+" "+n.toString(10)+"px "+d,p.fillStyle="#000",p.textBaseline="middle",p.fillText(r,b,v);const w=p.getImageData(0,0,x,_).data;if(this.exceedTime())return null;const L=[];let F,T=S;const A=[C/2,S/2,C/2,S/2],z=(e,t,i)=>{let o=this.gridSize;for(;o--;){let l=this.gridSize;for(;l--;)if(w[4*((t*this.gridSize+o)*x+(e*this.gridSize+l))+3])return i.push([e,t]),e<A[3]&&(A[3]=e),e>A[1]&&(A[1]=e),t<A[0]&&(A[0]=t),void(t>A[2]&&(A[2]=t))}};for(;T--;)for(F=C;F--;)z(T,F,L);return{datum:e,occupied:L,bounds:A,gw:S,gh:C,fillTextOffsetX:b,fillTextOffsetY:v,fillTextWidth:y,fillTextHeight:u,fontSize:n,fontStyle:s,fontWeight:a,fontFamily:d,angle:h,text:r}}calculateEmptyRate(){const e=this.ngx*this.ngy;let t=0;for(let i=0;i<this.ngx;i++)for(let e=0;e<this.ngy;e++)this.grid[i][e]&&t++;return t/e}canFitText(e,t,i,o,l){let n=l.length;for(;n--;){const i=e+l[n][0],o=t+l[n][1];if(i>=this.ngx||o>=this.ngy||i<0||o<0){if(!this.options.drawOutOfBound)return!1}else if(!this.grid[i][o])return!1}return!0}layoutWord(e,t=1){const i=this.data[e],o=this.getTextInfo(i,t,e);if(!o)return!1;if(this.exceedTime())return!1;if(!this.options.drawOutOfBound&&(!this.options.shrink||o.fontSize<=this.options.minFontSize)&&!this.options.clip){const e=o.bounds;if(e[1]-e[3]+1>this.ngx||e[2]-e[0]+1>this.ngy)return!1}let l=this.maxRadius+1;const n=e=>{const t=Math.floor(e[0]-o.gw/2),i=Math.floor(e[1]-o.gh/2),n=o.gw,r=o.gh;return!!this.canFitText(t,i,n,r,o.occupied)&&(o.distance=this.maxRadius-l,o.theta=e[2],this.outputText(t,i,o),this.updateGrid(t,i,n,r,o),!0)};for(;l--;){let e=this.getPointsAtRadius(this.maxRadius-l);if(this.options.random&&(e=[].concat(e),xO(e)),e.some(n))return!0}return(this.options.clip||!!(this.options.shrink&&o.fontSize>this.options.minFontSize))&&this.layoutWord(e,.75*t)}outputText(e,t,i){const o=this.getTextColor(i),l={text:i.text,datum:i.datum,color:o,fontStyle:i.fontStyle,fontWeight:i.fontWeight,fontFamily:i.fontFamily,angle:i.angle,width:i.fillTextWidth,height:i.fillTextHeight,x:(e+i.gw/2)*this.gridSize,y:(t+i.gh/2)*this.gridSize+i.fillTextOffsetY+.5*i.fontSize,fontSize:i.fontSize};this.result.push(l),this.progressiveResult&&this.progressiveResult.push(l)}initGrid(e){this.grid=[];const t=this.options.shape;if((e=>{const t=typeof e;return null!==e&&"object"===t||"function"===t})(t)){const i=((e,t,i,o,l=!1,n)=>{let{backgroundColor:r="#fff"}=e,{fill:a="#000"}=e;l&&([r,a]=[a,r]);const s=n({width:t,height:i,dpr:1}),h=s.getContext("2d",{willReadFrequently:!0});return h.fillStyle=r,h.fillRect(0,0,s.width,s.height),"text"===e.type?YO(e,a,s.width,s.height,h):"geometric"===e.type&&$O(e,a,s.width,s.height,h),s})(t,e.width,e.height,0,!1,this.options.createCanvas);let o=i.getContext("2d").getImageData(0,0,this.ngx*this.gridSize,this.ngy*this.gridSize);this.options.onUpdateMaskCanvas&&this.options.onUpdateMaskCanvas(i);let l=VO(t.backgroundColor,0,this.options.createCanvas);const n=(e,t)=>{let i=this.gridSize;for(;i--;){let n=this.gridSize;for(;n--;)if(!l(o,t*this.gridSize+i,e*this.gridSize+n))return void(this.grid[e][t]=!0)}this.grid[e][t]=!1};let r=this.ngx;for(;r--;){this.grid[r]=[];let e=this.ngy;for(;e--;)n(r,e),!1!==this.grid[r][e]&&(this.grid[r][e]=!0)}o=l=void 0}else{let e=this.ngx;for(;e--;){this.grid[e]=[];let t=this.ngy;for(;t--;)this.grid[e][t]=!0}}}canRepeat(){return this.calculateEmptyRate()>.001}layout(e,t){this.initProgressive(),this.drawnCount=0,this.isTryRepeatFill=!1,this.originalData=e,this.data=e,this.pointsAtRadius=[],this.ngx=Math.floor(t.width/this.gridSize),this.ngy=Math.floor(t.height/this.gridSize);const{center:i,maxRadius:o}=OO(this.options.shape,[t.width,t.height]);return this.center=t.origin?[t.origin[0]/this.gridSize,t.origin[1]/this.gridSize]:[i[0]/this.gridSize,i[1]/this.gridSize],this.maxRadius=Math.floor(o/this.gridSize),this.initGrid(t),this.result=[],this.progressiveRun()}}KO.defaultOptions={gridSize:8,ellipticity:1,maxSingleWordTryCount:1};class qO extends PO{constructor(e){super(SO({},qO.defaultOptions,e)),this.random=this.options.random?Math.random:()=>0,this.aspectRatio=1}fit(e){for(let t=0,i=this.result.length;t<i;t++)if(JO(e,this.result[t]))return!1;return!0}getTextInfo(e,t){const i={datum:e,fontSize:this.getTextFontSize(e),fontWeight:this.getTextFontWeight(e),fontStyle:this.getTextFontStyle(e),fontFamily:this.getTextFontFamily(e),angle:this.getTextRotate(e,t),text:this.getText(e)+"",x:this.center[0],y:this.center[1]},o=this.options.getTextBounds(i);return i.width=o.width(),i.height=o.height(),i.top=this.center[1]-i.height+.21*i.height,i.left=this.center[0]-i.width/2,i}layoutWord(e){const t=this.getTextInfo(this.data[e],e);let i=2*Math.PI,o=0,l=t.left,n=t.top;const r=t.width,a=t.height;let s=1,h=this.fit(t);for(;!h&&o<this.maxRadius;)o+=.5,s=this.shape(o/this.maxRadius*2*Math.PI),i+=.5*(this.options.random?this.random()>.5?1:-1:e%2==0?1:-1),l=this.center[0]-r/2+o*s*Math.cos(i)*this.aspectRatio,n=this.center[1]-a/2+o*s*Math.sin(i),t.left=l,t.top=n,t.x=l+r/2,t.y=n+a/2,h=this.fit(t);return!!h&&!!(this.options.clip||t.left>=0&&t.left+t.width<=this.width&&t.top>=0&&t.top+t.height<=this.height)&&(this.result.push(t),!0)}layout(e,t){if(!(null==e?void 0:e.length))return[];this.initProgressive(),this.result=[],this.maxRadius=Math.sqrt(t.width*t.width+t.height*t.height)/2,this.center=[t.width/2,t.height/2],this.width=t.width,this.height=t.height,this.data=e.sort((e,t)=>this.getTextFontSize(t)-this.getTextFontSize(e));let i=0;for(;i<e.length&&(this.layoutWord(i),i++,this.progressiveIndex=i,!this.exceedTime()););return this.result}}function JO(e,t){return!(e.left+e.width<t.left||e.top+e.height<t.top||e.left>t.left+t.width||e.top>t.top+t.height)}qO.defaultOptions={enlarge:!1};const QO={x:"x",y:"y",z:"z",fontFamily:"fontFamily",fontSize:"fontSize",fontStyle:"fontStyle",fontWeight:"fontWeight",angle:"angle"},eW=(e,t)=>{var i,o,l,n,r,a;if(e.size&&(e.size[0]<=0||e.size[1]<=0))return TO.getInstance().info("Wordcloud size dimensions must be greater than 0"),[];const s=t,h=(null!==(i=e.size)&&void 0!==i?i:[500,500]).slice();h[0]=Math.floor(h[0]),h[1]=Math.floor(h[1]);const d=e.fontFamily?tW(e.fontFamily):"sans-serif",c=e.fontStyle?tW(e.fontStyle):"normal",p=e.fontWeight?tW(e.fontWeight):"normal",y=e.rotate?tW(e.rotate):0,u=tW(e.text),g=null!==(o=e.spiral)&&void 0!==o?o:"archimedean",f=e.padding?tW(e.padding):1,k=null!==(l=e.shape)&&void 0!==l?l:"square",m=null!==(n=e.shrink)&&void 0!==n&&n,b=null!==(r=e.enlarge)&&void 0!==r&&r,v=null!==(a=e.clip)&&void 0!==a&&a,C=e.minFontSize,S=e.randomVisible,x=e.as?Object.assign(Object.assign({},QO),e.as):QO,_=e.depth_3d,w=e.postProjection;let L=e.fontSize?tW(e.fontSize):14;const F=e.fontSizeRange;if(F&&!mO(L)){const e=L,t=oW(lW(e,s),F);L=i=>t(e(i))}let T=DO;"fast"===e.layoutType?T=qO:"grid"===e.layoutType&&(T=KO);const A=new T(Object.assign(Object.assign({},e),{text:u,padding:f,spiral:g,shape:k,rotate:y,fontFamily:d,fontStyle:c,fontWeight:p,fontSize:L,shrink:m,clip:v,enlarge:b,minFontSize:C,random:S,outputCallback:t=>{const i=[];let o,l;for(let n=0,r=t.length;n<r;n++)l=t[n],o=l.datum,o[x.x]=l.x,o[x.y]=l.y,o[x.fontFamily]=l.fontFamily,o[x.fontSize]=l.fontSize,o[x.fontStyle]=l.fontStyle,o[x.fontWeight]=l.fontWeight,o[x.angle]=l.angle,"StereographicProjection"===w&&nW(h,l,o,x,_),e.dataIndexKey&&(o[e.dataIndexKey]=`${n}`),i.push(o);return i}}));return A.layout(s,{width:h[0],height:h[1]}),e.progressiveStep>0||e.progressiveTime>0?{progressive:A}:A.output()},tW=e=>fO(e)||mO(e)||yO(e)||kO(e)?e:t=>t[e.field],iW=e=>e<0?-Math.sqrt(-e):Math.sqrt(e),oW=(e,t,i)=>{if(e[0]===e[1])return e=>t[0];const o=iW(e[0]),l=iW(e[1]),n=Math.min(o,l),r=Math.max(o,l);return e=>(iW(e)-n)/(r-n)*(t[1]-t[0])+t[0]},lW=(e,t)=>{let i=1/0,o=-1/0;const l=t.length;let n;for(let r=0;r<l;++r)n=_O(e(t[r])),n<i&&(i=n),n>o&&(o=n);return 1===t.length&&i===o&&(i-=1e4),[i,o]};function nW(e,t,i,o,l){const n=Math.max(e[0],e[1])/2,r=function(e,t,i,o,l){const{x:n,y:r}=l,a=n/e*Math.PI*2;let s=Math.PI-r/t*Math.PI;return s+=(s<Math.PI/2?1:-1)*Math.pow(Math.min(s-Math.PI/2,1),2)/5,{x:i*Math.sin(s)*Math.cos(a)+o.x,y:i*Math.cos(s)+o.y,z:i*Math.sin(s)*Math.sin(a)+o.z}}(e[0],e[1],n,{x:n,y:n,z:null!=l?l:n},t);i[o.x]=r.x,i[o.y]=r.y,i[o.z]=r.z}class rW extends dO{constructor(){super(...arguments),this.type=$_.wordCloud}}rW.type=$_.wordCloud;const aW=()=>{Ow.registerGrammarTransform("wordcloud",{transform:eW}),HM(),Ow.registerAnimation("wordCloud",(e,t)=>({appear:cO(e,t),enter:{type:"fadeIn"},exit:{type:"fadeOut"},disappear:{type:"fadeOut"}})),Ow.registerSeries(rW.type,rW)},sW=(e,t)=>{var i,o;const l=e.map(e=>Object.assign({},e));if(!l||0===l.length)return l;const{valueField:n,asTransformRatio:r,asReachRatio:a,asHeightRatio:s,asValueRatio:h,asNextValueRatio:d,asLastValueRatio:c,asLastValue:p,asCurrentValue:y,asNextValue:u,heightVisual:g=!1,isCone:f=!0,range:k}=t,m=l.reduce((e,t)=>Math.max(e,Number.parseFloat(t[n])||-1/0),-1/0),b=l.reduce((e,t)=>Math.min(e,Number.parseFloat(t[n])||1/0),1/0),v=[null!==(i=null==k?void 0:k.min)&&void 0!==i?i:b,null!==(o=null==k?void 0:k.max)&&void 0!==o?o:m];return l.forEach((e,t)=>{var i,o;const k=Number.parseFloat(e[n]),m=Number.parseFloat(null===(i=l[t-1])||void 0===i?void 0:i[n]),b=Number.parseFloat(null===(o=l[t+1])||void 0===o?void 0:o[n]),C=Su(b*k)&&0!==k?b/k:0,S=Su(k*m)&&0!==m?k/m:0;p&&(e[p]=m),u&&(e[u]=b),r&&(e[r]=C),a&&(e[a]=0===t?1:S),s&&(e[s]=!0===g?C:1/l.length),h&&(e[h]=k/v[1]),d&&(e[d]=t===l.length-1?f?0:e[h]:b/v[1]),c&&(e[c]=0===t?1:m/v[1]),y&&(e[y]=k)}),l},hW=(e,t)=>{var i,o;const l=null===(o=null===(i=e[0])||void 0===i?void 0:i.latestData)||void 0===o?void 0:o.map(e=>Object.assign({},e));return l&&0!==l.length?(l.shift(),l.forEach(e=>{e[t.asIsTransformLevel]=!0}),l):l},dW=`${Jw}_FUNNEL_TRANSFORM_RATIO`,cW=`${Jw}_FUNNEL_REACH_RATIO`,pW=`${Jw}_FUNNEL_HEIGHT_RATIO`,yW=`${Jw}_FUNNEL_VALUE_RATIO`,uW=`${Jw}_FUNNEL_LAST_VALUE_RATIO`,gW=`${Jw}_FUNNEL_NEXT_VALUE_RATIO`,fW=`${Jw}_FUNNEL_LAST_VALUE`,kW=`${Jw}_FUNNEL_CURRENT_VALUE`,mW=`${Jw}_FUNNEL_NEXT_VALUE`,bW=`${Jw}_FUNNEL_TRANSFORM_LEVEL`;class vW extends zT{constructor(e){var t,i;super(e),this.dimensionTooltipTitleCallback=(e,t)=>{var i,o,l;const n=this.series;return"transform"===(null===(i=null==t?void 0:t.mark)||void 0===i?void 0:i.name)?this._transformRatioText:null!==(o=this._getDimensionData(e))&&void 0!==o?o:null===(l=e.properties)||void 0===l?void 0:l[`${n.getCategoryField()}`]},this.markTooltipValueCallback=(e,t)=>{var i;return"transform"===(null===(i=null==t?void 0:t.mark)||void 0===i?void 0:i.name)?`${(100*(null==e?void 0:e[cW])).toFixed(1)}%`:this._getMeasureData(e)},this.markTooltipKeyCallback=(e,t)=>{var i;if("transform"===(null===(i=null==t?void 0:t.mark)||void 0===i?void 0:i.name))return this._transformRatioText;const{dimensionFields:o,seriesFields:l}=this._seriesCacheInfo,n=o[o.length-1];return uu(l[0])?null==e?void 0:e[l[0]]:null==e?void 0:e[n]},this._transformRatioText=null!==(i=null===(t=e.getSpec())||void 0===t?void 0:t.transformRatioText)&&void 0!==i?i:"转化率"}}class CW extends YF{_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{points:[]})}}class SW extends CW{constructor(){super(...arguments),this.type=SW.type}_getDefaultStyle(){return Object.assign(Object.assign({},super._getDefaultStyle()),{lineWidth:0})}}SW.type="polygon";const xW=()=>{Ow.registerMark(SW.type,SW),vb(),ub(),Yv.registerBuiltInAnimate("growPointsOut",GC),Ow.registerGraphicComponent("polygon",rd)},_W=Object.assign(Object.assign({},PT),{funnel:{name:"funnel",type:"polygon"},transform:{name:"transform",type:"polygon"},transformLabel:{name:"transformLabel",type:"text"},outerLabel:{name:"outerLabel",type:"text"},outerLabelLine:{name:"outerLabelLine",type:"rule"}});class wW extends QT{_transformLabelSpec(e){this._addMarkLabelSpec(e,"funnel"),e.isTransform&&this._addMarkLabelSpec(e,"transform","transformLabel")}}class LW extends eA{constructor(){super(...arguments),this.type=$_.funnel,this._funnelMarkName="funnel",this._funnelMarkType="polygon",this._transformMarkName="transform",this._transformMarkType="polygon",this.transformerConstructor=wW,this._funnelMark=null,this._funnelTransformMark=null,this._labelMark=null,this._transformLabelMark=null,this._funnelOuterLabelMark={}}getCategoryField(){return this._categoryField}setCategoryField(e){return this._categoryField=e,this._categoryField}getValueField(){return this._valueField}setValueField(e){return this._valueField=e,this._valueField}setAttrFromSpec(){var e,t,i,o,l;super.setAttrFromSpec(),this.setCategoryField(this._spec.categoryField),this.setValueField(this._spec.valueField),this._funnelOrient=null!==(e=this._spec.funnelOrient)&&void 0!==e?e:"top",this._shape=null!==(t=this._spec.shape)&&void 0!==t?t:"trapezoid",this._minLabelLineWidth=null!==(l=null===(o=null===(i=this._spec.outerLabel)||void 0===i?void 0:i.line)||void 0===o?void 0:o.minLength)&&void 0!==l?l:20,this._isHorizontal()?this._funnelAlign=["top","bottom"].includes(this._spec.funnelAlign)?this._spec.funnelAlign:"center":this._funnelAlign=["left","right"].includes(this._spec.funnelAlign)?this._spec.funnelAlign:"center",!this._seriesField&&this._spec.categoryField&&this.setSeriesField(this._spec.categoryField)}initData(){if(super.initData(),!this._data)return;jL(this._dataSet,"funnel",sW),jL(this._dataSet,"funnelTransform",hW);const e=new E(this._dataSet,{name:`${Jw}_series_${this.id}_viewDataTransform`});e.parse([this.getViewData()],{type:"dataview"}),this._viewDataTransform=new IF(this._option,e)}compile(){var e,t;super.compile(),this._funnelOuterLabelMark&&(null===(e=this._funnelOuterLabelMark.label)||void 0===e||e.compile({group:this._rootMark.getProduct()}),null===(t=this._funnelOuterLabelMark.line)||void 0===t||t.compile({group:this._rootMark.getProduct()}))}compileData(){var e;super.compileData(),null===(e=this._viewDataTransform)||void 0===e||e.compile()}getStatisticFields(){const e=[];return e.push({key:this._categoryField,operations:["values"]}),e.push({key:this._valueField,operations:["max","min"]}),e}_statisticViewData(){var e,t,i,o,l,n,r,a,s;super._statisticViewData(),this._data.getDataView().transform({type:"funnel",options:{valueField:this.getValueField(),isCone:this._spec.isCone,asCurrentValue:kW,asTransformRatio:dW,asReachRatio:cW,asHeightRatio:pW,asValueRatio:yW,asNextValueRatio:gW,asLastValueRatio:uW,asLastValue:fW,asNextValue:mW,range:{min:null!==(t=null===(e=this._spec.range)||void 0===e?void 0:e.min)&&void 0!==t?t:null===(o=null===(i=this.getViewDataStatistics().latestData)||void 0===i?void 0:i[this.getValueField()])||void 0===o?void 0:o.min,max:null!==(n=null===(l=this._spec.range)||void 0===l?void 0:l.max)&&void 0!==n?n:null===(a=null===(r=this.getViewDataStatistics().latestData)||void 0===r?void 0:r[this.getValueField()])||void 0===a?void 0:a.max}}}),null===(s=this._viewDataTransform.getDataView())||void 0===s||s.transform({type:"funnelTransform",options:{asIsTransformLevel:bW}})}initMark(){var e,t,i,o,l,n,r,a;if(this._funnelMark=this._createMark(Object.assign(Object.assign({},LW.mark.funnel),{name:this._funnelMarkName,type:this._funnelMarkType}),{themeSpec:null===(e=this._theme)||void 0===e?void 0:e.funnel,groupKey:this._seriesField,isSeriesMark:!0,noSeparateStyle:!0},{morph:$T(this._spec,this._funnelMarkName),morphElementKey:this._seriesField}),this._spec.isTransform&&(this._funnelTransformMark=this._createMark(Object.assign(Object.assign({},LW.mark.transform),{name:this._transformMarkName,type:this._transformMarkType}),{themeSpec:null===(t=this._theme)||void 0===t?void 0:t.transform,noSeparateStyle:!0}),this._funnelTransformMark&&this._funnelTransformMark.setData(this._viewDataTransform)),null===(o=null===(i=this._spec)||void 0===i?void 0:i.outerLabel)||void 0===o?void 0:o.visible){const{line:e}=null!==(l=this._spec.outerLabel)&&void 0!==l?l:{},{line:t}=null!==(r=null===(n=this._theme)||void 0===n?void 0:n.outerLabel)&&void 0!==r?r:{};this._funnelOuterLabelMark.label=this._createMark(LW.mark.outerLabel,{themeSpec:null===(a=this._theme)||void 0===a?void 0:a.outerLabel,markSpec:this._spec.outerLabel,noSeparateStyle:!0,parent:!1}),this._funnelOuterLabelMark.line=this._createMark(LW.mark.outerLabelLine,{themeSpec:t,markSpec:e,noSeparateStyle:!0,parent:!1})}}initTooltip(){this._tooltipHelper=new vW(this),this._funnelMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._funnelMark),this._funnelTransformMark&&this._tooltipHelper.activeTriggerSet.mark.add(this._funnelTransformMark)}getDimensionField(){return this._seriesField?[this._seriesField]:[]}getMeasureField(){return[this._valueField]}getGroupFields(){return null}initMarkStyle(){var e,t,i,o;const l=this._funnelMark;l&&this.setMarkStyle(l,{points:e=>this.getPoints(e),visible:e=>uu(e[this._valueField]),fill:this.getColorAttribute()},"normal",pF.Series);const n=this._funnelTransformMark;n&&this.setMarkStyle(n,{points:e=>this.getPoints(e)},"normal",pF.Series);const r=this._funnelOuterLabelMark.label;r&&(this.setMarkStyle(r,{text:e=>`${e[this.getCategoryField()]}`,x:e=>this._computeOuterLabelPosition(e).x,y:e=>this._computeOuterLabelPosition(e).y,textAlign:e=>this._computeOuterLabelPosition(e).align,textBaseline:e=>this._computeOuterLabelPosition(e).textBaseline,maxLineWidth:e=>this._computeOuterLabelLimit(e),width:0,height:0},"normal",pF.Series),pu(this._spec.outerLabel.formatMethod)&&this.setMarkStyle(r,{text:e=>this._spec.outerLabel.formatMethod(`${e[this.getCategoryField()]}`,e)},"normal",pF.User_Mark));const a=this._funnelOuterLabelMark.line;if(a&&r){this.setMarkStyle(a,{x:e=>this._computeOuterLabelLinePosition(e).x1,y:e=>this._computeOuterLabelLinePosition(e).y1,x1:e=>this._computeOuterLabelLinePosition(e).x2,y1:e=>this._computeOuterLabelLinePosition(e).y2},"normal",pF.Series);const l=null!==(i=null===(t=null===(e=this._spec.outerLabel)||void 0===e?void 0:e.line)||void 0===t?void 0:t.visible)&&void 0!==i?i:null===(o=this._spec.outerLabel)||void 0===o?void 0:o.visible;uu(l)&&a.setVisible(l)}}initLabelMarkStyle(e){var t;if(!e)return;const i=e.getTarget(),o=e.getComponent();if(i===this._funnelMark){this._labelMark=e,this.setMarkStyle(e,{text:e=>`${e[this.getCategoryField()]} ${e[this.getValueField()]}`,x:e=>this._computeLabelPosition(e).x,y:e=>this._computeLabelPosition(e).y,maxLineWidth:e=>this._computeLabelLimit(e,this._spec.label),stroke:this.getColorAttribute()},"normal",pF.Series);const i=this.getCompiler().getRootMarks();this._funnelOuterLabelMark.label&&Sg(i,this._funnelOuterLabelMark.label,o),this._funnelOuterLabelMark.line&&Sg(i,this._funnelOuterLabelMark.line,null!==(t=this._funnelOuterLabelMark.label)&&void 0!==t?t:o)}else this._funnelTransformMark&&i===this._funnelTransformMark&&(this._transformLabelMark=e,this.setMarkStyle(e,{text:e=>`${(100*Px(cW).bind(this)(e)).toFixed(1)}%`,x:e=>this._computeLabelPosition(e).x,y:e=>this._computeLabelPosition(e).y,maxLineWidth:e=>this._computeLabelLimit(e,this._spec.transformLabel)},"normal",pF.Series))}initAnimation(){var e,t,i,o,l,n,r;const a=null!==(i=null===(t=null===(e=this._spec)||void 0===e?void 0:e.animationAppear)||void 0===t?void 0:t.preset)&&void 0!==i?i:"clipIn";"clipIn"===a&&this._rootMark&&this._rootMark.setAnimationConfig(VT(null===(o=Ow.getAnimationInKey("cartesianGroupClip"))||void 0===o?void 0:o({direction:()=>this._isHorizontal()?"x":"y",width:()=>{const e=this.getRootMark().getProduct();if(e){const{x1:t,x2:i}=e.AABBBounds;return Math.max(t,i)}return this.getLayoutRect().width},height:()=>{const e=this.getRootMark().getProduct();if(e){const{y1:t,y2:i}=e.AABBBounds;return Math.max(t,i)}return this.getLayoutRect().height},orient:()=>this._isReverse()?"negative":"positive"},a),YT("group",this._spec,this._markAttributeContext))),[null===(l=this._funnelOuterLabelMark)||void 0===l?void 0:l.label].forEach(e=>{e&&e.setAnimationConfig(VT(Ow.getAnimationInKey("fadeInOut")(),YT(e.name,this._spec,this._markAttributeContext)))}),[this._funnelMark,this._funnelTransformMark].forEach(e=>{e&&e.setAnimationConfig(VT(Ow.getAnimationInKey("funnel")({},a),YT(e.name,this._spec,this._markAttributeContext)))}),(null===(n=this._funnelOuterLabelMark)||void 0===n?void 0:n.line)&&this._funnelOuterLabelMark.line.setAnimationConfig(VT(null===(r=Ow.getAnimationInKey("fadeInOut"))||void 0===r?void 0:r(),YT("outerLabelLine",this._spec,this._markAttributeContext)))}initGroups(){}getStackGroupFields(){return[]}getStackValueField(){return null}initEvent(){var e;super.initEvent(),null===(e=this._viewDataTransform.getDataView())||void 0===e||e.target.addListener("change",e=>{this._viewDataTransform.updateData()})}getPoints(e){const t=this.isTransformLevel(e),i=this._getMainAxisLength(t)/2;let o,l;t?(o="rect"===this._shape?this._getSecondaryAxisLength(e[uW])/2:this._getSecondaryAxisLength(e[yW])/2,l=this._getSecondaryAxisLength(e[yW])/2):(o=this._getSecondaryAxisLength(e[yW])/2,l="rect"===this._shape?o:this._getSecondaryAxisLength(e[gW])/2);const{x:n,y:r}=this._getPositionByData(e),a=this._getPolygonPoints([n,r],o,l,o,l,i);return"center"!==this._funnelAlign&&this._adjustPoints(a),a}isTransformLevel(e){return!!(null==e?void 0:e[bW])}_buildMarkAttributeContext(){super._buildMarkAttributeContext(),this._markAttributeContext.valueToPosition=this.valueToPosition.bind(this),this._markAttributeContext.getPoints=this.getPoints.bind(this),this._markAttributeContext.isTransformLevel=this.isTransformLevel.bind(this)}valueToPosition(e){var t,i,o;const l=null===(o=null===(i=null===(t=this.getViewData())||void 0===t?void 0:t.latestData)||void 0===i?void 0:i.find)||void 0===o?void 0:o.call(i,t=>t[this._categoryField]===e);return uu(l)?this._getPolygonCenter(this.getPoints(l)):null}dataToPosition(e,t){return t&&!this.isDatumInViewData(e)?null:this.valueToPosition(e[this._categoryField])}dataToPositionX(e){var t;return null===(t=this.dataToPosition(e))||void 0===t?void 0:t.x}dataToPositionY(e){var t;return null===(t=this.dataToPosition(e))||void 0===t?void 0:t.y}dataToPositionZ(e){return 0}_getMainAxisLength(e=!1){var t;const i=this.getViewData().latestData.length,o=this._isHorizontal()?this.getLayoutRect().width:this.getLayoutRect().height,l=!!this._spec.isTransform,n=l?0:null!==(t=this._spec.gap)&&void 0!==t?t:0,r=l?Math.max(0,i-1):0,a=this._spec.heightRatio||.5,s=(o-n*Math.max(0,i-1))/(i+a*r);return e?l?s*a:0:s}_getSecondaryAxisLength(e){const t=Number.isNaN(e)||!Number.isFinite(e)?0:e,i=this._computeMaxSize(),o=this._computeMinSize();return o+(i-o)*t}_getPositionByData(e){var t;const i=null===(t=this.getViewData().latestData)||void 0===t?void 0:t.findIndex(t=>t[this._categoryField]===e[this._categoryField]&&t[iL]===e[iL]);if(!uu(i)||i<0)return{};const o=this.isTransformLevel(e),l=this._isHorizontal(),n=l?this.getLayoutRect().height:this.getLayoutRect().width,r=l?this.getLayoutRect().width:this.getLayoutRect().height,a=n/2;let s=0;const h=this._getMainAxisLength(),d=this._getMainAxisLength(!0);return s+=i*(h+d),s+=o?-d/2:h/2,!this._spec.isTransform&&this._spec.gap&&(s+=this._spec.gap*i),this._isReverse()&&(s=r-s),this._isHorizontal()?{x:s,y:a}:{x:a,y:s}}_getPolygonPoints(e,t,i,o,l,n){const r=e[0],a=e[1];switch(this._funnelOrient){case"left":return[{x:r-n,y:a+t},{x:r-n,y:a-o},{x:r+n,y:a-l},{x:r+n,y:a+i}];case"right":return[{x:r+n,y:a-o},{x:r+n,y:a+o},{x:r-n,y:a+i},{x:r-n,y:a-i}];case"bottom":return[{x:r+t,y:a+n},{x:r-o,y:a+n},{x:r-l,y:a-n},{x:r+i,y:a-n}];default:return[{x:r-t,y:a-n},{x:r+o,y:a-n},{x:r+l,y:a+n},{x:r-i,y:a+n}]}}_getPolygonCenter(e){if(this._isHorizontal()){const t=(e[0].x+e[3].x)/2,i=(e[0].y+e[3].y)/2;return{x:(t+(e[1].x+e[2].x)/2)/2,y:(i+(e[1].y+e[2].y)/2)/2}}const t=(e[0].x+e[3].x)/2,i=(e[0].y+e[3].y)/2;return{x:(t+(e[1].x+e[2].x)/2)/2,y:(i+(e[1].y+e[2].y)/2)/2}}_adjustPoints(e){let t,i,o;return this._isHorizontal()?(o="y","left"===this._funnelOrient?(t="bottom"===this._funnelAlign?-e[1].y:e[1].y,i="bottom"===this._funnelAlign?-e[2].y:e[2].y):(t="bottom"===this._funnelAlign?-e[0].y:e[0].y,i="bottom"===this._funnelAlign?-e[3].y:e[3].y)):(o="x","top"===this._funnelOrient?(t="left"===this._funnelAlign?e[0].x:-e[0].x,i="left"===this._funnelAlign?e[3].x:-e[3].x):(t="left"===this._funnelAlign?e[1].x:-e[1].x,i="left"===this._funnelAlign?e[2].x:-e[2].x)),e[0][o]-=t,e[1][o]-=t,e[2][o]-=i,e[3][o]-=i,e}_computeLabelPosition(e){const t=this.getPoints(e);return this._getPolygonCenter(t)}_computeLabelLimit(e,t){const i=null==t?void 0:t.limit;if(Cu(i))return i;const o=this.getPoints(e);return"shapeSize"===i?this._isHorizontal()?Math.abs(o[3].x-o[0].x):(Math.abs(o[0].x-o[1].x)+Math.abs(o[2].x-o[3].x))/2:this._isHorizontal()?Math.abs(o[3].x-o[0].x):void 0}_computeOuterLabelPosition(e){var t,i;let o,l,n=null===(t=this._spec.outerLabel)||void 0===t?void 0:t.position,r="center",a="middle";if(n=this._isHorizontal()?["top","bottom"].includes(n)?n:"bottom"===this._funnelAlign?"top":"bottom":["left","right"].includes(n)?n:"left"===this._funnelAlign?"right":"left",!1!==(null===(i=this._spec.outerLabel)||void 0===i?void 0:i.alignLabel))({x:o,y:l}=this._getPositionByData(e)),"left"===n?(o=0,r="left"):"right"===n?(o=this.getLayoutRect().width,r="right"):"top"===n?(l=0,a="top"):"bottom"===n&&(l=this.getLayoutRect().height,a="bottom");else{const{x2:t,y2:i}=this._computeOuterLabelLinePosition(e);o=t,l=i,"left"===n?(o-=5,r="right"):"right"===n?(o+=5,r="left"):"top"===n?(l-=5,a="bottom"):"bottom"===n&&(l+=5,a="top")}return{x:o,y:l,align:r,textBaseline:a}}_computeOuterLabelLimit(e){var t,i,o,l,n,r;if(this._isHorizontal())return this._getMainAxisLength(this.isTransformLevel(e));const a=this.getPoints(e),s=(Math.abs(a[0].x-a[1].x)+Math.abs(a[2].x-a[3].x))/2,h=this.getCategoryField(),d=null===(l=null===(o=null===(i=null===(t=this._labelMark)||void 0===t?void 0:t.getComponent())||void 0===i?void 0:i.getComponent())||void 0===o?void 0:o.find(({attribute:t,type:i})=>{var o;return"text"===i&&(null===(o=t.data)||void 0===o?void 0:o[h])===e[h]},!0))||void 0===l?void 0:l.AABBBounds,c=d?d.x2-d.x1:0,p=this._funnelOuterLabelMark.line?this._minLabelLineWidth:0;let y=this.getLayoutRect().width-Math.max(s,c);return"center"===this._funnelAlign&&(y/=2),y-p-(null!==(r=null===(n=this._spec.outerLabel)||void 0===n?void 0:n.spaceWidth)&&void 0!==r?r:5)}_computeOuterLabelLinePosition(e){var t,i,o,l,n,r,a,s,h,d;const c=this.getCategoryField(),p=null===(l=null===(o=null===(i=null===(t=this._funnelOuterLabelMark)||void 0===t?void 0:t.label)||void 0===i?void 0:i.getGraphics())||void 0===o?void 0:o.find(t=>{var i;return(null===(i=t.context.data[0])||void 0===i?void 0:i[c])===e[c]}))||void 0===l?void 0:l.AABBBounds,y=null===(r=null===(n=this._labelMark)||void 0===n?void 0:n.getComponent())||void 0===r?void 0:r.getComponent(),u=null===(a=null==y?void 0:y.find(({attribute:t,type:i})=>{var o;return"text"===i&&(null===(o=t.data)||void 0===o?void 0:o[c])===e[c]},!0))||void 0===a?void 0:a.AABBBounds,g=null!==(s=this._spec.outerLabel)&&void 0!==s?s:{};let f,k,m,b;if(this._isHorizontal()){const t=null!==(h=g.spaceWidth)&&void 0!==h?h:5,i=this.getPoints(e),o=(Math.abs(i[0].y-i[1].y)+Math.abs(i[2].y-i[3].y))/2;return"top"===this._spec.outerLabel.position||"bottom"===this._funnelAlign?(m=this._getPolygonCenter(i).y-o/2-t,b=!1!==g.alignLabel?(null==p?void 0:p.y2)+t:m-t,f=this._getPolygonCenter(i).x,m-b<this._minLabelLineWidth&&(b=m-this._minLabelLineWidth),k=f):(m=this._getPolygonCenter(i).y+o/2+t,b=!1!==g.alignLabel?(null==p?void 0:p.y1)-t:m+t,f=this._getPolygonCenter(i).x,b-m<this._minLabelLineWidth&&(b=m+this._minLabelLineWidth),k=f),{x1:f,x2:k,y1:m,y2:b}}const v=this.getPoints(e),C=(Math.abs(v[0].x-v[1].x)+Math.abs(v[2].x-v[3].x))/2,S=(null==u?void 0:u.x2)-(null==u?void 0:u.x1)||0,x=null!==(d=g.spaceWidth)&&void 0!==d?d:5;return"right"===this._spec.outerLabel.position||"left"===this._funnelAlign?(f=this._getPolygonCenter(v).x+Math.max(S/2,C/2)+x,k=!1!==g.alignLabel?(null==p?void 0:p.x1)-x:f+x,m=this._getPolygonCenter(v).y,k-f<this._minLabelLineWidth&&(k=f+this._minLabelLineWidth),b=m):(f=this._getPolygonCenter(v).x-Math.max(S/2,C/2)-x,k=!1!==g.alignLabel?(null==p?void 0:p.x2)+x:f-x,m=this._getPolygonCenter(v).y,f-k<this._minLabelLineWidth&&(k=f-this._minLabelLineWidth),b=m),{x1:f,x2:k,y1:m,y2:b}}_computeMaxSize(){var e;const t=this._isHorizontal()?this.getLayoutRect().height:this.getLayoutRect().width;return uw(null!==(e=this._spec.maxSize)&&void 0!==e?e:"80%",t)}_computeMinSize(){var e;const t=this._isHorizontal()?this.getLayoutRect().height:this.getLayoutRect().width;return uw(null!==(e=this._spec.minSize)&&void 0!==e?e:0,t)}_isHorizontal(){return"left"===this._funnelOrient||"right"===this._funnelOrient}_isReverse(){return"bottom"===this._funnelOrient||"right"===this._funnelOrient}getDefaultShapeType(){return"square"}getActiveMarks(){return[this._funnelMark]}}LW.type=$_.funnel,LW.mark=_W,LW.builtInTheme={funnel:Hw},LW.transformerConstructor=wW;const FW=()=>{xW(),HM(),Ow.registerMark(_M.type,_M),vb(),db(),Ow.registerGraphicComponent("line",Bh),Ow.registerSeries(LW.type,LW),Ow.registerAnimation("funnel",(e,t)=>Object.assign({appear:"clipIn"===t?void 0:{type:"fadeIn"}},iT)),Ow.registerAnimation("cartesianGroupClip",e=>({appear:{custom:xC,customParameters:(t,i)=>({animationType:"in",group:i,direction:e.direction(),width:e.width(),height:e.height(),orient:e.orient()})},disappear:{custom:xC,customParameters:(t,i)=>({animationType:"out",group:i,direction:e.direction(),width:e.width(),height:e.height(),orient:e.orient()})}})),Ow.registerAnimation("fadeInOut",()=>iT)};class TW extends qz{_isValidSeries(e){return!this.seriesType||e===this.seriesType}getIndicatorSpec(e){var t,i,o;const l=Eu(e.indicator),n=null!==(t=e.innerRadius)&&void 0!==t?t:null===(o=null===(i=e.series)||void 0===i?void 0:i[0])||void 0===o?void 0:o.innerRadius;return uu(n)&&l.forEach(e=>{yu(e.limitRatio)&&(e.limitRatio=n)}),l}_getDefaultSeriesSpec(e,t){return super._getDefaultSeriesSpec(e,["radius","outerRadius","innerRadius","startAngle","endAngle","sortDataByAxis"],t)}transformSpec(e){super.transformSpec(e),bu(e.dataZoom)&&e.dataZoom.length>0&&e.dataZoom.forEach(e=>{"axis"===e.filterMode&&(e.filterMode="filter")}),this.transformSeriesSpec(e),uu(e.indicator)&&(e.indicator=this.getIndicatorSpec(e))}}class AW extends TW{needAxes(){return!1}_getDefaultSeriesSpec(e){var t;const i=super._getDefaultSeriesSpec(e,["center","centerOffset","cornerRadius","padAngle","minAngle","emptyPlaceholder","showAllZero","supportNegative","useSequentialAnimation","layoutRadius"]);return i.categoryField=e.categoryField||e.seriesField,i.valueField=e.valueField||e.angleField,i.emptyCircle=null===(t=e.emptyPlaceholder)||void 0===t?void 0:t.emptyCircle,i}}class zW extends $z{constructor(){super(...arguments),this.transformerConstructor=AW}}zW.transformerConstructor=AW;class BW extends zW{constructor(){super(...arguments),this.transformerConstructor=AW,this.type="pie",this.seriesType=$_.pie}}BW.type="pie",BW.seriesType=$_.pie,BW.transformerConstructor=AW;const MW=()=>{BB(),iO(),Ow.registerChart(BW.type,BW)};class OW extends qz{transformSpec(e){super.transformSpec(e),this.transformSeriesSpec(e)}_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["nameField","valueField","fontFamilyField","fontWeightField","fontStyleField","colorHexField","colorMode","colorList","rotateAngles","fontWeightRange","fontSizeRange","maskShape","keepAspect","random","wordCloudConfig","wordCloudShapeConfig","word","fillingWord","wordMask"])}}class WW extends $z{constructor(){super(...arguments),this.transformerConstructor=OW,this.type="wordCloud",this.seriesType=$_.wordCloud}}WW.transformerConstructor=OW;class RW extends WW{constructor(){super(...arguments),this.transformerConstructor=OW,this.type="wordCloud",this.seriesType=$_.wordCloud}}RW.type="wordCloud",RW.seriesType=$_.wordCloud,RW.transformerConstructor=OW;const HW=()=>{BB(),aW(),Ow.registerChart(RW.type,RW)};class PW extends qz{needAxes(){return!1}_getDefaultSeriesSpec(e){return super._getDefaultSeriesSpec(e,["categoryField","valueField","funnelAlign","funnelOrient","heightRatio","shape","funnel","transform","outerLabel","transformLabel","isTransform","maxSize","minSize","gap","isCone","range","transformRatioText"])}transformSpec(e){super.transformSpec(e),super.transformSeriesSpec(e)}}class EW extends $z{constructor(){super(...arguments),this.transformerConstructor=PW,this.type="funnel",this.seriesType=$_.funnel}}EW.type="funnel",EW.seriesType=$_.funnel,EW.transformerConstructor=PW;const DW=()=>{BB(),FW(),Ow.registerChart(EW.type,EW)};var IW=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};function jW(e,t){const{title:i={},item:o={},pager:l={},background:n={},type:r,id:a,visible:s,orient:h,position:d,data:c,filter:p,regionId:y,regionIndex:u,seriesIndex:g,seriesId:f,padding:k}=e,m=IW(e,["title","item","pager","background","type","id","visible","orient","position","data","filter","regionId","regionIndex","seriesIndex","seriesId","padding"]);return i.visible?m.title=function(e){var t,i;const o=Object.assign({},e);return wu(e.style)||(o.textStyle=TL(e.style)),wu(e.textStyle)||Mw(o.textStyle,TL(e.textStyle)),(null===(t=e.shape)||void 0===t?void 0:t.style)&&TL(o.shape.style),(null===(i=e.background)||void 0===i?void 0:i.style)&&TL(o.background.style),o}(i):m.title={visible:!1},wu(o.focusIconStyle)||TL(o.focusIconStyle),o.shape&&(o.shape=LL(o.shape)),o.label&&(o.label=LL(o.label)),o.value&&(o.value=LL(o.value)),o.background&&(o.background=LL(o.background)),yw(o.maxWidth)&&(o.maxWidth=Number(o.maxWidth.substring(0,o.maxWidth.length-1))*t.width/100),yw(o.width)&&(o.width=Number(o.width.substring(0,o.width.length-1))*t.width/100),yw(o.height)&&(o.height=Number(o.height.substring(0,o.height.length-1))*t.width/100),m.item=o,"scrollbar"===l.type?(wu(l.railStyle)||TL(l.railStyle),wu(l.sliderStyle)||TL(l.sliderStyle)):(wu(l.textStyle)||TL(l.textStyle),l.handler&&LL(l.handler)),m.pager=l,n.visible&&!wu(n.style)&&(Mw(m,n.style),uu(n.padding)&&(m.padding=n.padding)),m}const NW=(e,t)=>{const i=[],o={},{series:l,seriesField:n}=t;return l().forEach(e=>{const t=n(e);let l;l=t===e.getSeriesField()?e.getSeriesInfoList():e.getSeriesInfoInField(t),l.forEach(e=>{o[e.key]||(o[e.key]=!0,i.push(e))})}),i},GW=(e,t)=>{var i,o,l;const{series:n,selected:r,field:a,data:s,customFilter:h}=t,d=r(),c=s();if(0===d.length&&c.length)return[];if(d.length===c.length)return e;const p={};d.forEach(e=>{p[e]=!0});const y=null!==(i=a())&&void 0!==i?i:oL;return h?h(e,d,y):(bu(e)&&(null===(o=e[0])||void 0===o?void 0:o.nodes)?(e[0].nodes=e[0].nodes.filter(e=>!0===p[e.key]),(null===(l=e[0])||void 0===l?void 0:l.links)&&(e[0].links=e[0].links.filter(e=>!0===p[e.source]&&!0===p[e.target]))):uu(y)&&(e=e.filter(e=>!0===p[n.getSeriesFieldValue(e,y)])),e)};class UW extends sz{constructor(){super(...arguments),this.layoutType="normal",this.layoutZIndex=dF.Legend,this.layoutLevel=cF.Legend,this.specKey="legends",this._orient="left",this._visible=!0,this._position="middle",this._preSelectedData=[],this._selectedData=[],this.effect={onSelectedDataChange:()=>{Hx(this._regions,e=>{var t;null===(t=e.getViewData())||void 0===t||t.markRunning()},{userId:this._seriesUserId,specIndex:this._seriesIndex}),Hx(this._regions,e=>{e.reFilterViewData()},{userId:this._seriesUserId,specIndex:this._seriesIndex})}}}get orient(){return this._orient}get visible(){return this._visible}get position(){return this._position}getLegendData(){return this._legendData.getLatestData()}getSelectedData(){return this._selectedData}setAttrFromSpec(){var e;super.setAttrFromSpec(),this._orient=pw(this._spec.orient)?this._spec.orient:"left",this._position=null!==(e=this._spec.position)&&void 0!==e?e:"middle",this._visible=!1!==this._spec.visible;const{regionId:t,regionIndex:i,seriesId:o,seriesIndex:l}=this._spec;uu(o)&&(this._seriesUserId=Eu(o)),uu(t)&&(this._regionUserId=Eu(t)),uu(l)&&(this._seriesIndex=Eu(l)),uu(i)&&(this._regionUserIndex=Eu(i)),this._regions=this._option.getRegionsInUserIdOrIndex(this._regionUserId,this._regionUserIndex)}created(){super.created(),this.initData()}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reRender=!0,(null==e?void 0:e.orient)!==(null==t?void 0:t.orient)?(i.reMake=!0,i):(Ru(t,e)||(i.reCompile=!0),i)}_bindLegendDataChange(){this._preSelectedData=this._selectedData.slice(),this._initSelectedData(),this._forceLayout()}initData(){const e=this._initLegendData();e.target.addListener("change",this._bindLegendDataChange.bind(this)),this._legendData=new IF(this._option,e),this._initSelectedData(),Hx(this._regions,e=>{e.event.on(WL.rawDataUpdate,{filter:({model:t})=>(null==t?void 0:t.id)===e.id},()=>{this._legendData.getDataView().reRunAllTransform({skipEqual:!0})})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}setSelectedData(e){var t,i,o;const l=this._selectedData;yu(e)||JSON.stringify(l)===JSON.stringify(e)||(Hx(this._regions,t=>{t.legendSelectedFilter&&(e=t.legendSelectedFilter(this,e))},{userId:this._seriesUserId,specIndex:this._seriesIndex}),this._selectedData=[...e],null===(i=(t=this.effect).onSelectedDataChange)||void 0===i||i.call(t),this.event.emit(WL.legendSelectedDataChange,{model:this}),null===(o=this._legendComponent)||void 0===o||o.setSelected(this._selectedData))}afterSetLayoutStartPoint(e){if(super.afterSetLayoutStartPoint(e),this._legendComponent){const{x:t,y:i}=e;Su(t*i)&&this._legendComponent.setAttributes({x:t,y:i})}}getBoundsInRect(e,t){if(!this._visible)return this._legendComponent&&this._legendComponent.parent&&(this._legendComponent.parent.removeChild(this._legendComponent),this._legendComponent=null),{x1:0,y1:0,x2:0,y2:0};const i={x1:this.getLayoutStartPoint().x,y1:this.getLayoutStartPoint().y,x2:0,y2:0},o=this._getLegendAttributes(e);if(o.disableTriggerEvent=this._option.disableTriggerEvent,this._legendComponent)Ru(o,this._cacheAttrs)||this._legendComponent.setAttributes(Mw({},o,{defaultSelected:this._selectedData}));else{const e=new(this._getLegendConstructor())(Mw({},o,{defaultSelected:this._selectedData}));e.name="legend",this._legendComponent=e,this.getContainer().add(e),this._option.disableTriggerEvent||this._initEvent(),e.on("*",(e,t)=>this._delegateEvent(this._legendComponent,e,t))}this._cacheAttrs=o;const l=isFinite(this._legendComponent.AABBBounds.width())?this._legendComponent.AABBBounds.width():0,n=isFinite(this._legendComponent.AABBBounds.height())?this._legendComponent.AABBBounds.height():0;if("normal-inline"!==this.layoutType){const e="bottom"===this.layoutOrient||"top"===this.layoutOrient?"horizontal":"vertical",i=this._position,{width:o,height:r}=t;let a=0,s=0;"horizontal"===e?"middle"===i?a=(o-l)/2:"end"===i&&(a=o-l):"middle"===i?s=(r-n)/2:"end"===i&&(s=r-n),this._legendComponent.setAttributes({dx:a,dy:s})}return i.x2=i.x1+l,i.y2=i.y1+n,i}onDataUpdate(){var e,t;if(JSON.stringify(this._preSelectedData)!==JSON.stringify(this._selectedData)){if(this._legendComponent){const e=this._getLegendAttributes(this.getLayoutRect());Ru(e,this._cacheAttrs)||this._legendComponent.setAttributes(Mw({},e,{defaultSelected:this._selectedData}))}null===(t=(e=this.effect).onSelectedDataChange)||void 0===t||t.call(e),this.event.emit(WL.legendSelectedDataChange,{model:this})}}_getNeedClearVRenderComponents(){return[this._legendComponent]}clear(){super.clear(),this._cacheAttrs=null,this._preSelectedData=null}}UW.specKey="legends";class VW extends UW{constructor(){super(...arguments),this.type=r.discreteLegend,this.name=r.discreteLegend}static getSpecInfo(e){return CT(e,this.specKey,this.type,e=>!e.type||"discrete"===e.type)}init(e){super.init(e),Hx(this._regions,e=>{e.addViewDataFilter({type:"discreteLegendFilter",options:{series:e,selected:()=>this._selectedData,field:()=>this._getSeriesLegendField(e),data:()=>this.getLegendDefaultData(),customFilter:this._spec.customFilter},level:$L.legendFilter})},{userId:this._seriesUserId,specIndex:this._seriesIndex})}_initLegendData(){jL(this._option.dataSet,"discreteLegendFilter",GW),jL(this._option.dataSet,"discreteLegendDataMake",NW);const e=new E(this._option.dataSet,{name:`${this.type}_${this.id}_data`});return e.transform({type:"discreteLegendDataMake",options:{series:()=>{const e=[];return Hx(this._regions,t=>{e.push(t)},{specIndex:this._spec.seriesIndex,userId:this._spec.seriesId}),e},seriesField:e=>this._getSeriesLegendField(e)}}),e}_getSeriesLegendField(e){var t,i,o;const l=e.getSeriesField(),n=null!==(t=this._spec.scaleName)&&void 0!==t?t:this._spec.scale;if(yu(n))return l;if(!e.getRawData())return l;const r=this._option.globalScale.getScaleSpec(n);if(!r)return l;if(this._spec.field)return this._spec.field;if(!Rg(r.domain))return l;const a=r.domain.find(t=>t.dataId===e.getRawData().name);return a&&null!==(o=null===(i=a.fields)||void 0===i?void 0:i[0])&&void 0!==o?o:l}_initSelectedData(){const e=this.getLegendDefaultData();if(this._unselectedData){const t=[],i=[];e.forEach(e=>{this._unselectedData.includes(e)?i.push(e):t.push(e)}),this._selectedData=t,this._unselectedData=i}else this._spec.defaultSelected?this._selectedData=[...this._spec.defaultSelected]:this._selectedData=e}getLegendDefaultData(e){return pu(this._spec.data)?this._getLegendItems().map(e=>e.label):this._legendData.getLatestData().map(e?e=>e.originalKey:e=>e.key)}_addDefaultTitleText(e){var t,i,o,l;if((null===(t=e.title)||void 0===t?void 0:t.visible)&&yu(e.title.text)&&yu(null===(i=e.title.style)||void 0===i?void 0:i.text)){const t=null===(l=null===(o=this._regions)||void 0===o?void 0:o[0])||void 0===l?void 0:l.getSeries()[0];if(!t)return;e.title.text=bL(t.getRawData(),t.getSeriesField())}}_getLegendAttributes(e){const t="bottom"===this.layoutOrient||"top"===this.layoutOrient?"horizontal":"vertical",i=Object.assign(Object.assign({layout:t,items:this._getLegendItems(),zIndex:this.layoutZIndex},jW(this._spec,e)),{maxWidth:e.width,maxHeight:e.height});return this._addDefaultTitleText(i),this._addLegendItemFormatMethods(i),i}_getLegendConstructor(){return Wx}setSelectedData(e){e&&(this._unselectedData=this.getLegendDefaultData().filter(t=>!e.includes(t))),super.setSelectedData(e)}_initEvent(){if(this._legendComponent){const e=!1!==this._spec.filter;this._legendComponent.addEventListener(Ax.legendItemClick,t=>{const i=Lu(t,"detail.currentSelected");e&&this.setSelectedData(i),this.event.emit(WL.legendItemClick,{model:this,value:i,event:t})}),this._legendComponent.addEventListener(Ax.legendItemHover,e=>{const t=Lu(e,"detail");this.event.emit(WL.legendItemHover,{model:this,value:t,event:e})}),this._legendComponent.addEventListener(Ax.legendItemUnHover,e=>{const t=Lu(e,"detail");this.event.emit(WL.legendItemUnHover,{model:this,value:t,event:e})})}}_getLegendItems(){const e=(this._legendData.getLatestData()||[]).map(e=>{var t,i;const o=e.style("fillOpacity"),l=e.style("strokeOpacity"),n=e.style("opacity"),r=e.style("texture");return{label:e.key,shape:{symbolType:null!==(i=null!==(t=e.style("symbolType"))&&void 0!==t?t:e.shapeType)&&void 0!==i?i:"circle",fillOpacity:Su(o)?o:1,strokeOpacity:Su(l)?l:1,opacity:Su(n)?n:1,texturePadding:r?1:null,textureSize:r?4:null,texture:r,fill:e.style("fill"),stroke:e.style("stroke"),textureColor:e.style("textureColor"),innerBorder:e.style("innerBorder"),outerBorder:e.style("outerBorder"),lineDash:e.style("lineDash"),lineDashOffset:e.style("lineDashOffset"),lineWidth:e.style("lineWidth")}}});return pu(this._spec.data)?this._spec.data(e,this._option.globalScale.getScale("color"),this._option.globalScale):e}_addLegendItemFormatMethods(e){var t,i,o,l;const{formatMethod:n,formatter:r}=null!==(i=null===(t=this._spec.item)||void 0===t?void 0:t.label)&&void 0!==i?i:{},{formatMethod:a,formatter:s}=null!==(l=null===(o=this._spec.item)||void 0===o?void 0:o.value)&&void 0!==l?l:{},{formatFunc:h}=vT(n,r);r&&!n&&h&&(e.item.label.formatMethod=(e,t)=>h(e,t,r));const{formatFunc:d}=vT(a,s);s&&!a&&d&&(e.item.value.formatMethod=(e,t)=>d(s,e,t,r))}}VW.specKey="legends",VW.builtInTheme={discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1}},VW.type=r.discreteLegend;const YW=()=>{Ow.registerComponent(VW.type,VW)},ZW=(e,t)=>uu(t)?e.map(e=>t[e]):void 0,XW=(e,t)=>i=>e.every((e,o)=>i[e]===(null==t?void 0:t[o])),$W=e=>!yu(e)&&(bu(e)?e.length>0&&e.every(uu):Object.keys(e).length>0);const KW=(e,t)=>{const i=t.getSeries(),o=[];return i.forEach(t=>{var i,l,n,r,a,s,h;const d=t.getDimensionField(),c=t.getMeasureField(),p=t.getSeriesField(),y=uu(p)?e[p]:void 0,u=uu(p)&&null!==(r=null===(n=null===(l=null===(i=t.getViewDataStatistics)||void 0===i?void 0:i.call(t))||void 0===l?void 0:l.latestData[p])||void 0===n?void 0:n.values)&&void 0!==r?r:[],g=ZW(d,e);let f=ZW(c,e);const k=$W(f),m=!k&&uu(p)&&yu(y)&&u.length>0,b=()=>{var e;const i=null===(e=t.getViewData())||void 0===e?void 0:e.latestData.find(XW(d,g));if(!k&&(f=ZW(c,i),!$W(f)))return;const l=t.type===$_.pie?t.dataToCentralPosition(i):t.dataToPosition(i);yu(l)||isNaN(l.x)||isNaN(l.y)||o.push({pos:l,data:{dimensionFields:d,dimensionData:g,measureFields:c,measureData:f,hasMeasureData:k,groupField:p,groupData:y},series:t})};if("cartesian"===t.coordinate){const e=t,i=m_(null===(s=null===(a=t.getYAxisHelper())||void 0===a?void 0:a.getScale(0))||void 0===s?void 0:s.type)?"y":"x",l=d.map((e,t)=>[e,t]).filter(([,e])=>yu(null==g?void 0:g[e]));let n=[null!=g?g:[]];l.length>0&&l.forEach(([e,i])=>{var o,l,r,a;const s=null!==(a=null===(r=null===(l=null===(o=t.getViewDataStatistics)||void 0===o?void 0:o.call(t))||void 0===l?void 0:l.latestData[e])||void 0===r?void 0:r.values)&&void 0!==a?a:[],h=[];n.forEach(e=>{s.forEach(t=>{var o;const l=null!==(o=null==e?void 0:e.slice())&&void 0!==o?o:[];l[i]=t,h.push(l)})}),n=h}),n.forEach(l=>{var n,r;if(m){const r=null===(n=e.getViewData())||void 0===n?void 0:n.latestData.filter(XW(d,l));u.forEach(n=>{const a=r.find(e=>e[p]===n);if(f=ZW(c,a),!$W(f))return;const s=e.dataToPosition(a);yu(s)||isNaN(s.x)||isNaN(s.y)||o.push({pos:s,data:{dimensionFields:d,dimensionData:l,measureFields:c,measureData:f,hasMeasureData:k,groupField:p,groupData:n},series:t,dimType:i})})}else{const n=null===(r=e.getViewData())||void 0===r?void 0:r.latestData.find(XW(d,l));if(!k&&(f=ZW(c,n),!$W(f)))return;const a=e.dataToPosition(n);if(yu(a)||isNaN(a.x)||isNaN(a.y))return;o.push({pos:a,data:{dimensionFields:d,dimensionData:l,measureFields:c,measureData:f,hasMeasureData:k,groupField:p,groupData:y},dimType:i,series:t})}})}else if("polar"===t.coordinate)if(t.type===$_.pie)b();else{const e=t;if(m){const i=(null===(h=e.getViewData())||void 0===h?void 0:h.latestData.filter(XW(d,g))).find(e=>e[p]===y);u.forEach(l=>{if(f=ZW(c,i),!$W(f))return;const n=e.dataToPosition(i);yu(n)||isNaN(n.x)||isNaN(n.y)||o.push({pos:n,data:{dimensionFields:d,dimensionData:g,measureFields:c,measureData:f,hasMeasureData:k,groupField:p,groupData:l},series:t})})}else b()}else"geo"===t.coordinate&&b()}),o},qW=e=>uu(e)&&!bu(e),JW=e=>uu(e)&&bu(e);class QW extends lz{_shouldMergeThemeToSpec(){return!1}_initTheme(e,t){var i,o,l;const{spec:n,theme:r}=super._initTheme(e,t);return n.style=Mw({},this._theme,n.style),n.offset=Mw({},r.offset,e.offset),n.transitionDuration=null!==(i=e.transitionDuration)&&void 0!==i?i:r.transitionDuration,n.trigger=null!==(o=e.trigger)&&void 0!==o?o:r.trigger,n.triggerOff=null!==(l=e.triggerOff)&&void 0!==l?l:r.triggerOff,{spec:n,theme:r}}_transformSpecAfterMergingTheme(e,t,i){var o,l,n,r,a,s,h;super._transformSpecAfterMergingTheme(e,t,i),e.visible=null===(o=e.visible)||void 0===o||o,e.activeType=(e=>{var t,i,o;if(!1===(null==e?void 0:e.visible))return[];const l={mark:!1!==(null===(t=null==e?void 0:e.mark)||void 0===t?void 0:t.visible),dimension:!1!==(null===(i=null==e?void 0:e.dimension)||void 0===i?void 0:i.visible),group:!1!==(null===(o=null==e?void 0:e.group)||void 0===o?void 0:o.visible)};return uu(null==e?void 0:e.activeType)&&Object.keys(l).forEach(t=>{var i;l[t]=null===(i=null==e?void 0:e.activeType)||void 0===i?void 0:i.includes(t)}),Object.keys(l).filter(e=>l[e])})(e),e.renderMode=null!==(l=e.renderMode)&&void 0!==l?l:Bg(this._option.mode)||!Ag(this._option.mode)?"canvas":"html",e.trigger=null!==(n=e.trigger)&&void 0!==n?n:"hover",e.className=null!==(r=e.className)&&void 0!==r?r:"vchart-tooltip-element",e.enterable=null!==(a=e.enterable)&&void 0!==a&&a,e.transitionDuration=null!==(s=e.transitionDuration)&&void 0!==s?s:150,e.confine=null!==(h=e.confine)&&void 0!==h?h:"canvas"===e.renderMode,uu(e.parentElement)?mu(e.parentElement)&&(e.parentElement=iy.getElementById(e.parentElement)):Ag(this._option.mode)&&(e.parentElement=null==Tg?void 0:Tg.body)}}class eR extends sz{constructor(){super(...arguments),this.layoutZIndex=1,this.type=r.tooltip,this.name=r.tooltip,this.transformerConstructor=QW,this.specKey="tooltip",this.layoutType="none",this._isReleased=!1,this._alwaysShow=!1,this._eventList=[],this._isTooltipShown=!1,this._clickLock=!1,this._mountEvent=(e,t,i)=>{this.event.on(e,t,i),this._eventList.push({eventType:e,handler:i})},this._handleClickToLock=e=>{var t,i;if(this._clickLock)this._handleChartMouseOut(e),this._clickLock=!1;else{if(!this._isTooltipShown&&!(null===(i=null===(t=this.tooltipHandler)||void 0===t?void 0:t.isTooltipShown)||void 0===i?void 0:i.call(t)))return;this._clickLock=!0}},this._getMouseOutHandler=e=>t=>{var i,o,l,n,r;if(this._isReleased)return;if(this._alwaysShow||this._clickLock)return;if(!this._isTooltipShown&&!(null===(o=null===(i=this.tooltipHandler)||void 0===i?void 0:i.isTooltipShown)||void 0===o?void 0:o.call(i)))return;const a=Ag(null===(l=this._option)||void 0===l?void 0:l.mode),{clientX:s,clientY:h}=t.event;a&&e&&this._isPointerInChart({x:s,y:h})||(this._enterable?this._outTimer=setTimeout(()=>{this._handleChartMouseOut(t)},null!==(r=null===(n=this._spec)||void 0===n?void 0:n.showDelay)&&void 0!==r?r:50):this._handleChartMouseOut(t))},this._handleChartMouseOut=e=>{this._alwaysShow||this._isReleased||this._isEnterTooltip||"none"!==this._spec.triggerOff&&(this._hideTooltipByHandler(Object.assign(Object.assign({},e),{tooltip:this})),this._handleMouseMove&&this._handleMouseMove.cancel&&this._handleMouseMove.cancel(),this._cacheEnterableRect=null,this._cacheInfo=void 0,this._cacheParams=void 0,this._cacheActiveType=void 0)},this._getMouseMoveHandler=e=>t=>{var i,o,l,n;this._isReleased||this._isEnterTooltip||(this._outTimer&&(clearTimeout(this._outTimer),this._outTimer=null),this.tooltipHandler||this._initHandler(),this.processor||this._initProcessor(),this._alwaysShow||(this._clickLock?e&&(this._handleChartMouseOut(t),this._clickLock=!1):!e&&this._enterable&&(null===(o=null===(i=this.tooltipHandler)||void 0===i?void 0:i.isTooltipShown)||void 0===o?void 0:o.call(i))?(this._showTimer&&clearTimeout(this._showTimer),this._showTimer=setTimeout(()=>{this._handleChartMouseMove(t,e)},null!==(n=null===(l=this._spec)||void 0===l?void 0:l.showDelay)&&void 0!==n?n:50)):this._handleChartMouseMove(t,e)))},this._handleChartMouseMove=(e,t)=>{if(this._isReleased)return;const i=this._getMouseEventData(e),{tooltipInfo:{dimension:o},ignore:{mark:l}}=i,n={mark:!1,dimension:!1,group:!1},r=["group","mark","dimension"];for(let a=0,s=r.length;a<s;a++){const o=r[a];if(this.processor[o]&&this._showTooltipByMouseEvent(o,i,e,t)){n[o]=!0;break}}Object.values(n).every(e=>!e)&&!function(e){return yu(e.mark)&&yu(e.model)&&yu(e.datum)}(e)&&(l&&qW(this._cacheInfo)?n.mark=this._showTooltipByMouseEvent("mark",i,e,t,!0):uu(o)&&(n.dimension=this._showTooltipByMouseEvent("dimension",i,e,t))),n.mark||n.group||n.dimension&&!yu(o)?this._initEventOfTooltipContent():this._handleChartMouseOut(e)},this._showTooltipByMouseEvent=(e,t,i,o,l)=>{var n;const r=this.processor[e];if(!r.shouldHandleTooltip(i,t.tooltipInfo[e]))return!1;let a;if(this._hideTimer&&clearTimeout(this._hideTimer),l)a=!r.showTooltip(this._cacheInfo,i,!0);else{const o=t.tooltipInfo[e],l=this._isSameAsCache(o,i,e);a=!r.showTooltip(o,i,l),a&&(this._cacheInfo=o,this._cacheParams=i,this._cacheActiveType=e)}a&&(this._isTooltipShown=!0,o&&this._spec.lockAfterClick&&!this._clickLock?this._clickLock=!0:Number.isFinite(this._spec.hideTimer)&&(this._hideTimer=setTimeout(()=>{this._handleChartMouseOut()},this._spec.hideTimer)));const s=null===(n=this._option)||void 0===n?void 0:n.globalInstance;return a&&kT.globalConfig.uniqueTooltip&&s&&kT.hideTooltip(s.id),a},this._getMouseEventData=e=>{const t={tooltipInfo:{},ignore:{}};return Object.keys(this.processor).forEach(i=>{const{tooltipInfo:o,ignore:l}=this.processor[i].getMouseEventData(e);t.tooltipInfo[i]=o,t.ignore[i]=l}),t},this._hideTooltipByHandler=e=>{var t,i,o;if(!this._isTooltipShown&&!(null===(i=null===(t=this.tooltipHandler)||void 0===t?void 0:t.isTooltipShown)||void 0===i?void 0:i.call(t)))return 0;this.event.emit(WL.tooltipHide,Object.assign(Object.assign({},e),{source:RL.chart,tooltip:this})),Object.values(this.processor).forEach(e=>{e.clearCache()});const l=null!==(o=this._spec.handler)&&void 0!==o?o:this.tooltipHandler;if(l.hideTooltip){const t=l.hideTooltip.call(l,e);return t||(this._isTooltipShown=!1),t}return 1},this.hideTooltip=()=>{if(this._isReleased)return!1;const e={changePositionOnly:!1,tooltip:this,item:void 0,datum:void 0,source:RL.chart};return this._alwaysShow=!1,!this._hideTooltipByHandler(e)}}isTooltipShown(){return this._isTooltipShown}_registerEvent(){}_releaseEvent(){}onLayoutEnd(){}created(){super.created(),this._regions=this._option.getAllRegions(),this._initEvent()}release(){var e,t;super.release(),this._isReleased=!0,this._hideTimer&&clearTimeout(this._hideTimer),this._eventList.forEach(({eventType:e,handler:t})=>{this.event.off(e,t)}),this._eventList=[],null===(t=null===(e=this.tooltipHandler)||void 0===e?void 0:e.release)||void 0===t||t.call(e),this._isTooltipShown=!1}beforeRelease(){this.event.emit(WL.tooltipHide,{tooltip:this,chart:this.getChart()}),this.event.emit(WL.tooltipRelease,{tooltip:this,chart:this.getChart()})}_initHandler(){var e,t,i;const o=null!==(e=this._spec.renderMode)&&void 0!==e?e:"html",l=this._option.globalInstance.getTooltipHandlerByUser();if(l)this.tooltipHandler=l,this._enterable=!1;else{const e="canvas"===o?_B.canvas:_B.dom,l=Ow.getComponentPluginInType(e);l||wg("Can not find tooltip handler: "+e);const n=new l;n.name=`${this._spec.className}-${null!==(t=this._option.globalInstance.id)&&void 0!==t?t:0}-${this.getSpecIndex()}`,null===(i=this.pluginService)||void 0===i||i.load([n]),this.tooltipHandler=n,this._spec.enterable&&"html"===o&&this.tooltipHandler?(this._enterable=!0,this._needInitEventOfTooltip=!0):this._enterable=!1}}_initEventOfTooltipContent(){var e,t;if(!this._needInitEventOfTooltip)return;const i=null===(t=(e=this.tooltipHandler).getRootDom)||void 0===t?void 0:t.call(e);i&&(i.addEventListener("pointerenter",()=>{var e;if(!this._enterable)return;this._isEnterTooltip=!0;const t=null===(e=i.getBoundingClientRect)||void 0===e?void 0:e.call(i);t&&(this._cacheEnterableRect={width:t.width,height:t.height}),this._outTimer&&(clearTimeout(this._outTimer),this._outTimer=null),this._showTimer&&(clearTimeout(this._showTimer),this._showTimer=null)}),i.addEventListener("pointerleave",()=>{var e,t,o;if(this._enterable&&(this._isEnterTooltip=!1,"none"!==this._spec.triggerOff&&this._cacheEnterableRect)){const l=null===(e=i.getBoundingClientRect)||void 0===e?void 0:e.call(i);l&&Object.keys(this._cacheEnterableRect).every(e=>this._cacheEnterableRect[e]===l[e])&&(this._cacheEnterableRect=null,this._outTimer=setTimeout(this.hideTooltip,null!==(o=null===(t=this._spec)||void 0===t?void 0:t.showDelay)&&void 0!==o?o:50))}}),this._needInitEventOfTooltip=!1)}_initProcessor(){const e=this._spec.activeType;this.processor={},e.forEach(e=>{const t=Ow.createTooltipProcessor(e,this);t&&(this.processor[e]=t)})}_initEvent(){var e;if(this._option.disableTriggerEvent)return;const t=Eu(null!==(e=this._spec.trigger)&&void 0!==e?e:"hover"),i=Eu(this._spec.triggerOff),o=this._option.mode;t.forEach(e=>{var t;"hover"===e?(this._handleMouseMove=this._throttle(this._getMouseMoveHandler(!1)),this._mountEvent("pointermove",{source:"chart"},this._handleMouseMove),(zg(o)||Bg(o))&&(this._mountEvent("pointerdown",{source:"chart"},this._getMouseMoveHandler(!1)),this._mountEvent("pointerup",{source:"window"},this._getMouseOutHandler(!0))),this._mountEvent("pointerleave",{source:"chart"},this._getMouseOutHandler(!1))):"click"===e?(this._mountEvent("pointertap",{source:"chart"},this._getMouseMoveHandler(!0)),this._mountEvent("pointerup",{source:"window"},this._getMouseOutHandler(!0))):gu(e)&&this._mountEvent(e.eventType,{source:null!==(t=e.source)&&void 0!==t?t:"chart",consume:e.consume},this._getMouseMoveHandler(!0))}),i.filter(e=>gu(e)).forEach(e=>{var t,i;this._mountEvent(e.eventType,{source:null!==(t=e.source)&&void 0!==t?t:"chart",consume:e.consume},this._getMouseOutHandler(null!==(i=e.checkOutside)&&void 0!==i&&i))}),!t.includes("click")&&this._spec.lockAfterClick&&this._mountEvent("pointertap",{source:"chart"},this._handleClickToLock)}_throttle(e){let t;return t=Cu(this._spec.throttleInterval)?this._spec.throttleInterval:"html"===this._spec.renderMode&&this._spec.transitionDuration?50:10,$u(e,t)}reInit(e){var t,i,o;if(super.reInit(e),this.tooltipHandler){const e=null!==(t=this._spec.renderMode)&&void 0!==t?t:"html",l=this._spec.enterable&&"html"===e;l&&!this._enterable&&(this._needInitEventOfTooltip=!0),this._enterable=l,null===(o=(i=this.tooltipHandler).reInit)||void 0===o||o.call(i)}else this._initHandler()}showTooltip(e,t){var i;if(this.tooltipHandler||this._initHandler(),this.processor||this._initProcessor(),!(null===(i=this.tooltipHandler)||void 0===i?void 0:i.showTooltip))return!1;const o=function(e,t,i){var o,l,n;const r=Object.assign({regionIndex:0},t),a=i.getOption(),s=a.getRegionsInUserIdOrIndex(uu(r.regionId)?[r.regionId]:void 0,uu(r.regionIndex)?[r.regionIndex]:void 0)[0];if(!s)return"none";const h=KW(e,s),d=null!==(o=r.activeType)&&void 0!==o?o:h.length>1?"dimension":"mark",c=s.getLayoutStartPoint(),p=s.getLayoutRect(),y=a.globalInstance.getContainer(),u=Object.assign({x:0,y:0},y?function(e){const{x:t,y:i}=e.getBoundingClientRect();return{x:t,y:i}}(y):{}),g=e=>{var t;const{dimensionFields:i,dimensionData:o,measureFields:l,measureData:n,groupField:r,groupData:a}=e.data,s=null===(t=e.series.getViewData())||void 0===t?void 0:t.latestData.find(e=>XW(i,o)(e)&&XW(l,n)(e)&&(yu(r)||XW([r],[a])(e)));return s},f=e=>{var t,i;const o=(e=>({x:Math.min(Math.max(e.x,0),p.width),y:Math.min(Math.max(e.y,0),p.height)}))(e),l=null!==(t=r.x)&&void 0!==t?t:c.x+o.x,n=null!==(i=r.y)&&void 0!==i?i:c.y+o.y;return{canvasX:l,canvasY:n,clientX:u.x+l,clientY:u.y+n}};if("dimension"===d){const t=h[0];if(!t)return"none";const o=new Map;h.forEach(e=>{var t;o.has(e.series)||o.set(e.series,[]),null===(t=o.get(e.series))||void 0===t||t.push(e)});const n=[{value:e[t.data.dimensionFields[0]],data:[...o.keys()].map(e=>{var t,i;return{series:e,datum:null!==(i=null===(t=o.get(e))||void 0===t?void 0:t.map(e=>g(e)))&&void 0!==i?i:[]}})}];uu(t.dimType)&&(n[0].position=t.pos[t.dimType],n[0].dimType=t.dimType);const r={changePositionOnly:!1,action:"enter",tooltip:null,dimensionInfo:n,chart:null!==(l=a.globalInstance.getChart())&&void 0!==l?l:void 0,datum:void 0,model:void 0,source:RL.chart,event:f({x:h.reduce((e,t)=>e+t.pos.x,0)/h.length,y:h.reduce((e,t)=>e+t.pos.y,0)/h.length}),item:void 0};i.processor.dimension.showTooltip(n,r,!1);const s=a.globalInstance;return kT.globalConfig.uniqueTooltip&&kT.hideTooltip(s.id),d}if("mark"===d){const t=h[0];if(!t)return"none";const o=Object.assign(Object.assign({},g(t)),e),l=[{datum:[o],series:t.series}],r={changePositionOnly:!1,tooltip:null,dimensionInfo:[{value:o[t.data.dimensionFields[0]],data:l}],chart:null!==(n=a.globalInstance.getChart())&&void 0!==n?n:void 0,datum:o,model:t.series,source:RL.chart,event:f(t.pos),item:void 0};i.processor.mark.showTooltip({datum:o,mark:null,series:t.series},r,!1);const s=a.globalInstance;return kT.globalConfig.uniqueTooltip&&kT.hideTooltip(s.id),d}return"none"}(e,t,this);return"none"!==o&&(this._alwaysShow=!!(null==t?void 0:t.alwaysShow)),o}_isSameAsCache(e,t,i){if(i!==this._cacheActiveType)return!1;if(e===this._cacheInfo)return!0;if(yu(this._cacheInfo)||yu(e))return!1;if(JW(e)){if(qW(this._cacheInfo))return!1;const t=this._cacheInfo;return t.length===e.length&&e.every((e,i)=>pA(e,t[i]))}if(JW(this._cacheInfo))return!1;const o=this._cacheInfo;if((null==e?void 0:e.datum)!==o.datum||(null==e?void 0:e.mark)!==o.mark||(null==e?void 0:e.series)!==o.series)return!1;const l=this._cacheParams;return!yu(l)&&!yu(t)&&l.mark===t.mark&&l.model===t.model&&l.datum===t.datum}_isPointerInChart(e){var t;const i=null===(t=this._option)||void 0===t?void 0:t.globalInstance;if(!i)return!1;if(!i.getChart())return!1;const{x:o,y:l}=e,n=i.getCanvas(),{x:r,y:a,width:s,height:h}=n.getBoundingClientRect();return o>=r&&o<=r+s&&l>=a&&l<=a+h}getVisible(){return!1!==this._spec.visible}}eR.type=r.tooltip,eR.transformerConstructor=QW,eR.builtInTheme={tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}}},eR.specKey="tooltip";const tR=()=>{Ow.registerComponent(eR.type,eR)};var iR;!function(e){e[e.ALL=3]="ALL",e[e.HORIZONTAL=2]="HORIZONTAL",e[e.VERTICAL=1]="VERTICAL"}(iR||(iR={}));var oR=function(e,t){var i={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(i[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(o=Object.getOwnPropertySymbols(e);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(e,o[l])&&(i[o[l]]=e[o[l]])}return i};const lR={x:["top","bottom"],y:["left","right"],category:["angle"],value:["radius"]};class nR extends sz{get enableRemain(){return"none"===this.triggerOff}constructor(e,t){super(e,t),this.specKey="crosshair",this.layoutType="none",this.gridZIndex=dF.CrossHair_Grid,this.labelZIndex=dF.CrossHair,this.trigger="hover",this._handleIn=e=>{if(!this._option)return;const{x:t,y:i}=this.calculateTriggerPoint(e);this.showDefault=!1,this._layoutCrosshair(t,i);const o=this._getNeedClearVRenderComponents();this._hasActive=o.some(e=>e&&!1!==e.attribute.visible)},this._handleClickInEvent=e=>{if(!this._hasActive||!this._spec.lockAfterClick||this._clickLock)return this._clickLock?(this._clickLock=!1,void this._handleOutEvent()):void(this._onlyLockClick||(this._handleIn(e),Cu(this.triggerOff)&&(this._timer&&clearTimeout(this._timer),this._timer=setTimeout(()=>{this._handleOutEvent()},this.triggerOff))));this._clickLock=!0},this._handleHoverInEvent=$u(e=>{this._clickLock||this._handleIn(e)},10),this._handleOutEvent=()=>{this.enableRemain||this._clickLock||!this._hasActive||(this.clearOutEvent(),this.hide())},this._handleTooltipShow=e=>{const t=e.tooltipData;if(e.isEmptyTooltip||!t||!t.length)return void this._handleTooltipHideOrRelease();if(gu(this._spec.followTooltip)&&!1===this._spec.followTooltip[e.activeType])return void this._handleTooltipHideOrRelease();const{x:i,y:o}=this.calculateTriggerPoint(e);this.showDefault=!1,this._layoutCrosshair(i,o,t,e.activeType);const l=this._getNeedClearVRenderComponents();this._hasActive=l.some(e=>e&&!1!==e.attribute.visible)},this._handleTooltipHideOrRelease=()=>{this.clearOutEvent(),this.hide()},this.enable=!0,this.showDefault=!0}_setAllAxisValues(e,t,i){let o=!1;if(e.forEach(e=>{m_(e.axis.getScale().type)&&(o?this.enable=!1:o=!0)}),!this.enable)return!1;const{currentValue:l}=this._stateByField[i];return e.forEach((e,i)=>{const o=e.axis;l.set(i,{datum:this._getDatumAtPoint(o,t),axis:o})}),!0}clearAxisValue(){Object.keys(this._stateByField).forEach(e=>{this._stateByField[e].currentValue.clear()})}hideCrosshair(){this.clearAxisValue(),this.hide()}showCrosshair(e){e&&e.length&&(this.showDefault=!1,this.clearAxisValue(),e.forEach(e=>{const{axis:t,value:i}=e;this.setAxisValue(i,t)}),this.layoutByValue(!1))}_getLimitBounds(){var e,t;if(!this._limitBounds){const{width:i,height:o}=null!==(t=null===(e=this._option.globalInstance.getChart())||void 0===e?void 0:e.getViewRect())&&void 0!==t?t:{width:0,height:0};this._limitBounds={x1:0,y1:0,x2:i,y2:o}}return this._limitBounds}_showDefaultCrosshairBySpec(){Object.keys(this._stateByField).forEach(e=>{const t=this._spec[e];if(t&&t.visible&&t.defaultSelect){const{axisIndex:i=0,datum:o}=t.defaultSelect,l=this._option.getComponentsByKey("axes").find(e=>e.getSpecIndex()===i);l&&(this._stateByField[e].currentValue.clear(),this._stateByField[e].currentValue.set(i,{axis:l,datum:o}))}})}_updateVisibleCrosshair(){let e=!1;Object.keys(this._stateByField).forEach(t=>{const i=this._spec[t];i&&i.visible&&this._stateByField[t].currentValue.size?e=!0:this._hideByField(t)}),e&&this.layoutByValue(!1)}_showDefaultCrosshair(){this.showDefault?(this._showDefaultCrosshairBySpec(),this.layoutByValue(!1)):this._updateVisibleCrosshair()}setAttrFromSpec(){super.setAttrFromSpec(),this._parseCrosshairSpec()}created(){super.created(),this._initEvent()}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reMake||Ru(t,e)||(i.reRender=!0,i.reMake=!0),i}_initEvent(){if(!this._option.disableTriggerEvent)if(this._spec.followTooltip)this._registerTooltipEvent();else{const e=this._getTriggerEvent();e&&e.forEach(e=>{this._registerEvent(e.in,!1,e.click),e.out&&this._registerEvent(e.out,!0)})}}_registerEvent(e,t,i){const o=t?this._handleOutEvent:i?this._handleClickInEvent:this._handleHoverInEvent,l=t?{level:HL.chart}:{source:RL.chart};bu(e)?e.forEach(e=>{this.event.on(e,l,o)}):this.event.on(e,l,o)}_eventOff(e,t,i){const o=t?this._handleOutEvent:i?this._handleClickInEvent:this._handleHoverInEvent;bu(e)?e.forEach(e=>{this.event.off(e,o)}):this.event.off(e,o)}onBeforeRender(){this._limitBounds=null,this._showDefaultCrosshair()}calculateTriggerPoint(e){const{event:t}=e,i=this._option.getCompiler().getStage().getLayer(void 0),o={x:t.viewX,y:t.viewY};return i.globalTransMatrix.transformPoint({x:t.viewX,y:t.viewY},o),{x:o.x-this.getLayoutStartPoint().x,y:o.y-this.getLayoutStartPoint().y}}_getTriggerEvent(){const{mode:e=n["desktop-browser"]}=this._option,t=function(e){return e===n["desktop-browser"]||e===n["desktop-miniApp"]?{click:"pointertap",hover:"pointermove",hoverOut:"pointerleave",clickOut:"pointerleave"}:zg(e)||Bg(e)?{click:"tap",hover:["pointerdown","pointermove"],hoverOut:"pointerleave",clickOut:"pointerleave"}:null}(e);if(t){const e=Eu(this.trigger||"hover"),i=e=>"click"===e?"none"===this.triggerOff?null:t.clickOut:t.hoverOut;this._spec.lockAfterClick&&!e.includes("click")?(e.push("click"),this._onlyLockClick=!0):this._onlyLockClick=!1;const o=[];return e.forEach(e=>{o.push({click:"click"===e,in:t[e],out:i(e)})}),o}return null}_registerTooltipEvent(){this.event.on(WL.tooltipHide,{source:RL.chart},this._handleTooltipHideOrRelease),this.event.on(WL.tooltipShow,{source:RL.chart},this._handleTooltipShow),this.event.on(WL.tooltipRelease,{source:RL.chart},this._handleTooltipHideOrRelease)}_getAxisInfoByField(e){var t,i;const o=null===(i=(t=this._option).getComponentsByKey)||void 0===i?void 0:i.call(t,"axes");if(!(null==o?void 0:o.length))return null;let l=Lu(this._spec,`${e}Field.bindingAxesIndex`);if(l||(l=[],o.forEach((t,i)=>{lR[e].includes(t.getOrient())&&l.push(i)})),!l.length)return null;const n=new Map;let r=1/0,a=1/0,s=-1/0,h=-1/0;const{x:d,y:c}=this.getLayoutStartPoint();return l.forEach(e=>{r=1/0,a=1/0,s=-1/0,h=-1/0;const t=o.find(t=>t.getSpecIndex()===e);t&&(t.getRegions().forEach(e=>{const{x:t,y:i}=e.getLayoutStartPoint();r=Math.min(r,t-d),a=Math.min(a,i-c),s=Math.max(s,t+e.getLayoutRect().width-d),h=Math.max(h,i+e.getLayoutRect().height-c)}),n.set(e,{x1:r,y1:a,x2:s,y2:h,axis:t}))}),n}onLayoutEnd(){const e=this._regions[0];this.setLayoutRect(e.getLayoutRect()),this.setLayoutStartPosition(e.getLayoutStartPoint()),super.onLayoutEnd()}_releaseEvent(){this.clearOutEvent();const e=this._getTriggerEvent();e&&e.forEach(e=>{this._eventOff(e.in,!1,e.click),e.out&&this._eventOff(e.out,!0)})}_parseFieldInfo(){Object.keys(this._stateByField).forEach(e=>{const t=this._spec[e],{crosshairComp:i}=this._stateByField[e];if(t&&t.visible){if(this._stateByField[e].attributes=this._parseField(t,e),i){const{style:t,type:o}=this._stateByField[e].attributes,l="rect"===o?"rectStyle":"lineStyle";i.setAttributes({[l]:t})}}else i&&i.parent&&i.parent.removeChild(i)})}_parseCrosshairSpec(){this._parseFieldInfo();const{trigger:e,triggerOff:t,labelZIndex:i,gridZIndex:o}=this._spec;e&&(this.trigger=e),("none"===t||Cu(t)&&t>0)&&(this.triggerOff=t),void 0!==i&&(this.labelZIndex=i),void 0!==o&&(this.gridZIndex=o)}_parseField(e,t){var i,o,l;const n={},{line:r={},label:a={},visible:s}=e;if(n.visible=s,n.type=r.type||"line",!1===r.visible)n.style={visible:!1};else{const t=r.style||{},{stroke:l,fill:a,lineWidth:s}=t,h=t,{strokeOpacity:d,fillOpacity:c,opacity:p}=h,y=oR(h,["strokeOpacity","fillOpacity","opacity"]),u="line"===n.type;let g=u?d:c;if(Cu(p)&&(g=(null!=g?g:1)*p),n.style=Object.assign({opacity:g,pickable:!1,visible:!0},y),u)n.style.stroke=l||a,n.style.lineWidth=Lu(r,"width",s||2);else{n.style.fill=a||l,(null===(o=null===(i=null==e?void 0:e.line)||void 0===i?void 0:i.style)||void 0===o?void 0:o.stroke)&&(n.style.stroke=e.line.style.stroke);const t=Lu(r,"width");if("string"==typeof t){const e=parseInt(t.substring(0,t.length-1),10)/100;n.style.sizePercent=e}else"number"!=typeof t&&"function"!=typeof t||(n.style.size=t)}}if(a.visible){const e=a.labelBackground||{},t=null!==(l=a.syncAxisLabelAngle)&&void 0!==l&&l,i=a.style||{},o=e.style||{},{fill:r="rgba(47, 59, 82, 0.9)",stroke:s,outerBorder:h}=o,d=oR(o,["fill","stroke","outerBorder"]);n.label={visible:!0,formatMethod:a.formatMethod,formatter:a.formatter,minWidth:e.minWidth,maxWidth:e.maxWidth,padding:e.padding,syncAxisLabelAngle:t,textStyle:Object.assign(Object.assign({fontSize:14,pickable:!1},i),{fill:i.fill||"#fff",stroke:Lu(i,"stroke")}),panel:(cu(e.visible)?e.visible:e)?Object.assign({visible:!0,pickable:!1,fill:r,stroke:s,outerBorder:Object.assign({stroke:r,distance:0,lineWidth:3},h)},d):{visible:!1},zIndex:this.labelZIndex,childrenPickable:!1,pickable:!1}}else n.label={visible:!1};return n}_filterAxisByPoint(e,t,i){return e&&e.forEach(o=>{const l=o.axis;if(r=t,a=i,((n=o).x1>r||n.x2<r||n.y1>a||n.y2<a)&&e.delete(l.getSpecIndex()),l.type.startsWith("polarAxis")){const o=l.getCenter(),n=l.getInnerRadius(),r=l.getOuterRadius(),a=tg.distancePP({x:t,y:i},o);(a>r||a<n)&&e.delete(l.getSpecIndex())}var n,r,a}),e}_updateCrosshairLabel(e,t,i){const o=this.getContainer();e?e.setAttributes(t):(e=new Kb(t),null==o||o.add(e),i(e)),function(e,t){const{x1:i,y1:o,x2:l,y2:n}=t,{x1:r,y1:a,x2:s,y2:h}=e.AABBBounds,{dx:d=0,dy:c=0}=e.attribute;let p=0,y=0;r<i&&(p=i-r),a<o&&(y=o-a),s>l&&(p=l-s),h>n&&(y=n-h),p&&e.setAttribute("dx",p+d),y&&e.setAttribute("dy",y+c)}(e,this._getLimitBounds())}clearOutEvent(){this._timer&&(clearTimeout(this._timer),this._timer=null),this._clickLock&&(this._clickLock=null),this._hasActive&&(this._hasActive=null)}_hideByField(e){const{crosshairComp:t,labelsComp:i}=this._stateByField[e];t&&t.hideAll(),i&&Object.keys(i).forEach(e=>{i[e]&&i[e].hideAll()})}hide(){Object.keys(this._stateByField).forEach(e=>{this._hideByField(e)})}_getNeedClearVRenderComponents(){return Object.keys(this._stateByField).reduce((e,t)=>{const{crosshairComp:i,labelsComp:o}=this._stateByField[t];return i&&e.push(i),o&&Object.keys(o).forEach(t=>{o[t]&&e.push(o[t])}),e},[])}}nR.specKey="crosshair";class rR extends nR{static getSpecInfo(e){return CT(e,this.specKey,this.type,e=>e.xField&&!1!==e.xField.visible||e.yField&&!1!==e.yField.visible)}constructor(e,t){super(e,t),this.type=r.cartesianCrosshair,this.name=r.cartesianCrosshair,this._stateByField={xField:{coordKey:"x",anotherAxisKey:"y",currentValue:new Map,labelsComp:{top:null,bottom:null}},yField:{coordKey:"y",anotherAxisKey:"x",currentValue:new Map,labelsComp:{left:null,right:null}}}}_findAllAxisContains(e,t){const i=this._getAxisInfoByField("x"),o=this._getAxisInfoByField("y");return{xAxisMap:this._filterAxisByPoint(i,e,t),yAxisMap:this._filterAxisByPoint(o,e,t)}}_getDatumAtPoint(e,t){const i=lA(e.getOrient())?"x":"y",o=t[i]-(e.getLayoutStartPoint()[i]-this.getLayoutStartPoint()[i]);return e.getScale().invert(o)}setAxisValue(e,t){lA(t.getOrient())?this._stateByField.xField.currentValue.set(t.getSpecIndex(),{datum:e,axis:t}):this._stateByField.yField.currentValue.set(t.getSpecIndex(),{datum:e,axis:t})}_layoutCrosshair(e,t,i,o){var l;let n=e,r=t;if(i&&i.length)if("dimension"===o){const e=i[0],t=e.data.findIndex(e=>e.datum.length>0);let o;if(t>-1){const i=e.data[t];o=i.series.dataToPosition(i.datum[0])}(uu(e.dimType)?"y"===e.dimType:nA(null===(l=null==e?void 0:e.axis)||void 0===l?void 0:l.getOrient()))?r=null==o?void 0:o.y:n=null==o?void 0:o.x}else if("mark"===o){const e=i[0],t=e.series.dataToPosition(e.datum[0]);n=null==t?void 0:t.x,r=null==t?void 0:t.y}this.clearAxisValue();const{xAxisMap:a,yAxisMap:s}=this._findAllAxisContains(n,r);if(a&&0===a.size||s&&0===s.size){if(this.enableRemain)return;this.hide()}else a&&a.size&&this._setAllAxisValues(a,{x:n,y:r},"xField"),s&&s.size&&this._setAllAxisValues(s,{x:n,y:r},"yField"),this.layoutByValue()}layoutByValue(e){if(!this.enable)return;const t=((e,t)=>{for(let i=0;i<e.length;i++){const o=e[i].getSeries();for(let e=0;e<o.length;e++){const i=o[e];if(i&&i.coordinate===t)return i}}return null})(this._regions,"cartesian");t&&(gB(this._stateByField,t,this.getLayoutStartPoint(),null!=e?e:this.enableRemain),Object.keys(this._stateByField).forEach(e=>{this._layoutByField(e)}))}_layoutByField(e){const{cacheInfo:t,attributes:i,labelsComp:o,bandSize:l,coordKey:n}=this._stateByField[e];if(!i||!t||t._isCache&&this.enableRemain)return;const{coord:r,labels:a,visible:s,labelsTextStyle:h}=t;if(s){const s=mB(this._stateByField[e]);this._updateCrosshairByField(e,s),Object.keys(a).forEach(s=>{var d,c,p;if(a[s].visible){const y=Object.assign(Object.assign(Object.assign({[n]:r+l/2},a[s]),i.label),{angle:i.label.syncAxisLabelAngle&&null!==(c=null===(d=t.axisLabel)||void 0===d?void 0:d.attribute.angle)&&void 0!==c?c:0,textStyle:Object.assign(Object.assign({},null===(p=i.label)||void 0===p?void 0:p.textStyle),h[s]),zIndex:this.labelZIndex,visible:!0});this._updateCrosshairLabel(o[s],y,t=>{t.name=`crosshair-${e.replace("Field","")}-${s}-label`,o[s]=t})}else o[s]&&o[s].hideAll()})}else this._hideByField(e)}_updateCrosshairByField(e,t){const i=this.getContainer(),{attributes:o}=this._stateByField[e];let{crosshairComp:l}=this._stateByField[e];if(l)l.setAttributes(t);else{const n=o.style;"line"===o.type?l=new ev(Object.assign(Object.assign({},t),{lineStyle:n,zIndex:this.gridZIndex+1,disableTriggerEvent:this._option.disableTriggerEvent,pickable:!1})):"rect"===o.type&&(l=new tv(Object.assign(Object.assign({},t),{rectStyle:n,zIndex:this.gridZIndex,disableTriggerEvent:this._option.disableTriggerEvent,pickable:!1}))),null==i||i.add(l),this._stateByField[e].crosshairComp=l}}}rR.specKey="crosshair",rR.builtInTheme={crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.7,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}}},rR.type=r.cartesianCrosshair;const aR=()=>{Ow.registerComponent(rR.type,rR)};class sR extends sz{constructor(e,t){super(e,t),this.type=r.label,this.name=r.label,this.layoutType="none",this.layoutZIndex=dF.Label,this._regions=t.getRegionsInIndex(t.regionIndexes)}_interactiveConfig(e){const{interactive:t}=e,i={hover:!1,select:!1,state:e.state};if(!0!==t)return i;const{hover:o,select:l}=this._option.getChart().getSpec();return!1===o&&!1===o.enable||(i.hover=!0),!1===l&&!1===l.enable||(i.select=!0),i}_compareSpec(e,t){const i=super._compareSpec(e,t);return i.reRender=!0,Ru(t,e)||(i.reMake=!0),i}_getDataLabelType(e,t){const i=e.type;return"line"===i||"area"===i?null!=t?t:"line-data":"rect"===i?"rect":"arc"===i?"arc":"symbol"===i||"cell"===i?"symbol":e.setDataLabelType?e.setDataLabelType():""}_setTransformOfComponent(e,t){e.setAttributeTransform(({labelStyle:e,size:i,itemEncoder:o})=>{const l=i(),n=ow({type:"palette",key:"secondaryFontColor"},this.getColorScheme());return{dataLabels:Eu(t).map((t,i)=>{const r=e(i),a=[],s=t.getGraphics();if(s)return r.data&&r.data.length?r.data.forEach((e,t)=>{if(s[t]){const t=o(e,{labelIndex:i});yu(t.fill)&&(t.fill=n),yu(t.data)&&(t.data=e),a.push(t)}}):s.forEach(e=>{const{data:t,diffState:l}=e.context;l!==fF.exit&&t.forEach((e,{})=>{const t=o(e,{labelIndex:i});yu(t.fill)&&(t.fill=n),yu(t.data)&&(t.data=e),a.push(t)})}),fu(r.overlap)&&yu(r.overlap.size)&&(r.overlap.size=Object.assign({},l)),Object.assign(Object.assign({smartInvert:!1,baseMarkGroupName:t.getProductId(),getBaseMarks:()=>s},r),{type:this._getDataLabelType(t,r.type),data:a})}),size:l}})}getVRenderComponents(){const e=[];return this.getMarks().forEach(t=>{const i=t.getComponent();i&&e.push(i)}),e}clear(){super.clear(),this.getMarks().forEach(e=>{e&&e.clearComponent()})}}sR.type=r.label;class hR extends RM{constructor(){super(...arguments),this.skipEncode=!1}getRule(){return this._rule}setRule(e){this._rule=e}getTarget(){return this._target}setTarget(e){this._target=e,this._rule||this.setRule(e.type)}getComponent(){return this._component}setComponent(e){this._component=e}render(){}}hR.type="text",hR.constructorType="label";class dR extends lz{_initTheme(e,t){return{spec:e,theme:this._theme}}}class cR extends sR{constructor(e,t){super(e,t),this.type=r.label,this.name=r.label,this.specKey="label",this.transformerConstructor=dR,this.layoutZIndex=dF.Label,this._layoutRule=e.labelLayout||"series"}static getSpecInfo(e,t){const i=[];return((null==t?void 0:t.region)||[]).forEach((o,l)=>{(o.seriesIndexes||[]).some(e=>{const i=t.series[e],{markLabelSpec:o={}}=i;return Object.values(o).some(e=>Array.isArray(e)&&(e=>e.some(e=>e.visible))(e))})&&i.push({spec:e,type:r.label,specInfoPath:["component",this.specKey,l],regionIndexes:[l]})}),i}init(e){super.init(e),this.initEvent(),this._initTextMark(),this._initLabelComponent(),this._initTextMarkStyle()}reInit(e){super.reInit(e),this._labelInfoMap&&(this._labelInfoMap.forEach(e=>{e.forEach(({labelMark:e})=>{e.release()})}),this._labelInfoMap.clear()),this._labelInfoMap&&this._labelInfoMap.clear(),this._initTextMark(),this._initLabelComponent(),this._initTextMarkStyle()}initEvent(){this.event.on(WL.dataZoomChange,()=>{this._labelComponentMap.forEach((e,t)=>{const i=t.getComponent();i&&i.disableAnimation()}),this.event.on(ML.AFTER_MARK_RENDER_END,e)});const e=()=>{this._labelComponentMap.forEach((e,t)=>{const i=t.getComponent();i&&i.enableAnimation()}),this.event.off(ML.AFTER_MARK_RENDER_END,e)}}_initTextMark(){this._labelInfoMap||(this._labelInfoMap=new Map),this._labelComponentMap||(this._labelComponentMap=new Map),Hx(this._regions,e=>{const{markLabelSpec:t={}}=e.getSpecInfo(),i=Object.keys(t),o=e.getRegion();this._labelInfoMap.get(o)||this._labelInfoMap.set(o,[]);for(let l=0;l<i.length;l++){const n=i[l],r=e.getMarkInName(n);r&&t[n].forEach((t,i)=>{var l,a,s;if(t.visible){const h=this._labelInfoMap.get(o),d=this._createMark({type:"label",name:`${null!==(l=e.userId)&&void 0!==l?l:e.id}-${n}-label-${i}`},{attributeContext:e.getMarkAttributeContext()});t.showRelatedMarkTooltip&&(null===(s=null===(a=e.tooltipHelper)||void 0===a?void 0:a.activeTriggerSet.mark)||void 0===s||s.add(d)),d.setTarget(r),h.push({labelMark:d,baseMark:r,series:e,labelSpec:t})}})}})}_initLabelComponent(){const e={};this._labelComponentMap.forEach((t,i)=>{e[i.name]=i}),this._labelInfoMap.forEach((t,i)=>{if("region"===this._layoutRule){let o=!1;const l=`${i.getGroupMark().name}-label-component`;let n=e[l];n||(o=!0,n=this._createMark({type:"component",name:l},{componentType:"label"},{support3d:this._spec.support3d})),n&&(o&&(n.setSkipBeforeLayouted(!0),this._marks.addMark(n),t.forEach(e=>{var t;null===(t=e.baseMark.getData())||void 0===t||t.addRelatedMark(n)})),t[0]&&uu(t[0].labelSpec.zIndex)&&n.setMarkConfig({zIndex:t[0].labelSpec.zIndex}),this._labelComponentMap.set(n,()=>this._labelInfoMap.get(i)),e[l]=null)}else t.forEach((t,o)=>{var l;let n=!1;const r=`${t.labelMark.name}-component`;let a=e[r];a||(n=!0,a=this._createMark({type:"component",name:r},{componentType:"label",noSeparateStyle:!0},{support3d:t.baseMark.getMarkConfig().support3d})),a&&(uu(t.labelSpec.zIndex)&&a.setMarkConfig({zIndex:t.labelSpec.zIndex}),n&&(a.setSkipBeforeLayouted(!0),this._marks.addMark(a),null===(l=t.baseMark.getData())||void 0===l||l.addRelatedMark(a)),this._labelComponentMap.set(a,()=>this._labelInfoMap.get(i)[o]),e[r]=null)})}),Object.keys(e).forEach(t=>{const i=e[t];i&&(i.release(),this._labelComponentMap.delete(i))})}_initTextMarkStyle(){this._labelComponentMap.forEach((e,t)=>{Eu(e()).forEach(({labelMark:e})=>{e.setComponent(t)})}),this._labelInfoMap.forEach(e=>{e.forEach(e=>{var t,i;const{labelMark:o,labelSpec:l,series:n}=e;if(this.initMarkStyleWithSpec(o,l),pu(null==l?void 0:l.getStyleHandler)){const e=l.getStyleHandler(n);null==e||e.call(n,o,l)}(null===(i=null===(t=o.stateStyle)||void 0===t?void 0:t.normal)||void 0===i?void 0:i.lineWidth)&&o.setAttribute("stroke",n.getColorAttribute(),"normal",pF.Base_Series)})})}updateLayoutAttribute(){super.updateLayoutAttribute(),this._labelComponentMap.forEach((e,t)=>{const i=e();bu(i)?this._updateMultiLabelAttribute(i,t):this._updateSingleLabelAttribute(i,t)})}_updateMultiLabelAttribute(e,t){this._updateLabelComponentAttribute(t,e.map(({baseMark:e})=>e),e)}_updateSingleLabelAttribute(e,t){const{baseMark:i}=e;this._updateLabelComponentAttribute(t,i,[e])}_updateLabelComponentAttribute(e,t,i){const o=this._option.getComponentsByType("totalLabel");e.setMarkConfig({interactive:!1}),e.setSimpleStyle({labelStyle:e=>{var t,l;const n=i[e],{labelSpec:r,labelMark:a,series:s}=n,h=a.getRule(),d=this._interactiveConfig(r),c=null!==(l=null===(t=this._spec)||void 0===t?void 0:t.centerOffset)&&void 0!==l?l:0;let p=Mw({textStyle:Object.assign({pickable:!0===r.interactive},r.style),overlap:{avoidMarks:o.map(e=>e.getMarks()[0].getProductId())}},LM(h,n),Object.assign(Object.assign(Object.assign({},Mu(r,["position","style","state","type","stackDataFilterType","getStyleHandler"])),d),{centerOffset:c}),r.stackDataFilterType?{dataFilter:"min"===r.stackDataFilterType?e=>e.filter(e=>e.data[gL]):e=>e.filter(e=>e.data[uL])}:{});return s&&s.parseLabelStyle&&(p=s.parseLabelStyle(p,r,a)),"line"!==h&&"area"!==h||(p.type=h),p},size:()=>{var e;return Object.assign({padding:null===(e=i[0].labelSpec.overlap)||void 0===e?void 0:e.padding},i[0].series.getRegion().getLayoutRect())},itemEncoder:(e,{labelIndex:t})=>i[t]&&!i[t].labelMark.skipEncode?FM(i[t],e,i[t].labelSpec.formatMethod,i[t].labelSpec.formatter):{data:e}}),this._setTransformOfComponent(e,t)}compileMarks(){this.getMarks().forEach(e=>{const t=this._labelComponentMap.get(e)();let i;i=bu(t)?t[0].series.getRegion().getGroupMark().getProduct():t.series.getRegion().getGroupMark().getProduct(),e.compile({group:i})})}getLabelInfoByTextGraphic(e){let t;const i=null==e?void 0:e.parent,o=null==i?void 0:i.parent;if(o){const e=o.getChildren().indexOf(i);this._labelComponentMap.forEach((i,l)=>{l.getComponent()===o&&(t=Eu(i())[e])})}return t}}cR.type=r.label,cR.specKey="label",cR.transformerConstructor=dR;const pR=()=>{Ow.registerGraphicComponent(cR.type,e=>new kx(e)),HM(),Ow.registerMark(hR.constructorType,hR),dz(),Ow.registerComponent(cR.type,cR,!0,1/0)},yR="vchart-tooltip",uR=`${yR}-container`,gR=`${yR}-title`,fR=`${yR}-content-box`,kR={offsetX:10,offsetY:10},mR="99999999999999";function bR(e){return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\(/g,"&#40;").replace(/  /g," &nbsp;")}const vR=(e,t)=>e?(t||(t=e.getBoundingClientRect()),e.offsetWidth>0?t.width/e.offsetWidth:e.offsetHeight>0?t.height/e.offsetHeight:1):1,CR=e=>mu(e)&&""!==(null==e?void 0:e.trim())||Cu(e)?bR(e):"",SR=(e,t)=>{let i;if(uu(e))if(Cu(e))i=e;else if(pu(e)){const o=e(t);Cu(o)&&(i=o)}return i},xR={left:[-2,0],right:[2,0],top:[0,-2],bottom:[0,2],insideTop:[0,-1.5],insideBottom:[0,1.5],insideLeft:[-1.5,0],insideRight:[1.5,0],insideTopLeft:[-1.5,-1.5],insideTopRight:[1.5,-1.5],insideBottomLeft:[-1.5,1.5],insideBottomRight:[1.5,1.5],lt:[-2,-2],tl:[-2,-2],rt:[2,-2],tr:[2,-2],bl:[-2,2],lb:[-2,2],br:[2,2],rb:[2,2],inside:[0,0],center:[0,0],centerBottom:[0,1],centerTop:[0,-1],centerLeft:[-1,0],centerRight:[1,0]},_R=(e,t,i=2)=>{var o,l;return null!==(l=null===(o=xR[e])||void 0===o?void 0:o["x"===t?0:1])&&void 0!==l?l:i};class wR extends HA{constructor(){super(...arguments),this._visible=!0,this._isReleased=!1,this.showTooltip=(e,t,i)=>{const{changePositionOnly:o}=i;return o?this.changeTooltipPosition(i,t):this.changeTooltip(!0,i,t)},this.changeTooltip=(e,t,i)=>this._isReleased?1:e?this.changeTooltipPosition(t,i):(this._updateTooltip(!1,t),0),this.changeTooltipPosition=(e,t)=>{var i,o,l,n,r;if(this._isReleased)return 1;const a=e.event,{tooltipSpec:s,activeTooltipSpec:h,changePositionOnly:d}=e;if(!h)return 1;const c=h.activeType;if(h.handler)return null!==(l=null===(o=(i=h.handler).showTooltip)||void 0===o?void 0:o.call(i,c,t,e))&&void 0!==l?l:0;const p=h,y=this._getActualTooltipPosition(h,e,this._getTooltipBoxSize(h,d));h.position=y;const u=null!==(n=h.updatePosition)&&void 0!==n?n:null===(r=s[c])||void 0===r?void 0:r.updatePosition;u&&(h.position=u(h.position,t,e));let g=!1!==(null==p?void 0:p.visible);return t&&"pointerout"!==a.type&&h.visible&&(h.title||h.content)||(g=!1),this._updateTooltip(g,Object.assign(Object.assign({},e),{changePositionOnly:d})),0},this._getActualTooltipPosition=(e,t,i)=>{var o,l,n,r,a,s,h,d,c;const p=this._chartOption.getRectByDimensionData,{tooltipSpec:y}=t,u={x:1/0,y:1/0};if(!y)return u;const g=t.event,{activeType:f,data:k}=e,m="dimension"===f?null===(l=null===(o=k[0])||void 0===o?void 0:o.data)||void 0===l?void 0:l[0]:null==k?void 0:k[0],{offsetX:b,offsetY:v}=this._option,C=y[f],S=_T(null==C?void 0:C.position,k,t),x=null!==(n=_T(null==C?void 0:C.positionMode,k,t))&&void 0!==n?n:"mark"===f?"mark":"pointer",{width:_=0,height:w=0}=null!=i?i:{},L="canvas"===y.renderMode,F=null===(r=null==t?void 0:t.chart)||void 0===r?void 0:r.getCanvasRect(),T=null!==(a=null==F?void 0:F.width)&&void 0!==a?a:Qw,A=null!==(s=null==F?void 0:F.height)&&void 0!==s?s:eL;let z=!1;const B={width:0,height:0};let M,O={x:0,y:0},W={x:0,y:0},R=1,H=1;const P=Ag(this._env);if(P&&!y.confine?(B.width=window.innerWidth,B.height=window.innerHeight):(B.width=T,B.height=A),P&&!L){const e=this._getParentElement(y);W=null!==(d=null===(h=null==e?void 0:e.getBoundingClientRect)||void 0===h?void 0:h.call(e))&&void 0!==d?d:u;const t=null!==(c=this._compiler.getCanvas())&&void 0!==c?c:this._chartContainer;M=null==t?void 0:t.getBoundingClientRect(),O={x:M.x-W.x,y:M.y-W.y},R=vR(t,M),H=vR(e,W)}const E=H/R,D={},I={x:S,y:S},j={x:["left","right"],y:["top","bottom"]},N=({orient:e,mode:i,offset:o},l)=>{var n;let r,a;const s=t.model,h=null==s?void 0:s.getLayoutStartPoint(),d=null!=o?o:"x"===l?b:v;if("mark"===i){z=!0;const e=t.item,i=null==e?void 0:e.AABBBounds;i&&h&&(r=("x"===l?i.x1:i.y1)+h[l],a=("x"===l?i.x2:i.y2)+h[l])}else if(p&&"crosshair"===i&&"cartesian"===(null===(n=null==m?void 0:m.series)||void 0===n?void 0:n.coordinate)&&m.datum&&m.datum.length){z=!0;const e=p(m,h);e&&(r=e.start[l],a=e.end[l])}else I[l]=e;if(z){const t=j[l][0],i="x"===l?_:w;switch(_R(e,l)){case-2:D[t]=r-i*E-d;break;case-1.5:D[t]=r+d;break;case 0:D[t]=(r+a)/2-i*E/2;break;case-1:D[t]=(r+a)/2-i*E-d;break;case 1:D[t]=(r+a)/2+d;break;case 1.5:D[t]=a-i*E-d;break;case 2:D[t]=a+d}}},G=["x","y"];if(gu(S))if(gu(U=S)&&(uu(U.left)||uu(U.right)||uu(U.top)||uu(U.bottom))){const{left:e,right:t,top:i,bottom:o}=S;D.left=SR(e,g),D.top=SR(i,g),D.right=SR(t,g),D.bottom=SR(o,g)}else(e=>gu(e)&&(uu(e.x)||uu(e.y)))(S)&&G.forEach(e=>{const t=S[e];Cu(t)||pu(t)?D[j[e][0]]=SR(t,g):N(t,e)});else uu(S)&&(N({orient:S,mode:x},"x"),N({orient:S,mode:x},"y"));var U;const V={x:null,y:null};return G.forEach(e=>{var t;const i="x"===e?_:w,o="x"===e?T:A,l="x"===e?b:v,n=_R(I[e],e);if(Su(D[j[e][0]]))V[e]=D[j[e][0]];else if(Su(D[j[e][1]]))V[e]=o-i*E-D[j[e][1]];else{const t="x"===e?g.canvasX:g.canvasY;V[e]=n>0?t+l:0===n?t-i*E/2:t-i*E-l}V[e]*=R,P&&(V[e]+=O[e]),V[e]/=H;const r="x"===e?B.width:B.height,a=y.confine?-(W[e]-(null!==(t=null==M?void 0:M[e])&&void 0!==t?t:0)/R)/H:-W[e]/H,s=r/H+a-i;2!==n&&V[e]<a?z?V[e]=a:(V[e]+=0===n?l+i/2:2*l+i,V[e]>s&&(V[e]=s)):-2!==n&&V[e]>s&&(z?V[e]=s:(V[e]-=0===n?l+i/2:2*l+i,V[e]<a&&(V[e]=a)))}),V}}get env(){return this._env}onAdd(e){super.onAdd(e);const t=e.component;this._component=t,this._chartOption=t.getOption(),this._env=this._chartOption.mode,this._chartContainer=this._chartOption.globalInstance.getContainer(),this._compiler=t.getCompiler(),this._initFromSpec()}hideTooltip(e){return this.changeTooltip(!1,e)}release(){var e,t,i,o;const l=null!==(t=null===(e=this._component)||void 0===e?void 0:e.getSpec())&&void 0!==t?t:{};l.handler?null===(o=(i=l.handler).release)||void 0===o||o.call(i):(this._removeTooltip(),this._isReleased=!0,this._chartOption=null,this._component=null)}_getDefaultOption(){var e,t;const{offset:i}=this._component.getSpec();return i?{offsetX:null!==(e=i.x)&&void 0!==e?e:kR.offsetX,offsetY:null!==(t=i.y)&&void 0!==t?t:kR.offsetY}:kR}_getParentElement(e){return e.parentElement}getTooltipContainer(){return this._container}_initFromSpec(){this._option=this._getDefaultOption()}reInit(){this._initFromSpec()}}wR.specKey="tooltip";const LR=(e,t)=>uu(e)?bu(e)?e.map(e=>`${e}px`).join(" "):`${e}px`:null!=t?t:"initial",FR=(e={},t={})=>{var i,o;uu(e.fontFamily)&&(t.fontFamily=e.fontFamily);const l=null!==(i=e.fill)&&void 0!==i?i:e.fontColor;return uu(l)&&(t.color=l),uu(e.fontWeight)&&(t.fontWeight=e.fontWeight),uu(e.textAlign)&&(t.textAlign=e.textAlign),uu(e.fontSize)&&(t.fontSize=LR(e.fontSize)),uu(e.maxWidth)&&(t.maxWidth=LR(e.maxWidth)),e.multiLine||uu(e.maxWidth)&&!1!==e.multiLine?(t.whiteSpace="initial",t.wordBreak=null!==(o=e.wordBreak)&&void 0!==o?o:"break-word"):(t.wordBreak="normal",t.whiteSpace="nowrap"),t},TR=(e={})=>{const{lineHeight:t}=e;return e.fontSize?uw(t,e.fontSize):0},AR=e=>{var t;const{backgroundColor:i,border:o,shadow:l,padding:n}=e,r={borderWidth:`${null!==(t=null==o?void 0:o.width)&&void 0!==t?t:0}px`};let a=null;(null==o?void 0:o.color)&&(r.borderColor=o.color),i&&(r.backgroundColor=i),r.boxShadow=l?`${l.x}px ${l.y}px ${l.blur}px ${l.spread}px ${l.color}`:"initial";const{radius:s}=null!=o?o:{};return uu(s)&&(r.borderRadius=Su(s)?`${s}px`:`${s}`),n&&(a=function(e){if(Su(e))return[e,e,e,e];if(bu(e)){const t=e.length;if(1===t){const t=e[0];return[t,t,t,t]}if(2===t){const[t,i]=e;return[t,i,t,i]}if(3===t){const[t,i,o]=e;return[t,i,o,i]}if(4===t)return e}if(gu(e)){const{top:t=0,right:i=0,bottom:o=0,left:l=0}=e;return[t,i,o,l]}return[0,0,0,0]}(n),r.padding=LR(a)),{panelStyle:r,panelPadding:a}};function zR(e,t){e&&e.style&&t&&Object.keys(t).forEach(i=>{e.style[i]=t[i]})}class BR extends wR{getVisibility(){return!!this._rootDom&&"visible"===this._rootDom.style.visibility}setVisibility(e){e!==this.getVisibility()&&this._rootDom&&(this._rootDom.style.visibility=e?"visible":"hidden")}getRootDom(){return this._rootDom}constructor(){super(BR.type),this.type=_B.dom,this._tooltipContainer=null==Tg?void 0:Tg.body}onAdd(e){super.onAdd(e),this._initStyle(),this.initEl()}initEl(){const e=this._component.getSpec().parentElement;if(Tg&&e&&e.children&&e.children.length){for(let t=0;t<e.children.length;t++)if(e.children[t].classList.contains(uR)){this._container=e.children[t];break}this._container||(this._container=Tg.createElement("div"),this._container.style.position="relative",this._container.style.zIndex=mR,this._container.classList.add(uR),e.appendChild(this._container))}}initRootDom(){var e;const t=this._component.getSpec(),i=document.createElement("div"),o=null===(e=this._chartOption)||void 0===e?void 0:e.getTheme("fontFamily");zR(i,Object.assign({left:"0",top:"0",pointerEvents:"none",padding:"12px",position:"absolute",zIndex:mR,fontFamily:null!=o?o:vw.fontFamily,fontSize:"11px",borderRadius:"3px",borderStyle:"solid",lineHeight:"initial",background:"#fff",boxShadow:"2px 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"100wh",maxHeight:"100vh",visibility:"hidden"},this._domStyle.panel)),i.classList.add(t.className),i.setAttribute("vchart-tooltip-id",`${this.id}`),this._container.appendChild(i),this._rootDom=i}_getTooltipBoxSize(e,t){var i;this._rootDom||this.initRootDom(),t||this._updateDomStringByCol(e),this._updateDomStyle("height",t);const o=null===(i=this._rootDom)||void 0===i?void 0:i.getBoundingClientRect();return{width:null==o?void 0:o.width,height:null==o?void 0:o.height}}_removeTooltip(){this._rootDom&&this._rootDom.parentNode&&(this._rootDom.parentNode.removeChild(this._rootDom),this._rootDom=null),this._container=null}_updateTooltip(e,t){var i,o;if(e&&this._rootDom){const{tooltipSpec:l,activeTooltipSpec:n}=t;t.changePositionOnly||(this._tooltipActual=n);const r=this._rootDom;if(r){const{x:a=0,y:s=0}=null!==(i=n.position)&&void 0!==i?i:{};let h={x:a,y:s};const d=this.getVisibility();l.updateElement&&(this._updatePosition(null!==(o=this._cacheCustomTooltipPosition)&&void 0!==o?o:{x:a,y:s}),l.updateElement(r,n,t),h=this._getActualTooltipPosition(n,t,{width:r.offsetWidth,height:r.offsetHeight}),this._cacheCustomTooltipPosition=h),!d&&e&&(this._rootDom.style.transition="none",this._updatePosition(h,!1),this._rootDom.getBoundingClientRect()),this._updatePosition(h)}this.setVisibility(e)}else this.setVisibility(e),this._cacheCustomTooltipPosition=void 0}_initStyle(){const e=this._component.getSpec();this._domStyle=((e={})=>{var t,i,o,l;const{style:n={},enterable:r,transitionDuration:a}=e,{panel:s={},titleLabel:h,shape:d,keyLabel:c,valueLabel:p,spaceRow:y,align:u}=n,{panelStyle:g,panelPadding:f}=AR(s),k={marginTop:"0px",marginBottom:"0px"};g.pointerEvents=r?"auto":"none",a&&(g.transitionDuration=a?`${a}ms`:"initial",g.transitionProperty=a?"transform":"initial",g.transitionTimingFunction=a?"ease-out":"initial"),Su(y)&&(k.marginBottom=`${y}px`);const m={width:LR(null!==(t=null==d?void 0:d.size)&&void 0!==t?t:8)},b=FR(h),v=FR(c),C=FR(p),S="right"===u?"marginLeft":"marginRight";"right"===u&&(g.direction="rtl"),yu(b.textAlign)&&(b.textAlign="right"===u?"right":"left"),yu(v.textAlign)&&(v.textAlign="right"===u?"right":"left"),yu(C.textAlign)&&(C.textAlign="right"===u?"left":"right"),m[S]=LR(null!==(i=d.spacing)&&void 0!==i?i:8),v[S]=LR(null!==(o=c.spacing)&&void 0!==o?o:26),C[S]=LR(null!==(l=p.spacing)&&void 0!==l?l:0);const x=Math.max(TR(p),TR(c));return k.lineHeight=x>0?`${x}px`:"20px",{panelPadding:f,row:k,panel:g,title:b,shape:m,key:v,value:C}})(e)}_updateDomStringByCol(e){var t;const{title:i={},content:o}=e,l=o&&o.length,n=this._domStyle.row,r=[...this._rootDom.children];let a=r.find(e=>e.className.includes(gR)),s=r.find(e=>e.className.includes(fR));if(!a&&!1!==i.visible){a=document.createElement("h2");const e=document.createElement("span");a.appendChild(e),a.classList.add(gR),this._rootDom.firstChild?this._rootDom.insertBefore(a,this._rootDom.firstChild):this._rootDom.appendChild(a)}a&&!1!==i.visible?(zR(a,Object.assign(Object.assign(Object.assign({},this._domStyle.title),l?n:{marginBottom:"0px"}),{marginTop:"0px"})),a.firstChild.innerHTML=`${null!==(t=i.value)&&void 0!==t?t:""}`):a&&!1===i.visible&&a.parentNode.removeChild(a);const h=["shape","key","value"];if(!s&&l&&(s=document.createElement("div"),h.forEach(e=>{const t=document.createElement("div");t.classList.add(`${yR}-column`),t.classList.add(`${yR}-${e}-column`),t.setAttribute("data-col",e),s.appendChild(t)}),s.classList.add(fR),this._rootDom.appendChild(s)),s&&l){const e=[...s.children];zR(s,{whiteSpace:"nowrap"}),e.forEach((e,t)=>{const i=e.getAttribute("data-col");if(i&&h.includes(i)){const t="shape"===i&&o.every(e=>!e.hasShape||!e.shapeType);zR(e,Object.assign(Object.assign({},this._domStyle[i]),{display:t?"none":"inline-block",verticalAlign:"top"}));const l=[...e.children];l.slice(o.length).forEach(e=>{e.parentNode.removeChild(e)}),o.forEach((t,r)=>{let a=l[r];a||(a=document.createElement("div"),a.classList.add(`${yR}-${i}`),e.appendChild(a));const s=Object.assign({},n);r===o.length-1&&(s.marginBottom="0px"),s.display=!1===t.visible?"none":"block",s.height="initial","key"===i?(a.innerHTML=CR(t.key),t.keyStyle&&FR(t.keyStyle,s)):"value"===i?(a.innerHTML=CR(t.value),t.valueStyle&&FR(t.valueStyle,s)):"shape"===i&&(a.innerHTML=function(e,t){var i,o,l,n,r,a;if(!e||!e.hasShape||!e.shapeType)return"";const s='style="display:inline-block;vertical-align:middle;"',{shapeType:h,shapeStroke:d,shapeHollow:c=!1,shapeFill:p}=e,y=null!==(i=e.shapeSize)&&void 0!==i?i:8,u=e.shapeLineWidth?bR(e.shapeLineWidth)+"px":"0px";let g="currentColor";const f=()=>d?bR(d):g,k=y,m=e=>new Fh({symbolType:e,size:k,fill:!0});let b=m(h);const v=b.getParsedPath();let C,S;if(!v.path&&v.pathStr&&(b=m(v.pathStr)),b.getParsedPath().path){const e=b.getParsedPath().path;S=e.toString(),C=e.bounds}else v.isSvg&&v.svgCache&&(S=v.svgCache.map(e=>e.path.toString()).join(),C=v.svgCache.reduce((e,t)=>e.union(t.path.bounds),new rg));let x=`${C.x1} ${C.y1} ${C.width()} ${C.height()}`;if("0px"!==u){const[e,t,i,o]=x.split(" ").map(e=>Number(e)),l=Number(u.slice(0,-2));x=`${e-l/2} ${t-l/2} ${i+l} ${o+l}`}const _=vl.IsGradientStr(p);if(!p||mu(p)&&!_||c)return g=c?"none":p?bR(p):"currentColor",`\n    <svg ${s} width="${y}" height="${y}" viewBox="${x}">\n      <path\n        d="${S}"\n        style="fill: ${g}; stroke: ${f()}; stroke-width: ${u}"\n      >\n      </path>\n    </svg>`;const w=_?vl.Parse(p):gu(p)?p:null;if(w){g="gradientColor"+(null!=t?t:"");let e="";const i=(null!==(o=w.stops)&&void 0!==o?o:[]).map(e=>`<stop offset="${bR(e.offset.toString())}" stop-color="${bR(e.color)}"/>`).join("");return"radial"===w.gradient?e=`<radialGradient id="${g}" cx="50%" cy="50%" r="50%" fx="0%" fy="0%">\n      ${i}\n      </radialGradient>`:"linear"===w.gradient&&(e=`<linearGradient id="${g}" x1="${100*(null!==(l=w.x0)&&void 0!==l?l:0)}%" y1="${100*(null!==(n=w.y0)&&void 0!==n?n:0)}%" x2="${100*(null!==(r=w.x1)&&void 0!==r?r:0)}%" y2="${100*(null!==(a=w.y1)&&void 0!==a?a:0)}%">\n      ${i}\n      </linearGradient>`),`\n    <svg ${s} width="${y}" height="${y}" viewBox="-0.5 -0.5 1 1">\n      ${e}\n      <path\n        d="${S}"\n        style="fill: url(#${g}); stroke: ${f()}; stroke-width: ${u}"\n      >\n      </path>\n    </svg>`}return""}(t,`${this.id}_${r}`)),zR(a,s)})}})}else s&&!l&&s.parentNode.removeChild(s)}_updateDomStyle(e="width",t){var i,o,l,n,r;const a=this._rootDom,s=[...a.children].find(e=>e.className.includes(fR)),h=[...a.children].find(e=>e.className.includes(gR));if(s){const a=this._component.getSpec(),d={},c=null===(i=a.style)||void 0===i?void 0:i.titleLabel;if(c&&c.autoWidth&&!1!==c.multiLine&&h){const t=[...s.children].reduce((t,i)=>"height"===e?t+i.getBoundingClientRect().width:Math.max(t,i.getBoundingClientRect().width),0);t>0&&(h.style.maxWidth=`${t}px`,h.style.maxWidth=`${Math.ceil(s.getBoundingClientRect().width)}px`)}if(uu(null===(o=null==a?void 0:a.style)||void 0===o?void 0:o.maxContentHeight)){const e=h&&h.className.includes(gR)?h.getBoundingClientRect().height+(null!==(l=a.style.spaceRow)&&void 0!==l?l:0):0,t=this._chartOption.getChartViewRect(),i=uw(a.style.maxContentHeight,Math.min(t.height,document.body.clientHeight)-e-(this._domStyle.panelPadding?this._domStyle.panelPadding[0]+this._domStyle.panelPadding[1]:0));i>0&&(d.maxHeight=`${i}px`,d.overflowY="auto",d.width=`calc(100% + ${this._domStyle.panelPadding?this._domStyle.panelPadding[1]+"px":"10px"})`,zR(s,d))}const p=s.children,y=[];if(p){for(let i=0;i<p.length;i++){const o=null!==(n=p[i].children)&&void 0!==n?n:[];for(let i=0;i<o.length;i++){t&&(o[i].style[e]="initial");const l=o[i].getBoundingClientRect()[e];(void 0===y[i]||y[i]<l)&&(y[i]=l)}}for(let t=0;t<p.length;t++){const i=null!==(r=p[t].children)&&void 0!==r?r:[];for(let t=0;t<i.length;t++)i[t].style[e]=`${y[t]}px`}}}}_getParentElement(e){var t;return null!==(t=this._container)&&void 0!==t?t:super._getParentElement(e)}isTooltipShown(){return this.getVisibility()}reInit(){super.reInit(),this._initStyle(),this._rootDom&&zR(this._rootDom,this._domStyle.panel),this.getVisibility()&&(this._updateDomStringByCol(this._tooltipActual),this._updateDomStyle("height",!1))}_updatePosition({x:e,y:t},i=!0){this._rootDom&&(this._rootDom.style.transform=`translate3d(${e}px, ${t}px, 0)`,i&&""!==this._rootDom.style.transition&&(this._rootDom.style.transition="",Object.assign(this._rootDom.style,this._domStyle.panel)))}}BR.type=_B.dom;const MR=()=>{var e;e=BR,Ow.registerComponentPlugin(e.type,e)},OR={name:"light",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},colorScheme:{default:{dataScheme:[{maxDomainLength:10,scheme:["#1664FF","#1AC6FF","#FF8A00","#3CC780","#7442D4","#FFC400","#304D77","#B48DEB","#009488","#FF7DDA"]},{scheme:["#1664FF","#B2CFFF","#1AC6FF","#94EFFF","#FF8A00","#FFCE7A","#3CC780","#B9EDCD","#7442D4","#DDC5FA","#FFC400","#FAE878","#304D77","#8B959E","#B48DEB","#EFE3FF","#009488","#59BAA8","#FF7DDA","#FFCFEE"]}],palette:{backgroundColor:"#ffffff",borderColor:"#e3e5e8",shadowColor:"rgba(33,37,44,0.1)",hoverBackgroundColor:"#f1f2f5",sliderRailColor:"#f1f3f4",sliderHandleColor:"#ffffff",sliderTrackColor:"#0040ff",popupBackgroundColor:"#ffffff",primaryFontColor:"#21252c",secondaryFontColor:"#606773",tertiaryFontColor:"#89909d",axisLabelFontColor:"#89909d",disableFontColor:"#bcc1cb",axisMarkerFontColor:"#ffffff",axisGridColor:"#f1f2f5",axisDomainColor:"#d9dde4",dataZoomHandleStrokeColor:"#aeb5be",dataZoomChartColor:"#c9ced8",playerControllerColor:"#0040ff",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"#21252c",markLabelBackgroundColor:"#f1f2f5",markLineStrokeColor:"#606773",dangerColor:"#e33232",warningColor:"#ffc528",successColor:"#07a35a",infoColor:"#3073f2",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle"}},seriesMark:"area"},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.7,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3},WR={colorScheme:{default:{dataScheme:[{maxDomainLength:10,scheme:["#1664FF","#1AC6FF","#FF8A00","#3CC780","#7442D4","#FFC400","#304D77","#B48DEB","#009488","#FF7DDA"]},{scheme:["#1664FF","#B2CFFF","#1AC6FF","#94EFFF","#FF8A00","#FFCE7A","#3CC780","#B9EDCD","#7442D4","#DDC5FA","#FFC400","#FAE878","#304D77","#8B959E","#B48DEB","#EFE3FF","#009488","#59BAA8","#FF7DDA","#FFCFEE"]}],palette:{backgroundColor:"#202226",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"#888c93",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"#404349",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle"}},seriesMark:"area"},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}}},name:"dark",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.7,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3},RR={colorScheme:{default:{dataScheme:["#006EFF","#00E5E5","#2E55EA","#B8E7FE","#00D689","#B7F9F5","#FBCC71","#F46E50"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenVolcanoBlue",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-火山蓝",type:"dark"},HR={colorScheme:{default:{dataScheme:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenClean",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-清新蜡笔",type:"dark"},PR={colorScheme:{default:{dataScheme:["#cfcfcf","#ffbc79","#a2c8ec","#898989","#c85200","#5f9ed1","#595959","#ababab","#ff800e","#006ba4"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenOutskirts",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-郊外",type:"dark"},ER={colorScheme:{default:{dataScheme:["#4ABEFF","#E97A4B","#A0D8FF","#FFB99C","#91A9B1","#E9A94B","#4BE99D","#6F86FF"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenBlueOrange",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-汽车蓝橙",type:"dark"},DR={colorScheme:{default:{dataScheme:["#FFCF67","#FF9254","#D7D7D7","#E1C396","#FFB99C","#C5BEB4","#96B9A8","#C59C7F"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenFinanceYellow",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-金融黄",type:"dark"},IR={colorScheme:{default:{dataScheme:["#32E2CD","#FFCE70","#B03C3C","#BEEAE4","#D66E41","#E1E1E1","#3BC080","#435BD8"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenWenLvCyan",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-文旅青",type:"dark"},jR={colorScheme:{default:{dataScheme:["#08FEF3","#FF7925","#FBCC71","#2EC8EA","#B8FEF1","#F9CFB7","#D43A30","#5FCEA6"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenElectricGreen",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-电力绿",type:"dark"},NR={colorScheme:{default:{dataScheme:["#734AFF","#FF6960","#5484FF","#CDC4EC","#EAC4C2","#34CECC","#FFB054","#C13C5C"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenECommercePurple",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-电商紫",type:"dark"},GR={colorScheme:{default:{dataScheme:["#006EFF","#CC3B3B","#B8E5FE","#214FFF","#FFCFCF","#00E5E5","#B7F9F5","#FBCC71"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenRedBlue",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-红蓝",type:"dark"},UR={colorScheme:{default:{dataScheme:["#E82F2F","#FF9635","#D7D7D7","#E19B96","#FFB99C","#C5BEB4","#B99696","#C59C7F"],palette:{backgroundColor:"rgb(12,9,41)",borderColor:"#404349",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"#404349",sliderRailColor:"#404349",sliderHandleColor:"#202226",sliderTrackColor:"#4284FF",popupBackgroundColor:"#404349",primaryFontColor:"#fdfdfd",secondaryFontColor:"#bbbdc3",tertiaryFontColor:"#888c93",axisLabelFontColor:"rgb(255, 255, 255)",disableFontColor:"#55595f",axisMarkerFontColor:"#202226",axisGridColor:"rgb(255, 255, 255)",axisDomainColor:"#4b4f54",dataZoomHandleStrokeColor:"#bbbdc3",dataZoomChartColor:"#55595F",playerControllerColor:"#4284FF",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"#fdfdfd",markLabelBackgroundColor:"#404349",markLineStrokeColor:"#bbbdc3",dangerColor:"#eb4b4b",warningColor:"#f0bd30",successColor:"#14b267",infoColor:"#4284ff",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"PingFang SC,Helvetica Neue,Microsoft Yahei,system-ui,-apple-system,segoe ui,Roboto,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:0,fillOpacity:.8}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},area:{label:{visible:!1,offset:5,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2}},point:{style:{symbolType:"circle",visible:!1}},seriesMark:"area",line:{style:{lineWidth:3}},area:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{fill:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:0,y0:0,x1:0,y1:1,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:.6,pie:{style:{fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},point:{style:{symbolType:"circle"}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},bar_horizontal:{bar:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:.9},{offset:1,opacity:.2}]},stroke:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]},lineWidth:2}}},area_horizontal:{area:{style:{fill:{gradient:"linear",x0:1,y0:0,x1:0,y1:0,stops:[{offset:0,opacity:1},{offset:1,opacity:.2}]}}}}},name:"vScreenPartyRed",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:6,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor"}}}},shape:{space:6,style:{lineWidth:0,fillOpacity:1,opacity:1},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor",a:.15},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:12,fill:{type:"palette",key:"axisLabelFontColor",a:.65},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1},visible:!1}},axisBand:{domainLine:{visible:!1},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1}},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:10,y:10},panel:{padding:{top:10,left:10,right:10,bottom:10},backgroundColor:"rgba(0,0,0,0.8)",border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:3},shadow:{x:0,y:4,blur:12,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:6,titleLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0},shape:{size:8,spacing:6},keyLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",textBaseline:"middle",spacing:26},valueLabel:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fontColor:"rgba(255,255,255,0.65)",fontWeight:"bold",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor"},opacity:.2,lineWidth:0,stroke:{type:"palette",key:"markLineStrokeColor"},lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"markLineStrokeColor"},fill:"transparent",opacity:.7,lineDash:[2,3]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"大屏-党建红",type:"dark"},VR={colorScheme:{default:{dataScheme:["#E2B890","#294C60","#E04D43","#324BCC","#9CADC8","#9D0800","#AD7F45","#3C4579","#97A1A6","#57A1B1"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightFinance",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 金融行业色板",type:"light"},YR={colorScheme:{default:{dataScheme:["#E2B890","#294C60","#E04D43","#324BCC","#9CADC8","#9D0800","#AD7F45","#3C4579","#97A1A6","#57A1B1"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkFinance",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 金融行业色板",type:"dark"},ZR={colorScheme:{default:{dataScheme:["#D03132","#FFC330","#0147B2","#758D6C","#801F1F","#5476A9","#3F4F3A","#EA750A","#87929F","#CF9400"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightGovernment",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 政府行业色板",type:"light"},XR={colorScheme:{default:{dataScheme:["#D03132","#FFC330","#0147B2","#758D6C","#801F1F","#5476A9","#3F4F3A","#EA750A","#87929F","#CF9400"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkGovernment",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 政府行业色板",type:"dark"},$R={colorScheme:{default:{dataScheme:["#4136B2","#FF334E","#FFA640","#8A36FF","#0BE0E0","#FF4DCD","#8ADB00","#FE8700","#FF999E","#00A3A3"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightConsumer",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 大消费行业色板",type:"light"},KR={colorScheme:{default:{dataScheme:["#4136B2","#FF334E","#FFA640","#8A36FF","#0BE0E0","#FF4DCD","#8ADB00","#FE8700","#FF999E","#00A3A3"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkConsumer",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 大消费行业色板",type:"dark"},qR={colorScheme:{default:{dataScheme:["#1515DA","#A9B6CF","#142A5D","#71D9D3","#D9AC8C","#749EFF","#F95757","#616C84","#ABCCD1","#AE2210"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightAutomobile",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 汽车行业色板",type:"light"},JR={colorScheme:{default:{dataScheme:["#1515DA","#A9B6CF","#142A5D","#71D9D3","#D9AC8C","#749EFF","#F95757","#616C84","#ABCCD1","#AE2210"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkAutomobile",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 汽车行业色板",type:"dark"},QR={colorScheme:{default:{dataScheme:["#61BA95","#335B4A","#7A94BF","#2E5599","#B9A582","#735A40","#BC9B44","#99533D","#809E9D","#2E8582"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightCulturalTourism",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 文旅行业色板",type:"light"},eH={colorScheme:{default:{dataScheme:["#61BA95","#335B4A","#7A94BF","#2E5599","#B9A582","#735A40","#BC9B44","#99533D","#809E9D","#2E8582"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkCulturalTourism",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 文旅行业色板",type:"dark"},tH={colorScheme:{default:{dataScheme:["#50D3D2","#2A488C","#F08EBB","#DD3382","#93B3FF","#816CE2","#FCC18F","#398282","#B3AFC5","#4F68A1"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightMedical",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 医疗行业色板",type:"light"},iH={colorScheme:{default:{dataScheme:["#50D3D2","#2A488C","#F08EBB","#DD3382","#93B3FF","#816CE2","#FCC18F","#398282","#B3AFC5","#4F68A1"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkMedical",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 医疗行业色板",type:"dark"},oH={colorScheme:{default:{dataScheme:["#0BDB7D","#133C7A","#FFBE00","#217185","#7DD4EA","#126FFE","#B0C71B","#8B4BFB","#01C2C2","#78808C"],palette:{backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(229,230,235,1)",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(229,230,235,1)",sliderRailColor:"rgba(229,230,235,1)",sliderHandleColor:"rgba(255,255,255,1)",sliderTrackColor:"rgba(22,93,255,1)",popupBackgroundColor:"rgba(255,255,255,1)",primaryFontColor:"rgba(29,33,41,1)",secondaryFontColor:"#676B72",tertiaryFontColor:"#737A87",axisLabelFontColor:"#737A87",disableFontColor:"rgba(201,205,212,1)",axisMarkerFontColor:"rgba(255,255,255,1)",axisGridColor:"#EAEDF1",axisDomainColor:"#737A87",dataZoomHandleStrokeColor:"rgba(169,174,184,1)",dataZoomChartColor:"rgba(201,205,212,1)",playerControllerColor:"rgba(22,93,255,1)",scrollBarSliderColor:"rgba(0,0,0,0.3)",axisMarkerBackgroundColor:"rgba(29,33,41,1)",markLabelBackgroundColor:"rgba(229,230,235,1)",markLineStrokeColor:"#D7312A",dangerColor:"rgba(245,63,63,1)",warningColor:"rgba(255,125,0,1)",successColor:"rgba(0,180,42,1)",infoColor:"rgba(22,93,255,1)",discreteLegendPagerTextColor:"rgb(51, 51, 51)",discreteLegendPagerHandlerColor:"rgb(47, 69, 84)",discreteLegendPagerHandlerDisableColor:"rgb(170, 170, 170)",emptyCircleColor:"#e3e5e8"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignLightNewEnergy",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.1,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.2,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - light - 新能源行业色板",type:"light"},lH={colorScheme:{default:{dataScheme:["#0BDB7D","#133C7A","#FFBE00","#217185","#7DD4EA","#126FFE","#B0C71B","#8B4BFB","#01C2C2","#78808C"],palette:{backgroundColor:"#17171a",borderColor:"#333335",shadowColor:"rgba(0,0,0,0.1)",hoverBackgroundColor:"rgba(197,197,197,0.16)",sliderRailColor:"hsla(0,0%,100%,0.12)",sliderHandleColor:"#232324",sliderTrackColor:"rgba(60,126,255,1)",popupBackgroundColor:"#373739",primaryFontColor:"hsla(0,0%,100%,0.9)",secondaryFontColor:"hsla(0,0%,100%,0.7)",tertiaryFontColor:"hsla(0,0%,100%,0.5)",axisLabelFontColor:"hsla(0,0%,100%,0.5)",disableFontColor:"hsla(0,0%,100%,0.3)",axisMarkerFontColor:"#17171a",axisGridColor:"#333335",axisDomainColor:"rgba(72,72,73,1)",dataZoomHandleStrokeColor:"rgba(120,120,122,1)",dataZoomChartColor:"hsla(0,0%,100%,0.16)",playerControllerColor:"rgba(60,126,255,1)",scrollBarSliderColor:"rgba(255,255,255,0.3)",axisMarkerBackgroundColor:"hsla(0,0%,100%,0.9)",markLabelBackgroundColor:"#333335",markLineStrokeColor:"hsla(0,0%,100%,0.7)",dangerColor:"rgba(247,105,101,1)",warningColor:"rgba(255,150,38,1)",successColor:"rgba(39,195,70,1)",infoColor:"rgba(60,126,255,1)",discreteLegendPagerTextColor:"#BBBDC3",discreteLegendPagerHandlerColor:"#BBBDC3",discreteLegendPagerHandlerDisableColor:"#55595F",emptyCircleColor:"#bbbdc3"}}},token:{fontFamily:"Inter,-apple-system,BlinkMacSystemFont,PingFang SC,Hiragino Sans GB,noto sans,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif",fontSize:14,l1FontSize:32,l1LineHeight:"150%",l2FontSize:20,l2LineHeight:"140%",l3FontSize:16,l3LineHeight:"150%",l4FontSize:14,l4LineHeight:"150%",l5FontSize:12,l5LineHeight:"130%",l6FontSize:10,l6LineHeight:"120%"},series:{scatter:{point:{style:{size:8,symbolType:"circle",lineWidth:1,fillOpacity:.35,stroke:null}},label:{visible:!1,offset:5,position:"top",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}}},line:{label:{visible:!1,position:"top",offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}}},area:{label:{visible:!1,offset:4,position:"top",style:{stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"secondaryFontColor"}}},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},seriesMark:"line",line:{style:{lineWidth:2,curveType:"monotone"}},area:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,fill:{gradient:"linear",x0:.5,y0:0,x1:.5,y1:1,stops:[{offset:0,opacity:.1},{offset:1,opacity:0}]}}}},bar:{label:{visible:!1,position:"outside",offset:5,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}}},barMinWidth:1,bar:{state:{blur:{fillOpacity:.1}}}},bar3d:{bar3d:{style:{length:3}},label:{visible:!1,style:{offset:12,position:"outside"}}},pie:{outerRadius:1,pie:{style:{fillOpacity:1,padAngle:0},state:{hover:{outerRadius:1.05},selected:{outerRadius:1.05}}},label:{visible:!0,interactive:!0,position:"outside",style:{fontWeight:"normal",stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1}},innerLabel:{style:{lineWidth:2}},emptyCircle:{style:{fill:{type:"palette",key:"emptyCircleColor"},fillOpacity:1}}},pie3d:{outerRadius:.6,pie3d:{style:{height:10,fillOpacity:1}},label:{visible:!1,interactive:!0,position:"outside"}},map:{defaultFillColor:"#f3f3f3",area:{style:{lineWidth:.5,strokeOpacity:1,stroke:"black",fillOpacity:1}},label:{interactive:!1,style:{fontSize:{type:"token",key:"l6FontSize"},lineHeight:{type:"token",key:"l6LineHeight"},textBaseline:"middle",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},stroke:{type:"palette",key:"backgroundColor"}}}},radar:{label:{visible:!1,offset:4,style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},fill:{type:"palette",key:"secondaryFontColor"}},position:"top"},point:{style:{symbolType:"circle",size:0},state:{hover:{size:10},dimension_hover:{size:10}}},line:{style:{lineWidth:2}},area:{style:{fill:null,fillOpacity:.1}}},dot:{dot:{style:{size:10,fillOpacity:1}},symbol:{style:{size:10}},title:{style:{textAlign:"left",textBaseline:"middle",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},subTitle:{style:{textAlign:"left",textBaseline:"top",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},link:{arrow:{style:{size:10}}},wordCloud:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},wordCloud3d:{word:{padding:1,style:{textAlign:"center",textBaseline:"alphabetic"}}},funnel:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform:{style:{fill:{type:"palette",key:"axisGridColor"}}}},funnel3d:{label:{style:{fill:"white",textBaseline:"middle",lineWidth:2}},outerLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"}},line:{style:{stroke:{type:"palette",key:"axisDomainColor"}}}},transformLabel:{style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle"}},transform3d:{style:{fill:{type:"palette",key:"axisGridColor"}}}},linearProgress:{bandWidth:30,progress:{style:{fillOpacity:1}},track:{style:{fill:"#E7EBED",fillOpacity:1}}},circularProgress:{outerRadius:.8,innerRadius:.6,progress:{style:{fillOpacity:1}},track:{style:{fillOpacity:.2}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},waterfall:{seriesFieldName:{total:"total",increase:"increase",decrease:"decrease"},leaderLine:{style:{stroke:"black",lineWidth:1,lineDash:[4,4]}},stackLabel:{visible:!0,offset:12,position:"withChange",style:{fill:"black",fontSize:{type:"token",key:"l4FontSize"}}},label:{visible:!1,offset:12,position:"inside",style:{lineWidth:2}}},gauge:{outerRadius:.8,innerRadius:.6,padAngle:1.146,segment:{style:{fillOpacity:1}},tickMask:{visible:!1,angle:3,offsetAngle:0,forceAlign:!0}},gaugePointer:{pointer:{type:"path",width:.4,height:.4,style:{path:"M-0.020059 -0.978425 C-0.018029 -0.9888053 -0.013378 -1 0 -1 C0.01342 -1 0.01812 -0.989146 0.0201 -0.978425 C0.02161 -0.9702819 0.0692 -0.459505 0.09486 -0.184807 C0.10298 -0.097849 0.1089 -0.034548 0.11047 -0.018339 C0.11698 0.04908 0.07373 0.11111 0.00002 0.11111 C-0.07369 0.11111 -0.117184 0.04991 -0.110423 -0.018339 C-0.103662 -0.086591 -0.022089 -0.9680447 -0.020059 -0.978425Z"}},pin:{width:.025,height:.025,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#888"}},pinBackground:{width:.06,height:.06,style:{path:"M1 0 C1 0.55228 0.55228 1 0 1 C-0.552285 1 -1 0.55228 -1 0 C-1 -0.552285 -0.552285 -1 0 -1 C0.55228 -1 1 -0.552285 1 0Z",fill:"#ddd"}}},treemap:{gapWidth:1,nodePadding:[5],nonLeaf:{visible:!1,style:{fillOpacity:.5}},label:{style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}},nonLeafLabel:{padding:24,style:{fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},textBaseline:"middle",textAlign:"center"}}},sunburst:{innerRadius:0,outerRadius:1,startAngle:-90,endAngle:270,gap:0,labelLayout:{align:"center",offset:0,rotate:"radial"},sunburst:{style:{stroke:{type:"palette",key:"backgroundColor"},fillOpacity:1,cursor:"pointer"}},label:{visible:!0,style:{cursor:"pointer",fill:{type:"palette",key:"primaryFontColor"},fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},rangeColumn:{label:{visible:!1,offset:5,position:"inside",style:{lineWidth:2,fill:{type:"palette",key:"axisMarkerFontColor"}},minLabel:{position:"end"},maxLabel:{position:"start"}}},circlePacking:{layoutPadding:5,circlePacking:{visible:!0,style:{cursor:"pointer",stroke:{type:"palette",key:"backgroundColor"}}},label:{visible:!0,style:{cursor:"pointer",fill:"black",stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},heatmap:{cell:{style:{shape:"square",fillOpacity:1}},cellBackground:{visible:!1}},sankey:{link:{style:{fillOpacity:.15,round:!0}}},rose:{rose:{style:{fillOpacity:1}},label:{style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"},textAlign:"center",textBaseline:"middle"}}},boxPlot:{boxPlot:{style:{lineWidth:1}},label:{style:{lineWidth:2}}},correlation:{centerLabel:{visible:!0,position:"center",style:{fill:"#fff",text:""}},label:{visible:!0,position:"bottom",style:{fill:"#000"}}},liquid:{outlinePadding:10,liquidBackground:{style:{lineWidth:0,fillOpacity:.2}},liquidOutline:{style:{lineWidth:2}}},venn:{circle:{style:{opacity:.8},state:{hover:{opacity:1}}},overlap:{style:{opacity:.8},state:{hover:{opacity:1,stroke:"white",lineWidth:2}}},label:{visible:!0,style:{fill:"white",textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"}}},overlapLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"center",fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"}}}},mosaic:{label:{visible:!1,position:"center",style:{lineWidth:2,stroke:{type:"palette",key:"backgroundColor"}}},bar:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}}},area_stack:{area:{style:{fill:null,fillOpacity:.1}}}},name:"veODesignDarkNewEnergy",background:{type:"palette",key:"backgroundColor"},padding:20,fontFamily:{type:"token",key:"fontFamily"},mark:{text:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1}}},markByName:{label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fillOpacity:1,lineJoin:"bevel"}},area:{style:{fillOpacity:.2}},line:{style:{lineWidth:2,lineCap:"round",lineJoin:"round"}},point:{style:{size:8,stroke:{type:"palette",key:"backgroundColor"},lineWidth:1,fillOpacity:1}},word:{style:{fontSize:null}},fillingWord:{style:{fontSize:null}},sunburst:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},circlePacking:{style:{lineWidth:1,stroke:{type:"palette",key:"backgroundColor"}}},funnel3d:{style:{stroke:!1}},barBackground:{visible:!1,style:{fill:{type:"palette",key:"primaryFontColor",a:.06},stroke:"transparent"}}},component:{discreteLegend:{orient:"bottom",position:"start",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal"},space:12},pager:{textStyle:{fill:{type:"palette",key:"discreteLegendPagerTextColor"}},handler:{style:{fill:{type:"palette",key:"discreteLegendPagerHandlerColor"}},state:{disable:{fill:{type:"palette",key:"discreteLegendPagerHandlerDisableColor"}}}}},item:{visible:!0,spaceCol:10,spaceRow:4,padding:2,background:{state:{selectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}},unSelectedHover:{fill:{type:"palette",key:"hoverBackgroundColor",a:.3}}}},shape:{space:8,style:{lineWidth:0,fillOpacity:1,opacity:1,symbolType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z",size:12},state:{unSelected:{fillOpacity:.2,opacity:1}}},label:{space:6,style:{fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"},fontSize:14,lineHeight:"130%",opacity:1},state:{unSelected:{fill:{type:"palette",key:"disableFontColor"},opacity:1}}}},allowAllCanceled:!1,visible:!0},colorLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:200,height:8,style:{fill:{type:"palette",key:"sliderRailColor"}}}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:"#ffffff"},shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},rail:{width:8,height:200,style:{fill:{type:"palette",key:"sliderRailColor"}}}}},sizeLegend:{horizontal:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},width:200,height:4}},vertical:{orient:"right",position:"middle",padding:[16,24],title:{visible:!1,padding:0,textStyle:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"primaryFontColor"}},space:12},handler:{style:{symbolType:"circle",lineWidth:0,outerBorder:{lineWidth:2,distance:.8,stroke:{type:"palette",key:"sliderTrackColor"}},fill:{type:"palette",key:"sliderHandleColor"}}},startText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},endText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},handlerText:{style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fontWeight:"normal",fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}},space:6},sizeBackground:{fill:{type:"palette",key:"dataZoomChartColor"}},track:{style:{fill:{type:"palette",key:"sliderTrackColor",a:.8}}},rail:{style:{fill:{type:"palette",key:"sliderRailColor"}},height:200,width:4}}},axis:{domainLine:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},grid:{visible:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[3,2]}},subGrid:{visible:!1,style:{lineWidth:1,stroke:{type:"palette",key:"axisGridColor"},strokeOpacity:1,lineDash:[4,4]}},tick:{visible:!0,inside:!1,tickSize:4,alignWithLabel:!0,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},subTick:{visible:!1,tickSize:2,style:{lineWidth:1,stroke:{type:"palette",key:"axisDomainColor"},strokeOpacity:1}},label:{visible:!0,inside:!1,space:10,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}},title:{space:10,padding:0,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor"},fontWeight:"normal",fillOpacity:1}}},axisBand:{domainLine:{visible:!0},grid:{visible:!1},subGrid:{visible:!1},tick:{visible:!0},subTick:{visible:!1},trimPadding:!0},axisLinear:{domainLine:{visible:!1},grid:{visible:!0},subGrid:{visible:!1},tick:{visible:!1},subTick:{visible:!1}},axisX:{label:{space:8,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisY:{label:{space:12,autoLimit:!0,autoRotate:!0,autoRotateAngle:[0,30,45,90]},title:{space:12,autoRotate:!0},maxWidth:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisZ:{label:{space:0},title:{space:8},maxHeight:"30%",unit:{visible:!1,style:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"axisLabelFontColor"},fontWeight:"normal",fillOpacity:1}}},axisAngle:{grid:{visible:!0,style:{lineDash:[6,6]}},label:{space:5}},axisRadius:{grid:{smooth:!0,visible:!0},subGrid:{smooth:!0,visible:!1}},markLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"},lineWidth:2}},startSymbol:{visible:!0,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!1,symbolType:"M0,0l-3.9-6h7.8L0,0z",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:0,style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markArea:{area:{style:{fill:"#D7312A",fillOpacity:.1}},label:{style:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}},visible:!1}}},markPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},polarMarkLine:{line:{style:{lineDash:[3,3],stroke:{type:"palette",key:"markLineStrokeColor"}}},startSymbol:{visible:!1,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{visible:!0,symbolType:"triangle",size:10,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},label:{refY:5,style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkArea:{area:{style:{fill:{type:"palette",key:"axisDomainColor",a:.25}}},label:{style:{fontSize:{type:"token",key:"l4FontSize"},fontWeight:"normal",fontStyle:"normal",fill:{type:"palette",key:"primaryFontColor"}},labelBackground:{padding:{top:2,bottom:2,right:4,left:4},style:{cornerRadius:3,fill:{type:"palette",key:"markLabelBackgroundColor"}}}}},polarMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},geoMarkPoint:{itemLine:{decorativeLine:{visible:!1},startSymbol:{size:5,visible:!0,style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},endSymbol:{style:{fill:{type:"palette",key:"markLineStrokeColor"},stroke:null,lineWidth:0}},line:{style:{stroke:{type:"palette",key:"markLineStrokeColor"}}}},itemContent:{offsetY:-50}},tooltip:{offset:{x:16,y:16},panel:{padding:12,backgroundColor:{type:"palette",key:"popupBackgroundColor"},border:{color:{type:"palette",key:"popupBackgroundColor"},width:0,radius:6},shadow:{x:0,y:4,blur:14,spread:0,color:{type:"palette",key:"shadowColor"}}},spaceRow:4,titleLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0,textAlign:"left"},shape:{size:10,spacing:6,shapeType:"M-4.3-6h8.6c0.4,0,0.9,0.2,1.2,0.5C5.8-5.2,6-4.8,6-4.3v8.6C6,5.2,5.2,6,4.3,6h-8.6C-5.2,6-6,5.2-6,4.3v-8.6C-6-5.2-5.2-6-4.3-6z"},keyLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"secondaryFontColor"},textBaseline:"middle",spacing:32,textAlign:"left",fontWeight:"normal"},valueLabel:{fontSize:14,lineHeight:"150%",fontColor:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",textBaseline:"middle",spacing:0}},dataZoom:{padding:[12,0],showDetail:"auto",brushSelect:!1,middleHandler:{visible:!1,background:{size:6,style:{stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},cornerRadius:2}},icon:{style:{size:4,fill:{type:"palette",key:"sliderHandleColor"},stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},symbolType:"M 0.3 -0.5 C 0.41 -0.5 0.5 -0.41 0.5 -0.3 C 0.5 -0.3 0.5 0.3 0.5 0.3 C 0.5 0.41 0.41 0.5 0.3 0.5 C 0.3 0.5 -0.3 0.5 -0.3 0.5 C -0.41 0.5 -0.5 0.41 -0.5 0.3 C -0.5 0.3 -0.5 -0.3 -0.5 -0.3 C -0.5 -0.41 -0.41 -0.5 -0.3 -0.5 C -0.3 -0.5 0.3 -0.5 0.3 -0.5 Z",lineWidth:.5}}},background:{size:20,style:{fill:{type:"palette",key:"sliderRailColor"},lineWidth:0}},selectedBackground:{style:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.4,outerBorder:{stroke:{type:"palette",key:"sliderTrackColor"},strokeOpacity:.4,distance:-.5,lineWidth:1}}},selectedBackgroundChart:{area:{style:{visible:!1,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!1,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}},startHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},endHandler:{style:{symbolType:"M-0.5-2.4h0.9c0.4,0,0.7,0.3,0.7,0.7v3.3c0,0.4-0.3,0.7-0.7,0.7h-0.9c-0.4,0-0.7-0.3-0.7-0.7v-3.3\nC-1.2-2-0.9-2.4-0.5-2.4z M-0.4-1.4L-0.4-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC-0.4-1.4-0.4-1.4-0.4-1.4z M0.3-1.4L0.3-1.4c0,0,0,0.1,0,0.1v2.6c0,0.1,0,0.1,0,0.1l0,0c0,0,0-0.1,0-0.1v-2.6\nC0.3-1.4,0.3-1.4,0.3-1.4z;",fill:{type:"palette",key:"sliderHandleColor"},scaleX:1.2,scaleY:1.2,stroke:{type:"palette",key:"dataZoomHandleStrokeColor"},lineWidth:1}},startText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},endText:{padding:8,style:{fontSize:{type:"token",key:"l5FontSize"},lineHeight:{type:"token",key:"l5LineHeight"},fill:{type:"palette",key:"secondaryFontColor",default:"#89909d"}}},backgroundChart:{area:{style:{visible:!0,stroke:!1,fill:{type:"palette",key:"dataZoomChartColor"}}},line:{style:{visible:!0,stroke:{type:"palette",key:"dataZoomChartColor"},lineWidth:1}}}},crosshair:{trigger:"hover",bandField:{visible:!1,line:{type:"rect",visible:!0,style:{fill:{type:"palette",key:"axisGridColor",a:.7},opacity:1,lineWidth:0,stroke:{type:"palette",key:"axisDomainColor",a:.6},lineDash:[]}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}},linearField:{visible:!1,line:{type:"line",visible:!0,style:{stroke:{type:"palette",key:"axisDomainColor",a:.6},fill:"transparent",opacity:1,lineDash:[],lineWidth:1}},label:{visible:!1,style:{fontWeight:"normal",fill:{type:"palette",key:"axisMarkerFontColor"},fontSize:{type:"token",key:"l5FontSize"}},labelBackground:{padding:{bottom:0,top:0,left:2,right:2},style:{fill:{type:"palette",key:"axisMarkerBackgroundColor"},cornerRadius:1}}}}},player:{visible:!0,position:"start",padding:{top:20,bottom:20},slider:{space:10,trackStyle:{fill:{type:"palette",key:"sliderTrackColor"},fillOpacity:.8},railStyle:{fill:{type:"palette",key:"sliderRailColor"}},handlerStyle:{size:15,stroke:{type:"palette",key:"backgroundColor"},lineWidth:2,fill:{type:"palette",key:"playerControllerColor"}}},controller:{start:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},pause:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},backward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}},forward:{order:0,space:10,position:"start",style:{size:12,fill:{type:"palette",key:"playerControllerColor"},fillOpacity:.8}}}},brush:{style:{fill:"#B0C8F9",fillOpacity:.2,stroke:"#B0C8F9",lineWidth:2},brushMode:"single",brushType:"rect",brushMoved:!0,removeOnClick:!0,delayType:"throttle",delayTime:0},indicator:{title:{visible:!0,autoLimit:!1,autoFit:!1,style:{fontSize:{type:"token",key:"l1FontSize"},fill:{type:"palette",key:"primaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}},content:{visible:!0,style:{fontSize:{type:"token",key:"l2FontSize"},fill:{type:"palette",key:"tertiaryFontColor"},fontWeight:"normal",fillOpacity:1,textBaseline:"top",textAlign:"center"}}},title:{padding:{top:4,bottom:20},textStyle:{fontSize:{type:"token",key:"l3FontSize"},lineHeight:{type:"token",key:"l3LineHeight"},fill:{type:"palette",key:"primaryFontColor"}},subtextStyle:{fontSize:{type:"token",key:"l4FontSize"},lineHeight:{type:"token",key:"l4LineHeight"},fill:{type:"palette",key:"tertiaryFontColor"}}},mapLabel:{visible:!0,offset:12,position:"top",space:10,nameLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},valueLabel:{visible:!0,style:{textBaseline:"middle",textAlign:"left",fill:"black",fontSize:{type:"token",key:"l6FontSize"}}},background:{visible:!0,padding:{top:4,bottom:4,left:6,right:6},style:{cornerRadius:2,lineWidth:1,fill:"white",stroke:"grey"}},leader:{visible:!1,style:{lineWidth:1,stroke:"red"}}},poptip:{visible:!0,position:"auto",padding:8,titleStyle:{fontSize:{type:"token",key:"l5FontSize"},fontWeight:"bold",fill:{type:"palette",key:"primaryFontColor"}},contentStyle:{fontSize:{type:"token",key:"l5FontSize"},fill:{type:"palette",key:"primaryFontColor"}},panel:{visible:!0,fill:{type:"palette",key:"popupBackgroundColor"},cornerRadius:3,lineWidth:0,shadowBlur:12,shadowOffsetX:0,shadowOffsetY:4,shadowColor:{type:"palette",key:"shadowColor"},size:0,space:12}},totalLabel:{visible:!1,offset:5,overlap:{clampForce:!0,strategy:[]},smartInvert:!1,animation:!1,style:{fontSize:{type:"token",key:"l4FontSize"},fill:{type:"palette",key:"primaryFontColor"}}},scrollBar:{horizontal:{height:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}},vertical:{width:10,slider:{style:{fill:{type:"palette",key:"scrollBarSliderColor"}}}}}},animationThreshold:2e3,description:"O Design - dark - 新能源行业色板",type:"dark"};export{hM as A,YB as B,RB as C,MW as D,SM as E,DW as F,HW as G,tR as H,MR as I,aR as J,YW as K,pR as L,aT as M,kT as V,oH as a,iH as b,tH as c,eH as d,QR as e,JR as f,qR as g,KR as h,$R as i,XR as j,ZR as k,YR as l,VR as m,GR as n,NR as o,jR as p,IR as q,DR as r,ER as s,PR as t,HR as u,lH as v,UR as w,RR as x,WR as y,OR as z};
