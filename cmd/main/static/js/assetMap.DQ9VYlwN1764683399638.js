import{d as e,G as t,o,F as a,h as s,I as i,u as n,m as r,e as l,f as d,a9 as c,aa as u,ah as p,w as m,c as h,H as f,r as b,ar as g,a as y,b as v,O as F,as as j,X as w}from"./@vue.DjQnunkc1764683399638.js";import{q as S,a1 as M,a2 as T,a3 as P,n as _,K as A}from"./@tresjs.CJvYCGUA1764683399638.js";import{d as C,k,r as x,g as L,c as I,j as O,b as E,e as z,i as B,l as D,m as G}from"./index.DM693cYN1764683399638.js";import{_ as R}from"./@fesjs.CQdxRiFD1764683399638.js";import"./vite-plugin-qiankun.B06WoCqG1764683399638.js";import{dT as q,V as X,av as Y,d as H,A as K,ai as V,$ as W,ad as J}from"./three.BbguFgn81764683399638.js";import"./postprocessing.DjqPXL_K1764683399638.js";import"./@vueuse.BBrxj3Xz1764683399638.js";import"./chalk.BHLFMujs1764683399638.js";/* empty css                                 */import"./iconify-icon.Dg3Wmqac1764683399638.js";import"./@iconify.Db0UMRdG1764683399638.js";import"./pinia.yp40krTn1764683399638.js";import"./vue-router.CW9J5iK31764683399638.js";import"./dompurify.C4MEnGDh1764683399638.js";import"./color.D_UQSrzA1764683399638.js";import"./color-string.cWrXb_cU1764683399638.js";import"./color-name.gyPnsvCn1764683399638.js";import"./lodash.OvYRBTRe1764683399638.js";import"./@amap.fjyZdsU91764683399638.js";import"./object-hash.C0HZ2EUZ1764683399638.js";import"./jszip.CqykFGTv1764683399638.js";import"./oimophysics.CfVKSiAm1764683399638.js";import"./three-stdlib.CqpxBIJB1764683399638.js";import"./@pmndrs.CRF-_adI1764683399638.js";import"./axios.Bl1IyXmH1764683399638.js";import"./lodash-es.DWe8oqPO1764683399638.js";import"./@qlin.y-0Z8WnK1764683399638.js";import"./@babel.BPq7uOAK1764683399638.js";import"./@floating-ui.Bhq4ibgf1764683399638.js";import"./@juggle.Vc7cP4_P1764683399638.js";const N={position:[0,-.002,0]},U=e({__name:"floor",props:{fState:{default:{}},gridState:{default:{}}},setup:e=>(e,m)=>(o(),t(a,null,[s(n(C),r({args:[3,3]},e.gridState,{position:[0,.1,0]}),null,16),i("TresGroup",N,[(o(),l(p,null,{default:d(()=>[s(n(k),c(u(e.fState)),null,16)]),_:1}))])],64))}),Z=["object"],$=["object"],Q=e({__name:"skylight",props:{curTime:{},direct:{},intensity:{default:1},shadowIntensity:{default:1}},setup(e){const s=e,r=new q;r.scale.setScalar(500);const l=r.material.uniforms;l.turbidity.value=10,l.rayleigh.value=1,l.mieCoefficient.value=.005,l.mieDirectionalG.value=.9;const d=new X,c=new Y(16777215,s.intensity);return c.castShadow=!0,c.shadow.mapSize.width=2048,c.shadow.mapSize.height=2048,c.shadow.camera.left=-50,c.shadow.camera.right=50,c.shadow.camera.top=50,c.shadow.camera.bottom=-50,c.shadow.radius=s.shadowIntensity,m(()=>[s.curTime,s.direct,s.intensity,s.shadowIntensity],()=>{!function(){let e,t,o=.15;const a=(s.curTime-6)/12,i=.25*Math.PI*Math.sin(a*Math.PI);e=Math.PI/2-i,t=5+.5*Math.sin(a*Math.PI),o=Math.PI*(s.direct+a),d.setFromSphericalCoords(1,e,o),r.material.uniforms.sunPosition.value.copy(d),c.position.copy(d).multiplyScalar(400),c.intensity=t*s.intensity,c.shadow.intensity=s.shadowIntensity}()},{immediate:!0}),(e,s)=>(o(),t(a,null,[i("primitive",{object:n(r)},null,8,Z),i("primitive",{object:n(c)},null,8,$)],64))}}),ee=e({__name:"tresProcessing",props:{postProcessing:{default:{}}},setup(e){const t=e,a=h(()=>t.postProcessing.isOpenList.Bloom||t.postProcessing.isOpenList.chromaticAberration||t.postProcessing.isOpenList.grid),s=e=>t.postProcessing.isOpenList[e]&&t.postProcessing.configList[e];return(e,t)=>(o(),l(p,null,{default:d(()=>[a.value?(o(),l(n(S),{key:0},{default:d(()=>[s("Bloom")?(o(),l(n(M),c(r({key:0},e.postProcessing.configList.Bloom)),null,16)):f("",!0),s("chromaticAberration")?(o(),l(n(T),{key:1,offset:new H(e.postProcessing.configList.chromaticAberration.offsetX,e.postProcessing.configList.chromaticAberration.offsetY),"radial-modulation":e.postProcessing.configList.chromaticAberration.radialModulation,"modulation-offset":e.postProcessing.configList.chromaticAberration.modulationOffset},null,8,["offset","radial-modulation","modulation-offset"])):f("",!0),s("grid")?(o(),l(n(P),c(r({key:2},e.postProcessing.configList.grid)),null,16)):f("",!0)]),_:1})):f("",!0)]),_:1}))}}),te={position:[-2.506,2.5,2.494],scale:[2.5,2.5,1],name:"地球图标",uuid:"earth-icon-assetmap","render-order":0},oe=["map"],ae=R(e({__name:"extendMeshes",props:{domainText:{}},setup(e){const a=e,{state:c}=_("./plugins/zoneFreeScene/image/earth.png");m(()=>c.value,e=>{e&&(e.colorSpace=K)},{immediate:!0});const u={color:"#2A74C9",width:5,height:.65,depth:4.2,radius:.16,roughness:.28,metalness:.41,reflectorOffset:.33,mix:.43,sharpMix:.57},h=x([{eventType:"click",enabled:!1,function:(e,t,o,a,s)=>{console.log("单击事件:"+t.uuid,e,t,o,a,s)}},{eventType:"doubleclick",enabled:!1,function:(e,t,o,a,s)=>{console.log("双击事件:"+t.uuid,e,t,o,a,s)}},{eventType:"contextmenu",enabled:!0,function:(e,t,o,a,s)=>{console.log("鼠标右键:"+t.uuid,e,t,o,a,s),window.open("https://gitee.com/ice-gl/icegl-three-vue-tres/")}},{eventType:"pointerenter",enabled:!0,function:(e,t,o,a,s)=>{console.log("鼠标移入:"+t.uuid,e,t,o,a,s);const i=t.parent.parent.getObjectByProperty("uuid","727b4e34-b34e-453e-b6ec-4351a499adbd");i&&(i.visible=!0),document.body.style.cursor="pointer"}},{eventType:"pointerleave",enabled:!0,function:(e,t,o,a,s)=>{console.log("鼠标移出:"+t.uuid,e,t,o,a,s);const i=t.parent.parent.getObjectByProperty("uuid","727b4e34-b34e-453e-b6ec-4351a499adbd");i&&(i.visible=!1),document.body.style.cursor="default"}}]),y={linewidth:2.8,color:"#2C2C2C",width:4.75,height:4,radius:.107,cornerSegments:6},v={selected:"baseModelG",colorlist:["#6381EE","#FFFFFF","#FFFFFF","#FFFFFF","#6381EE","#FFFFFF"],roughness:.43,metalness:0,type:["baseModelA","baseModelB","baseModelC","baseModelD","baseModelE","baseModelF","baseModelG","baseModelH"]},F=b({isSprite:!1,text:"tvt.js",fontSize:60,fontColor:"#000000",backgroundColor:"#FFFFFF87",padding:{y:16,x:20},align:"center",scaleFactor:.045,borderColor:"#000000",borderWidth:1.6,borderRadius:2,dpi:1.1});m(()=>a.domainText,e=>{e&&(F.text=e)});const j={speed:-.17,randomness:.61,count:127,size:.35,color:"#FFFFFF",areaX:5,areaY:3.5,areaZ:5,opacity:.74};return(e,m)=>(o(),t("TresGroup",null,[(o(),l(p,null,{default:d(()=>[s(n(L),r({position:[-2.5060000000000002,.245,2.494],rotation:[0,0,0],scale:[1,1,1],name:"RoundedBox镜面",uuid:"8c9cd24d-a7e3-4ac7-afbb-123da53ad4a8",castShadow:!0,receiveShadow:!1,renderOrder:0,visible:!0},u,g(n(h))),null,16)]),_:1})),(o(),l(p,null,{default:d(()=>[s(n(I),r({position:[-2.464,.643,2.423],rotation:[0,0,0],scale:[1,1,1],name:"矩形线边框",uuid:"f57c79d1-216d-4931-81cf-2c20391e100d",castShadow:!1,receiveShadow:!1,renderOrder:0,visible:!0},y),null,16)]),_:1})),(o(),l(p,null,{default:d(()=>[s(n(O),r({position:[-2.506,.91,2.494],rotation:[0,0,0],scale:[3,3,3],name:"拓扑底座",uuid:"960a34c3-f36c-4f67-ac8d-7032caf0c530",castShadow:!1,receiveShadow:!1,renderOrder:0,visible:!0},v),null,16)]),_:1})),(o(),l(p,null,{default:d(()=>[i("TresSprite",te,[n(c)?(o(),t("TresSpriteMaterial",{key:0,map:n(c),transparent:"",alphaTest:.1},null,8,oe)):f("",!0)])]),_:1})),a.domainText?(o(),l(p,{key:0},{default:d(()=>[s(n(E),r({position:[-2.506,4.5,2.494],rotation:[Math.PI/2+.2,0,Math.PI],scale:[.46889375758679747,1.6,.4828752650196797],name:"精灵图文字",uuid:"c43af5ae-dbc6-4033-8d6e-2afa25f7455b",castShadow:!1,receiveShadow:!1,renderOrder:0,visible:!0},F),null,16,["rotation"])]),_:1})):f("",!0),(o(),l(p,null,{default:d(()=>[s(n(z),r({position:[-2.532,0,2.4210000000000003],rotation:[0,0,0],scale:[1.5,1.5,1.5],name:"粒子底座",uuid:"727b4e34-b34e-453e-b6ec-4351a499adbd",castShadow:!1,receiveShadow:!1,renderOrder:9999,visible:!1},j),null,16)]),_:1}))]))}}),[["__scopeId","data-v-a4a94488"]]),se={class:"domain-input-container"},ie=R(e({__name:"assetMap",setup(e){const p={color:"#FFFFFF",shadowColor:"#b8b59e",receiveShadow:!0,edge:.35,scale:9.27},m={cellSize:1.24,cellThickness:.62,cellColor:"#CDCACA",sectionColor:"#AEAEAE",sectionSize:5,sectionThickness:1.26,fadeDistance:69,fadeStrength:1,infiniteGrid:!0},h={curTime:8,direct:.1,intensity:.9,shadowIntensity:.31},b={isOpenList:{Bloom:!1,chromaticAberration:!1},configList:{Bloom:{radius:.85,intensity:4,"luminance-threshold":.1,"luminance-smoothing":.3,"mipmap-blur":!1},chromaticAberration:{offsetX:.02,offsetY:.01,radialModulation:!0,modulationOffset:.22}}},g={clearColor:"#201919",windowSize:!0,shadows:!0,toneMapping:J,toneMappingExposure:1,shadowMapType:W},S={size:100,lineWidth:2,type:"sphere",placement:"bottom-right",offset:{right:10}},M={mouseButtons:{LEFT:V.PAN,MIDDLE:V.DOLLY,RIGHT:V.ROTATE}};B.hasAllFinished.value=!0;const T=y(""),P=y(null),_=()=>{T.value.trim()&&(P.value=T.value.trim())};return(e,y)=>{const C=v("TresCanvas");return o(),t(a,null,[s(n(D),{useResourceManager:""}),i("div",se,[F(i("input",{"onUpdate:modelValue":y[0]||(y[0]=e=>T.value=e),type:"text",placeholder:"Enter domain",class:"domain-input",onKeyup:w(_,["enter"])},null,544),[[j,T.value]]),i("button",{onClick:_,class:"domain-button"},"Load Data")]),s(C,c(u(g)),{default:d(()=>[y[1]||(y[1]=i("TresPerspectiveCamera",{position:[-9.77,42.01,-41.41],fov:75,aspect:1,near:.01,far:1e4},null,-1)),s(n(A),r({makeDefault:"",target:new X(-4.25,-9.78,-13.23)},M),null,16,["target"]),y[2]||(y[2]=i("TresAmbientLight",{color:16777215,intensity:.5},null,-1)),s(n(G),c(u(S)),null,16),s(U,{fState:p,gridState:m}),s(Q,c(u(h)),null,16),n(B).hasAllFinished.value?(o(),l(ae,{key:0,"domain-text":P.value},null,8,["domain-text"])):f("",!0),s(ee,{postProcessing:b})]),_:1},16)],64)}}}),[["__scopeId","data-v-c0f729d6"]]);export{ie as default};
