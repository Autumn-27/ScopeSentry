import{d as a,dE as e,r as l,o as t,i as o,w as s,e as n,a as i,B as u,z as r,t as d,l as m}from"./index-DZkrNvQC.js";import{a as c,E as v}from"./el-form-BfI3XjdN.js";import{E as p,a as f}from"./el-col-s8XiVykl.js";import{E as y}from"./el-divider-CIgyF90M.js";import{j as _,o as g,T as w}from"./index-0z97GjXd.js";import{u as x,b as j}from"./index-DWrwTpNO.js";const b=a({__name:"Detail",props:{closeDialog:{type:Function},getList:{type:Function},pocForm:{}},setup(a){const{t:b}=m(),h=[_(),g],F=a,{pocForm:E}=e(F),k=l({...E.value}),D=l(!1),V=l(),z=l([...E.value.tags]);return l(""),l(!1),l(),(a,e)=>(t(),o(i(v),{model:k.value,"label-width":"120px","status-icon":"",ref_key:"ruleFormRef",ref:V},{default:s((()=>[n(i(c),{label:i(b)("poc.content"),prop:"content"},{default:s((()=>[n(i(w),{modelValue:k.value.content,"onUpdate:modelValue":e[0]||(e[0]=a=>k.value.content=a),style:{height:"600px",width:"100%"},autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:h},null,8,["modelValue"])])),_:1},8,["label"]),n(i(y)),n(i(f),null,{default:s((()=>[n(i(p),{span:2,offset:8},{default:s((()=>[n(i(c),null,{default:s((()=>[n(i(u),{type:"primary",onClick:e[1]||(e[1]=a=>(async a=>{if(D.value=!0,a)try{await a.validate((async(a,e)=>{if(a){let a;a=""!=k.value.id?await x(k.value.id,k.value.name,k.value.content,k.value.level,z.value):await j(k.value.name,k.value.content,k.value.level,z.value),200===a.code&&(F.getList(),F.closeDialog())}}))}catch(e){}finally{D.value=!1}})(V.value)),loading:D.value},{default:s((()=>[r(d(i(b)("task.save")),1)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"]))}});export{b as _};
